{
  "version": 3,
  "sources": ["../../src/client/playwright.ts"],
  "sourcesContent": ["/**\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Android } from './android';\nimport { Browser } from './browser';\nimport { BrowserType } from './browserType';\nimport { ChannelOwner } from './channelOwner';\nimport { Electron } from './electron';\nimport { TimeoutError } from './errors';\nimport { APIRequest } from './fetch';\nimport { Selectors } from './selectors';\n\nimport type * as channels from '@protocol/channels';\nimport type { BrowserContextOptions, LaunchOptions } from 'playwright-core';\n\nexport class Playwright extends ChannelOwner<channels.PlaywrightChannel> {\n  readonly _android: Android;\n  readonly _electron: Electron;\n  readonly _bidiChromium: BrowserType;\n  readonly _bidiFirefox: BrowserType;\n  readonly chromium: BrowserType;\n  readonly firefox: BrowserType;\n  readonly webkit: BrowserType;\n  readonly devices: any;\n  selectors: Selectors;\n  readonly request: APIRequest;\n  readonly errors: { TimeoutError: typeof TimeoutError };\n\n  // Instrumentation.\n  _defaultLaunchOptions?: LaunchOptions;\n  _defaultContextOptions?: BrowserContextOptions;\n  _defaultContextTimeout?: number;\n  _defaultContextNavigationTimeout?: number;\n\n  constructor(parent: ChannelOwner, type: string, guid: string, initializer: channels.PlaywrightInitializer) {\n    super(parent, type, guid, initializer);\n    this.request = new APIRequest(this);\n    this.chromium = BrowserType.from(initializer.chromium);\n    this.chromium._playwright = this;\n    this.firefox = BrowserType.from(initializer.firefox);\n    this.firefox._playwright = this;\n    this.webkit = BrowserType.from(initializer.webkit);\n    this.webkit._playwright = this;\n    this._android = Android.from(initializer.android);\n    this._android._playwright = this;\n    this._electron = Electron.from(initializer.electron);\n    this._electron._playwright = this;\n    this._bidiChromium = BrowserType.from(initializer._bidiChromium);\n    this._bidiChromium._playwright = this;\n    this._bidiFirefox = BrowserType.from(initializer._bidiFirefox);\n    this._bidiFirefox._playwright = this;\n    this.devices = this._connection.localUtils()?.devices ?? {};\n    this.selectors = new Selectors(this._connection._platform);\n    this.errors = { TimeoutError };\n  }\n\n  static from(channel: channels.PlaywrightChannel): Playwright {\n    return (channel as any)._object;\n  }\n\n  private _browserTypes(): BrowserType[] {\n    return [this.chromium, this.firefox, this.webkit, this._bidiChromium, this._bidiFirefox];\n  }\n\n  _preLaunchedBrowser(): Browser {\n    const browser = Browser.from(this._initializer.preLaunchedBrowser!);\n    browser._connectToBrowserType(this[browser._name as 'chromium' | 'firefox' | 'webkit'], {}, undefined);\n    return browser;\n  }\n\n  _allContexts() {\n    return this._browserTypes().flatMap(type => [...type._contexts]);\n  }\n\n  _allPages() {\n    return this._allContexts().flatMap(context => context.pages());\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA,qBAAwB;AACxB,qBAAwB;AACxB,yBAA4B;AAC5B,0BAA6B;AAC7B,sBAAyB;AACzB,oBAA6B;AAC7B,mBAA2B;AAC3B,uBAA0B;AAKnB,MAAM,mBAAmB,iCAAyC;AAAA,EAmBvE,YAAY,QAAsB,MAAc,MAAc,aAA6C;AACzG,UAAM,QAAQ,MAAM,MAAM,WAAW;AACrC,SAAK,UAAU,IAAI,wBAAW,IAAI;AAClC,SAAK,WAAW,+BAAY,KAAK,YAAY,QAAQ;AACrD,SAAK,SAAS,cAAc;AAC5B,SAAK,UAAU,+BAAY,KAAK,YAAY,OAAO;AACnD,SAAK,QAAQ,cAAc;AAC3B,SAAK,SAAS,+BAAY,KAAK,YAAY,MAAM;AACjD,SAAK,OAAO,cAAc;AAC1B,SAAK,WAAW,uBAAQ,KAAK,YAAY,OAAO;AAChD,SAAK,SAAS,cAAc;AAC5B,SAAK,YAAY,yBAAS,KAAK,YAAY,QAAQ;AACnD,SAAK,UAAU,cAAc;AAC7B,SAAK,gBAAgB,+BAAY,KAAK,YAAY,aAAa;AAC/D,SAAK,cAAc,cAAc;AACjC,SAAK,eAAe,+BAAY,KAAK,YAAY,YAAY;AAC7D,SAAK,aAAa,cAAc;AAChC,SAAK,UAAU,KAAK,YAAY,WAAW,GAAG,WAAW,CAAC;AAC1D,SAAK,YAAY,IAAI,2BAAU,KAAK,YAAY,SAAS;AACzD,SAAK,SAAS,EAAE,yCAAa;AAAA,EAC/B;AAAA,EAEA,OAAO,KAAK,SAAiD;AAC3D,WAAQ,QAAgB;AAAA,EAC1B;AAAA,EAEQ,gBAA+B;AACrC,WAAO,CAAC,KAAK,UAAU,KAAK,SAAS,KAAK,QAAQ,KAAK,eAAe,KAAK,YAAY;AAAA,EACzF;AAAA,EAEA,sBAA+B;AAC7B,UAAM,UAAU,uBAAQ,KAAK,KAAK,aAAa,kBAAmB;AAClE,YAAQ,sBAAsB,KAAK,QAAQ,KAA0C,GAAG,CAAC,GAAG,MAAS;AACrG,WAAO;AAAA,EACT;AAAA,EAEA,eAAe;AACb,WAAO,KAAK,cAAc,EAAE,QAAQ,UAAQ,CAAC,GAAG,KAAK,SAAS,CAAC;AAAA,EACjE;AAAA,EAEA,YAAY;AACV,WAAO,KAAK,aAAa,EAAE,QAAQ,aAAW,QAAQ,MAAM,CAAC;AAAA,EAC/D;AACF;",
  "names": []
}

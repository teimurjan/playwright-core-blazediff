import { g as getDefaultExportFromCjs } from "./index-BNNBtDqO.js";
var codemirror$2 = { exports: {} };
var codemirror$1 = codemirror$2.exports;
var hasRequiredCodemirror;
function requireCodemirror() {
  if (hasRequiredCodemirror) return codemirror$2.exports;
  hasRequiredCodemirror = 1;
  (function(module, exports) {
    (function(global, factory) {
      module.exports = factory();
    })(codemirror$1, function() {
      var userAgent = navigator.userAgent;
      var platform = navigator.platform;
      var gecko = /gecko\/\d/i.test(userAgent);
      var ie_upto10 = /MSIE \d/.test(userAgent);
      var ie_11up = /Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(userAgent);
      var edge = /Edge\/(\d+)/.exec(userAgent);
      var ie = ie_upto10 || ie_11up || edge;
      var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);
      var webkit = !edge && /WebKit\//.test(userAgent);
      var qtwebkit = webkit && /Qt\/\d+\.\d+/.test(userAgent);
      var chrome = !edge && /Chrome\/(\d+)/.exec(userAgent);
      var chrome_version = chrome && +chrome[1];
      var presto = /Opera\//.test(userAgent);
      var safari = /Apple Computer/.test(navigator.vendor);
      var mac_geMountainLion = /Mac OS X 1\d\D([8-9]|\d\d)\D/.test(userAgent);
      var phantom = /PhantomJS/.test(userAgent);
      var ios = safari && (/Mobile\/\w+/.test(userAgent) || navigator.maxTouchPoints > 2);
      var android = /Android/.test(userAgent);
      var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);
      var mac = ios || /Mac/.test(platform);
      var chromeOS = /\bCrOS\b/.test(userAgent);
      var windows = /win/i.test(platform);
      var presto_version = presto && userAgent.match(/Version\/(\d*\.\d*)/);
      if (presto_version) {
        presto_version = Number(presto_version[1]);
      }
      if (presto_version && presto_version >= 15) {
        presto = false;
        webkit = true;
      }
      var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));
      var captureRightClick = gecko || ie && ie_version >= 9;
      function classTest(cls) {
        return new RegExp("(^|\\s)" + cls + "(?:$|\\s)\\s*");
      }
      var rmClass = function(node, cls) {
        var current = node.className;
        var match = classTest(cls).exec(current);
        if (match) {
          var after = current.slice(match.index + match[0].length);
          node.className = current.slice(0, match.index) + (after ? match[1] + after : "");
        }
      };
      function removeChildren(e) {
        for (var count = e.childNodes.length; count > 0; --count) {
          e.removeChild(e.firstChild);
        }
        return e;
      }
      function removeChildrenAndAdd(parent, e) {
        return removeChildren(parent).appendChild(e);
      }
      function elt(tag, content, className, style) {
        var e = document.createElement(tag);
        if (className) {
          e.className = className;
        }
        if (style) {
          e.style.cssText = style;
        }
        if (typeof content == "string") {
          e.appendChild(document.createTextNode(content));
        } else if (content) {
          for (var i2 = 0; i2 < content.length; ++i2) {
            e.appendChild(content[i2]);
          }
        }
        return e;
      }
      function eltP(tag, content, className, style) {
        var e = elt(tag, content, className, style);
        e.setAttribute("role", "presentation");
        return e;
      }
      var range;
      if (document.createRange) {
        range = function(node, start, end, endNode) {
          var r = document.createRange();
          r.setEnd(endNode || node, end);
          r.setStart(node, start);
          return r;
        };
      } else {
        range = function(node, start, end) {
          var r = document.body.createTextRange();
          try {
            r.moveToElementText(node.parentNode);
          } catch (e) {
            return r;
          }
          r.collapse(true);
          r.moveEnd("character", end);
          r.moveStart("character", start);
          return r;
        };
      }
      function contains(parent, child) {
        if (child.nodeType == 3) {
          child = child.parentNode;
        }
        if (parent.contains) {
          return parent.contains(child);
        }
        do {
          if (child.nodeType == 11) {
            child = child.host;
          }
          if (child == parent) {
            return true;
          }
        } while (child = child.parentNode);
      }
      function activeElt(rootNode2) {
        var doc2 = rootNode2.ownerDocument || rootNode2;
        var activeElement;
        try {
          activeElement = rootNode2.activeElement;
        } catch (e) {
          activeElement = doc2.body || null;
        }
        while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement) {
          activeElement = activeElement.shadowRoot.activeElement;
        }
        return activeElement;
      }
      function addClass(node, cls) {
        var current = node.className;
        if (!classTest(cls).test(current)) {
          node.className += (current ? " " : "") + cls;
        }
      }
      function joinClasses(a, b) {
        var as = a.split(" ");
        for (var i2 = 0; i2 < as.length; i2++) {
          if (as[i2] && !classTest(as[i2]).test(b)) {
            b += " " + as[i2];
          }
        }
        return b;
      }
      var selectInput = function(node) {
        node.select();
      };
      if (ios) {
        selectInput = function(node) {
          node.selectionStart = 0;
          node.selectionEnd = node.value.length;
        };
      } else if (ie) {
        selectInput = function(node) {
          try {
            node.select();
          } catch (_e) {
          }
        };
      }
      function doc(cm) {
        return cm.display.wrapper.ownerDocument;
      }
      function root(cm) {
        return rootNode(cm.display.wrapper);
      }
      function rootNode(element) {
        return element.getRootNode ? element.getRootNode() : element.ownerDocument;
      }
      function win(cm) {
        return doc(cm).defaultView;
      }
      function bind(f) {
        var args = Array.prototype.slice.call(arguments, 1);
        return function() {
          return f.apply(null, args);
        };
      }
      function copyObj(obj, target, overwrite) {
        if (!target) {
          target = {};
        }
        for (var prop2 in obj) {
          if (obj.hasOwnProperty(prop2) && (overwrite !== false || !target.hasOwnProperty(prop2))) {
            target[prop2] = obj[prop2];
          }
        }
        return target;
      }
      function countColumn(string, end, tabSize, startIndex, startValue) {
        if (end == null) {
          end = string.search(/[^\s\u00a0]/);
          if (end == -1) {
            end = string.length;
          }
        }
        for (var i2 = startIndex || 0, n = startValue || 0; ; ) {
          var nextTab = string.indexOf("	", i2);
          if (nextTab < 0 || nextTab >= end) {
            return n + (end - i2);
          }
          n += nextTab - i2;
          n += tabSize - n % tabSize;
          i2 = nextTab + 1;
        }
      }
      var Delayed = function() {
        this.id = null;
        this.f = null;
        this.time = 0;
        this.handler = bind(this.onTimeout, this);
      };
      Delayed.prototype.onTimeout = function(self) {
        self.id = 0;
        if (self.time <= +/* @__PURE__ */ new Date()) {
          self.f();
        } else {
          setTimeout(self.handler, self.time - +/* @__PURE__ */ new Date());
        }
      };
      Delayed.prototype.set = function(ms, f) {
        this.f = f;
        var time = +/* @__PURE__ */ new Date() + ms;
        if (!this.id || time < this.time) {
          clearTimeout(this.id);
          this.id = setTimeout(this.handler, ms);
          this.time = time;
        }
      };
      function indexOf(array, elt2) {
        for (var i2 = 0; i2 < array.length; ++i2) {
          if (array[i2] == elt2) {
            return i2;
          }
        }
        return -1;
      }
      var scrollerGap = 50;
      var Pass = { toString: function() {
        return "CodeMirror.Pass";
      } };
      var sel_dontScroll = { scroll: false }, sel_mouse = { origin: "*mouse" }, sel_move = { origin: "+move" };
      function findColumn(string, goal, tabSize) {
        for (var pos = 0, col = 0; ; ) {
          var nextTab = string.indexOf("	", pos);
          if (nextTab == -1) {
            nextTab = string.length;
          }
          var skipped = nextTab - pos;
          if (nextTab == string.length || col + skipped >= goal) {
            return pos + Math.min(skipped, goal - col);
          }
          col += nextTab - pos;
          col += tabSize - col % tabSize;
          pos = nextTab + 1;
          if (col >= goal) {
            return pos;
          }
        }
      }
      var spaceStrs = [""];
      function spaceStr(n) {
        while (spaceStrs.length <= n) {
          spaceStrs.push(lst(spaceStrs) + " ");
        }
        return spaceStrs[n];
      }
      function lst(arr) {
        return arr[arr.length - 1];
      }
      function map(array, f) {
        var out = [];
        for (var i2 = 0; i2 < array.length; i2++) {
          out[i2] = f(array[i2], i2);
        }
        return out;
      }
      function insertSorted(array, value, score) {
        var pos = 0, priority = score(value);
        while (pos < array.length && score(array[pos]) <= priority) {
          pos++;
        }
        array.splice(pos, 0, value);
      }
      function nothing() {
      }
      function createObj(base, props) {
        var inst;
        if (Object.create) {
          inst = Object.create(base);
        } else {
          nothing.prototype = base;
          inst = new nothing();
        }
        if (props) {
          copyObj(props, inst);
        }
        return inst;
      }
      var nonASCIISingleCaseWordChar = /[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;
      function isWordCharBasic(ch) {
        return /\w/.test(ch) || ch > "" && (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch));
      }
      function isWordChar(ch, helper) {
        if (!helper) {
          return isWordCharBasic(ch);
        }
        if (helper.source.indexOf("\\w") > -1 && isWordCharBasic(ch)) {
          return true;
        }
        return helper.test(ch);
      }
      function isEmpty(obj) {
        for (var n in obj) {
          if (obj.hasOwnProperty(n) && obj[n]) {
            return false;
          }
        }
        return true;
      }
      var extendingChars = /[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;
      function isExtendingChar(ch) {
        return ch.charCodeAt(0) >= 768 && extendingChars.test(ch);
      }
      function skipExtendingChars(str, pos, dir) {
        while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) {
          pos += dir;
        }
        return pos;
      }
      function findFirst(pred, from, to) {
        var dir = from > to ? -1 : 1;
        for (; ; ) {
          if (from == to) {
            return from;
          }
          var midF = (from + to) / 2, mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);
          if (mid == from) {
            return pred(mid) ? from : to;
          }
          if (pred(mid)) {
            to = mid;
          } else {
            from = mid + dir;
          }
        }
      }
      function iterateBidiSections(order, from, to, f) {
        if (!order) {
          return f(from, to, "ltr", 0);
        }
        var found = false;
        for (var i2 = 0; i2 < order.length; ++i2) {
          var part = order[i2];
          if (part.from < to && part.to > from || from == to && part.to == from) {
            f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? "rtl" : "ltr", i2);
            found = true;
          }
        }
        if (!found) {
          f(from, to, "ltr");
        }
      }
      var bidiOther = null;
      function getBidiPartAt(order, ch, sticky) {
        var found;
        bidiOther = null;
        for (var i2 = 0; i2 < order.length; ++i2) {
          var cur = order[i2];
          if (cur.from < ch && cur.to > ch) {
            return i2;
          }
          if (cur.to == ch) {
            if (cur.from != cur.to && sticky == "before") {
              found = i2;
            } else {
              bidiOther = i2;
            }
          }
          if (cur.from == ch) {
            if (cur.from != cur.to && sticky != "before") {
              found = i2;
            } else {
              bidiOther = i2;
            }
          }
        }
        return found != null ? found : bidiOther;
      }
      var bidiOrdering = /* @__PURE__ */ function() {
        var lowTypes = "bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN";
        var arabicTypes = "nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";
        function charType(code) {
          if (code <= 247) {
            return lowTypes.charAt(code);
          } else if (1424 <= code && code <= 1524) {
            return "R";
          } else if (1536 <= code && code <= 1785) {
            return arabicTypes.charAt(code - 1536);
          } else if (1774 <= code && code <= 2220) {
            return "r";
          } else if (8192 <= code && code <= 8203) {
            return "w";
          } else if (code == 8204) {
            return "b";
          } else {
            return "L";
          }
        }
        var bidiRE = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;
        var isNeutral = /[stwN]/, isStrong = /[LRr]/, countsAsLeft = /[Lb1n]/, countsAsNum = /[1n]/;
        function BidiSpan(level, from, to) {
          this.level = level;
          this.from = from;
          this.to = to;
        }
        return function(str, direction) {
          var outerType = direction == "ltr" ? "L" : "R";
          if (str.length == 0 || direction == "ltr" && !bidiRE.test(str)) {
            return false;
          }
          var len = str.length, types = [];
          for (var i2 = 0; i2 < len; ++i2) {
            types.push(charType(str.charCodeAt(i2)));
          }
          for (var i$12 = 0, prev = outerType; i$12 < len; ++i$12) {
            var type = types[i$12];
            if (type == "m") {
              types[i$12] = prev;
            } else {
              prev = type;
            }
          }
          for (var i$22 = 0, cur = outerType; i$22 < len; ++i$22) {
            var type$1 = types[i$22];
            if (type$1 == "1" && cur == "r") {
              types[i$22] = "n";
            } else if (isStrong.test(type$1)) {
              cur = type$1;
              if (type$1 == "r") {
                types[i$22] = "R";
              }
            }
          }
          for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {
            var type$2 = types[i$3];
            if (type$2 == "+" && prev$1 == "1" && types[i$3 + 1] == "1") {
              types[i$3] = "1";
            } else if (type$2 == "," && prev$1 == types[i$3 + 1] && (prev$1 == "1" || prev$1 == "n")) {
              types[i$3] = prev$1;
            }
            prev$1 = type$2;
          }
          for (var i$4 = 0; i$4 < len; ++i$4) {
            var type$3 = types[i$4];
            if (type$3 == ",") {
              types[i$4] = "N";
            } else if (type$3 == "%") {
              var end = void 0;
              for (end = i$4 + 1; end < len && types[end] == "%"; ++end) {
              }
              var replace = i$4 && types[i$4 - 1] == "!" || end < len && types[end] == "1" ? "1" : "N";
              for (var j = i$4; j < end; ++j) {
                types[j] = replace;
              }
              i$4 = end - 1;
            }
          }
          for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {
            var type$4 = types[i$5];
            if (cur$1 == "L" && type$4 == "1") {
              types[i$5] = "L";
            } else if (isStrong.test(type$4)) {
              cur$1 = type$4;
            }
          }
          for (var i$6 = 0; i$6 < len; ++i$6) {
            if (isNeutral.test(types[i$6])) {
              var end$1 = void 0;
              for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {
              }
              var before = (i$6 ? types[i$6 - 1] : outerType) == "L";
              var after = (end$1 < len ? types[end$1] : outerType) == "L";
              var replace$1 = before == after ? before ? "L" : "R" : outerType;
              for (var j$1 = i$6; j$1 < end$1; ++j$1) {
                types[j$1] = replace$1;
              }
              i$6 = end$1 - 1;
            }
          }
          var order = [], m;
          for (var i$7 = 0; i$7 < len; ) {
            if (countsAsLeft.test(types[i$7])) {
              var start = i$7;
              for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {
              }
              order.push(new BidiSpan(0, start, i$7));
            } else {
              var pos = i$7, at = order.length, isRTL = direction == "rtl" ? 1 : 0;
              for (++i$7; i$7 < len && types[i$7] != "L"; ++i$7) {
              }
              for (var j$2 = pos; j$2 < i$7; ) {
                if (countsAsNum.test(types[j$2])) {
                  if (pos < j$2) {
                    order.splice(at, 0, new BidiSpan(1, pos, j$2));
                    at += isRTL;
                  }
                  var nstart = j$2;
                  for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {
                  }
                  order.splice(at, 0, new BidiSpan(2, nstart, j$2));
                  at += isRTL;
                  pos = j$2;
                } else {
                  ++j$2;
                }
              }
              if (pos < i$7) {
                order.splice(at, 0, new BidiSpan(1, pos, i$7));
              }
            }
          }
          if (direction == "ltr") {
            if (order[0].level == 1 && (m = str.match(/^\s+/))) {
              order[0].from = m[0].length;
              order.unshift(new BidiSpan(0, 0, m[0].length));
            }
            if (lst(order).level == 1 && (m = str.match(/\s+$/))) {
              lst(order).to -= m[0].length;
              order.push(new BidiSpan(0, len - m[0].length, len));
            }
          }
          return direction == "rtl" ? order.reverse() : order;
        };
      }();
      function getOrder(line, direction) {
        var order = line.order;
        if (order == null) {
          order = line.order = bidiOrdering(line.text, direction);
        }
        return order;
      }
      var noHandlers = [];
      var on = function(emitter, type, f) {
        if (emitter.addEventListener) {
          emitter.addEventListener(type, f, false);
        } else if (emitter.attachEvent) {
          emitter.attachEvent("on" + type, f);
        } else {
          var map2 = emitter._handlers || (emitter._handlers = {});
          map2[type] = (map2[type] || noHandlers).concat(f);
        }
      };
      function getHandlers(emitter, type) {
        return emitter._handlers && emitter._handlers[type] || noHandlers;
      }
      function off(emitter, type, f) {
        if (emitter.removeEventListener) {
          emitter.removeEventListener(type, f, false);
        } else if (emitter.detachEvent) {
          emitter.detachEvent("on" + type, f);
        } else {
          var map2 = emitter._handlers, arr = map2 && map2[type];
          if (arr) {
            var index = indexOf(arr, f);
            if (index > -1) {
              map2[type] = arr.slice(0, index).concat(arr.slice(index + 1));
            }
          }
        }
      }
      function signal(emitter, type) {
        var handlers = getHandlers(emitter, type);
        if (!handlers.length) {
          return;
        }
        var args = Array.prototype.slice.call(arguments, 2);
        for (var i2 = 0; i2 < handlers.length; ++i2) {
          handlers[i2].apply(null, args);
        }
      }
      function signalDOMEvent(cm, e, override) {
        if (typeof e == "string") {
          e = { type: e, preventDefault: function() {
            this.defaultPrevented = true;
          } };
        }
        signal(cm, override || e.type, cm, e);
        return e_defaultPrevented(e) || e.codemirrorIgnore;
      }
      function signalCursorActivity(cm) {
        var arr = cm._handlers && cm._handlers.cursorActivity;
        if (!arr) {
          return;
        }
        var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);
        for (var i2 = 0; i2 < arr.length; ++i2) {
          if (indexOf(set, arr[i2]) == -1) {
            set.push(arr[i2]);
          }
        }
      }
      function hasHandler(emitter, type) {
        return getHandlers(emitter, type).length > 0;
      }
      function eventMixin(ctor) {
        ctor.prototype.on = function(type, f) {
          on(this, type, f);
        };
        ctor.prototype.off = function(type, f) {
          off(this, type, f);
        };
      }
      function e_preventDefault(e) {
        if (e.preventDefault) {
          e.preventDefault();
        } else {
          e.returnValue = false;
        }
      }
      function e_stopPropagation(e) {
        if (e.stopPropagation) {
          e.stopPropagation();
        } else {
          e.cancelBubble = true;
        }
      }
      function e_defaultPrevented(e) {
        return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false;
      }
      function e_stop(e) {
        e_preventDefault(e);
        e_stopPropagation(e);
      }
      function e_target(e) {
        return e.target || e.srcElement;
      }
      function e_button(e) {
        var b = e.which;
        if (b == null) {
          if (e.button & 1) {
            b = 1;
          } else if (e.button & 2) {
            b = 3;
          } else if (e.button & 4) {
            b = 2;
          }
        }
        if (mac && e.ctrlKey && b == 1) {
          b = 3;
        }
        return b;
      }
      var dragAndDrop = function() {
        if (ie && ie_version < 9) {
          return false;
        }
        var div = elt("div");
        return "draggable" in div || "dragDrop" in div;
      }();
      var zwspSupported;
      function zeroWidthElement(measure) {
        if (zwspSupported == null) {
          var test = elt("span", "​");
          removeChildrenAndAdd(measure, elt("span", [test, document.createTextNode("x")]));
          if (measure.firstChild.offsetHeight != 0) {
            zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8);
          }
        }
        var node = zwspSupported ? elt("span", "​") : elt("span", " ", null, "display: inline-block; width: 1px; margin-right: -1px");
        node.setAttribute("cm-text", "");
        return node;
      }
      var badBidiRects;
      function hasBadBidiRects(measure) {
        if (badBidiRects != null) {
          return badBidiRects;
        }
        var txt = removeChildrenAndAdd(measure, document.createTextNode("AخA"));
        var r0 = range(txt, 0, 1).getBoundingClientRect();
        var r1 = range(txt, 1, 2).getBoundingClientRect();
        removeChildren(measure);
        if (!r0 || r0.left == r0.right) {
          return false;
        }
        return badBidiRects = r1.right - r0.right < 3;
      }
      var splitLinesAuto = "\n\nb".split(/\n/).length != 3 ? function(string) {
        var pos = 0, result = [], l = string.length;
        while (pos <= l) {
          var nl = string.indexOf("\n", pos);
          if (nl == -1) {
            nl = string.length;
          }
          var line = string.slice(pos, string.charAt(nl - 1) == "\r" ? nl - 1 : nl);
          var rt = line.indexOf("\r");
          if (rt != -1) {
            result.push(line.slice(0, rt));
            pos += rt + 1;
          } else {
            result.push(line);
            pos = nl + 1;
          }
        }
        return result;
      } : function(string) {
        return string.split(/\r\n?|\n/);
      };
      var hasSelection = window.getSelection ? function(te) {
        try {
          return te.selectionStart != te.selectionEnd;
        } catch (e) {
          return false;
        }
      } : function(te) {
        var range2;
        try {
          range2 = te.ownerDocument.selection.createRange();
        } catch (e) {
        }
        if (!range2 || range2.parentElement() != te) {
          return false;
        }
        return range2.compareEndPoints("StartToEnd", range2) != 0;
      };
      var hasCopyEvent = function() {
        var e = elt("div");
        if ("oncopy" in e) {
          return true;
        }
        e.setAttribute("oncopy", "return;");
        return typeof e.oncopy == "function";
      }();
      var badZoomedRects = null;
      function hasBadZoomedRects(measure) {
        if (badZoomedRects != null) {
          return badZoomedRects;
        }
        var node = removeChildrenAndAdd(measure, elt("span", "x"));
        var normal = node.getBoundingClientRect();
        var fromRange = range(node, 0, 1).getBoundingClientRect();
        return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1;
      }
      var modes = {}, mimeModes = {};
      function defineMode(name, mode) {
        if (arguments.length > 2) {
          mode.dependencies = Array.prototype.slice.call(arguments, 2);
        }
        modes[name] = mode;
      }
      function defineMIME(mime, spec) {
        mimeModes[mime] = spec;
      }
      function resolveMode(spec) {
        if (typeof spec == "string" && mimeModes.hasOwnProperty(spec)) {
          spec = mimeModes[spec];
        } else if (spec && typeof spec.name == "string" && mimeModes.hasOwnProperty(spec.name)) {
          var found = mimeModes[spec.name];
          if (typeof found == "string") {
            found = { name: found };
          }
          spec = createObj(found, spec);
          spec.name = found.name;
        } else if (typeof spec == "string" && /^[\w\-]+\/[\w\-]+\+xml$/.test(spec)) {
          return resolveMode("application/xml");
        } else if (typeof spec == "string" && /^[\w\-]+\/[\w\-]+\+json$/.test(spec)) {
          return resolveMode("application/json");
        }
        if (typeof spec == "string") {
          return { name: spec };
        } else {
          return spec || { name: "null" };
        }
      }
      function getMode(options, spec) {
        spec = resolveMode(spec);
        var mfactory = modes[spec.name];
        if (!mfactory) {
          return getMode(options, "text/plain");
        }
        var modeObj = mfactory(options, spec);
        if (modeExtensions.hasOwnProperty(spec.name)) {
          var exts = modeExtensions[spec.name];
          for (var prop2 in exts) {
            if (!exts.hasOwnProperty(prop2)) {
              continue;
            }
            if (modeObj.hasOwnProperty(prop2)) {
              modeObj["_" + prop2] = modeObj[prop2];
            }
            modeObj[prop2] = exts[prop2];
          }
        }
        modeObj.name = spec.name;
        if (spec.helperType) {
          modeObj.helperType = spec.helperType;
        }
        if (spec.modeProps) {
          for (var prop$1 in spec.modeProps) {
            modeObj[prop$1] = spec.modeProps[prop$1];
          }
        }
        return modeObj;
      }
      var modeExtensions = {};
      function extendMode(mode, properties) {
        var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : modeExtensions[mode] = {};
        copyObj(properties, exts);
      }
      function copyState(mode, state) {
        if (state === true) {
          return state;
        }
        if (mode.copyState) {
          return mode.copyState(state);
        }
        var nstate = {};
        for (var n in state) {
          var val = state[n];
          if (val instanceof Array) {
            val = val.concat([]);
          }
          nstate[n] = val;
        }
        return nstate;
      }
      function innerMode(mode, state) {
        var info;
        while (mode.innerMode) {
          info = mode.innerMode(state);
          if (!info || info.mode == mode) {
            break;
          }
          state = info.state;
          mode = info.mode;
        }
        return info || { mode, state };
      }
      function startState(mode, a1, a2) {
        return mode.startState ? mode.startState(a1, a2) : true;
      }
      var StringStream = function(string, tabSize, lineOracle) {
        this.pos = this.start = 0;
        this.string = string;
        this.tabSize = tabSize || 8;
        this.lastColumnPos = this.lastColumnValue = 0;
        this.lineStart = 0;
        this.lineOracle = lineOracle;
      };
      StringStream.prototype.eol = function() {
        return this.pos >= this.string.length;
      };
      StringStream.prototype.sol = function() {
        return this.pos == this.lineStart;
      };
      StringStream.prototype.peek = function() {
        return this.string.charAt(this.pos) || void 0;
      };
      StringStream.prototype.next = function() {
        if (this.pos < this.string.length) {
          return this.string.charAt(this.pos++);
        }
      };
      StringStream.prototype.eat = function(match) {
        var ch = this.string.charAt(this.pos);
        var ok;
        if (typeof match == "string") {
          ok = ch == match;
        } else {
          ok = ch && (match.test ? match.test(ch) : match(ch));
        }
        if (ok) {
          ++this.pos;
          return ch;
        }
      };
      StringStream.prototype.eatWhile = function(match) {
        var start = this.pos;
        while (this.eat(match)) {
        }
        return this.pos > start;
      };
      StringStream.prototype.eatSpace = function() {
        var start = this.pos;
        while (/[\s\u00a0]/.test(this.string.charAt(this.pos))) {
          ++this.pos;
        }
        return this.pos > start;
      };
      StringStream.prototype.skipToEnd = function() {
        this.pos = this.string.length;
      };
      StringStream.prototype.skipTo = function(ch) {
        var found = this.string.indexOf(ch, this.pos);
        if (found > -1) {
          this.pos = found;
          return true;
        }
      };
      StringStream.prototype.backUp = function(n) {
        this.pos -= n;
      };
      StringStream.prototype.column = function() {
        if (this.lastColumnPos < this.start) {
          this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);
          this.lastColumnPos = this.start;
        }
        return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);
      };
      StringStream.prototype.indentation = function() {
        return countColumn(this.string, null, this.tabSize) - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);
      };
      StringStream.prototype.match = function(pattern, consume, caseInsensitive) {
        if (typeof pattern == "string") {
          var cased = function(str) {
            return caseInsensitive ? str.toLowerCase() : str;
          };
          var substr = this.string.substr(this.pos, pattern.length);
          if (cased(substr) == cased(pattern)) {
            if (consume !== false) {
              this.pos += pattern.length;
            }
            return true;
          }
        } else {
          var match = this.string.slice(this.pos).match(pattern);
          if (match && match.index > 0) {
            return null;
          }
          if (match && consume !== false) {
            this.pos += match[0].length;
          }
          return match;
        }
      };
      StringStream.prototype.current = function() {
        return this.string.slice(this.start, this.pos);
      };
      StringStream.prototype.hideFirstChars = function(n, inner) {
        this.lineStart += n;
        try {
          return inner();
        } finally {
          this.lineStart -= n;
        }
      };
      StringStream.prototype.lookAhead = function(n) {
        var oracle = this.lineOracle;
        return oracle && oracle.lookAhead(n);
      };
      StringStream.prototype.baseToken = function() {
        var oracle = this.lineOracle;
        return oracle && oracle.baseToken(this.pos);
      };
      function getLine(doc2, n) {
        n -= doc2.first;
        if (n < 0 || n >= doc2.size) {
          throw new Error("There is no line " + (n + doc2.first) + " in the document.");
        }
        var chunk = doc2;
        while (!chunk.lines) {
          for (var i2 = 0; ; ++i2) {
            var child = chunk.children[i2], sz = child.chunkSize();
            if (n < sz) {
              chunk = child;
              break;
            }
            n -= sz;
          }
        }
        return chunk.lines[n];
      }
      function getBetween(doc2, start, end) {
        var out = [], n = start.line;
        doc2.iter(start.line, end.line + 1, function(line) {
          var text = line.text;
          if (n == end.line) {
            text = text.slice(0, end.ch);
          }
          if (n == start.line) {
            text = text.slice(start.ch);
          }
          out.push(text);
          ++n;
        });
        return out;
      }
      function getLines(doc2, from, to) {
        var out = [];
        doc2.iter(from, to, function(line) {
          out.push(line.text);
        });
        return out;
      }
      function updateLineHeight(line, height) {
        var diff = height - line.height;
        if (diff) {
          for (var n = line; n; n = n.parent) {
            n.height += diff;
          }
        }
      }
      function lineNo(line) {
        if (line.parent == null) {
          return null;
        }
        var cur = line.parent, no = indexOf(cur.lines, line);
        for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {
          for (var i2 = 0; ; ++i2) {
            if (chunk.children[i2] == cur) {
              break;
            }
            no += chunk.children[i2].chunkSize();
          }
        }
        return no + cur.first;
      }
      function lineAtHeight(chunk, h) {
        var n = chunk.first;
        outer: do {
          for (var i$12 = 0; i$12 < chunk.children.length; ++i$12) {
            var child = chunk.children[i$12], ch = child.height;
            if (h < ch) {
              chunk = child;
              continue outer;
            }
            h -= ch;
            n += child.chunkSize();
          }
          return n;
        } while (!chunk.lines);
        var i2 = 0;
        for (; i2 < chunk.lines.length; ++i2) {
          var line = chunk.lines[i2], lh = line.height;
          if (h < lh) {
            break;
          }
          h -= lh;
        }
        return n + i2;
      }
      function isLine(doc2, l) {
        return l >= doc2.first && l < doc2.first + doc2.size;
      }
      function lineNumberFor(options, i2) {
        return String(options.lineNumberFormatter(i2 + options.firstLineNumber));
      }
      function Pos(line, ch, sticky) {
        if (sticky === void 0) sticky = null;
        if (!(this instanceof Pos)) {
          return new Pos(line, ch, sticky);
        }
        this.line = line;
        this.ch = ch;
        this.sticky = sticky;
      }
      function cmp(a, b) {
        return a.line - b.line || a.ch - b.ch;
      }
      function equalCursorPos(a, b) {
        return a.sticky == b.sticky && cmp(a, b) == 0;
      }
      function copyPos(x) {
        return Pos(x.line, x.ch);
      }
      function maxPos(a, b) {
        return cmp(a, b) < 0 ? b : a;
      }
      function minPos(a, b) {
        return cmp(a, b) < 0 ? a : b;
      }
      function clipLine(doc2, n) {
        return Math.max(doc2.first, Math.min(n, doc2.first + doc2.size - 1));
      }
      function clipPos(doc2, pos) {
        if (pos.line < doc2.first) {
          return Pos(doc2.first, 0);
        }
        var last = doc2.first + doc2.size - 1;
        if (pos.line > last) {
          return Pos(last, getLine(doc2, last).text.length);
        }
        return clipToLen(pos, getLine(doc2, pos.line).text.length);
      }
      function clipToLen(pos, linelen) {
        var ch = pos.ch;
        if (ch == null || ch > linelen) {
          return Pos(pos.line, linelen);
        } else if (ch < 0) {
          return Pos(pos.line, 0);
        } else {
          return pos;
        }
      }
      function clipPosArray(doc2, array) {
        var out = [];
        for (var i2 = 0; i2 < array.length; i2++) {
          out[i2] = clipPos(doc2, array[i2]);
        }
        return out;
      }
      var SavedContext = function(state, lookAhead) {
        this.state = state;
        this.lookAhead = lookAhead;
      };
      var Context = function(doc2, state, line, lookAhead) {
        this.state = state;
        this.doc = doc2;
        this.line = line;
        this.maxLookAhead = lookAhead || 0;
        this.baseTokens = null;
        this.baseTokenPos = 1;
      };
      Context.prototype.lookAhead = function(n) {
        var line = this.doc.getLine(this.line + n);
        if (line != null && n > this.maxLookAhead) {
          this.maxLookAhead = n;
        }
        return line;
      };
      Context.prototype.baseToken = function(n) {
        if (!this.baseTokens) {
          return null;
        }
        while (this.baseTokens[this.baseTokenPos] <= n) {
          this.baseTokenPos += 2;
        }
        var type = this.baseTokens[this.baseTokenPos + 1];
        return {
          type: type && type.replace(/( |^)overlay .*/, ""),
          size: this.baseTokens[this.baseTokenPos] - n
        };
      };
      Context.prototype.nextLine = function() {
        this.line++;
        if (this.maxLookAhead > 0) {
          this.maxLookAhead--;
        }
      };
      Context.fromSaved = function(doc2, saved, line) {
        if (saved instanceof SavedContext) {
          return new Context(doc2, copyState(doc2.mode, saved.state), line, saved.lookAhead);
        } else {
          return new Context(doc2, copyState(doc2.mode, saved), line);
        }
      };
      Context.prototype.save = function(copy) {
        var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;
        return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state;
      };
      function highlightLine(cm, line, context, forceToEnd) {
        var st = [cm.state.modeGen], lineClasses = {};
        runMode(
          cm,
          line.text,
          cm.doc.mode,
          context,
          function(end, style) {
            return st.push(end, style);
          },
          lineClasses,
          forceToEnd
        );
        var state = context.state;
        var loop = function(o2) {
          context.baseTokens = st;
          var overlay = cm.state.overlays[o2], i2 = 1, at = 0;
          context.state = true;
          runMode(cm, line.text, overlay.mode, context, function(end, style) {
            var start = i2;
            while (at < end) {
              var i_end = st[i2];
              if (i_end > end) {
                st.splice(i2, 1, end, st[i2 + 1], i_end);
              }
              i2 += 2;
              at = Math.min(end, i_end);
            }
            if (!style) {
              return;
            }
            if (overlay.opaque) {
              st.splice(start, i2 - start, end, "overlay " + style);
              i2 = start + 2;
            } else {
              for (; start < i2; start += 2) {
                var cur = st[start + 1];
                st[start + 1] = (cur ? cur + " " : "") + "overlay " + style;
              }
            }
          }, lineClasses);
          context.state = state;
          context.baseTokens = null;
          context.baseTokenPos = 1;
        };
        for (var o = 0; o < cm.state.overlays.length; ++o) loop(o);
        return { styles: st, classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null };
      }
      function getLineStyles(cm, line, updateFrontier) {
        if (!line.styles || line.styles[0] != cm.state.modeGen) {
          var context = getContextBefore(cm, lineNo(line));
          var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);
          var result = highlightLine(cm, line, context);
          if (resetState) {
            context.state = resetState;
          }
          line.stateAfter = context.save(!resetState);
          line.styles = result.styles;
          if (result.classes) {
            line.styleClasses = result.classes;
          } else if (line.styleClasses) {
            line.styleClasses = null;
          }
          if (updateFrontier === cm.doc.highlightFrontier) {
            cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier);
          }
        }
        return line.styles;
      }
      function getContextBefore(cm, n, precise) {
        var doc2 = cm.doc, display = cm.display;
        if (!doc2.mode.startState) {
          return new Context(doc2, true, n);
        }
        var start = findStartLine(cm, n, precise);
        var saved = start > doc2.first && getLine(doc2, start - 1).stateAfter;
        var context = saved ? Context.fromSaved(doc2, saved, start) : new Context(doc2, startState(doc2.mode), start);
        doc2.iter(start, n, function(line) {
          processLine(cm, line.text, context);
          var pos = context.line;
          line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;
          context.nextLine();
        });
        if (precise) {
          doc2.modeFrontier = context.line;
        }
        return context;
      }
      function processLine(cm, text, context, startAt) {
        var mode = cm.doc.mode;
        var stream = new StringStream(text, cm.options.tabSize, context);
        stream.start = stream.pos = startAt || 0;
        if (text == "") {
          callBlankLine(mode, context.state);
        }
        while (!stream.eol()) {
          readToken(mode, stream, context.state);
          stream.start = stream.pos;
        }
      }
      function callBlankLine(mode, state) {
        if (mode.blankLine) {
          return mode.blankLine(state);
        }
        if (!mode.innerMode) {
          return;
        }
        var inner = innerMode(mode, state);
        if (inner.mode.blankLine) {
          return inner.mode.blankLine(inner.state);
        }
      }
      function readToken(mode, stream, state, inner) {
        for (var i2 = 0; i2 < 10; i2++) {
          if (inner) {
            inner[0] = innerMode(mode, state).mode;
          }
          var style = mode.token(stream, state);
          if (stream.pos > stream.start) {
            return style;
          }
        }
        throw new Error("Mode " + mode.name + " failed to advance stream.");
      }
      var Token = function(stream, type, state) {
        this.start = stream.start;
        this.end = stream.pos;
        this.string = stream.current();
        this.type = type || null;
        this.state = state;
      };
      function takeToken(cm, pos, precise, asArray) {
        var doc2 = cm.doc, mode = doc2.mode, style;
        pos = clipPos(doc2, pos);
        var line = getLine(doc2, pos.line), context = getContextBefore(cm, pos.line, precise);
        var stream = new StringStream(line.text, cm.options.tabSize, context), tokens;
        if (asArray) {
          tokens = [];
        }
        while ((asArray || stream.pos < pos.ch) && !stream.eol()) {
          stream.start = stream.pos;
          style = readToken(mode, stream, context.state);
          if (asArray) {
            tokens.push(new Token(stream, style, copyState(doc2.mode, context.state)));
          }
        }
        return asArray ? tokens : new Token(stream, style, context.state);
      }
      function extractLineClasses(type, output) {
        if (type) {
          for (; ; ) {
            var lineClass = type.match(/(?:^|\s+)line-(background-)?(\S+)/);
            if (!lineClass) {
              break;
            }
            type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);
            var prop2 = lineClass[1] ? "bgClass" : "textClass";
            if (output[prop2] == null) {
              output[prop2] = lineClass[2];
            } else if (!new RegExp("(?:^|\\s)" + lineClass[2] + "(?:$|\\s)").test(output[prop2])) {
              output[prop2] += " " + lineClass[2];
            }
          }
        }
        return type;
      }
      function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {
        var flattenSpans = mode.flattenSpans;
        if (flattenSpans == null) {
          flattenSpans = cm.options.flattenSpans;
        }
        var curStart = 0, curStyle = null;
        var stream = new StringStream(text, cm.options.tabSize, context), style;
        var inner = cm.options.addModeClass && [null];
        if (text == "") {
          extractLineClasses(callBlankLine(mode, context.state), lineClasses);
        }
        while (!stream.eol()) {
          if (stream.pos > cm.options.maxHighlightLength) {
            flattenSpans = false;
            if (forceToEnd) {
              processLine(cm, text, context, stream.pos);
            }
            stream.pos = text.length;
            style = null;
          } else {
            style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);
          }
          if (inner) {
            var mName = inner[0].name;
            if (mName) {
              style = "m-" + (style ? mName + " " + style : mName);
            }
          }
          if (!flattenSpans || curStyle != style) {
            while (curStart < stream.start) {
              curStart = Math.min(stream.start, curStart + 5e3);
              f(curStart, curStyle);
            }
            curStyle = style;
          }
          stream.start = stream.pos;
        }
        while (curStart < stream.pos) {
          var pos = Math.min(stream.pos, curStart + 5e3);
          f(pos, curStyle);
          curStart = pos;
        }
      }
      function findStartLine(cm, n, precise) {
        var minindent, minline, doc2 = cm.doc;
        var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1e3 : 100);
        for (var search = n; search > lim; --search) {
          if (search <= doc2.first) {
            return doc2.first;
          }
          var line = getLine(doc2, search - 1), after = line.stateAfter;
          if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc2.modeFrontier)) {
            return search;
          }
          var indented = countColumn(line.text, null, cm.options.tabSize);
          if (minline == null || minindent > indented) {
            minline = search - 1;
            minindent = indented;
          }
        }
        return minline;
      }
      function retreatFrontier(doc2, n) {
        doc2.modeFrontier = Math.min(doc2.modeFrontier, n);
        if (doc2.highlightFrontier < n - 10) {
          return;
        }
        var start = doc2.first;
        for (var line = n - 1; line > start; line--) {
          var saved = getLine(doc2, line).stateAfter;
          if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {
            start = line + 1;
            break;
          }
        }
        doc2.highlightFrontier = Math.min(doc2.highlightFrontier, start);
      }
      var sawReadOnlySpans = false, sawCollapsedSpans = false;
      function seeReadOnlySpans() {
        sawReadOnlySpans = true;
      }
      function seeCollapsedSpans() {
        sawCollapsedSpans = true;
      }
      function MarkedSpan(marker, from, to) {
        this.marker = marker;
        this.from = from;
        this.to = to;
      }
      function getMarkedSpanFor(spans, marker) {
        if (spans) {
          for (var i2 = 0; i2 < spans.length; ++i2) {
            var span = spans[i2];
            if (span.marker == marker) {
              return span;
            }
          }
        }
      }
      function removeMarkedSpan(spans, span) {
        var r;
        for (var i2 = 0; i2 < spans.length; ++i2) {
          if (spans[i2] != span) {
            (r || (r = [])).push(spans[i2]);
          }
        }
        return r;
      }
      function addMarkedSpan(line, span, op) {
        var inThisOp = op && window.WeakSet && (op.markedSpans || (op.markedSpans = /* @__PURE__ */ new WeakSet()));
        if (inThisOp && line.markedSpans && inThisOp.has(line.markedSpans)) {
          line.markedSpans.push(span);
        } else {
          line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];
          if (inThisOp) {
            inThisOp.add(line.markedSpans);
          }
        }
        span.marker.attachLine(line);
      }
      function markedSpansBefore(old, startCh, isInsert) {
        var nw;
        if (old) {
          for (var i2 = 0; i2 < old.length; ++i2) {
            var span = old[i2], marker = span.marker;
            var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);
            if (startsBefore || span.from == startCh && marker.type == "bookmark" && (!isInsert || !span.marker.insertLeft)) {
              var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh);
              (nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));
            }
          }
        }
        return nw;
      }
      function markedSpansAfter(old, endCh, isInsert) {
        var nw;
        if (old) {
          for (var i2 = 0; i2 < old.length; ++i2) {
            var span = old[i2], marker = span.marker;
            var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);
            if (endsAfter || span.from == endCh && marker.type == "bookmark" && (!isInsert || span.marker.insertLeft)) {
              var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh);
              (nw || (nw = [])).push(new MarkedSpan(
                marker,
                startsBefore ? null : span.from - endCh,
                span.to == null ? null : span.to - endCh
              ));
            }
          }
        }
        return nw;
      }
      function stretchSpansOverChange(doc2, change) {
        if (change.full) {
          return null;
        }
        var oldFirst = isLine(doc2, change.from.line) && getLine(doc2, change.from.line).markedSpans;
        var oldLast = isLine(doc2, change.to.line) && getLine(doc2, change.to.line).markedSpans;
        if (!oldFirst && !oldLast) {
          return null;
        }
        var startCh = change.from.ch, endCh = change.to.ch, isInsert = cmp(change.from, change.to) == 0;
        var first = markedSpansBefore(oldFirst, startCh, isInsert);
        var last = markedSpansAfter(oldLast, endCh, isInsert);
        var sameLine = change.text.length == 1, offset = lst(change.text).length + (sameLine ? startCh : 0);
        if (first) {
          for (var i2 = 0; i2 < first.length; ++i2) {
            var span = first[i2];
            if (span.to == null) {
              var found = getMarkedSpanFor(last, span.marker);
              if (!found) {
                span.to = startCh;
              } else if (sameLine) {
                span.to = found.to == null ? null : found.to + offset;
              }
            }
          }
        }
        if (last) {
          for (var i$12 = 0; i$12 < last.length; ++i$12) {
            var span$1 = last[i$12];
            if (span$1.to != null) {
              span$1.to += offset;
            }
            if (span$1.from == null) {
              var found$1 = getMarkedSpanFor(first, span$1.marker);
              if (!found$1) {
                span$1.from = offset;
                if (sameLine) {
                  (first || (first = [])).push(span$1);
                }
              }
            } else {
              span$1.from += offset;
              if (sameLine) {
                (first || (first = [])).push(span$1);
              }
            }
          }
        }
        if (first) {
          first = clearEmptySpans(first);
        }
        if (last && last != first) {
          last = clearEmptySpans(last);
        }
        var newMarkers = [first];
        if (!sameLine) {
          var gap = change.text.length - 2, gapMarkers;
          if (gap > 0 && first) {
            for (var i$22 = 0; i$22 < first.length; ++i$22) {
              if (first[i$22].to == null) {
                (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$22].marker, null, null));
              }
            }
          }
          for (var i$3 = 0; i$3 < gap; ++i$3) {
            newMarkers.push(gapMarkers);
          }
          newMarkers.push(last);
        }
        return newMarkers;
      }
      function clearEmptySpans(spans) {
        for (var i2 = 0; i2 < spans.length; ++i2) {
          var span = spans[i2];
          if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false) {
            spans.splice(i2--, 1);
          }
        }
        if (!spans.length) {
          return null;
        }
        return spans;
      }
      function removeReadOnlyRanges(doc2, from, to) {
        var markers = null;
        doc2.iter(from.line, to.line + 1, function(line) {
          if (line.markedSpans) {
            for (var i3 = 0; i3 < line.markedSpans.length; ++i3) {
              var mark = line.markedSpans[i3].marker;
              if (mark.readOnly && (!markers || indexOf(markers, mark) == -1)) {
                (markers || (markers = [])).push(mark);
              }
            }
          }
        });
        if (!markers) {
          return null;
        }
        var parts = [{ from, to }];
        for (var i2 = 0; i2 < markers.length; ++i2) {
          var mk = markers[i2], m = mk.find(0);
          for (var j = 0; j < parts.length; ++j) {
            var p = parts[j];
            if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) {
              continue;
            }
            var newParts = [j, 1], dfrom = cmp(p.from, m.from), dto = cmp(p.to, m.to);
            if (dfrom < 0 || !mk.inclusiveLeft && !dfrom) {
              newParts.push({ from: p.from, to: m.from });
            }
            if (dto > 0 || !mk.inclusiveRight && !dto) {
              newParts.push({ from: m.to, to: p.to });
            }
            parts.splice.apply(parts, newParts);
            j += newParts.length - 3;
          }
        }
        return parts;
      }
      function detachMarkedSpans(line) {
        var spans = line.markedSpans;
        if (!spans) {
          return;
        }
        for (var i2 = 0; i2 < spans.length; ++i2) {
          spans[i2].marker.detachLine(line);
        }
        line.markedSpans = null;
      }
      function attachMarkedSpans(line, spans) {
        if (!spans) {
          return;
        }
        for (var i2 = 0; i2 < spans.length; ++i2) {
          spans[i2].marker.attachLine(line);
        }
        line.markedSpans = spans;
      }
      function extraLeft(marker) {
        return marker.inclusiveLeft ? -1 : 0;
      }
      function extraRight(marker) {
        return marker.inclusiveRight ? 1 : 0;
      }
      function compareCollapsedMarkers(a, b) {
        var lenDiff = a.lines.length - b.lines.length;
        if (lenDiff != 0) {
          return lenDiff;
        }
        var aPos = a.find(), bPos = b.find();
        var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);
        if (fromCmp) {
          return -fromCmp;
        }
        var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);
        if (toCmp) {
          return toCmp;
        }
        return b.id - a.id;
      }
      function collapsedSpanAtSide(line, start) {
        var sps = sawCollapsedSpans && line.markedSpans, found;
        if (sps) {
          for (var sp = void 0, i2 = 0; i2 < sps.length; ++i2) {
            sp = sps[i2];
            if (sp.marker.collapsed && (start ? sp.from : sp.to) == null && (!found || compareCollapsedMarkers(found, sp.marker) < 0)) {
              found = sp.marker;
            }
          }
        }
        return found;
      }
      function collapsedSpanAtStart(line) {
        return collapsedSpanAtSide(line, true);
      }
      function collapsedSpanAtEnd(line) {
        return collapsedSpanAtSide(line, false);
      }
      function collapsedSpanAround(line, ch) {
        var sps = sawCollapsedSpans && line.markedSpans, found;
        if (sps) {
          for (var i2 = 0; i2 < sps.length; ++i2) {
            var sp = sps[i2];
            if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) && (!found || compareCollapsedMarkers(found, sp.marker) < 0)) {
              found = sp.marker;
            }
          }
        }
        return found;
      }
      function conflictingCollapsedRange(doc2, lineNo2, from, to, marker) {
        var line = getLine(doc2, lineNo2);
        var sps = sawCollapsedSpans && line.markedSpans;
        if (sps) {
          for (var i2 = 0; i2 < sps.length; ++i2) {
            var sp = sps[i2];
            if (!sp.marker.collapsed) {
              continue;
            }
            var found = sp.marker.find(0);
            var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);
            var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);
            if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) {
              continue;
            }
            if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) || fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0)) {
              return true;
            }
          }
        }
      }
      function visualLine(line) {
        var merged;
        while (merged = collapsedSpanAtStart(line)) {
          line = merged.find(-1, true).line;
        }
        return line;
      }
      function visualLineEnd(line) {
        var merged;
        while (merged = collapsedSpanAtEnd(line)) {
          line = merged.find(1, true).line;
        }
        return line;
      }
      function visualLineContinued(line) {
        var merged, lines;
        while (merged = collapsedSpanAtEnd(line)) {
          line = merged.find(1, true).line;
          (lines || (lines = [])).push(line);
        }
        return lines;
      }
      function visualLineNo(doc2, lineN) {
        var line = getLine(doc2, lineN), vis = visualLine(line);
        if (line == vis) {
          return lineN;
        }
        return lineNo(vis);
      }
      function visualLineEndNo(doc2, lineN) {
        if (lineN > doc2.lastLine()) {
          return lineN;
        }
        var line = getLine(doc2, lineN), merged;
        if (!lineIsHidden(doc2, line)) {
          return lineN;
        }
        while (merged = collapsedSpanAtEnd(line)) {
          line = merged.find(1, true).line;
        }
        return lineNo(line) + 1;
      }
      function lineIsHidden(doc2, line) {
        var sps = sawCollapsedSpans && line.markedSpans;
        if (sps) {
          for (var sp = void 0, i2 = 0; i2 < sps.length; ++i2) {
            sp = sps[i2];
            if (!sp.marker.collapsed) {
              continue;
            }
            if (sp.from == null) {
              return true;
            }
            if (sp.marker.widgetNode) {
              continue;
            }
            if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc2, line, sp)) {
              return true;
            }
          }
        }
      }
      function lineIsHiddenInner(doc2, line, span) {
        if (span.to == null) {
          var end = span.marker.find(1, true);
          return lineIsHiddenInner(doc2, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker));
        }
        if (span.marker.inclusiveRight && span.to == line.text.length) {
          return true;
        }
        for (var sp = void 0, i2 = 0; i2 < line.markedSpans.length; ++i2) {
          sp = line.markedSpans[i2];
          if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to && (sp.to == null || sp.to != span.from) && (sp.marker.inclusiveLeft || span.marker.inclusiveRight) && lineIsHiddenInner(doc2, line, sp)) {
            return true;
          }
        }
      }
      function heightAtLine(lineObj) {
        lineObj = visualLine(lineObj);
        var h = 0, chunk = lineObj.parent;
        for (var i2 = 0; i2 < chunk.lines.length; ++i2) {
          var line = chunk.lines[i2];
          if (line == lineObj) {
            break;
          } else {
            h += line.height;
          }
        }
        for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {
          for (var i$12 = 0; i$12 < p.children.length; ++i$12) {
            var cur = p.children[i$12];
            if (cur == chunk) {
              break;
            } else {
              h += cur.height;
            }
          }
        }
        return h;
      }
      function lineLength(line) {
        if (line.height == 0) {
          return 0;
        }
        var len = line.text.length, merged, cur = line;
        while (merged = collapsedSpanAtStart(cur)) {
          var found = merged.find(0, true);
          cur = found.from.line;
          len += found.from.ch - found.to.ch;
        }
        cur = line;
        while (merged = collapsedSpanAtEnd(cur)) {
          var found$1 = merged.find(0, true);
          len -= cur.text.length - found$1.from.ch;
          cur = found$1.to.line;
          len += cur.text.length - found$1.to.ch;
        }
        return len;
      }
      function findMaxLine(cm) {
        var d = cm.display, doc2 = cm.doc;
        d.maxLine = getLine(doc2, doc2.first);
        d.maxLineLength = lineLength(d.maxLine);
        d.maxLineChanged = true;
        doc2.iter(function(line) {
          var len = lineLength(line);
          if (len > d.maxLineLength) {
            d.maxLineLength = len;
            d.maxLine = line;
          }
        });
      }
      var Line = function(text, markedSpans, estimateHeight2) {
        this.text = text;
        attachMarkedSpans(this, markedSpans);
        this.height = estimateHeight2 ? estimateHeight2(this) : 1;
      };
      Line.prototype.lineNo = function() {
        return lineNo(this);
      };
      eventMixin(Line);
      function updateLine(line, text, markedSpans, estimateHeight2) {
        line.text = text;
        if (line.stateAfter) {
          line.stateAfter = null;
        }
        if (line.styles) {
          line.styles = null;
        }
        if (line.order != null) {
          line.order = null;
        }
        detachMarkedSpans(line);
        attachMarkedSpans(line, markedSpans);
        var estHeight = estimateHeight2 ? estimateHeight2(line) : 1;
        if (estHeight != line.height) {
          updateLineHeight(line, estHeight);
        }
      }
      function cleanUpLine(line) {
        line.parent = null;
        detachMarkedSpans(line);
      }
      var styleToClassCache = {}, styleToClassCacheWithMode = {};
      function interpretTokenStyle(style, options) {
        if (!style || /^\s*$/.test(style)) {
          return null;
        }
        var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;
        return cache[style] || (cache[style] = style.replace(/\S+/g, "cm-$&"));
      }
      function buildLineContent(cm, lineView) {
        var content = eltP("span", null, null, webkit ? "padding-right: .1px" : null);
        var builder = {
          pre: eltP("pre", [content], "CodeMirror-line"),
          content,
          col: 0,
          pos: 0,
          cm,
          trailingSpace: false,
          splitSpaces: cm.getOption("lineWrapping")
        };
        lineView.measure = {};
        for (var i2 = 0; i2 <= (lineView.rest ? lineView.rest.length : 0); i2++) {
          var line = i2 ? lineView.rest[i2 - 1] : lineView.line, order = void 0;
          builder.pos = 0;
          builder.addToken = buildToken;
          if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction))) {
            builder.addToken = buildTokenBadBidi(builder.addToken, order);
          }
          builder.map = [];
          var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);
          insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));
          if (line.styleClasses) {
            if (line.styleClasses.bgClass) {
              builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || "");
            }
            if (line.styleClasses.textClass) {
              builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || "");
            }
          }
          if (builder.map.length == 0) {
            builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure)));
          }
          if (i2 == 0) {
            lineView.measure.map = builder.map;
            lineView.measure.cache = {};
          } else {
            (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map);
            (lineView.measure.caches || (lineView.measure.caches = [])).push({});
          }
        }
        if (webkit) {
          var last = builder.content.lastChild;
          if (/\bcm-tab\b/.test(last.className) || last.querySelector && last.querySelector(".cm-tab")) {
            builder.content.className = "cm-tab-wrap-hack";
          }
        }
        signal(cm, "renderLine", cm, lineView.line, builder.pre);
        if (builder.pre.className) {
          builder.textClass = joinClasses(builder.pre.className, builder.textClass || "");
        }
        return builder;
      }
      function defaultSpecialCharPlaceholder(ch) {
        var token = elt("span", "•", "cm-invalidchar");
        token.title = "\\u" + ch.charCodeAt(0).toString(16);
        token.setAttribute("aria-label", token.title);
        return token;
      }
      function buildToken(builder, text, style, startStyle, endStyle, css2, attributes) {
        if (!text) {
          return;
        }
        var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;
        var special = builder.cm.state.specialChars, mustWrap = false;
        var content;
        if (!special.test(text)) {
          builder.col += text.length;
          content = document.createTextNode(displayText);
          builder.map.push(builder.pos, builder.pos + text.length, content);
          if (ie && ie_version < 9) {
            mustWrap = true;
          }
          builder.pos += text.length;
        } else {
          content = document.createDocumentFragment();
          var pos = 0;
          while (true) {
            special.lastIndex = pos;
            var m = special.exec(text);
            var skipped = m ? m.index - pos : text.length - pos;
            if (skipped) {
              var txt = document.createTextNode(displayText.slice(pos, pos + skipped));
              if (ie && ie_version < 9) {
                content.appendChild(elt("span", [txt]));
              } else {
                content.appendChild(txt);
              }
              builder.map.push(builder.pos, builder.pos + skipped, txt);
              builder.col += skipped;
              builder.pos += skipped;
            }
            if (!m) {
              break;
            }
            pos += skipped + 1;
            var txt$1 = void 0;
            if (m[0] == "	") {
              var tabSize = builder.cm.options.tabSize, tabWidth = tabSize - builder.col % tabSize;
              txt$1 = content.appendChild(elt("span", spaceStr(tabWidth), "cm-tab"));
              txt$1.setAttribute("role", "presentation");
              txt$1.setAttribute("cm-text", "	");
              builder.col += tabWidth;
            } else if (m[0] == "\r" || m[0] == "\n") {
              txt$1 = content.appendChild(elt("span", m[0] == "\r" ? "␍" : "␤", "cm-invalidchar"));
              txt$1.setAttribute("cm-text", m[0]);
              builder.col += 1;
            } else {
              txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);
              txt$1.setAttribute("cm-text", m[0]);
              if (ie && ie_version < 9) {
                content.appendChild(elt("span", [txt$1]));
              } else {
                content.appendChild(txt$1);
              }
              builder.col += 1;
            }
            builder.map.push(builder.pos, builder.pos + 1, txt$1);
            builder.pos++;
          }
        }
        builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;
        if (style || startStyle || endStyle || mustWrap || css2 || attributes) {
          var fullStyle = style || "";
          if (startStyle) {
            fullStyle += startStyle;
          }
          if (endStyle) {
            fullStyle += endStyle;
          }
          var token = elt("span", [content], fullStyle, css2);
          if (attributes) {
            for (var attr in attributes) {
              if (attributes.hasOwnProperty(attr) && attr != "style" && attr != "class") {
                token.setAttribute(attr, attributes[attr]);
              }
            }
          }
          return builder.content.appendChild(token);
        }
        builder.content.appendChild(content);
      }
      function splitSpaces(text, trailingBefore) {
        if (text.length > 1 && !/  /.test(text)) {
          return text;
        }
        var spaceBefore = trailingBefore, result = "";
        for (var i2 = 0; i2 < text.length; i2++) {
          var ch = text.charAt(i2);
          if (ch == " " && spaceBefore && (i2 == text.length - 1 || text.charCodeAt(i2 + 1) == 32)) {
            ch = " ";
          }
          result += ch;
          spaceBefore = ch == " ";
        }
        return result;
      }
      function buildTokenBadBidi(inner, order) {
        return function(builder, text, style, startStyle, endStyle, css2, attributes) {
          style = style ? style + " cm-force-border" : "cm-force-border";
          var start = builder.pos, end = start + text.length;
          for (; ; ) {
            var part = void 0;
            for (var i2 = 0; i2 < order.length; i2++) {
              part = order[i2];
              if (part.to > start && part.from <= start) {
                break;
              }
            }
            if (part.to >= end) {
              return inner(builder, text, style, startStyle, endStyle, css2, attributes);
            }
            inner(builder, text.slice(0, part.to - start), style, startStyle, null, css2, attributes);
            startStyle = null;
            text = text.slice(part.to - start);
            start = part.to;
          }
        };
      }
      function buildCollapsedSpan(builder, size, marker, ignoreWidget) {
        var widget = !ignoreWidget && marker.widgetNode;
        if (widget) {
          builder.map.push(builder.pos, builder.pos + size, widget);
        }
        if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {
          if (!widget) {
            widget = builder.content.appendChild(document.createElement("span"));
          }
          widget.setAttribute("cm-marker", marker.id);
        }
        if (widget) {
          builder.cm.display.input.setUneditable(widget);
          builder.content.appendChild(widget);
        }
        builder.pos += size;
        builder.trailingSpace = false;
      }
      function insertLineContent(line, builder, styles) {
        var spans = line.markedSpans, allText = line.text, at = 0;
        if (!spans) {
          for (var i$12 = 1; i$12 < styles.length; i$12 += 2) {
            builder.addToken(builder, allText.slice(at, at = styles[i$12]), interpretTokenStyle(styles[i$12 + 1], builder.cm.options));
          }
          return;
        }
        var len = allText.length, pos = 0, i2 = 1, text = "", style, css2;
        var nextChange = 0, spanStyle, spanEndStyle, spanStartStyle, collapsed, attributes;
        for (; ; ) {
          if (nextChange == pos) {
            spanStyle = spanEndStyle = spanStartStyle = css2 = "";
            attributes = null;
            collapsed = null;
            nextChange = Infinity;
            var foundBookmarks = [], endStyles = void 0;
            for (var j = 0; j < spans.length; ++j) {
              var sp = spans[j], m = sp.marker;
              if (m.type == "bookmark" && sp.from == pos && m.widgetNode) {
                foundBookmarks.push(m);
              } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {
                if (sp.to != null && sp.to != pos && nextChange > sp.to) {
                  nextChange = sp.to;
                  spanEndStyle = "";
                }
                if (m.className) {
                  spanStyle += " " + m.className;
                }
                if (m.css) {
                  css2 = (css2 ? css2 + ";" : "") + m.css;
                }
                if (m.startStyle && sp.from == pos) {
                  spanStartStyle += " " + m.startStyle;
                }
                if (m.endStyle && sp.to == nextChange) {
                  (endStyles || (endStyles = [])).push(m.endStyle, sp.to);
                }
                if (m.title) {
                  (attributes || (attributes = {})).title = m.title;
                }
                if (m.attributes) {
                  for (var attr in m.attributes) {
                    (attributes || (attributes = {}))[attr] = m.attributes[attr];
                  }
                }
                if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0)) {
                  collapsed = sp;
                }
              } else if (sp.from > pos && nextChange > sp.from) {
                nextChange = sp.from;
              }
            }
            if (endStyles) {
              for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2) {
                if (endStyles[j$1 + 1] == nextChange) {
                  spanEndStyle += " " + endStyles[j$1];
                }
              }
            }
            if (!collapsed || collapsed.from == pos) {
              for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2) {
                buildCollapsedSpan(builder, 0, foundBookmarks[j$2]);
              }
            }
            if (collapsed && (collapsed.from || 0) == pos) {
              buildCollapsedSpan(
                builder,
                (collapsed.to == null ? len + 1 : collapsed.to) - pos,
                collapsed.marker,
                collapsed.from == null
              );
              if (collapsed.to == null) {
                return;
              }
              if (collapsed.to == pos) {
                collapsed = false;
              }
            }
          }
          if (pos >= len) {
            break;
          }
          var upto = Math.min(len, nextChange);
          while (true) {
            if (text) {
              var end = pos + text.length;
              if (!collapsed) {
                var tokenText = end > upto ? text.slice(0, upto - pos) : text;
                builder.addToken(
                  builder,
                  tokenText,
                  style ? style + spanStyle : spanStyle,
                  spanStartStyle,
                  pos + tokenText.length == nextChange ? spanEndStyle : "",
                  css2,
                  attributes
                );
              }
              if (end >= upto) {
                text = text.slice(upto - pos);
                pos = upto;
                break;
              }
              pos = end;
              spanStartStyle = "";
            }
            text = allText.slice(at, at = styles[i2++]);
            style = interpretTokenStyle(styles[i2++], builder.cm.options);
          }
        }
      }
      function LineView(doc2, line, lineN) {
        this.line = line;
        this.rest = visualLineContinued(line);
        this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;
        this.node = this.text = null;
        this.hidden = lineIsHidden(doc2, line);
      }
      function buildViewArray(cm, from, to) {
        var array = [], nextPos;
        for (var pos = from; pos < to; pos = nextPos) {
          var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);
          nextPos = pos + view.size;
          array.push(view);
        }
        return array;
      }
      var operationGroup = null;
      function pushOperation(op) {
        if (operationGroup) {
          operationGroup.ops.push(op);
        } else {
          op.ownsGroup = operationGroup = {
            ops: [op],
            delayedCallbacks: []
          };
        }
      }
      function fireCallbacksForOps(group) {
        var callbacks = group.delayedCallbacks, i2 = 0;
        do {
          for (; i2 < callbacks.length; i2++) {
            callbacks[i2].call(null);
          }
          for (var j = 0; j < group.ops.length; j++) {
            var op = group.ops[j];
            if (op.cursorActivityHandlers) {
              while (op.cursorActivityCalled < op.cursorActivityHandlers.length) {
                op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm);
              }
            }
          }
        } while (i2 < callbacks.length);
      }
      function finishOperation(op, endCb) {
        var group = op.ownsGroup;
        if (!group) {
          return;
        }
        try {
          fireCallbacksForOps(group);
        } finally {
          operationGroup = null;
          endCb(group);
        }
      }
      var orphanDelayedCallbacks = null;
      function signalLater(emitter, type) {
        var arr = getHandlers(emitter, type);
        if (!arr.length) {
          return;
        }
        var args = Array.prototype.slice.call(arguments, 2), list;
        if (operationGroup) {
          list = operationGroup.delayedCallbacks;
        } else if (orphanDelayedCallbacks) {
          list = orphanDelayedCallbacks;
        } else {
          list = orphanDelayedCallbacks = [];
          setTimeout(fireOrphanDelayed, 0);
        }
        var loop = function(i3) {
          list.push(function() {
            return arr[i3].apply(null, args);
          });
        };
        for (var i2 = 0; i2 < arr.length; ++i2)
          loop(i2);
      }
      function fireOrphanDelayed() {
        var delayed = orphanDelayedCallbacks;
        orphanDelayedCallbacks = null;
        for (var i2 = 0; i2 < delayed.length; ++i2) {
          delayed[i2]();
        }
      }
      function updateLineForChanges(cm, lineView, lineN, dims) {
        for (var j = 0; j < lineView.changes.length; j++) {
          var type = lineView.changes[j];
          if (type == "text") {
            updateLineText(cm, lineView);
          } else if (type == "gutter") {
            updateLineGutter(cm, lineView, lineN, dims);
          } else if (type == "class") {
            updateLineClasses(cm, lineView);
          } else if (type == "widget") {
            updateLineWidgets(cm, lineView, dims);
          }
        }
        lineView.changes = null;
      }
      function ensureLineWrapped(lineView) {
        if (lineView.node == lineView.text) {
          lineView.node = elt("div", null, null, "position: relative");
          if (lineView.text.parentNode) {
            lineView.text.parentNode.replaceChild(lineView.node, lineView.text);
          }
          lineView.node.appendChild(lineView.text);
          if (ie && ie_version < 8) {
            lineView.node.style.zIndex = 2;
          }
        }
        return lineView.node;
      }
      function updateLineBackground(cm, lineView) {
        var cls = lineView.bgClass ? lineView.bgClass + " " + (lineView.line.bgClass || "") : lineView.line.bgClass;
        if (cls) {
          cls += " CodeMirror-linebackground";
        }
        if (lineView.background) {
          if (cls) {
            lineView.background.className = cls;
          } else {
            lineView.background.parentNode.removeChild(lineView.background);
            lineView.background = null;
          }
        } else if (cls) {
          var wrap = ensureLineWrapped(lineView);
          lineView.background = wrap.insertBefore(elt("div", null, cls), wrap.firstChild);
          cm.display.input.setUneditable(lineView.background);
        }
      }
      function getLineContent(cm, lineView) {
        var ext = cm.display.externalMeasured;
        if (ext && ext.line == lineView.line) {
          cm.display.externalMeasured = null;
          lineView.measure = ext.measure;
          return ext.built;
        }
        return buildLineContent(cm, lineView);
      }
      function updateLineText(cm, lineView) {
        var cls = lineView.text.className;
        var built = getLineContent(cm, lineView);
        if (lineView.text == lineView.node) {
          lineView.node = built.pre;
        }
        lineView.text.parentNode.replaceChild(built.pre, lineView.text);
        lineView.text = built.pre;
        if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {
          lineView.bgClass = built.bgClass;
          lineView.textClass = built.textClass;
          updateLineClasses(cm, lineView);
        } else if (cls) {
          lineView.text.className = cls;
        }
      }
      function updateLineClasses(cm, lineView) {
        updateLineBackground(cm, lineView);
        if (lineView.line.wrapClass) {
          ensureLineWrapped(lineView).className = lineView.line.wrapClass;
        } else if (lineView.node != lineView.text) {
          lineView.node.className = "";
        }
        var textClass = lineView.textClass ? lineView.textClass + " " + (lineView.line.textClass || "") : lineView.line.textClass;
        lineView.text.className = textClass || "";
      }
      function updateLineGutter(cm, lineView, lineN, dims) {
        if (lineView.gutter) {
          lineView.node.removeChild(lineView.gutter);
          lineView.gutter = null;
        }
        if (lineView.gutterBackground) {
          lineView.node.removeChild(lineView.gutterBackground);
          lineView.gutterBackground = null;
        }
        if (lineView.line.gutterClass) {
          var wrap = ensureLineWrapped(lineView);
          lineView.gutterBackground = elt(
            "div",
            null,
            "CodeMirror-gutter-background " + lineView.line.gutterClass,
            "left: " + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + "px; width: " + dims.gutterTotalWidth + "px"
          );
          cm.display.input.setUneditable(lineView.gutterBackground);
          wrap.insertBefore(lineView.gutterBackground, lineView.text);
        }
        var markers = lineView.line.gutterMarkers;
        if (cm.options.lineNumbers || markers) {
          var wrap$1 = ensureLineWrapped(lineView);
          var gutterWrap = lineView.gutter = elt("div", null, "CodeMirror-gutter-wrapper", "left: " + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + "px");
          gutterWrap.setAttribute("aria-hidden", "true");
          cm.display.input.setUneditable(gutterWrap);
          wrap$1.insertBefore(gutterWrap, lineView.text);
          if (lineView.line.gutterClass) {
            gutterWrap.className += " " + lineView.line.gutterClass;
          }
          if (cm.options.lineNumbers && (!markers || !markers["CodeMirror-linenumbers"])) {
            lineView.lineNumber = gutterWrap.appendChild(
              elt(
                "div",
                lineNumberFor(cm.options, lineN),
                "CodeMirror-linenumber CodeMirror-gutter-elt",
                "left: " + dims.gutterLeft["CodeMirror-linenumbers"] + "px; width: " + cm.display.lineNumInnerWidth + "px"
              )
            );
          }
          if (markers) {
            for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {
              var id = cm.display.gutterSpecs[k].className, found = markers.hasOwnProperty(id) && markers[id];
              if (found) {
                gutterWrap.appendChild(elt(
                  "div",
                  [found],
                  "CodeMirror-gutter-elt",
                  "left: " + dims.gutterLeft[id] + "px; width: " + dims.gutterWidth[id] + "px"
                ));
              }
            }
          }
        }
      }
      function updateLineWidgets(cm, lineView, dims) {
        if (lineView.alignable) {
          lineView.alignable = null;
        }
        var isWidget = classTest("CodeMirror-linewidget");
        for (var node = lineView.node.firstChild, next = void 0; node; node = next) {
          next = node.nextSibling;
          if (isWidget.test(node.className)) {
            lineView.node.removeChild(node);
          }
        }
        insertLineWidgets(cm, lineView, dims);
      }
      function buildLineElement(cm, lineView, lineN, dims) {
        var built = getLineContent(cm, lineView);
        lineView.text = lineView.node = built.pre;
        if (built.bgClass) {
          lineView.bgClass = built.bgClass;
        }
        if (built.textClass) {
          lineView.textClass = built.textClass;
        }
        updateLineClasses(cm, lineView);
        updateLineGutter(cm, lineView, lineN, dims);
        insertLineWidgets(cm, lineView, dims);
        return lineView.node;
      }
      function insertLineWidgets(cm, lineView, dims) {
        insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);
        if (lineView.rest) {
          for (var i2 = 0; i2 < lineView.rest.length; i2++) {
            insertLineWidgetsFor(cm, lineView.rest[i2], lineView, dims, false);
          }
        }
      }
      function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {
        if (!line.widgets) {
          return;
        }
        var wrap = ensureLineWrapped(lineView);
        for (var i2 = 0, ws = line.widgets; i2 < ws.length; ++i2) {
          var widget = ws[i2], node = elt("div", [widget.node], "CodeMirror-linewidget" + (widget.className ? " " + widget.className : ""));
          if (!widget.handleMouseEvents) {
            node.setAttribute("cm-ignore-events", "true");
          }
          positionLineWidget(widget, node, lineView, dims);
          cm.display.input.setUneditable(node);
          if (allowAbove && widget.above) {
            wrap.insertBefore(node, lineView.gutter || lineView.text);
          } else {
            wrap.appendChild(node);
          }
          signalLater(widget, "redraw");
        }
      }
      function positionLineWidget(widget, node, lineView, dims) {
        if (widget.noHScroll) {
          (lineView.alignable || (lineView.alignable = [])).push(node);
          var width = dims.wrapperWidth;
          node.style.left = dims.fixedPos + "px";
          if (!widget.coverGutter) {
            width -= dims.gutterTotalWidth;
            node.style.paddingLeft = dims.gutterTotalWidth + "px";
          }
          node.style.width = width + "px";
        }
        if (widget.coverGutter) {
          node.style.zIndex = 5;
          node.style.position = "relative";
          if (!widget.noHScroll) {
            node.style.marginLeft = -dims.gutterTotalWidth + "px";
          }
        }
      }
      function widgetHeight(widget) {
        if (widget.height != null) {
          return widget.height;
        }
        var cm = widget.doc.cm;
        if (!cm) {
          return 0;
        }
        if (!contains(document.body, widget.node)) {
          var parentStyle = "position: relative;";
          if (widget.coverGutter) {
            parentStyle += "margin-left: -" + cm.display.gutters.offsetWidth + "px;";
          }
          if (widget.noHScroll) {
            parentStyle += "width: " + cm.display.wrapper.clientWidth + "px;";
          }
          removeChildrenAndAdd(cm.display.measure, elt("div", [widget.node], null, parentStyle));
        }
        return widget.height = widget.node.parentNode.offsetHeight;
      }
      function eventInWidget(display, e) {
        for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {
          if (!n || n.nodeType == 1 && n.getAttribute("cm-ignore-events") == "true" || n.parentNode == display.sizer && n != display.mover) {
            return true;
          }
        }
      }
      function paddingTop(display) {
        return display.lineSpace.offsetTop;
      }
      function paddingVert(display) {
        return display.mover.offsetHeight - display.lineSpace.offsetHeight;
      }
      function paddingH(display) {
        if (display.cachedPaddingH) {
          return display.cachedPaddingH;
        }
        var e = removeChildrenAndAdd(display.measure, elt("pre", "x", "CodeMirror-line-like"));
        var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;
        var data = { left: parseInt(style.paddingLeft), right: parseInt(style.paddingRight) };
        if (!isNaN(data.left) && !isNaN(data.right)) {
          display.cachedPaddingH = data;
        }
        return data;
      }
      function scrollGap(cm) {
        return scrollerGap - cm.display.nativeBarWidth;
      }
      function displayWidth(cm) {
        return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth;
      }
      function displayHeight(cm) {
        return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight;
      }
      function ensureLineHeights(cm, lineView, rect) {
        var wrapping = cm.options.lineWrapping;
        var curWidth = wrapping && displayWidth(cm);
        if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {
          var heights = lineView.measure.heights = [];
          if (wrapping) {
            lineView.measure.width = curWidth;
            var rects = lineView.text.firstChild.getClientRects();
            for (var i2 = 0; i2 < rects.length - 1; i2++) {
              var cur = rects[i2], next = rects[i2 + 1];
              if (Math.abs(cur.bottom - next.bottom) > 2) {
                heights.push((cur.bottom + next.top) / 2 - rect.top);
              }
            }
          }
          heights.push(rect.bottom - rect.top);
        }
      }
      function mapFromLineView(lineView, line, lineN) {
        if (lineView.line == line) {
          return { map: lineView.measure.map, cache: lineView.measure.cache };
        }
        if (lineView.rest) {
          for (var i2 = 0; i2 < lineView.rest.length; i2++) {
            if (lineView.rest[i2] == line) {
              return { map: lineView.measure.maps[i2], cache: lineView.measure.caches[i2] };
            }
          }
          for (var i$12 = 0; i$12 < lineView.rest.length; i$12++) {
            if (lineNo(lineView.rest[i$12]) > lineN) {
              return { map: lineView.measure.maps[i$12], cache: lineView.measure.caches[i$12], before: true };
            }
          }
        }
      }
      function updateExternalMeasurement(cm, line) {
        line = visualLine(line);
        var lineN = lineNo(line);
        var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);
        view.lineN = lineN;
        var built = view.built = buildLineContent(cm, view);
        view.text = built.pre;
        removeChildrenAndAdd(cm.display.lineMeasure, built.pre);
        return view;
      }
      function measureChar(cm, line, ch, bias) {
        return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias);
      }
      function findViewForLine(cm, lineN) {
        if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo) {
          return cm.display.view[findViewIndex(cm, lineN)];
        }
        var ext = cm.display.externalMeasured;
        if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size) {
          return ext;
        }
      }
      function prepareMeasureForLine(cm, line) {
        var lineN = lineNo(line);
        var view = findViewForLine(cm, lineN);
        if (view && !view.text) {
          view = null;
        } else if (view && view.changes) {
          updateLineForChanges(cm, view, lineN, getDimensions(cm));
          cm.curOp.forceUpdate = true;
        }
        if (!view) {
          view = updateExternalMeasurement(cm, line);
        }
        var info = mapFromLineView(view, line, lineN);
        return {
          line,
          view,
          rect: null,
          map: info.map,
          cache: info.cache,
          before: info.before,
          hasHeights: false
        };
      }
      function measureCharPrepared(cm, prepared, ch, bias, varHeight) {
        if (prepared.before) {
          ch = -1;
        }
        var key = ch + (bias || ""), found;
        if (prepared.cache.hasOwnProperty(key)) {
          found = prepared.cache[key];
        } else {
          if (!prepared.rect) {
            prepared.rect = prepared.view.text.getBoundingClientRect();
          }
          if (!prepared.hasHeights) {
            ensureLineHeights(cm, prepared.view, prepared.rect);
            prepared.hasHeights = true;
          }
          found = measureCharInner(cm, prepared, ch, bias);
          if (!found.bogus) {
            prepared.cache[key] = found;
          }
        }
        return {
          left: found.left,
          right: found.right,
          top: varHeight ? found.rtop : found.top,
          bottom: varHeight ? found.rbottom : found.bottom
        };
      }
      var nullRect = { left: 0, right: 0, top: 0, bottom: 0 };
      function nodeAndOffsetInLineMap(map2, ch, bias) {
        var node, start, end, collapse, mStart, mEnd;
        for (var i2 = 0; i2 < map2.length; i2 += 3) {
          mStart = map2[i2];
          mEnd = map2[i2 + 1];
          if (ch < mStart) {
            start = 0;
            end = 1;
            collapse = "left";
          } else if (ch < mEnd) {
            start = ch - mStart;
            end = start + 1;
          } else if (i2 == map2.length - 3 || ch == mEnd && map2[i2 + 3] > ch) {
            end = mEnd - mStart;
            start = end - 1;
            if (ch >= mEnd) {
              collapse = "right";
            }
          }
          if (start != null) {
            node = map2[i2 + 2];
            if (mStart == mEnd && bias == (node.insertLeft ? "left" : "right")) {
              collapse = bias;
            }
            if (bias == "left" && start == 0) {
              while (i2 && map2[i2 - 2] == map2[i2 - 3] && map2[i2 - 1].insertLeft) {
                node = map2[(i2 -= 3) + 2];
                collapse = "left";
              }
            }
            if (bias == "right" && start == mEnd - mStart) {
              while (i2 < map2.length - 3 && map2[i2 + 3] == map2[i2 + 4] && !map2[i2 + 5].insertLeft) {
                node = map2[(i2 += 3) + 2];
                collapse = "right";
              }
            }
            break;
          }
        }
        return { node, start, end, collapse, coverStart: mStart, coverEnd: mEnd };
      }
      function getUsefulRect(rects, bias) {
        var rect = nullRect;
        if (bias == "left") {
          for (var i2 = 0; i2 < rects.length; i2++) {
            if ((rect = rects[i2]).left != rect.right) {
              break;
            }
          }
        } else {
          for (var i$12 = rects.length - 1; i$12 >= 0; i$12--) {
            if ((rect = rects[i$12]).left != rect.right) {
              break;
            }
          }
        }
        return rect;
      }
      function measureCharInner(cm, prepared, ch, bias) {
        var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);
        var node = place.node, start = place.start, end = place.end, collapse = place.collapse;
        var rect;
        if (node.nodeType == 3) {
          for (var i$12 = 0; i$12 < 4; i$12++) {
            while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) {
              --start;
            }
            while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) {
              ++end;
            }
            if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart) {
              rect = node.parentNode.getBoundingClientRect();
            } else {
              rect = getUsefulRect(range(node, start, end).getClientRects(), bias);
            }
            if (rect.left || rect.right || start == 0) {
              break;
            }
            end = start;
            start = start - 1;
            collapse = "right";
          }
          if (ie && ie_version < 11) {
            rect = maybeUpdateRectForZooming(cm.display.measure, rect);
          }
        } else {
          if (start > 0) {
            collapse = bias = "right";
          }
          var rects;
          if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1) {
            rect = rects[bias == "right" ? rects.length - 1 : 0];
          } else {
            rect = node.getBoundingClientRect();
          }
        }
        if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {
          var rSpan = node.parentNode.getClientRects()[0];
          if (rSpan) {
            rect = { left: rSpan.left, right: rSpan.left + charWidth(cm.display), top: rSpan.top, bottom: rSpan.bottom };
          } else {
            rect = nullRect;
          }
        }
        var rtop = rect.top - prepared.rect.top, rbot = rect.bottom - prepared.rect.top;
        var mid = (rtop + rbot) / 2;
        var heights = prepared.view.measure.heights;
        var i2 = 0;
        for (; i2 < heights.length - 1; i2++) {
          if (mid < heights[i2]) {
            break;
          }
        }
        var top = i2 ? heights[i2 - 1] : 0, bot = heights[i2];
        var result = {
          left: (collapse == "right" ? rect.right : rect.left) - prepared.rect.left,
          right: (collapse == "left" ? rect.left : rect.right) - prepared.rect.left,
          top,
          bottom: bot
        };
        if (!rect.left && !rect.right) {
          result.bogus = true;
        }
        if (!cm.options.singleCursorHeightPerLine) {
          result.rtop = rtop;
          result.rbottom = rbot;
        }
        return result;
      }
      function maybeUpdateRectForZooming(measure, rect) {
        if (!window.screen || screen.logicalXDPI == null || screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure)) {
          return rect;
        }
        var scaleX = screen.logicalXDPI / screen.deviceXDPI;
        var scaleY = screen.logicalYDPI / screen.deviceYDPI;
        return {
          left: rect.left * scaleX,
          right: rect.right * scaleX,
          top: rect.top * scaleY,
          bottom: rect.bottom * scaleY
        };
      }
      function clearLineMeasurementCacheFor(lineView) {
        if (lineView.measure) {
          lineView.measure.cache = {};
          lineView.measure.heights = null;
          if (lineView.rest) {
            for (var i2 = 0; i2 < lineView.rest.length; i2++) {
              lineView.measure.caches[i2] = {};
            }
          }
        }
      }
      function clearLineMeasurementCache(cm) {
        cm.display.externalMeasure = null;
        removeChildren(cm.display.lineMeasure);
        for (var i2 = 0; i2 < cm.display.view.length; i2++) {
          clearLineMeasurementCacheFor(cm.display.view[i2]);
        }
      }
      function clearCaches(cm) {
        clearLineMeasurementCache(cm);
        cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;
        if (!cm.options.lineWrapping) {
          cm.display.maxLineChanged = true;
        }
        cm.display.lineNumChars = null;
      }
      function pageScrollX(doc2) {
        if (chrome && android) {
          return -(doc2.body.getBoundingClientRect().left - parseInt(getComputedStyle(doc2.body).marginLeft));
        }
        return doc2.defaultView.pageXOffset || (doc2.documentElement || doc2.body).scrollLeft;
      }
      function pageScrollY(doc2) {
        if (chrome && android) {
          return -(doc2.body.getBoundingClientRect().top - parseInt(getComputedStyle(doc2.body).marginTop));
        }
        return doc2.defaultView.pageYOffset || (doc2.documentElement || doc2.body).scrollTop;
      }
      function widgetTopHeight(lineObj) {
        var ref = visualLine(lineObj);
        var widgets = ref.widgets;
        var height = 0;
        if (widgets) {
          for (var i2 = 0; i2 < widgets.length; ++i2) {
            if (widgets[i2].above) {
              height += widgetHeight(widgets[i2]);
            }
          }
        }
        return height;
      }
      function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {
        if (!includeWidgets) {
          var height = widgetTopHeight(lineObj);
          rect.top += height;
          rect.bottom += height;
        }
        if (context == "line") {
          return rect;
        }
        if (!context) {
          context = "local";
        }
        var yOff = heightAtLine(lineObj);
        if (context == "local") {
          yOff += paddingTop(cm.display);
        } else {
          yOff -= cm.display.viewOffset;
        }
        if (context == "page" || context == "window") {
          var lOff = cm.display.lineSpace.getBoundingClientRect();
          yOff += lOff.top + (context == "window" ? 0 : pageScrollY(doc(cm)));
          var xOff = lOff.left + (context == "window" ? 0 : pageScrollX(doc(cm)));
          rect.left += xOff;
          rect.right += xOff;
        }
        rect.top += yOff;
        rect.bottom += yOff;
        return rect;
      }
      function fromCoordSystem(cm, coords, context) {
        if (context == "div") {
          return coords;
        }
        var left = coords.left, top = coords.top;
        if (context == "page") {
          left -= pageScrollX(doc(cm));
          top -= pageScrollY(doc(cm));
        } else if (context == "local" || !context) {
          var localBox = cm.display.sizer.getBoundingClientRect();
          left += localBox.left;
          top += localBox.top;
        }
        var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();
        return { left: left - lineSpaceBox.left, top: top - lineSpaceBox.top };
      }
      function charCoords(cm, pos, context, lineObj, bias) {
        if (!lineObj) {
          lineObj = getLine(cm.doc, pos.line);
        }
        return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context);
      }
      function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {
        lineObj = lineObj || getLine(cm.doc, pos.line);
        if (!preparedMeasure) {
          preparedMeasure = prepareMeasureForLine(cm, lineObj);
        }
        function get(ch2, right) {
          var m = measureCharPrepared(cm, preparedMeasure, ch2, right ? "right" : "left", varHeight);
          if (right) {
            m.left = m.right;
          } else {
            m.right = m.left;
          }
          return intoCoordSystem(cm, lineObj, m, context);
        }
        var order = getOrder(lineObj, cm.doc.direction), ch = pos.ch, sticky = pos.sticky;
        if (ch >= lineObj.text.length) {
          ch = lineObj.text.length;
          sticky = "before";
        } else if (ch <= 0) {
          ch = 0;
          sticky = "after";
        }
        if (!order) {
          return get(sticky == "before" ? ch - 1 : ch, sticky == "before");
        }
        function getBidi(ch2, partPos2, invert) {
          var part = order[partPos2], right = part.level == 1;
          return get(invert ? ch2 - 1 : ch2, right != invert);
        }
        var partPos = getBidiPartAt(order, ch, sticky);
        var other = bidiOther;
        var val = getBidi(ch, partPos, sticky == "before");
        if (other != null) {
          val.other = getBidi(ch, other, sticky != "before");
        }
        return val;
      }
      function estimateCoords(cm, pos) {
        var left = 0;
        pos = clipPos(cm.doc, pos);
        if (!cm.options.lineWrapping) {
          left = charWidth(cm.display) * pos.ch;
        }
        var lineObj = getLine(cm.doc, pos.line);
        var top = heightAtLine(lineObj) + paddingTop(cm.display);
        return { left, right: left, top, bottom: top + lineObj.height };
      }
      function PosWithInfo(line, ch, sticky, outside, xRel) {
        var pos = Pos(line, ch, sticky);
        pos.xRel = xRel;
        if (outside) {
          pos.outside = outside;
        }
        return pos;
      }
      function coordsChar(cm, x, y) {
        var doc2 = cm.doc;
        y += cm.display.viewOffset;
        if (y < 0) {
          return PosWithInfo(doc2.first, 0, null, -1, -1);
        }
        var lineN = lineAtHeight(doc2, y), last = doc2.first + doc2.size - 1;
        if (lineN > last) {
          return PosWithInfo(doc2.first + doc2.size - 1, getLine(doc2, last).text.length, null, 1, 1);
        }
        if (x < 0) {
          x = 0;
        }
        var lineObj = getLine(doc2, lineN);
        for (; ; ) {
          var found = coordsCharInner(cm, lineObj, lineN, x, y);
          var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));
          if (!collapsed) {
            return found;
          }
          var rangeEnd = collapsed.find(1);
          if (rangeEnd.line == lineN) {
            return rangeEnd;
          }
          lineObj = getLine(doc2, lineN = rangeEnd.line);
        }
      }
      function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {
        y -= widgetTopHeight(lineObj);
        var end = lineObj.text.length;
        var begin = findFirst(function(ch) {
          return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y;
        }, end, 0);
        end = findFirst(function(ch) {
          return measureCharPrepared(cm, preparedMeasure, ch).top > y;
        }, begin, end);
        return { begin, end };
      }
      function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {
        if (!preparedMeasure) {
          preparedMeasure = prepareMeasureForLine(cm, lineObj);
        }
        var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), "line").top;
        return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop);
      }
      function boxIsAfter(box, x, y, left) {
        return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x;
      }
      function coordsCharInner(cm, lineObj, lineNo2, x, y) {
        y -= heightAtLine(lineObj);
        var preparedMeasure = prepareMeasureForLine(cm, lineObj);
        var widgetHeight2 = widgetTopHeight(lineObj);
        var begin = 0, end = lineObj.text.length, ltr = true;
        var order = getOrder(lineObj, cm.doc.direction);
        if (order) {
          var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)(cm, lineObj, lineNo2, preparedMeasure, order, x, y);
          ltr = part.level != 1;
          begin = ltr ? part.from : part.to - 1;
          end = ltr ? part.to : part.from - 1;
        }
        var chAround = null, boxAround = null;
        var ch = findFirst(function(ch2) {
          var box = measureCharPrepared(cm, preparedMeasure, ch2);
          box.top += widgetHeight2;
          box.bottom += widgetHeight2;
          if (!boxIsAfter(box, x, y, false)) {
            return false;
          }
          if (box.top <= y && box.left <= x) {
            chAround = ch2;
            boxAround = box;
          }
          return true;
        }, begin, end);
        var baseX, sticky, outside = false;
        if (boxAround) {
          var atLeft = x - boxAround.left < boxAround.right - x, atStart = atLeft == ltr;
          ch = chAround + (atStart ? 0 : 1);
          sticky = atStart ? "after" : "before";
          baseX = atLeft ? boxAround.left : boxAround.right;
        } else {
          if (!ltr && (ch == end || ch == begin)) {
            ch++;
          }
          sticky = ch == 0 ? "after" : ch == lineObj.text.length ? "before" : measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight2 <= y == ltr ? "after" : "before";
          var coords = cursorCoords(cm, Pos(lineNo2, ch, sticky), "line", lineObj, preparedMeasure);
          baseX = coords.left;
          outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;
        }
        ch = skipExtendingChars(lineObj.text, ch, 1);
        return PosWithInfo(lineNo2, ch, sticky, outside, x - baseX);
      }
      function coordsBidiPart(cm, lineObj, lineNo2, preparedMeasure, order, x, y) {
        var index = findFirst(function(i2) {
          var part2 = order[i2], ltr2 = part2.level != 1;
          return boxIsAfter(cursorCoords(
            cm,
            Pos(lineNo2, ltr2 ? part2.to : part2.from, ltr2 ? "before" : "after"),
            "line",
            lineObj,
            preparedMeasure
          ), x, y, true);
        }, 0, order.length - 1);
        var part = order[index];
        if (index > 0) {
          var ltr = part.level != 1;
          var start = cursorCoords(
            cm,
            Pos(lineNo2, ltr ? part.from : part.to, ltr ? "after" : "before"),
            "line",
            lineObj,
            preparedMeasure
          );
          if (boxIsAfter(start, x, y, true) && start.top > y) {
            part = order[index - 1];
          }
        }
        return part;
      }
      function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {
        var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);
        var begin = ref.begin;
        var end = ref.end;
        if (/\s/.test(lineObj.text.charAt(end - 1))) {
          end--;
        }
        var part = null, closestDist = null;
        for (var i2 = 0; i2 < order.length; i2++) {
          var p = order[i2];
          if (p.from >= end || p.to <= begin) {
            continue;
          }
          var ltr = p.level != 1;
          var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right;
          var dist = endX < x ? x - endX + 1e9 : endX - x;
          if (!part || closestDist > dist) {
            part = p;
            closestDist = dist;
          }
        }
        if (!part) {
          part = order[order.length - 1];
        }
        if (part.from < begin) {
          part = { from: begin, to: part.to, level: part.level };
        }
        if (part.to > end) {
          part = { from: part.from, to: end, level: part.level };
        }
        return part;
      }
      var measureText;
      function textHeight(display) {
        if (display.cachedTextHeight != null) {
          return display.cachedTextHeight;
        }
        if (measureText == null) {
          measureText = elt("pre", null, "CodeMirror-line-like");
          for (var i2 = 0; i2 < 49; ++i2) {
            measureText.appendChild(document.createTextNode("x"));
            measureText.appendChild(elt("br"));
          }
          measureText.appendChild(document.createTextNode("x"));
        }
        removeChildrenAndAdd(display.measure, measureText);
        var height = measureText.offsetHeight / 50;
        if (height > 3) {
          display.cachedTextHeight = height;
        }
        removeChildren(display.measure);
        return height || 1;
      }
      function charWidth(display) {
        if (display.cachedCharWidth != null) {
          return display.cachedCharWidth;
        }
        var anchor = elt("span", "xxxxxxxxxx");
        var pre = elt("pre", [anchor], "CodeMirror-line-like");
        removeChildrenAndAdd(display.measure, pre);
        var rect = anchor.getBoundingClientRect(), width = (rect.right - rect.left) / 10;
        if (width > 2) {
          display.cachedCharWidth = width;
        }
        return width || 10;
      }
      function getDimensions(cm) {
        var d = cm.display, left = {}, width = {};
        var gutterLeft = d.gutters.clientLeft;
        for (var n = d.gutters.firstChild, i2 = 0; n; n = n.nextSibling, ++i2) {
          var id = cm.display.gutterSpecs[i2].className;
          left[id] = n.offsetLeft + n.clientLeft + gutterLeft;
          width[id] = n.clientWidth;
        }
        return {
          fixedPos: compensateForHScroll(d),
          gutterTotalWidth: d.gutters.offsetWidth,
          gutterLeft: left,
          gutterWidth: width,
          wrapperWidth: d.wrapper.clientWidth
        };
      }
      function compensateForHScroll(display) {
        return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left;
      }
      function estimateHeight(cm) {
        var th = textHeight(cm.display), wrapping = cm.options.lineWrapping;
        var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);
        return function(line) {
          if (lineIsHidden(cm.doc, line)) {
            return 0;
          }
          var widgetsHeight = 0;
          if (line.widgets) {
            for (var i2 = 0; i2 < line.widgets.length; i2++) {
              if (line.widgets[i2].height) {
                widgetsHeight += line.widgets[i2].height;
              }
            }
          }
          if (wrapping) {
            return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th;
          } else {
            return widgetsHeight + th;
          }
        };
      }
      function estimateLineHeights(cm) {
        var doc2 = cm.doc, est = estimateHeight(cm);
        doc2.iter(function(line) {
          var estHeight = est(line);
          if (estHeight != line.height) {
            updateLineHeight(line, estHeight);
          }
        });
      }
      function posFromMouse(cm, e, liberal, forRect) {
        var display = cm.display;
        if (!liberal && e_target(e).getAttribute("cm-not-content") == "true") {
          return null;
        }
        var x, y, space = display.lineSpace.getBoundingClientRect();
        try {
          x = e.clientX - space.left;
          y = e.clientY - space.top;
        } catch (e$1) {
          return null;
        }
        var coords = coordsChar(cm, x, y), line;
        if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {
          var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;
          coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));
        }
        return coords;
      }
      function findViewIndex(cm, n) {
        if (n >= cm.display.viewTo) {
          return null;
        }
        n -= cm.display.viewFrom;
        if (n < 0) {
          return null;
        }
        var view = cm.display.view;
        for (var i2 = 0; i2 < view.length; i2++) {
          n -= view[i2].size;
          if (n < 0) {
            return i2;
          }
        }
      }
      function regChange(cm, from, to, lendiff) {
        if (from == null) {
          from = cm.doc.first;
        }
        if (to == null) {
          to = cm.doc.first + cm.doc.size;
        }
        if (!lendiff) {
          lendiff = 0;
        }
        var display = cm.display;
        if (lendiff && to < display.viewTo && (display.updateLineNumbers == null || display.updateLineNumbers > from)) {
          display.updateLineNumbers = from;
        }
        cm.curOp.viewChanged = true;
        if (from >= display.viewTo) {
          if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo) {
            resetView(cm);
          }
        } else if (to <= display.viewFrom) {
          if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {
            resetView(cm);
          } else {
            display.viewFrom += lendiff;
            display.viewTo += lendiff;
          }
        } else if (from <= display.viewFrom && to >= display.viewTo) {
          resetView(cm);
        } else if (from <= display.viewFrom) {
          var cut = viewCuttingPoint(cm, to, to + lendiff, 1);
          if (cut) {
            display.view = display.view.slice(cut.index);
            display.viewFrom = cut.lineN;
            display.viewTo += lendiff;
          } else {
            resetView(cm);
          }
        } else if (to >= display.viewTo) {
          var cut$1 = viewCuttingPoint(cm, from, from, -1);
          if (cut$1) {
            display.view = display.view.slice(0, cut$1.index);
            display.viewTo = cut$1.lineN;
          } else {
            resetView(cm);
          }
        } else {
          var cutTop = viewCuttingPoint(cm, from, from, -1);
          var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);
          if (cutTop && cutBot) {
            display.view = display.view.slice(0, cutTop.index).concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN)).concat(display.view.slice(cutBot.index));
            display.viewTo += lendiff;
          } else {
            resetView(cm);
          }
        }
        var ext = display.externalMeasured;
        if (ext) {
          if (to < ext.lineN) {
            ext.lineN += lendiff;
          } else if (from < ext.lineN + ext.size) {
            display.externalMeasured = null;
          }
        }
      }
      function regLineChange(cm, line, type) {
        cm.curOp.viewChanged = true;
        var display = cm.display, ext = cm.display.externalMeasured;
        if (ext && line >= ext.lineN && line < ext.lineN + ext.size) {
          display.externalMeasured = null;
        }
        if (line < display.viewFrom || line >= display.viewTo) {
          return;
        }
        var lineView = display.view[findViewIndex(cm, line)];
        if (lineView.node == null) {
          return;
        }
        var arr = lineView.changes || (lineView.changes = []);
        if (indexOf(arr, type) == -1) {
          arr.push(type);
        }
      }
      function resetView(cm) {
        cm.display.viewFrom = cm.display.viewTo = cm.doc.first;
        cm.display.view = [];
        cm.display.viewOffset = 0;
      }
      function viewCuttingPoint(cm, oldN, newN, dir) {
        var index = findViewIndex(cm, oldN), diff, view = cm.display.view;
        if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size) {
          return { index, lineN: newN };
        }
        var n = cm.display.viewFrom;
        for (var i2 = 0; i2 < index; i2++) {
          n += view[i2].size;
        }
        if (n != oldN) {
          if (dir > 0) {
            if (index == view.length - 1) {
              return null;
            }
            diff = n + view[index].size - oldN;
            index++;
          } else {
            diff = n - oldN;
          }
          oldN += diff;
          newN += diff;
        }
        while (visualLineNo(cm.doc, newN) != newN) {
          if (index == (dir < 0 ? 0 : view.length - 1)) {
            return null;
          }
          newN += dir * view[index - (dir < 0 ? 1 : 0)].size;
          index += dir;
        }
        return { index, lineN: newN };
      }
      function adjustView(cm, from, to) {
        var display = cm.display, view = display.view;
        if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {
          display.view = buildViewArray(cm, from, to);
          display.viewFrom = from;
        } else {
          if (display.viewFrom > from) {
            display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view);
          } else if (display.viewFrom < from) {
            display.view = display.view.slice(findViewIndex(cm, from));
          }
          display.viewFrom = from;
          if (display.viewTo < to) {
            display.view = display.view.concat(buildViewArray(cm, display.viewTo, to));
          } else if (display.viewTo > to) {
            display.view = display.view.slice(0, findViewIndex(cm, to));
          }
        }
        display.viewTo = to;
      }
      function countDirtyView(cm) {
        var view = cm.display.view, dirty = 0;
        for (var i2 = 0; i2 < view.length; i2++) {
          var lineView = view[i2];
          if (!lineView.hidden && (!lineView.node || lineView.changes)) {
            ++dirty;
          }
        }
        return dirty;
      }
      function updateSelection(cm) {
        cm.display.input.showSelection(cm.display.input.prepareSelection());
      }
      function prepareSelection(cm, primary) {
        if (primary === void 0) primary = true;
        var doc2 = cm.doc, result = {};
        var curFragment = result.cursors = document.createDocumentFragment();
        var selFragment = result.selection = document.createDocumentFragment();
        var customCursor = cm.options.$customCursor;
        if (customCursor) {
          primary = true;
        }
        for (var i2 = 0; i2 < doc2.sel.ranges.length; i2++) {
          if (!primary && i2 == doc2.sel.primIndex) {
            continue;
          }
          var range2 = doc2.sel.ranges[i2];
          if (range2.from().line >= cm.display.viewTo || range2.to().line < cm.display.viewFrom) {
            continue;
          }
          var collapsed = range2.empty();
          if (customCursor) {
            var head = customCursor(cm, range2);
            if (head) {
              drawSelectionCursor(cm, head, curFragment);
            }
          } else if (collapsed || cm.options.showCursorWhenSelecting) {
            drawSelectionCursor(cm, range2.head, curFragment);
          }
          if (!collapsed) {
            drawSelectionRange(cm, range2, selFragment);
          }
        }
        return result;
      }
      function drawSelectionCursor(cm, head, output) {
        var pos = cursorCoords(cm, head, "div", null, null, !cm.options.singleCursorHeightPerLine);
        var cursor = output.appendChild(elt("div", " ", "CodeMirror-cursor"));
        cursor.style.left = pos.left + "px";
        cursor.style.top = pos.top + "px";
        cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + "px";
        if (/\bcm-fat-cursor\b/.test(cm.getWrapperElement().className)) {
          var charPos = charCoords(cm, head, "div", null, null);
          var width = charPos.right - charPos.left;
          cursor.style.width = (width > 0 ? width : cm.defaultCharWidth()) + "px";
        }
        if (pos.other) {
          var otherCursor = output.appendChild(elt("div", " ", "CodeMirror-cursor CodeMirror-secondarycursor"));
          otherCursor.style.display = "";
          otherCursor.style.left = pos.other.left + "px";
          otherCursor.style.top = pos.other.top + "px";
          otherCursor.style.height = (pos.other.bottom - pos.other.top) * 0.85 + "px";
        }
      }
      function cmpCoords(a, b) {
        return a.top - b.top || a.left - b.left;
      }
      function drawSelectionRange(cm, range2, output) {
        var display = cm.display, doc2 = cm.doc;
        var fragment = document.createDocumentFragment();
        var padding = paddingH(cm.display), leftSide = padding.left;
        var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;
        var docLTR = doc2.direction == "ltr";
        function add(left, top, width, bottom) {
          if (top < 0) {
            top = 0;
          }
          top = Math.round(top);
          bottom = Math.round(bottom);
          fragment.appendChild(elt("div", null, "CodeMirror-selected", "position: absolute; left: " + left + "px;\n                             top: " + top + "px; width: " + (width == null ? rightSide - left : width) + "px;\n                             height: " + (bottom - top) + "px"));
        }
        function drawForLine(line, fromArg, toArg) {
          var lineObj = getLine(doc2, line);
          var lineLen = lineObj.text.length;
          var start, end;
          function coords(ch, bias) {
            return charCoords(cm, Pos(line, ch), "div", lineObj, bias);
          }
          function wrapX(pos, dir, side) {
            var extent = wrappedLineExtentChar(cm, lineObj, null, pos);
            var prop2 = dir == "ltr" == (side == "after") ? "left" : "right";
            var ch = side == "after" ? extent.begin : extent.end - (/\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);
            return coords(ch, prop2)[prop2];
          }
          var order = getOrder(lineObj, doc2.direction);
          iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function(from, to, dir, i2) {
            var ltr = dir == "ltr";
            var fromPos = coords(from, ltr ? "left" : "right");
            var toPos = coords(to - 1, ltr ? "right" : "left");
            var openStart = fromArg == null && from == 0, openEnd = toArg == null && to == lineLen;
            var first = i2 == 0, last = !order || i2 == order.length - 1;
            if (toPos.top - fromPos.top <= 3) {
              var openLeft = (docLTR ? openStart : openEnd) && first;
              var openRight = (docLTR ? openEnd : openStart) && last;
              var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;
              var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;
              add(left, fromPos.top, right - left, fromPos.bottom);
            } else {
              var topLeft, topRight, botLeft, botRight;
              if (ltr) {
                topLeft = docLTR && openStart && first ? leftSide : fromPos.left;
                topRight = docLTR ? rightSide : wrapX(from, dir, "before");
                botLeft = docLTR ? leftSide : wrapX(to, dir, "after");
                botRight = docLTR && openEnd && last ? rightSide : toPos.right;
              } else {
                topLeft = !docLTR ? leftSide : wrapX(from, dir, "before");
                topRight = !docLTR && openStart && first ? rightSide : fromPos.right;
                botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;
                botRight = !docLTR ? rightSide : wrapX(to, dir, "after");
              }
              add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);
              if (fromPos.bottom < toPos.top) {
                add(leftSide, fromPos.bottom, null, toPos.top);
              }
              add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);
            }
            if (!start || cmpCoords(fromPos, start) < 0) {
              start = fromPos;
            }
            if (cmpCoords(toPos, start) < 0) {
              start = toPos;
            }
            if (!end || cmpCoords(fromPos, end) < 0) {
              end = fromPos;
            }
            if (cmpCoords(toPos, end) < 0) {
              end = toPos;
            }
          });
          return { start, end };
        }
        var sFrom = range2.from(), sTo = range2.to();
        if (sFrom.line == sTo.line) {
          drawForLine(sFrom.line, sFrom.ch, sTo.ch);
        } else {
          var fromLine = getLine(doc2, sFrom.line), toLine = getLine(doc2, sTo.line);
          var singleVLine = visualLine(fromLine) == visualLine(toLine);
          var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;
          var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;
          if (singleVLine) {
            if (leftEnd.top < rightStart.top - 2) {
              add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);
              add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);
            } else {
              add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);
            }
          }
          if (leftEnd.bottom < rightStart.top) {
            add(leftSide, leftEnd.bottom, null, rightStart.top);
          }
        }
        output.appendChild(fragment);
      }
      function restartBlink(cm) {
        if (!cm.state.focused) {
          return;
        }
        var display = cm.display;
        clearInterval(display.blinker);
        var on2 = true;
        display.cursorDiv.style.visibility = "";
        if (cm.options.cursorBlinkRate > 0) {
          display.blinker = setInterval(function() {
            if (!cm.hasFocus()) {
              onBlur(cm);
            }
            display.cursorDiv.style.visibility = (on2 = !on2) ? "" : "hidden";
          }, cm.options.cursorBlinkRate);
        } else if (cm.options.cursorBlinkRate < 0) {
          display.cursorDiv.style.visibility = "hidden";
        }
      }
      function ensureFocus(cm) {
        if (!cm.hasFocus()) {
          cm.display.input.focus();
          if (!cm.state.focused) {
            onFocus(cm);
          }
        }
      }
      function delayBlurEvent(cm) {
        cm.state.delayingBlurEvent = true;
        setTimeout(function() {
          if (cm.state.delayingBlurEvent) {
            cm.state.delayingBlurEvent = false;
            if (cm.state.focused) {
              onBlur(cm);
            }
          }
        }, 100);
      }
      function onFocus(cm, e) {
        if (cm.state.delayingBlurEvent && !cm.state.draggingText) {
          cm.state.delayingBlurEvent = false;
        }
        if (cm.options.readOnly == "nocursor") {
          return;
        }
        if (!cm.state.focused) {
          signal(cm, "focus", cm, e);
          cm.state.focused = true;
          addClass(cm.display.wrapper, "CodeMirror-focused");
          if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {
            cm.display.input.reset();
            if (webkit) {
              setTimeout(function() {
                return cm.display.input.reset(true);
              }, 20);
            }
          }
          cm.display.input.receivedFocus();
        }
        restartBlink(cm);
      }
      function onBlur(cm, e) {
        if (cm.state.delayingBlurEvent) {
          return;
        }
        if (cm.state.focused) {
          signal(cm, "blur", cm, e);
          cm.state.focused = false;
          rmClass(cm.display.wrapper, "CodeMirror-focused");
        }
        clearInterval(cm.display.blinker);
        setTimeout(function() {
          if (!cm.state.focused) {
            cm.display.shift = false;
          }
        }, 150);
      }
      function updateHeightsInViewport(cm) {
        var display = cm.display;
        var prevBottom = display.lineDiv.offsetTop;
        var viewTop = Math.max(0, display.scroller.getBoundingClientRect().top);
        var oldHeight = display.lineDiv.getBoundingClientRect().top;
        var mustScroll = 0;
        for (var i2 = 0; i2 < display.view.length; i2++) {
          var cur = display.view[i2], wrapping = cm.options.lineWrapping;
          var height = void 0, width = 0;
          if (cur.hidden) {
            continue;
          }
          oldHeight += cur.line.height;
          if (ie && ie_version < 8) {
            var bot = cur.node.offsetTop + cur.node.offsetHeight;
            height = bot - prevBottom;
            prevBottom = bot;
          } else {
            var box = cur.node.getBoundingClientRect();
            height = box.bottom - box.top;
            if (!wrapping && cur.text.firstChild) {
              width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1;
            }
          }
          var diff = cur.line.height - height;
          if (diff > 5e-3 || diff < -5e-3) {
            if (oldHeight < viewTop) {
              mustScroll -= diff;
            }
            updateLineHeight(cur.line, height);
            updateWidgetHeight(cur.line);
            if (cur.rest) {
              for (var j = 0; j < cur.rest.length; j++) {
                updateWidgetHeight(cur.rest[j]);
              }
            }
          }
          if (width > cm.display.sizerWidth) {
            var chWidth = Math.ceil(width / charWidth(cm.display));
            if (chWidth > cm.display.maxLineLength) {
              cm.display.maxLineLength = chWidth;
              cm.display.maxLine = cur.line;
              cm.display.maxLineChanged = true;
            }
          }
        }
        if (Math.abs(mustScroll) > 2) {
          display.scroller.scrollTop += mustScroll;
        }
      }
      function updateWidgetHeight(line) {
        if (line.widgets) {
          for (var i2 = 0; i2 < line.widgets.length; ++i2) {
            var w = line.widgets[i2], parent = w.node.parentNode;
            if (parent) {
              w.height = parent.offsetHeight;
            }
          }
        }
      }
      function visibleLines(display, doc2, viewport) {
        var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;
        top = Math.floor(top - paddingTop(display));
        var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;
        var from = lineAtHeight(doc2, top), to = lineAtHeight(doc2, bottom);
        if (viewport && viewport.ensure) {
          var ensureFrom = viewport.ensure.from.line, ensureTo = viewport.ensure.to.line;
          if (ensureFrom < from) {
            from = ensureFrom;
            to = lineAtHeight(doc2, heightAtLine(getLine(doc2, ensureFrom)) + display.wrapper.clientHeight);
          } else if (Math.min(ensureTo, doc2.lastLine()) >= to) {
            from = lineAtHeight(doc2, heightAtLine(getLine(doc2, ensureTo)) - display.wrapper.clientHeight);
            to = ensureTo;
          }
        }
        return { from, to: Math.max(to, from + 1) };
      }
      function maybeScrollWindow(cm, rect) {
        if (signalDOMEvent(cm, "scrollCursorIntoView")) {
          return;
        }
        var display = cm.display, box = display.sizer.getBoundingClientRect(), doScroll = null;
        var doc2 = display.wrapper.ownerDocument;
        if (rect.top + box.top < 0) {
          doScroll = true;
        } else if (rect.bottom + box.top > (doc2.defaultView.innerHeight || doc2.documentElement.clientHeight)) {
          doScroll = false;
        }
        if (doScroll != null && !phantom) {
          var scrollNode = elt("div", "​", null, "position: absolute;\n                         top: " + (rect.top - display.viewOffset - paddingTop(cm.display)) + "px;\n                         height: " + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + "px;\n                         left: " + rect.left + "px; width: " + Math.max(2, rect.right - rect.left) + "px;");
          cm.display.lineSpace.appendChild(scrollNode);
          scrollNode.scrollIntoView(doScroll);
          cm.display.lineSpace.removeChild(scrollNode);
        }
      }
      function scrollPosIntoView(cm, pos, end, margin) {
        if (margin == null) {
          margin = 0;
        }
        var rect;
        if (!cm.options.lineWrapping && pos == end) {
          end = pos.sticky == "before" ? Pos(pos.line, pos.ch + 1, "before") : pos;
          pos = pos.ch ? Pos(pos.line, pos.sticky == "before" ? pos.ch - 1 : pos.ch, "after") : pos;
        }
        for (var limit = 0; limit < 5; limit++) {
          var changed = false;
          var coords = cursorCoords(cm, pos);
          var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);
          rect = {
            left: Math.min(coords.left, endCoords.left),
            top: Math.min(coords.top, endCoords.top) - margin,
            right: Math.max(coords.left, endCoords.left),
            bottom: Math.max(coords.bottom, endCoords.bottom) + margin
          };
          var scrollPos = calculateScrollPos(cm, rect);
          var startTop = cm.doc.scrollTop, startLeft = cm.doc.scrollLeft;
          if (scrollPos.scrollTop != null) {
            updateScrollTop(cm, scrollPos.scrollTop);
            if (Math.abs(cm.doc.scrollTop - startTop) > 1) {
              changed = true;
            }
          }
          if (scrollPos.scrollLeft != null) {
            setScrollLeft(cm, scrollPos.scrollLeft);
            if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) {
              changed = true;
            }
          }
          if (!changed) {
            break;
          }
        }
        return rect;
      }
      function scrollIntoView(cm, rect) {
        var scrollPos = calculateScrollPos(cm, rect);
        if (scrollPos.scrollTop != null) {
          updateScrollTop(cm, scrollPos.scrollTop);
        }
        if (scrollPos.scrollLeft != null) {
          setScrollLeft(cm, scrollPos.scrollLeft);
        }
      }
      function calculateScrollPos(cm, rect) {
        var display = cm.display, snapMargin = textHeight(cm.display);
        if (rect.top < 0) {
          rect.top = 0;
        }
        var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;
        var screen2 = displayHeight(cm), result = {};
        if (rect.bottom - rect.top > screen2) {
          rect.bottom = rect.top + screen2;
        }
        var docBottom = cm.doc.height + paddingVert(display);
        var atTop = rect.top < snapMargin, atBottom = rect.bottom > docBottom - snapMargin;
        if (rect.top < screentop) {
          result.scrollTop = atTop ? 0 : rect.top;
        } else if (rect.bottom > screentop + screen2) {
          var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen2);
          if (newTop != screentop) {
            result.scrollTop = newTop;
          }
        }
        var gutterSpace = cm.options.fixedGutter ? 0 : display.gutters.offsetWidth;
        var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft - gutterSpace;
        var screenw = displayWidth(cm) - display.gutters.offsetWidth;
        var tooWide = rect.right - rect.left > screenw;
        if (tooWide) {
          rect.right = rect.left + screenw;
        }
        if (rect.left < 10) {
          result.scrollLeft = 0;
        } else if (rect.left < screenleft) {
          result.scrollLeft = Math.max(0, rect.left + gutterSpace - (tooWide ? 0 : 10));
        } else if (rect.right > screenw + screenleft - 3) {
          result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw;
        }
        return result;
      }
      function addToScrollTop(cm, top) {
        if (top == null) {
          return;
        }
        resolveScrollToPos(cm);
        cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;
      }
      function ensureCursorVisible(cm) {
        resolveScrollToPos(cm);
        var cur = cm.getCursor();
        cm.curOp.scrollToPos = { from: cur, to: cur, margin: cm.options.cursorScrollMargin };
      }
      function scrollToCoords(cm, x, y) {
        if (x != null || y != null) {
          resolveScrollToPos(cm);
        }
        if (x != null) {
          cm.curOp.scrollLeft = x;
        }
        if (y != null) {
          cm.curOp.scrollTop = y;
        }
      }
      function scrollToRange(cm, range2) {
        resolveScrollToPos(cm);
        cm.curOp.scrollToPos = range2;
      }
      function resolveScrollToPos(cm) {
        var range2 = cm.curOp.scrollToPos;
        if (range2) {
          cm.curOp.scrollToPos = null;
          var from = estimateCoords(cm, range2.from), to = estimateCoords(cm, range2.to);
          scrollToCoordsRange(cm, from, to, range2.margin);
        }
      }
      function scrollToCoordsRange(cm, from, to, margin) {
        var sPos = calculateScrollPos(cm, {
          left: Math.min(from.left, to.left),
          top: Math.min(from.top, to.top) - margin,
          right: Math.max(from.right, to.right),
          bottom: Math.max(from.bottom, to.bottom) + margin
        });
        scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);
      }
      function updateScrollTop(cm, val) {
        if (Math.abs(cm.doc.scrollTop - val) < 2) {
          return;
        }
        if (!gecko) {
          updateDisplaySimple(cm, { top: val });
        }
        setScrollTop(cm, val, true);
        if (gecko) {
          updateDisplaySimple(cm);
        }
        startWorker(cm, 100);
      }
      function setScrollTop(cm, val, forceScroll) {
        val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));
        if (cm.display.scroller.scrollTop == val && !forceScroll) {
          return;
        }
        cm.doc.scrollTop = val;
        cm.display.scrollbars.setScrollTop(val);
        if (cm.display.scroller.scrollTop != val) {
          cm.display.scroller.scrollTop = val;
        }
      }
      function setScrollLeft(cm, val, isScroller, forceScroll) {
        val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));
        if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) {
          return;
        }
        cm.doc.scrollLeft = val;
        alignHorizontally(cm);
        if (cm.display.scroller.scrollLeft != val) {
          cm.display.scroller.scrollLeft = val;
        }
        cm.display.scrollbars.setScrollLeft(val);
      }
      function measureForScrollbars(cm) {
        var d = cm.display, gutterW = d.gutters.offsetWidth;
        var docH = Math.round(cm.doc.height + paddingVert(cm.display));
        return {
          clientHeight: d.scroller.clientHeight,
          viewHeight: d.wrapper.clientHeight,
          scrollWidth: d.scroller.scrollWidth,
          clientWidth: d.scroller.clientWidth,
          viewWidth: d.wrapper.clientWidth,
          barLeft: cm.options.fixedGutter ? gutterW : 0,
          docHeight: docH,
          scrollHeight: docH + scrollGap(cm) + d.barHeight,
          nativeBarWidth: d.nativeBarWidth,
          gutterWidth: gutterW
        };
      }
      var NativeScrollbars = function(place, scroll, cm) {
        this.cm = cm;
        var vert = this.vert = elt("div", [elt("div", null, null, "min-width: 1px")], "CodeMirror-vscrollbar");
        var horiz = this.horiz = elt("div", [elt("div", null, null, "height: 100%; min-height: 1px")], "CodeMirror-hscrollbar");
        vert.tabIndex = horiz.tabIndex = -1;
        place(vert);
        place(horiz);
        on(vert, "scroll", function() {
          if (vert.clientHeight) {
            scroll(vert.scrollTop, "vertical");
          }
        });
        on(horiz, "scroll", function() {
          if (horiz.clientWidth) {
            scroll(horiz.scrollLeft, "horizontal");
          }
        });
        this.checkedZeroWidth = false;
        if (ie && ie_version < 8) {
          this.horiz.style.minHeight = this.vert.style.minWidth = "18px";
        }
      };
      NativeScrollbars.prototype.update = function(measure) {
        var needsH = measure.scrollWidth > measure.clientWidth + 1;
        var needsV = measure.scrollHeight > measure.clientHeight + 1;
        var sWidth = measure.nativeBarWidth;
        if (needsV) {
          this.vert.style.display = "block";
          this.vert.style.bottom = needsH ? sWidth + "px" : "0";
          var totalHeight = measure.viewHeight - (needsH ? sWidth : 0);
          this.vert.firstChild.style.height = Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + "px";
        } else {
          this.vert.scrollTop = 0;
          this.vert.style.display = "";
          this.vert.firstChild.style.height = "0";
        }
        if (needsH) {
          this.horiz.style.display = "block";
          this.horiz.style.right = needsV ? sWidth + "px" : "0";
          this.horiz.style.left = measure.barLeft + "px";
          var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);
          this.horiz.firstChild.style.width = Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + "px";
        } else {
          this.horiz.style.display = "";
          this.horiz.firstChild.style.width = "0";
        }
        if (!this.checkedZeroWidth && measure.clientHeight > 0) {
          if (sWidth == 0) {
            this.zeroWidthHack();
          }
          this.checkedZeroWidth = true;
        }
        return { right: needsV ? sWidth : 0, bottom: needsH ? sWidth : 0 };
      };
      NativeScrollbars.prototype.setScrollLeft = function(pos) {
        if (this.horiz.scrollLeft != pos) {
          this.horiz.scrollLeft = pos;
        }
        if (this.disableHoriz) {
          this.enableZeroWidthBar(this.horiz, this.disableHoriz, "horiz");
        }
      };
      NativeScrollbars.prototype.setScrollTop = function(pos) {
        if (this.vert.scrollTop != pos) {
          this.vert.scrollTop = pos;
        }
        if (this.disableVert) {
          this.enableZeroWidthBar(this.vert, this.disableVert, "vert");
        }
      };
      NativeScrollbars.prototype.zeroWidthHack = function() {
        var w = mac && !mac_geMountainLion ? "12px" : "18px";
        this.horiz.style.height = this.vert.style.width = w;
        this.horiz.style.visibility = this.vert.style.visibility = "hidden";
        this.disableHoriz = new Delayed();
        this.disableVert = new Delayed();
      };
      NativeScrollbars.prototype.enableZeroWidthBar = function(bar, delay, type) {
        bar.style.visibility = "";
        function maybeDisable() {
          var box = bar.getBoundingClientRect();
          var elt2 = type == "vert" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2) : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);
          if (elt2 != bar) {
            bar.style.visibility = "hidden";
          } else {
            delay.set(1e3, maybeDisable);
          }
        }
        delay.set(1e3, maybeDisable);
      };
      NativeScrollbars.prototype.clear = function() {
        var parent = this.horiz.parentNode;
        parent.removeChild(this.horiz);
        parent.removeChild(this.vert);
      };
      var NullScrollbars = function() {
      };
      NullScrollbars.prototype.update = function() {
        return { bottom: 0, right: 0 };
      };
      NullScrollbars.prototype.setScrollLeft = function() {
      };
      NullScrollbars.prototype.setScrollTop = function() {
      };
      NullScrollbars.prototype.clear = function() {
      };
      function updateScrollbars(cm, measure) {
        if (!measure) {
          measure = measureForScrollbars(cm);
        }
        var startWidth = cm.display.barWidth, startHeight = cm.display.barHeight;
        updateScrollbarsInner(cm, measure);
        for (var i2 = 0; i2 < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i2++) {
          if (startWidth != cm.display.barWidth && cm.options.lineWrapping) {
            updateHeightsInViewport(cm);
          }
          updateScrollbarsInner(cm, measureForScrollbars(cm));
          startWidth = cm.display.barWidth;
          startHeight = cm.display.barHeight;
        }
      }
      function updateScrollbarsInner(cm, measure) {
        var d = cm.display;
        var sizes = d.scrollbars.update(measure);
        d.sizer.style.paddingRight = (d.barWidth = sizes.right) + "px";
        d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + "px";
        d.heightForcer.style.borderBottom = sizes.bottom + "px solid transparent";
        if (sizes.right && sizes.bottom) {
          d.scrollbarFiller.style.display = "block";
          d.scrollbarFiller.style.height = sizes.bottom + "px";
          d.scrollbarFiller.style.width = sizes.right + "px";
        } else {
          d.scrollbarFiller.style.display = "";
        }
        if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {
          d.gutterFiller.style.display = "block";
          d.gutterFiller.style.height = sizes.bottom + "px";
          d.gutterFiller.style.width = measure.gutterWidth + "px";
        } else {
          d.gutterFiller.style.display = "";
        }
      }
      var scrollbarModel = { "native": NativeScrollbars, "null": NullScrollbars };
      function initScrollbars(cm) {
        if (cm.display.scrollbars) {
          cm.display.scrollbars.clear();
          if (cm.display.scrollbars.addClass) {
            rmClass(cm.display.wrapper, cm.display.scrollbars.addClass);
          }
        }
        cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function(node) {
          cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller);
          on(node, "mousedown", function() {
            if (cm.state.focused) {
              setTimeout(function() {
                return cm.display.input.focus();
              }, 0);
            }
          });
          node.setAttribute("cm-not-content", "true");
        }, function(pos, axis) {
          if (axis == "horizontal") {
            setScrollLeft(cm, pos);
          } else {
            updateScrollTop(cm, pos);
          }
        }, cm);
        if (cm.display.scrollbars.addClass) {
          addClass(cm.display.wrapper, cm.display.scrollbars.addClass);
        }
      }
      var nextOpId = 0;
      function startOperation(cm) {
        cm.curOp = {
          cm,
          viewChanged: false,
          // Flag that indicates that lines might need to be redrawn
          startHeight: cm.doc.height,
          // Used to detect need to update scrollbar
          forceUpdate: false,
          // Used to force a redraw
          updateInput: 0,
          // Whether to reset the input textarea
          typing: false,
          // Whether this reset should be careful to leave existing text (for compositing)
          changeObjs: null,
          // Accumulated changes, for firing change events
          cursorActivityHandlers: null,
          // Set of handlers to fire cursorActivity on
          cursorActivityCalled: 0,
          // Tracks which cursorActivity handlers have been called already
          selectionChanged: false,
          // Whether the selection needs to be redrawn
          updateMaxLine: false,
          // Set when the widest line needs to be determined anew
          scrollLeft: null,
          scrollTop: null,
          // Intermediate scroll position, not pushed to DOM yet
          scrollToPos: null,
          // Used to scroll to a specific position
          focus: false,
          id: ++nextOpId,
          // Unique ID
          markArrays: null
          // Used by addMarkedSpan
        };
        pushOperation(cm.curOp);
      }
      function endOperation(cm) {
        var op = cm.curOp;
        if (op) {
          finishOperation(op, function(group) {
            for (var i2 = 0; i2 < group.ops.length; i2++) {
              group.ops[i2].cm.curOp = null;
            }
            endOperations(group);
          });
        }
      }
      function endOperations(group) {
        var ops = group.ops;
        for (var i2 = 0; i2 < ops.length; i2++) {
          endOperation_R1(ops[i2]);
        }
        for (var i$12 = 0; i$12 < ops.length; i$12++) {
          endOperation_W1(ops[i$12]);
        }
        for (var i$22 = 0; i$22 < ops.length; i$22++) {
          endOperation_R2(ops[i$22]);
        }
        for (var i$3 = 0; i$3 < ops.length; i$3++) {
          endOperation_W2(ops[i$3]);
        }
        for (var i$4 = 0; i$4 < ops.length; i$4++) {
          endOperation_finish(ops[i$4]);
        }
      }
      function endOperation_R1(op) {
        var cm = op.cm, display = cm.display;
        maybeClipScrollbars(cm);
        if (op.updateMaxLine) {
          findMaxLine(cm);
        }
        op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null || op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom || op.scrollToPos.to.line >= display.viewTo) || display.maxLineChanged && cm.options.lineWrapping;
        op.update = op.mustUpdate && new DisplayUpdate(cm, op.mustUpdate && { top: op.scrollTop, ensure: op.scrollToPos }, op.forceUpdate);
      }
      function endOperation_W1(op) {
        op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);
      }
      function endOperation_R2(op) {
        var cm = op.cm, display = cm.display;
        if (op.updatedDisplay) {
          updateHeightsInViewport(cm);
        }
        op.barMeasure = measureForScrollbars(cm);
        if (display.maxLineChanged && !cm.options.lineWrapping) {
          op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;
          cm.display.sizerWidth = op.adjustWidthTo;
          op.barMeasure.scrollWidth = Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);
          op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));
        }
        if (op.updatedDisplay || op.selectionChanged) {
          op.preparedSelection = display.input.prepareSelection();
        }
      }
      function endOperation_W2(op) {
        var cm = op.cm;
        if (op.adjustWidthTo != null) {
          cm.display.sizer.style.minWidth = op.adjustWidthTo + "px";
          if (op.maxScrollLeft < cm.doc.scrollLeft) {
            setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true);
          }
          cm.display.maxLineChanged = false;
        }
        var takeFocus = op.focus && op.focus == activeElt(root(cm));
        if (op.preparedSelection) {
          cm.display.input.showSelection(op.preparedSelection, takeFocus);
        }
        if (op.updatedDisplay || op.startHeight != cm.doc.height) {
          updateScrollbars(cm, op.barMeasure);
        }
        if (op.updatedDisplay) {
          setDocumentHeight(cm, op.barMeasure);
        }
        if (op.selectionChanged) {
          restartBlink(cm);
        }
        if (cm.state.focused && op.updateInput) {
          cm.display.input.reset(op.typing);
        }
        if (takeFocus) {
          ensureFocus(op.cm);
        }
      }
      function endOperation_finish(op) {
        var cm = op.cm, display = cm.display, doc2 = cm.doc;
        if (op.updatedDisplay) {
          postUpdateDisplay(cm, op.update);
        }
        if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos)) {
          display.wheelStartX = display.wheelStartY = null;
        }
        if (op.scrollTop != null) {
          setScrollTop(cm, op.scrollTop, op.forceScroll);
        }
        if (op.scrollLeft != null) {
          setScrollLeft(cm, op.scrollLeft, true, true);
        }
        if (op.scrollToPos) {
          var rect = scrollPosIntoView(
            cm,
            clipPos(doc2, op.scrollToPos.from),
            clipPos(doc2, op.scrollToPos.to),
            op.scrollToPos.margin
          );
          maybeScrollWindow(cm, rect);
        }
        var hidden = op.maybeHiddenMarkers, unhidden = op.maybeUnhiddenMarkers;
        if (hidden) {
          for (var i2 = 0; i2 < hidden.length; ++i2) {
            if (!hidden[i2].lines.length) {
              signal(hidden[i2], "hide");
            }
          }
        }
        if (unhidden) {
          for (var i$12 = 0; i$12 < unhidden.length; ++i$12) {
            if (unhidden[i$12].lines.length) {
              signal(unhidden[i$12], "unhide");
            }
          }
        }
        if (display.wrapper.offsetHeight) {
          doc2.scrollTop = cm.display.scroller.scrollTop;
        }
        if (op.changeObjs) {
          signal(cm, "changes", cm, op.changeObjs);
        }
        if (op.update) {
          op.update.finish();
        }
      }
      function runInOp(cm, f) {
        if (cm.curOp) {
          return f();
        }
        startOperation(cm);
        try {
          return f();
        } finally {
          endOperation(cm);
        }
      }
      function operation(cm, f) {
        return function() {
          if (cm.curOp) {
            return f.apply(cm, arguments);
          }
          startOperation(cm);
          try {
            return f.apply(cm, arguments);
          } finally {
            endOperation(cm);
          }
        };
      }
      function methodOp(f) {
        return function() {
          if (this.curOp) {
            return f.apply(this, arguments);
          }
          startOperation(this);
          try {
            return f.apply(this, arguments);
          } finally {
            endOperation(this);
          }
        };
      }
      function docMethodOp(f) {
        return function() {
          var cm = this.cm;
          if (!cm || cm.curOp) {
            return f.apply(this, arguments);
          }
          startOperation(cm);
          try {
            return f.apply(this, arguments);
          } finally {
            endOperation(cm);
          }
        };
      }
      function startWorker(cm, time) {
        if (cm.doc.highlightFrontier < cm.display.viewTo) {
          cm.state.highlight.set(time, bind(highlightWorker, cm));
        }
      }
      function highlightWorker(cm) {
        var doc2 = cm.doc;
        if (doc2.highlightFrontier >= cm.display.viewTo) {
          return;
        }
        var end = +/* @__PURE__ */ new Date() + cm.options.workTime;
        var context = getContextBefore(cm, doc2.highlightFrontier);
        var changedLines = [];
        doc2.iter(context.line, Math.min(doc2.first + doc2.size, cm.display.viewTo + 500), function(line) {
          if (context.line >= cm.display.viewFrom) {
            var oldStyles = line.styles;
            var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc2.mode, context.state) : null;
            var highlighted = highlightLine(cm, line, context, true);
            if (resetState) {
              context.state = resetState;
            }
            line.styles = highlighted.styles;
            var oldCls = line.styleClasses, newCls = highlighted.classes;
            if (newCls) {
              line.styleClasses = newCls;
            } else if (oldCls) {
              line.styleClasses = null;
            }
            var ischange = !oldStyles || oldStyles.length != line.styles.length || oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);
            for (var i2 = 0; !ischange && i2 < oldStyles.length; ++i2) {
              ischange = oldStyles[i2] != line.styles[i2];
            }
            if (ischange) {
              changedLines.push(context.line);
            }
            line.stateAfter = context.save();
            context.nextLine();
          } else {
            if (line.text.length <= cm.options.maxHighlightLength) {
              processLine(cm, line.text, context);
            }
            line.stateAfter = context.line % 5 == 0 ? context.save() : null;
            context.nextLine();
          }
          if (+/* @__PURE__ */ new Date() > end) {
            startWorker(cm, cm.options.workDelay);
            return true;
          }
        });
        doc2.highlightFrontier = context.line;
        doc2.modeFrontier = Math.max(doc2.modeFrontier, context.line);
        if (changedLines.length) {
          runInOp(cm, function() {
            for (var i2 = 0; i2 < changedLines.length; i2++) {
              regLineChange(cm, changedLines[i2], "text");
            }
          });
        }
      }
      var DisplayUpdate = function(cm, viewport, force) {
        var display = cm.display;
        this.viewport = viewport;
        this.visible = visibleLines(display, cm.doc, viewport);
        this.editorIsHidden = !display.wrapper.offsetWidth;
        this.wrapperHeight = display.wrapper.clientHeight;
        this.wrapperWidth = display.wrapper.clientWidth;
        this.oldDisplayWidth = displayWidth(cm);
        this.force = force;
        this.dims = getDimensions(cm);
        this.events = [];
      };
      DisplayUpdate.prototype.signal = function(emitter, type) {
        if (hasHandler(emitter, type)) {
          this.events.push(arguments);
        }
      };
      DisplayUpdate.prototype.finish = function() {
        for (var i2 = 0; i2 < this.events.length; i2++) {
          signal.apply(null, this.events[i2]);
        }
      };
      function maybeClipScrollbars(cm) {
        var display = cm.display;
        if (!display.scrollbarsClipped && display.scroller.offsetWidth) {
          display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;
          display.heightForcer.style.height = scrollGap(cm) + "px";
          display.sizer.style.marginBottom = -display.nativeBarWidth + "px";
          display.sizer.style.borderRightWidth = scrollGap(cm) + "px";
          display.scrollbarsClipped = true;
        }
      }
      function selectionSnapshot(cm) {
        if (cm.hasFocus()) {
          return null;
        }
        var active = activeElt(root(cm));
        if (!active || !contains(cm.display.lineDiv, active)) {
          return null;
        }
        var result = { activeElt: active };
        if (window.getSelection) {
          var sel = win(cm).getSelection();
          if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {
            result.anchorNode = sel.anchorNode;
            result.anchorOffset = sel.anchorOffset;
            result.focusNode = sel.focusNode;
            result.focusOffset = sel.focusOffset;
          }
        }
        return result;
      }
      function restoreSelection(snapshot) {
        if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt(rootNode(snapshot.activeElt))) {
          return;
        }
        snapshot.activeElt.focus();
        if (!/^(INPUT|TEXTAREA)$/.test(snapshot.activeElt.nodeName) && snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {
          var doc2 = snapshot.activeElt.ownerDocument;
          var sel = doc2.defaultView.getSelection(), range2 = doc2.createRange();
          range2.setEnd(snapshot.anchorNode, snapshot.anchorOffset);
          range2.collapse(false);
          sel.removeAllRanges();
          sel.addRange(range2);
          sel.extend(snapshot.focusNode, snapshot.focusOffset);
        }
      }
      function updateDisplayIfNeeded(cm, update) {
        var display = cm.display, doc2 = cm.doc;
        if (update.editorIsHidden) {
          resetView(cm);
          return false;
        }
        if (!update.force && update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo && (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) && display.renderedView == display.view && countDirtyView(cm) == 0) {
          return false;
        }
        if (maybeUpdateLineNumberWidth(cm)) {
          resetView(cm);
          update.dims = getDimensions(cm);
        }
        var end = doc2.first + doc2.size;
        var from = Math.max(update.visible.from - cm.options.viewportMargin, doc2.first);
        var to = Math.min(end, update.visible.to + cm.options.viewportMargin);
        if (display.viewFrom < from && from - display.viewFrom < 20) {
          from = Math.max(doc2.first, display.viewFrom);
        }
        if (display.viewTo > to && display.viewTo - to < 20) {
          to = Math.min(end, display.viewTo);
        }
        if (sawCollapsedSpans) {
          from = visualLineNo(cm.doc, from);
          to = visualLineEndNo(cm.doc, to);
        }
        var different = from != display.viewFrom || to != display.viewTo || display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;
        adjustView(cm, from, to);
        display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom));
        cm.display.mover.style.top = display.viewOffset + "px";
        var toUpdate = countDirtyView(cm);
        if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view && (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo)) {
          return false;
        }
        var selSnapshot = selectionSnapshot(cm);
        if (toUpdate > 4) {
          display.lineDiv.style.display = "none";
        }
        patchDisplay(cm, display.updateLineNumbers, update.dims);
        if (toUpdate > 4) {
          display.lineDiv.style.display = "";
        }
        display.renderedView = display.view;
        restoreSelection(selSnapshot);
        removeChildren(display.cursorDiv);
        removeChildren(display.selectionDiv);
        display.gutters.style.height = display.sizer.style.minHeight = 0;
        if (different) {
          display.lastWrapHeight = update.wrapperHeight;
          display.lastWrapWidth = update.wrapperWidth;
          startWorker(cm, 400);
        }
        display.updateLineNumbers = null;
        return true;
      }
      function postUpdateDisplay(cm, update) {
        var viewport = update.viewport;
        for (var first = true; ; first = false) {
          if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {
            if (viewport && viewport.top != null) {
              viewport = { top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top) };
            }
            update.visible = visibleLines(cm.display, cm.doc, viewport);
            if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo) {
              break;
            }
          } else if (first) {
            update.visible = visibleLines(cm.display, cm.doc, viewport);
          }
          if (!updateDisplayIfNeeded(cm, update)) {
            break;
          }
          updateHeightsInViewport(cm);
          var barMeasure = measureForScrollbars(cm);
          updateSelection(cm);
          updateScrollbars(cm, barMeasure);
          setDocumentHeight(cm, barMeasure);
          update.force = false;
        }
        update.signal(cm, "update", cm);
        if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {
          update.signal(cm, "viewportChange", cm, cm.display.viewFrom, cm.display.viewTo);
          cm.display.reportedViewFrom = cm.display.viewFrom;
          cm.display.reportedViewTo = cm.display.viewTo;
        }
      }
      function updateDisplaySimple(cm, viewport) {
        var update = new DisplayUpdate(cm, viewport);
        if (updateDisplayIfNeeded(cm, update)) {
          updateHeightsInViewport(cm);
          postUpdateDisplay(cm, update);
          var barMeasure = measureForScrollbars(cm);
          updateSelection(cm);
          updateScrollbars(cm, barMeasure);
          setDocumentHeight(cm, barMeasure);
          update.finish();
        }
      }
      function patchDisplay(cm, updateNumbersFrom, dims) {
        var display = cm.display, lineNumbers = cm.options.lineNumbers;
        var container = display.lineDiv, cur = container.firstChild;
        function rm(node2) {
          var next = node2.nextSibling;
          if (webkit && mac && cm.display.currentWheelTarget == node2) {
            node2.style.display = "none";
          } else {
            node2.parentNode.removeChild(node2);
          }
          return next;
        }
        var view = display.view, lineN = display.viewFrom;
        for (var i2 = 0; i2 < view.length; i2++) {
          var lineView = view[i2];
          if (lineView.hidden) ;
          else if (!lineView.node || lineView.node.parentNode != container) {
            var node = buildLineElement(cm, lineView, lineN, dims);
            container.insertBefore(node, cur);
          } else {
            while (cur != lineView.node) {
              cur = rm(cur);
            }
            var updateNumber = lineNumbers && updateNumbersFrom != null && updateNumbersFrom <= lineN && lineView.lineNumber;
            if (lineView.changes) {
              if (indexOf(lineView.changes, "gutter") > -1) {
                updateNumber = false;
              }
              updateLineForChanges(cm, lineView, lineN, dims);
            }
            if (updateNumber) {
              removeChildren(lineView.lineNumber);
              lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));
            }
            cur = lineView.node.nextSibling;
          }
          lineN += lineView.size;
        }
        while (cur) {
          cur = rm(cur);
        }
      }
      function updateGutterSpace(display) {
        var width = display.gutters.offsetWidth;
        display.sizer.style.marginLeft = width + "px";
        signalLater(display, "gutterChanged", display);
      }
      function setDocumentHeight(cm, measure) {
        cm.display.sizer.style.minHeight = measure.docHeight + "px";
        cm.display.heightForcer.style.top = measure.docHeight + "px";
        cm.display.gutters.style.height = measure.docHeight + cm.display.barHeight + scrollGap(cm) + "px";
      }
      function alignHorizontally(cm) {
        var display = cm.display, view = display.view;
        if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) {
          return;
        }
        var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;
        var gutterW = display.gutters.offsetWidth, left = comp + "px";
        for (var i2 = 0; i2 < view.length; i2++) {
          if (!view[i2].hidden) {
            if (cm.options.fixedGutter) {
              if (view[i2].gutter) {
                view[i2].gutter.style.left = left;
              }
              if (view[i2].gutterBackground) {
                view[i2].gutterBackground.style.left = left;
              }
            }
            var align = view[i2].alignable;
            if (align) {
              for (var j = 0; j < align.length; j++) {
                align[j].style.left = left;
              }
            }
          }
        }
        if (cm.options.fixedGutter) {
          display.gutters.style.left = comp + gutterW + "px";
        }
      }
      function maybeUpdateLineNumberWidth(cm) {
        if (!cm.options.lineNumbers) {
          return false;
        }
        var doc2 = cm.doc, last = lineNumberFor(cm.options, doc2.first + doc2.size - 1), display = cm.display;
        if (last.length != display.lineNumChars) {
          var test = display.measure.appendChild(elt(
            "div",
            [elt("div", last)],
            "CodeMirror-linenumber CodeMirror-gutter-elt"
          ));
          var innerW = test.firstChild.offsetWidth, padding = test.offsetWidth - innerW;
          display.lineGutter.style.width = "";
          display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;
          display.lineNumWidth = display.lineNumInnerWidth + padding;
          display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;
          display.lineGutter.style.width = display.lineNumWidth + "px";
          updateGutterSpace(cm.display);
          return true;
        }
        return false;
      }
      function getGutters(gutters, lineNumbers) {
        var result = [], sawLineNumbers = false;
        for (var i2 = 0; i2 < gutters.length; i2++) {
          var name = gutters[i2], style = null;
          if (typeof name != "string") {
            style = name.style;
            name = name.className;
          }
          if (name == "CodeMirror-linenumbers") {
            if (!lineNumbers) {
              continue;
            } else {
              sawLineNumbers = true;
            }
          }
          result.push({ className: name, style });
        }
        if (lineNumbers && !sawLineNumbers) {
          result.push({ className: "CodeMirror-linenumbers", style: null });
        }
        return result;
      }
      function renderGutters(display) {
        var gutters = display.gutters, specs = display.gutterSpecs;
        removeChildren(gutters);
        display.lineGutter = null;
        for (var i2 = 0; i2 < specs.length; ++i2) {
          var ref = specs[i2];
          var className = ref.className;
          var style = ref.style;
          var gElt = gutters.appendChild(elt("div", null, "CodeMirror-gutter " + className));
          if (style) {
            gElt.style.cssText = style;
          }
          if (className == "CodeMirror-linenumbers") {
            display.lineGutter = gElt;
            gElt.style.width = (display.lineNumWidth || 1) + "px";
          }
        }
        gutters.style.display = specs.length ? "" : "none";
        updateGutterSpace(display);
      }
      function updateGutters(cm) {
        renderGutters(cm.display);
        regChange(cm);
        alignHorizontally(cm);
      }
      function Display(place, doc2, input, options) {
        var d = this;
        this.input = input;
        d.scrollbarFiller = elt("div", null, "CodeMirror-scrollbar-filler");
        d.scrollbarFiller.setAttribute("cm-not-content", "true");
        d.gutterFiller = elt("div", null, "CodeMirror-gutter-filler");
        d.gutterFiller.setAttribute("cm-not-content", "true");
        d.lineDiv = eltP("div", null, "CodeMirror-code");
        d.selectionDiv = elt("div", null, null, "position: relative; z-index: 1");
        d.cursorDiv = elt("div", null, "CodeMirror-cursors");
        d.measure = elt("div", null, "CodeMirror-measure");
        d.lineMeasure = elt("div", null, "CodeMirror-measure");
        d.lineSpace = eltP(
          "div",
          [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv],
          null,
          "position: relative; outline: none"
        );
        var lines = eltP("div", [d.lineSpace], "CodeMirror-lines");
        d.mover = elt("div", [lines], null, "position: relative");
        d.sizer = elt("div", [d.mover], "CodeMirror-sizer");
        d.sizerWidth = null;
        d.heightForcer = elt("div", null, null, "position: absolute; height: " + scrollerGap + "px; width: 1px;");
        d.gutters = elt("div", null, "CodeMirror-gutters");
        d.lineGutter = null;
        d.scroller = elt("div", [d.sizer, d.heightForcer, d.gutters], "CodeMirror-scroll");
        d.scroller.setAttribute("tabIndex", "-1");
        d.wrapper = elt("div", [d.scrollbarFiller, d.gutterFiller, d.scroller], "CodeMirror");
        if (chrome && chrome_version >= 105) {
          d.wrapper.style.clipPath = "inset(0px)";
        }
        d.wrapper.setAttribute("translate", "no");
        if (ie && ie_version < 8) {
          d.gutters.style.zIndex = -1;
          d.scroller.style.paddingRight = 0;
        }
        if (!webkit && !(gecko && mobile)) {
          d.scroller.draggable = true;
        }
        if (place) {
          if (place.appendChild) {
            place.appendChild(d.wrapper);
          } else {
            place(d.wrapper);
          }
        }
        d.viewFrom = d.viewTo = doc2.first;
        d.reportedViewFrom = d.reportedViewTo = doc2.first;
        d.view = [];
        d.renderedView = null;
        d.externalMeasured = null;
        d.viewOffset = 0;
        d.lastWrapHeight = d.lastWrapWidth = 0;
        d.updateLineNumbers = null;
        d.nativeBarWidth = d.barHeight = d.barWidth = 0;
        d.scrollbarsClipped = false;
        d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null;
        d.alignWidgets = false;
        d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;
        d.maxLine = null;
        d.maxLineLength = 0;
        d.maxLineChanged = false;
        d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null;
        d.shift = false;
        d.selForContextMenu = null;
        d.activeTouch = null;
        d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);
        renderGutters(d);
        input.init(d);
      }
      var wheelSamples = 0, wheelPixelsPerUnit = null;
      if (ie) {
        wheelPixelsPerUnit = -0.53;
      } else if (gecko) {
        wheelPixelsPerUnit = 15;
      } else if (chrome) {
        wheelPixelsPerUnit = -0.7;
      } else if (safari) {
        wheelPixelsPerUnit = -1 / 3;
      }
      function wheelEventDelta(e) {
        var dx = e.wheelDeltaX, dy = e.wheelDeltaY;
        if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) {
          dx = e.detail;
        }
        if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) {
          dy = e.detail;
        } else if (dy == null) {
          dy = e.wheelDelta;
        }
        return { x: dx, y: dy };
      }
      function wheelEventPixels(e) {
        var delta = wheelEventDelta(e);
        delta.x *= wheelPixelsPerUnit;
        delta.y *= wheelPixelsPerUnit;
        return delta;
      }
      function onScrollWheel(cm, e) {
        if (chrome && chrome_version == 102) {
          if (cm.display.chromeScrollHack == null) {
            cm.display.sizer.style.pointerEvents = "none";
          } else {
            clearTimeout(cm.display.chromeScrollHack);
          }
          cm.display.chromeScrollHack = setTimeout(function() {
            cm.display.chromeScrollHack = null;
            cm.display.sizer.style.pointerEvents = "";
          }, 100);
        }
        var delta = wheelEventDelta(e), dx = delta.x, dy = delta.y;
        var pixelsPerUnit = wheelPixelsPerUnit;
        if (e.deltaMode === 0) {
          dx = e.deltaX;
          dy = e.deltaY;
          pixelsPerUnit = 1;
        }
        var display = cm.display, scroll = display.scroller;
        var canScrollX = scroll.scrollWidth > scroll.clientWidth;
        var canScrollY = scroll.scrollHeight > scroll.clientHeight;
        if (!(dx && canScrollX || dy && canScrollY)) {
          return;
        }
        if (dy && mac && webkit) {
          outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {
            for (var i2 = 0; i2 < view.length; i2++) {
              if (view[i2].node == cur) {
                cm.display.currentWheelTarget = cur;
                break outer;
              }
            }
          }
        }
        if (dx && !gecko && !presto && pixelsPerUnit != null) {
          if (dy && canScrollY) {
            updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * pixelsPerUnit));
          }
          setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * pixelsPerUnit));
          if (!dy || dy && canScrollY) {
            e_preventDefault(e);
          }
          display.wheelStartX = null;
          return;
        }
        if (dy && pixelsPerUnit != null) {
          var pixels = dy * pixelsPerUnit;
          var top = cm.doc.scrollTop, bot = top + display.wrapper.clientHeight;
          if (pixels < 0) {
            top = Math.max(0, top + pixels - 50);
          } else {
            bot = Math.min(cm.doc.height, bot + pixels + 50);
          }
          updateDisplaySimple(cm, { top, bottom: bot });
        }
        if (wheelSamples < 20 && e.deltaMode !== 0) {
          if (display.wheelStartX == null) {
            display.wheelStartX = scroll.scrollLeft;
            display.wheelStartY = scroll.scrollTop;
            display.wheelDX = dx;
            display.wheelDY = dy;
            setTimeout(function() {
              if (display.wheelStartX == null) {
                return;
              }
              var movedX = scroll.scrollLeft - display.wheelStartX;
              var movedY = scroll.scrollTop - display.wheelStartY;
              var sample = movedY && display.wheelDY && movedY / display.wheelDY || movedX && display.wheelDX && movedX / display.wheelDX;
              display.wheelStartX = display.wheelStartY = null;
              if (!sample) {
                return;
              }
              wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);
              ++wheelSamples;
            }, 200);
          } else {
            display.wheelDX += dx;
            display.wheelDY += dy;
          }
        }
      }
      var Selection = function(ranges, primIndex) {
        this.ranges = ranges;
        this.primIndex = primIndex;
      };
      Selection.prototype.primary = function() {
        return this.ranges[this.primIndex];
      };
      Selection.prototype.equals = function(other) {
        if (other == this) {
          return true;
        }
        if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) {
          return false;
        }
        for (var i2 = 0; i2 < this.ranges.length; i2++) {
          var here = this.ranges[i2], there = other.ranges[i2];
          if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) {
            return false;
          }
        }
        return true;
      };
      Selection.prototype.deepCopy = function() {
        var out = [];
        for (var i2 = 0; i2 < this.ranges.length; i2++) {
          out[i2] = new Range(copyPos(this.ranges[i2].anchor), copyPos(this.ranges[i2].head));
        }
        return new Selection(out, this.primIndex);
      };
      Selection.prototype.somethingSelected = function() {
        for (var i2 = 0; i2 < this.ranges.length; i2++) {
          if (!this.ranges[i2].empty()) {
            return true;
          }
        }
        return false;
      };
      Selection.prototype.contains = function(pos, end) {
        if (!end) {
          end = pos;
        }
        for (var i2 = 0; i2 < this.ranges.length; i2++) {
          var range2 = this.ranges[i2];
          if (cmp(end, range2.from()) >= 0 && cmp(pos, range2.to()) <= 0) {
            return i2;
          }
        }
        return -1;
      };
      var Range = function(anchor, head) {
        this.anchor = anchor;
        this.head = head;
      };
      Range.prototype.from = function() {
        return minPos(this.anchor, this.head);
      };
      Range.prototype.to = function() {
        return maxPos(this.anchor, this.head);
      };
      Range.prototype.empty = function() {
        return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch;
      };
      function normalizeSelection(cm, ranges, primIndex) {
        var mayTouch = cm && cm.options.selectionsMayTouch;
        var prim = ranges[primIndex];
        ranges.sort(function(a, b) {
          return cmp(a.from(), b.from());
        });
        primIndex = indexOf(ranges, prim);
        for (var i2 = 1; i2 < ranges.length; i2++) {
          var cur = ranges[i2], prev = ranges[i2 - 1];
          var diff = cmp(prev.to(), cur.from());
          if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {
            var from = minPos(prev.from(), cur.from()), to = maxPos(prev.to(), cur.to());
            var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;
            if (i2 <= primIndex) {
              --primIndex;
            }
            ranges.splice(--i2, 2, new Range(inv ? to : from, inv ? from : to));
          }
        }
        return new Selection(ranges, primIndex);
      }
      function simpleSelection(anchor, head) {
        return new Selection([new Range(anchor, head || anchor)], 0);
      }
      function changeEnd(change) {
        if (!change.text) {
          return change.to;
        }
        return Pos(
          change.from.line + change.text.length - 1,
          lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0)
        );
      }
      function adjustForChange(pos, change) {
        if (cmp(pos, change.from) < 0) {
          return pos;
        }
        if (cmp(pos, change.to) <= 0) {
          return changeEnd(change);
        }
        var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1, ch = pos.ch;
        if (pos.line == change.to.line) {
          ch += changeEnd(change).ch - change.to.ch;
        }
        return Pos(line, ch);
      }
      function computeSelAfterChange(doc2, change) {
        var out = [];
        for (var i2 = 0; i2 < doc2.sel.ranges.length; i2++) {
          var range2 = doc2.sel.ranges[i2];
          out.push(new Range(
            adjustForChange(range2.anchor, change),
            adjustForChange(range2.head, change)
          ));
        }
        return normalizeSelection(doc2.cm, out, doc2.sel.primIndex);
      }
      function offsetPos(pos, old, nw) {
        if (pos.line == old.line) {
          return Pos(nw.line, pos.ch - old.ch + nw.ch);
        } else {
          return Pos(nw.line + (pos.line - old.line), pos.ch);
        }
      }
      function computeReplacedSel(doc2, changes, hint) {
        var out = [];
        var oldPrev = Pos(doc2.first, 0), newPrev = oldPrev;
        for (var i2 = 0; i2 < changes.length; i2++) {
          var change = changes[i2];
          var from = offsetPos(change.from, oldPrev, newPrev);
          var to = offsetPos(changeEnd(change), oldPrev, newPrev);
          oldPrev = change.to;
          newPrev = to;
          if (hint == "around") {
            var range2 = doc2.sel.ranges[i2], inv = cmp(range2.head, range2.anchor) < 0;
            out[i2] = new Range(inv ? to : from, inv ? from : to);
          } else {
            out[i2] = new Range(from, from);
          }
        }
        return new Selection(out, doc2.sel.primIndex);
      }
      function loadMode(cm) {
        cm.doc.mode = getMode(cm.options, cm.doc.modeOption);
        resetModeState(cm);
      }
      function resetModeState(cm) {
        cm.doc.iter(function(line) {
          if (line.stateAfter) {
            line.stateAfter = null;
          }
          if (line.styles) {
            line.styles = null;
          }
        });
        cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;
        startWorker(cm, 100);
        cm.state.modeGen++;
        if (cm.curOp) {
          regChange(cm);
        }
      }
      function isWholeLineUpdate(doc2, change) {
        return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == "" && (!doc2.cm || doc2.cm.options.wholeLineUpdateBefore);
      }
      function updateDoc(doc2, change, markedSpans, estimateHeight2) {
        function spansFor(n) {
          return markedSpans ? markedSpans[n] : null;
        }
        function update(line, text2, spans) {
          updateLine(line, text2, spans, estimateHeight2);
          signalLater(line, "change", line, change);
        }
        function linesFor(start, end) {
          var result = [];
          for (var i2 = start; i2 < end; ++i2) {
            result.push(new Line(text[i2], spansFor(i2), estimateHeight2));
          }
          return result;
        }
        var from = change.from, to = change.to, text = change.text;
        var firstLine = getLine(doc2, from.line), lastLine = getLine(doc2, to.line);
        var lastText = lst(text), lastSpans = spansFor(text.length - 1), nlines = to.line - from.line;
        if (change.full) {
          doc2.insert(0, linesFor(0, text.length));
          doc2.remove(text.length, doc2.size - text.length);
        } else if (isWholeLineUpdate(doc2, change)) {
          var added = linesFor(0, text.length - 1);
          update(lastLine, lastLine.text, lastSpans);
          if (nlines) {
            doc2.remove(from.line, nlines);
          }
          if (added.length) {
            doc2.insert(from.line, added);
          }
        } else if (firstLine == lastLine) {
          if (text.length == 1) {
            update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);
          } else {
            var added$1 = linesFor(1, text.length - 1);
            added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight2));
            update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));
            doc2.insert(from.line + 1, added$1);
          }
        } else if (text.length == 1) {
          update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));
          doc2.remove(from.line + 1, nlines);
        } else {
          update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));
          update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);
          var added$2 = linesFor(1, text.length - 1);
          if (nlines > 1) {
            doc2.remove(from.line + 1, nlines - 1);
          }
          doc2.insert(from.line + 1, added$2);
        }
        signalLater(doc2, "change", doc2, change);
      }
      function linkedDocs(doc2, f, sharedHistOnly) {
        function propagate(doc3, skip, sharedHist) {
          if (doc3.linked) {
            for (var i2 = 0; i2 < doc3.linked.length; ++i2) {
              var rel = doc3.linked[i2];
              if (rel.doc == skip) {
                continue;
              }
              var shared = sharedHist && rel.sharedHist;
              if (sharedHistOnly && !shared) {
                continue;
              }
              f(rel.doc, shared);
              propagate(rel.doc, doc3, shared);
            }
          }
        }
        propagate(doc2, null, true);
      }
      function attachDoc(cm, doc2) {
        if (doc2.cm) {
          throw new Error("This document is already in use.");
        }
        cm.doc = doc2;
        doc2.cm = cm;
        estimateLineHeights(cm);
        loadMode(cm);
        setDirectionClass(cm);
        cm.options.direction = doc2.direction;
        if (!cm.options.lineWrapping) {
          findMaxLine(cm);
        }
        cm.options.mode = doc2.modeOption;
        regChange(cm);
      }
      function setDirectionClass(cm) {
        (cm.doc.direction == "rtl" ? addClass : rmClass)(cm.display.lineDiv, "CodeMirror-rtl");
      }
      function directionChanged(cm) {
        runInOp(cm, function() {
          setDirectionClass(cm);
          regChange(cm);
        });
      }
      function History(prev) {
        this.done = [];
        this.undone = [];
        this.undoDepth = prev ? prev.undoDepth : Infinity;
        this.lastModTime = this.lastSelTime = 0;
        this.lastOp = this.lastSelOp = null;
        this.lastOrigin = this.lastSelOrigin = null;
        this.generation = this.maxGeneration = prev ? prev.maxGeneration : 1;
      }
      function historyChangeFromChange(doc2, change) {
        var histChange = { from: copyPos(change.from), to: changeEnd(change), text: getBetween(doc2, change.from, change.to) };
        attachLocalSpans(doc2, histChange, change.from.line, change.to.line + 1);
        linkedDocs(doc2, function(doc3) {
          return attachLocalSpans(doc3, histChange, change.from.line, change.to.line + 1);
        }, true);
        return histChange;
      }
      function clearSelectionEvents(array) {
        while (array.length) {
          var last = lst(array);
          if (last.ranges) {
            array.pop();
          } else {
            break;
          }
        }
      }
      function lastChangeEvent(hist, force) {
        if (force) {
          clearSelectionEvents(hist.done);
          return lst(hist.done);
        } else if (hist.done.length && !lst(hist.done).ranges) {
          return lst(hist.done);
        } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {
          hist.done.pop();
          return lst(hist.done);
        }
      }
      function addChangeToHistory(doc2, change, selAfter, opId) {
        var hist = doc2.history;
        hist.undone.length = 0;
        var time = +/* @__PURE__ */ new Date(), cur;
        var last;
        if ((hist.lastOp == opId || hist.lastOrigin == change.origin && change.origin && (change.origin.charAt(0) == "+" && hist.lastModTime > time - (doc2.cm ? doc2.cm.options.historyEventDelay : 500) || change.origin.charAt(0) == "*")) && (cur = lastChangeEvent(hist, hist.lastOp == opId))) {
          last = lst(cur.changes);
          if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {
            last.to = changeEnd(change);
          } else {
            cur.changes.push(historyChangeFromChange(doc2, change));
          }
        } else {
          var before = lst(hist.done);
          if (!before || !before.ranges) {
            pushSelectionToHistory(doc2.sel, hist.done);
          }
          cur = {
            changes: [historyChangeFromChange(doc2, change)],
            generation: hist.generation
          };
          hist.done.push(cur);
          while (hist.done.length > hist.undoDepth) {
            hist.done.shift();
            if (!hist.done[0].ranges) {
              hist.done.shift();
            }
          }
        }
        hist.done.push(selAfter);
        hist.generation = ++hist.maxGeneration;
        hist.lastModTime = hist.lastSelTime = time;
        hist.lastOp = hist.lastSelOp = opId;
        hist.lastOrigin = hist.lastSelOrigin = change.origin;
        if (!last) {
          signal(doc2, "historyAdded");
        }
      }
      function selectionEventCanBeMerged(doc2, origin, prev, sel) {
        var ch = origin.charAt(0);
        return ch == "*" || ch == "+" && prev.ranges.length == sel.ranges.length && prev.somethingSelected() == sel.somethingSelected() && /* @__PURE__ */ new Date() - doc2.history.lastSelTime <= (doc2.cm ? doc2.cm.options.historyEventDelay : 500);
      }
      function addSelectionToHistory(doc2, sel, opId, options) {
        var hist = doc2.history, origin = options && options.origin;
        if (opId == hist.lastSelOp || origin && hist.lastSelOrigin == origin && (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin || selectionEventCanBeMerged(doc2, origin, lst(hist.done), sel))) {
          hist.done[hist.done.length - 1] = sel;
        } else {
          pushSelectionToHistory(sel, hist.done);
        }
        hist.lastSelTime = +/* @__PURE__ */ new Date();
        hist.lastSelOrigin = origin;
        hist.lastSelOp = opId;
        if (options && options.clearRedo !== false) {
          clearSelectionEvents(hist.undone);
        }
      }
      function pushSelectionToHistory(sel, dest) {
        var top = lst(dest);
        if (!(top && top.ranges && top.equals(sel))) {
          dest.push(sel);
        }
      }
      function attachLocalSpans(doc2, change, from, to) {
        var existing = change["spans_" + doc2.id], n = 0;
        doc2.iter(Math.max(doc2.first, from), Math.min(doc2.first + doc2.size, to), function(line) {
          if (line.markedSpans) {
            (existing || (existing = change["spans_" + doc2.id] = {}))[n] = line.markedSpans;
          }
          ++n;
        });
      }
      function removeClearedSpans(spans) {
        if (!spans) {
          return null;
        }
        var out;
        for (var i2 = 0; i2 < spans.length; ++i2) {
          if (spans[i2].marker.explicitlyCleared) {
            if (!out) {
              out = spans.slice(0, i2);
            }
          } else if (out) {
            out.push(spans[i2]);
          }
        }
        return !out ? spans : out.length ? out : null;
      }
      function getOldSpans(doc2, change) {
        var found = change["spans_" + doc2.id];
        if (!found) {
          return null;
        }
        var nw = [];
        for (var i2 = 0; i2 < change.text.length; ++i2) {
          nw.push(removeClearedSpans(found[i2]));
        }
        return nw;
      }
      function mergeOldSpans(doc2, change) {
        var old = getOldSpans(doc2, change);
        var stretched = stretchSpansOverChange(doc2, change);
        if (!old) {
          return stretched;
        }
        if (!stretched) {
          return old;
        }
        for (var i2 = 0; i2 < old.length; ++i2) {
          var oldCur = old[i2], stretchCur = stretched[i2];
          if (oldCur && stretchCur) {
            spans: for (var j = 0; j < stretchCur.length; ++j) {
              var span = stretchCur[j];
              for (var k = 0; k < oldCur.length; ++k) {
                if (oldCur[k].marker == span.marker) {
                  continue spans;
                }
              }
              oldCur.push(span);
            }
          } else if (stretchCur) {
            old[i2] = stretchCur;
          }
        }
        return old;
      }
      function copyHistoryArray(events, newGroup, instantiateSel) {
        var copy = [];
        for (var i2 = 0; i2 < events.length; ++i2) {
          var event = events[i2];
          if (event.ranges) {
            copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);
            continue;
          }
          var changes = event.changes, newChanges = [];
          copy.push({ changes: newChanges });
          for (var j = 0; j < changes.length; ++j) {
            var change = changes[j], m = void 0;
            newChanges.push({ from: change.from, to: change.to, text: change.text });
            if (newGroup) {
              for (var prop2 in change) {
                if (m = prop2.match(/^spans_(\d+)$/)) {
                  if (indexOf(newGroup, Number(m[1])) > -1) {
                    lst(newChanges)[prop2] = change[prop2];
                    delete change[prop2];
                  }
                }
              }
            }
          }
        }
        return copy;
      }
      function extendRange(range2, head, other, extend) {
        if (extend) {
          var anchor = range2.anchor;
          if (other) {
            var posBefore = cmp(head, anchor) < 0;
            if (posBefore != cmp(other, anchor) < 0) {
              anchor = head;
              head = other;
            } else if (posBefore != cmp(head, other) < 0) {
              head = other;
            }
          }
          return new Range(anchor, head);
        } else {
          return new Range(other || head, head);
        }
      }
      function extendSelection(doc2, head, other, options, extend) {
        if (extend == null) {
          extend = doc2.cm && (doc2.cm.display.shift || doc2.extend);
        }
        setSelection(doc2, new Selection([extendRange(doc2.sel.primary(), head, other, extend)], 0), options);
      }
      function extendSelections(doc2, heads, options) {
        var out = [];
        var extend = doc2.cm && (doc2.cm.display.shift || doc2.extend);
        for (var i2 = 0; i2 < doc2.sel.ranges.length; i2++) {
          out[i2] = extendRange(doc2.sel.ranges[i2], heads[i2], null, extend);
        }
        var newSel = normalizeSelection(doc2.cm, out, doc2.sel.primIndex);
        setSelection(doc2, newSel, options);
      }
      function replaceOneSelection(doc2, i2, range2, options) {
        var ranges = doc2.sel.ranges.slice(0);
        ranges[i2] = range2;
        setSelection(doc2, normalizeSelection(doc2.cm, ranges, doc2.sel.primIndex), options);
      }
      function setSimpleSelection(doc2, anchor, head, options) {
        setSelection(doc2, simpleSelection(anchor, head), options);
      }
      function filterSelectionChange(doc2, sel, options) {
        var obj = {
          ranges: sel.ranges,
          update: function(ranges) {
            this.ranges = [];
            for (var i2 = 0; i2 < ranges.length; i2++) {
              this.ranges[i2] = new Range(
                clipPos(doc2, ranges[i2].anchor),
                clipPos(doc2, ranges[i2].head)
              );
            }
          },
          origin: options && options.origin
        };
        signal(doc2, "beforeSelectionChange", doc2, obj);
        if (doc2.cm) {
          signal(doc2.cm, "beforeSelectionChange", doc2.cm, obj);
        }
        if (obj.ranges != sel.ranges) {
          return normalizeSelection(doc2.cm, obj.ranges, obj.ranges.length - 1);
        } else {
          return sel;
        }
      }
      function setSelectionReplaceHistory(doc2, sel, options) {
        var done = doc2.history.done, last = lst(done);
        if (last && last.ranges) {
          done[done.length - 1] = sel;
          setSelectionNoUndo(doc2, sel, options);
        } else {
          setSelection(doc2, sel, options);
        }
      }
      function setSelection(doc2, sel, options) {
        setSelectionNoUndo(doc2, sel, options);
        addSelectionToHistory(doc2, doc2.sel, doc2.cm ? doc2.cm.curOp.id : NaN, options);
      }
      function setSelectionNoUndo(doc2, sel, options) {
        if (hasHandler(doc2, "beforeSelectionChange") || doc2.cm && hasHandler(doc2.cm, "beforeSelectionChange")) {
          sel = filterSelectionChange(doc2, sel, options);
        }
        var bias = options && options.bias || (cmp(sel.primary().head, doc2.sel.primary().head) < 0 ? -1 : 1);
        setSelectionInner(doc2, skipAtomicInSelection(doc2, sel, bias, true));
        if (!(options && options.scroll === false) && doc2.cm && doc2.cm.getOption("readOnly") != "nocursor") {
          ensureCursorVisible(doc2.cm);
        }
      }
      function setSelectionInner(doc2, sel) {
        if (sel.equals(doc2.sel)) {
          return;
        }
        doc2.sel = sel;
        if (doc2.cm) {
          doc2.cm.curOp.updateInput = 1;
          doc2.cm.curOp.selectionChanged = true;
          signalCursorActivity(doc2.cm);
        }
        signalLater(doc2, "cursorActivity", doc2);
      }
      function reCheckSelection(doc2) {
        setSelectionInner(doc2, skipAtomicInSelection(doc2, doc2.sel, null, false));
      }
      function skipAtomicInSelection(doc2, sel, bias, mayClear) {
        var out;
        for (var i2 = 0; i2 < sel.ranges.length; i2++) {
          var range2 = sel.ranges[i2];
          var old = sel.ranges.length == doc2.sel.ranges.length && doc2.sel.ranges[i2];
          var newAnchor = skipAtomic(doc2, range2.anchor, old && old.anchor, bias, mayClear);
          var newHead = range2.head == range2.anchor ? newAnchor : skipAtomic(doc2, range2.head, old && old.head, bias, mayClear);
          if (out || newAnchor != range2.anchor || newHead != range2.head) {
            if (!out) {
              out = sel.ranges.slice(0, i2);
            }
            out[i2] = new Range(newAnchor, newHead);
          }
        }
        return out ? normalizeSelection(doc2.cm, out, sel.primIndex) : sel;
      }
      function skipAtomicInner(doc2, pos, oldPos, dir, mayClear) {
        var line = getLine(doc2, pos.line);
        if (line.markedSpans) {
          for (var i2 = 0; i2 < line.markedSpans.length; ++i2) {
            var sp = line.markedSpans[i2], m = sp.marker;
            var preventCursorLeft = "selectLeft" in m ? !m.selectLeft : m.inclusiveLeft;
            var preventCursorRight = "selectRight" in m ? !m.selectRight : m.inclusiveRight;
            if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) && (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {
              if (mayClear) {
                signal(m, "beforeCursorEnter");
                if (m.explicitlyCleared) {
                  if (!line.markedSpans) {
                    break;
                  } else {
                    --i2;
                    continue;
                  }
                }
              }
              if (!m.atomic) {
                continue;
              }
              if (oldPos) {
                var near = m.find(dir < 0 ? 1 : -1), diff = void 0;
                if (dir < 0 ? preventCursorRight : preventCursorLeft) {
                  near = movePos(doc2, near, -dir, near && near.line == pos.line ? line : null);
                }
                if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0)) {
                  return skipAtomicInner(doc2, near, pos, dir, mayClear);
                }
              }
              var far = m.find(dir < 0 ? -1 : 1);
              if (dir < 0 ? preventCursorLeft : preventCursorRight) {
                far = movePos(doc2, far, dir, far.line == pos.line ? line : null);
              }
              return far ? skipAtomicInner(doc2, far, pos, dir, mayClear) : null;
            }
          }
        }
        return pos;
      }
      function skipAtomic(doc2, pos, oldPos, bias, mayClear) {
        var dir = bias || 1;
        var found = skipAtomicInner(doc2, pos, oldPos, dir, mayClear) || !mayClear && skipAtomicInner(doc2, pos, oldPos, dir, true) || skipAtomicInner(doc2, pos, oldPos, -dir, mayClear) || !mayClear && skipAtomicInner(doc2, pos, oldPos, -dir, true);
        if (!found) {
          doc2.cantEdit = true;
          return Pos(doc2.first, 0);
        }
        return found;
      }
      function movePos(doc2, pos, dir, line) {
        if (dir < 0 && pos.ch == 0) {
          if (pos.line > doc2.first) {
            return clipPos(doc2, Pos(pos.line - 1));
          } else {
            return null;
          }
        } else if (dir > 0 && pos.ch == (line || getLine(doc2, pos.line)).text.length) {
          if (pos.line < doc2.first + doc2.size - 1) {
            return Pos(pos.line + 1, 0);
          } else {
            return null;
          }
        } else {
          return new Pos(pos.line, pos.ch + dir);
        }
      }
      function selectAll(cm) {
        cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);
      }
      function filterChange(doc2, change, update) {
        var obj = {
          canceled: false,
          from: change.from,
          to: change.to,
          text: change.text,
          origin: change.origin,
          cancel: function() {
            return obj.canceled = true;
          }
        };
        if (update) {
          obj.update = function(from, to, text, origin) {
            if (from) {
              obj.from = clipPos(doc2, from);
            }
            if (to) {
              obj.to = clipPos(doc2, to);
            }
            if (text) {
              obj.text = text;
            }
            if (origin !== void 0) {
              obj.origin = origin;
            }
          };
        }
        signal(doc2, "beforeChange", doc2, obj);
        if (doc2.cm) {
          signal(doc2.cm, "beforeChange", doc2.cm, obj);
        }
        if (obj.canceled) {
          if (doc2.cm) {
            doc2.cm.curOp.updateInput = 2;
          }
          return null;
        }
        return { from: obj.from, to: obj.to, text: obj.text, origin: obj.origin };
      }
      function makeChange(doc2, change, ignoreReadOnly) {
        if (doc2.cm) {
          if (!doc2.cm.curOp) {
            return operation(doc2.cm, makeChange)(doc2, change, ignoreReadOnly);
          }
          if (doc2.cm.state.suppressEdits) {
            return;
          }
        }
        if (hasHandler(doc2, "beforeChange") || doc2.cm && hasHandler(doc2.cm, "beforeChange")) {
          change = filterChange(doc2, change, true);
          if (!change) {
            return;
          }
        }
        var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc2, change.from, change.to);
        if (split) {
          for (var i2 = split.length - 1; i2 >= 0; --i2) {
            makeChangeInner(doc2, { from: split[i2].from, to: split[i2].to, text: i2 ? [""] : change.text, origin: change.origin });
          }
        } else {
          makeChangeInner(doc2, change);
        }
      }
      function makeChangeInner(doc2, change) {
        if (change.text.length == 1 && change.text[0] == "" && cmp(change.from, change.to) == 0) {
          return;
        }
        var selAfter = computeSelAfterChange(doc2, change);
        addChangeToHistory(doc2, change, selAfter, doc2.cm ? doc2.cm.curOp.id : NaN);
        makeChangeSingleDoc(doc2, change, selAfter, stretchSpansOverChange(doc2, change));
        var rebased = [];
        linkedDocs(doc2, function(doc3, sharedHist) {
          if (!sharedHist && indexOf(rebased, doc3.history) == -1) {
            rebaseHist(doc3.history, change);
            rebased.push(doc3.history);
          }
          makeChangeSingleDoc(doc3, change, null, stretchSpansOverChange(doc3, change));
        });
      }
      function makeChangeFromHistory(doc2, type, allowSelectionOnly) {
        var suppress = doc2.cm && doc2.cm.state.suppressEdits;
        if (suppress && !allowSelectionOnly) {
          return;
        }
        var hist = doc2.history, event, selAfter = doc2.sel;
        var source = type == "undo" ? hist.done : hist.undone, dest = type == "undo" ? hist.undone : hist.done;
        var i2 = 0;
        for (; i2 < source.length; i2++) {
          event = source[i2];
          if (allowSelectionOnly ? event.ranges && !event.equals(doc2.sel) : !event.ranges) {
            break;
          }
        }
        if (i2 == source.length) {
          return;
        }
        hist.lastOrigin = hist.lastSelOrigin = null;
        for (; ; ) {
          event = source.pop();
          if (event.ranges) {
            pushSelectionToHistory(event, dest);
            if (allowSelectionOnly && !event.equals(doc2.sel)) {
              setSelection(doc2, event, { clearRedo: false });
              return;
            }
            selAfter = event;
          } else if (suppress) {
            source.push(event);
            return;
          } else {
            break;
          }
        }
        var antiChanges = [];
        pushSelectionToHistory(selAfter, dest);
        dest.push({ changes: antiChanges, generation: hist.generation });
        hist.generation = event.generation || ++hist.maxGeneration;
        var filter = hasHandler(doc2, "beforeChange") || doc2.cm && hasHandler(doc2.cm, "beforeChange");
        var loop = function(i3) {
          var change = event.changes[i3];
          change.origin = type;
          if (filter && !filterChange(doc2, change, false)) {
            source.length = 0;
            return {};
          }
          antiChanges.push(historyChangeFromChange(doc2, change));
          var after = i3 ? computeSelAfterChange(doc2, change) : lst(source);
          makeChangeSingleDoc(doc2, change, after, mergeOldSpans(doc2, change));
          if (!i3 && doc2.cm) {
            doc2.cm.scrollIntoView({ from: change.from, to: changeEnd(change) });
          }
          var rebased = [];
          linkedDocs(doc2, function(doc3, sharedHist) {
            if (!sharedHist && indexOf(rebased, doc3.history) == -1) {
              rebaseHist(doc3.history, change);
              rebased.push(doc3.history);
            }
            makeChangeSingleDoc(doc3, change, null, mergeOldSpans(doc3, change));
          });
        };
        for (var i$12 = event.changes.length - 1; i$12 >= 0; --i$12) {
          var returned = loop(i$12);
          if (returned) return returned.v;
        }
      }
      function shiftDoc(doc2, distance) {
        if (distance == 0) {
          return;
        }
        doc2.first += distance;
        doc2.sel = new Selection(map(doc2.sel.ranges, function(range2) {
          return new Range(
            Pos(range2.anchor.line + distance, range2.anchor.ch),
            Pos(range2.head.line + distance, range2.head.ch)
          );
        }), doc2.sel.primIndex);
        if (doc2.cm) {
          regChange(doc2.cm, doc2.first, doc2.first - distance, distance);
          for (var d = doc2.cm.display, l = d.viewFrom; l < d.viewTo; l++) {
            regLineChange(doc2.cm, l, "gutter");
          }
        }
      }
      function makeChangeSingleDoc(doc2, change, selAfter, spans) {
        if (doc2.cm && !doc2.cm.curOp) {
          return operation(doc2.cm, makeChangeSingleDoc)(doc2, change, selAfter, spans);
        }
        if (change.to.line < doc2.first) {
          shiftDoc(doc2, change.text.length - 1 - (change.to.line - change.from.line));
          return;
        }
        if (change.from.line > doc2.lastLine()) {
          return;
        }
        if (change.from.line < doc2.first) {
          var shift = change.text.length - 1 - (doc2.first - change.from.line);
          shiftDoc(doc2, shift);
          change = {
            from: Pos(doc2.first, 0),
            to: Pos(change.to.line + shift, change.to.ch),
            text: [lst(change.text)],
            origin: change.origin
          };
        }
        var last = doc2.lastLine();
        if (change.to.line > last) {
          change = {
            from: change.from,
            to: Pos(last, getLine(doc2, last).text.length),
            text: [change.text[0]],
            origin: change.origin
          };
        }
        change.removed = getBetween(doc2, change.from, change.to);
        if (!selAfter) {
          selAfter = computeSelAfterChange(doc2, change);
        }
        if (doc2.cm) {
          makeChangeSingleDocInEditor(doc2.cm, change, spans);
        } else {
          updateDoc(doc2, change, spans);
        }
        setSelectionNoUndo(doc2, selAfter, sel_dontScroll);
        if (doc2.cantEdit && skipAtomic(doc2, Pos(doc2.firstLine(), 0))) {
          doc2.cantEdit = false;
        }
      }
      function makeChangeSingleDocInEditor(cm, change, spans) {
        var doc2 = cm.doc, display = cm.display, from = change.from, to = change.to;
        var recomputeMaxLength = false, checkWidthStart = from.line;
        if (!cm.options.lineWrapping) {
          checkWidthStart = lineNo(visualLine(getLine(doc2, from.line)));
          doc2.iter(checkWidthStart, to.line + 1, function(line) {
            if (line == display.maxLine) {
              recomputeMaxLength = true;
              return true;
            }
          });
        }
        if (doc2.sel.contains(change.from, change.to) > -1) {
          signalCursorActivity(cm);
        }
        updateDoc(doc2, change, spans, estimateHeight(cm));
        if (!cm.options.lineWrapping) {
          doc2.iter(checkWidthStart, from.line + change.text.length, function(line) {
            var len = lineLength(line);
            if (len > display.maxLineLength) {
              display.maxLine = line;
              display.maxLineLength = len;
              display.maxLineChanged = true;
              recomputeMaxLength = false;
            }
          });
          if (recomputeMaxLength) {
            cm.curOp.updateMaxLine = true;
          }
        }
        retreatFrontier(doc2, from.line);
        startWorker(cm, 400);
        var lendiff = change.text.length - (to.line - from.line) - 1;
        if (change.full) {
          regChange(cm);
        } else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change)) {
          regLineChange(cm, from.line, "text");
        } else {
          regChange(cm, from.line, to.line + 1, lendiff);
        }
        var changesHandler = hasHandler(cm, "changes"), changeHandler = hasHandler(cm, "change");
        if (changeHandler || changesHandler) {
          var obj = {
            from,
            to,
            text: change.text,
            removed: change.removed,
            origin: change.origin
          };
          if (changeHandler) {
            signalLater(cm, "change", cm, obj);
          }
          if (changesHandler) {
            (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj);
          }
        }
        cm.display.selForContextMenu = null;
      }
      function replaceRange(doc2, code, from, to, origin) {
        var assign;
        if (!to) {
          to = from;
        }
        if (cmp(to, from) < 0) {
          assign = [to, from], from = assign[0], to = assign[1];
        }
        if (typeof code == "string") {
          code = doc2.splitLines(code);
        }
        makeChange(doc2, { from, to, text: code, origin });
      }
      function rebaseHistSelSingle(pos, from, to, diff) {
        if (to < pos.line) {
          pos.line += diff;
        } else if (from < pos.line) {
          pos.line = from;
          pos.ch = 0;
        }
      }
      function rebaseHistArray(array, from, to, diff) {
        for (var i2 = 0; i2 < array.length; ++i2) {
          var sub = array[i2], ok = true;
          if (sub.ranges) {
            if (!sub.copied) {
              sub = array[i2] = sub.deepCopy();
              sub.copied = true;
            }
            for (var j = 0; j < sub.ranges.length; j++) {
              rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);
              rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);
            }
            continue;
          }
          for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {
            var cur = sub.changes[j$1];
            if (to < cur.from.line) {
              cur.from = Pos(cur.from.line + diff, cur.from.ch);
              cur.to = Pos(cur.to.line + diff, cur.to.ch);
            } else if (from <= cur.to.line) {
              ok = false;
              break;
            }
          }
          if (!ok) {
            array.splice(0, i2 + 1);
            i2 = 0;
          }
        }
      }
      function rebaseHist(hist, change) {
        var from = change.from.line, to = change.to.line, diff = change.text.length - (to - from) - 1;
        rebaseHistArray(hist.done, from, to, diff);
        rebaseHistArray(hist.undone, from, to, diff);
      }
      function changeLine(doc2, handle, changeType, op) {
        var no = handle, line = handle;
        if (typeof handle == "number") {
          line = getLine(doc2, clipLine(doc2, handle));
        } else {
          no = lineNo(handle);
        }
        if (no == null) {
          return null;
        }
        if (op(line, no) && doc2.cm) {
          regLineChange(doc2.cm, no, changeType);
        }
        return line;
      }
      function LeafChunk(lines) {
        this.lines = lines;
        this.parent = null;
        var height = 0;
        for (var i2 = 0; i2 < lines.length; ++i2) {
          lines[i2].parent = this;
          height += lines[i2].height;
        }
        this.height = height;
      }
      LeafChunk.prototype = {
        chunkSize: function() {
          return this.lines.length;
        },
        // Remove the n lines at offset 'at'.
        removeInner: function(at, n) {
          for (var i2 = at, e = at + n; i2 < e; ++i2) {
            var line = this.lines[i2];
            this.height -= line.height;
            cleanUpLine(line);
            signalLater(line, "delete");
          }
          this.lines.splice(at, n);
        },
        // Helper used to collapse a small branch into a single leaf.
        collapse: function(lines) {
          lines.push.apply(lines, this.lines);
        },
        // Insert the given array of lines at offset 'at', count them as
        // having the given height.
        insertInner: function(at, lines, height) {
          this.height += height;
          this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));
          for (var i2 = 0; i2 < lines.length; ++i2) {
            lines[i2].parent = this;
          }
        },
        // Used to iterate over a part of the tree.
        iterN: function(at, n, op) {
          for (var e = at + n; at < e; ++at) {
            if (op(this.lines[at])) {
              return true;
            }
          }
        }
      };
      function BranchChunk(children) {
        this.children = children;
        var size = 0, height = 0;
        for (var i2 = 0; i2 < children.length; ++i2) {
          var ch = children[i2];
          size += ch.chunkSize();
          height += ch.height;
          ch.parent = this;
        }
        this.size = size;
        this.height = height;
        this.parent = null;
      }
      BranchChunk.prototype = {
        chunkSize: function() {
          return this.size;
        },
        removeInner: function(at, n) {
          this.size -= n;
          for (var i2 = 0; i2 < this.children.length; ++i2) {
            var child = this.children[i2], sz = child.chunkSize();
            if (at < sz) {
              var rm = Math.min(n, sz - at), oldHeight = child.height;
              child.removeInner(at, rm);
              this.height -= oldHeight - child.height;
              if (sz == rm) {
                this.children.splice(i2--, 1);
                child.parent = null;
              }
              if ((n -= rm) == 0) {
                break;
              }
              at = 0;
            } else {
              at -= sz;
            }
          }
          if (this.size - n < 25 && (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {
            var lines = [];
            this.collapse(lines);
            this.children = [new LeafChunk(lines)];
            this.children[0].parent = this;
          }
        },
        collapse: function(lines) {
          for (var i2 = 0; i2 < this.children.length; ++i2) {
            this.children[i2].collapse(lines);
          }
        },
        insertInner: function(at, lines, height) {
          this.size += lines.length;
          this.height += height;
          for (var i2 = 0; i2 < this.children.length; ++i2) {
            var child = this.children[i2], sz = child.chunkSize();
            if (at <= sz) {
              child.insertInner(at, lines, height);
              if (child.lines && child.lines.length > 50) {
                var remaining = child.lines.length % 25 + 25;
                for (var pos = remaining; pos < child.lines.length; ) {
                  var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));
                  child.height -= leaf.height;
                  this.children.splice(++i2, 0, leaf);
                  leaf.parent = this;
                }
                child.lines = child.lines.slice(0, remaining);
                this.maybeSpill();
              }
              break;
            }
            at -= sz;
          }
        },
        // When a node has grown, check whether it should be split.
        maybeSpill: function() {
          if (this.children.length <= 10) {
            return;
          }
          var me = this;
          do {
            var spilled = me.children.splice(me.children.length - 5, 5);
            var sibling = new BranchChunk(spilled);
            if (!me.parent) {
              var copy = new BranchChunk(me.children);
              copy.parent = me;
              me.children = [copy, sibling];
              me = copy;
            } else {
              me.size -= sibling.size;
              me.height -= sibling.height;
              var myIndex = indexOf(me.parent.children, me);
              me.parent.children.splice(myIndex + 1, 0, sibling);
            }
            sibling.parent = me.parent;
          } while (me.children.length > 10);
          me.parent.maybeSpill();
        },
        iterN: function(at, n, op) {
          for (var i2 = 0; i2 < this.children.length; ++i2) {
            var child = this.children[i2], sz = child.chunkSize();
            if (at < sz) {
              var used = Math.min(n, sz - at);
              if (child.iterN(at, used, op)) {
                return true;
              }
              if ((n -= used) == 0) {
                break;
              }
              at = 0;
            } else {
              at -= sz;
            }
          }
        }
      };
      var LineWidget = function(doc2, node, options) {
        if (options) {
          for (var opt in options) {
            if (options.hasOwnProperty(opt)) {
              this[opt] = options[opt];
            }
          }
        }
        this.doc = doc2;
        this.node = node;
      };
      LineWidget.prototype.clear = function() {
        var cm = this.doc.cm, ws = this.line.widgets, line = this.line, no = lineNo(line);
        if (no == null || !ws) {
          return;
        }
        for (var i2 = 0; i2 < ws.length; ++i2) {
          if (ws[i2] == this) {
            ws.splice(i2--, 1);
          }
        }
        if (!ws.length) {
          line.widgets = null;
        }
        var height = widgetHeight(this);
        updateLineHeight(line, Math.max(0, line.height - height));
        if (cm) {
          runInOp(cm, function() {
            adjustScrollWhenAboveVisible(cm, line, -height);
            regLineChange(cm, no, "widget");
          });
          signalLater(cm, "lineWidgetCleared", cm, this, no);
        }
      };
      LineWidget.prototype.changed = function() {
        var this$1$1 = this;
        var oldH = this.height, cm = this.doc.cm, line = this.line;
        this.height = null;
        var diff = widgetHeight(this) - oldH;
        if (!diff) {
          return;
        }
        if (!lineIsHidden(this.doc, line)) {
          updateLineHeight(line, line.height + diff);
        }
        if (cm) {
          runInOp(cm, function() {
            cm.curOp.forceUpdate = true;
            adjustScrollWhenAboveVisible(cm, line, diff);
            signalLater(cm, "lineWidgetChanged", cm, this$1$1, lineNo(line));
          });
        }
      };
      eventMixin(LineWidget);
      function adjustScrollWhenAboveVisible(cm, line, diff) {
        if (heightAtLine(line) < (cm.curOp && cm.curOp.scrollTop || cm.doc.scrollTop)) {
          addToScrollTop(cm, diff);
        }
      }
      function addLineWidget(doc2, handle, node, options) {
        var widget = new LineWidget(doc2, node, options);
        var cm = doc2.cm;
        if (cm && widget.noHScroll) {
          cm.display.alignWidgets = true;
        }
        changeLine(doc2, handle, "widget", function(line) {
          var widgets = line.widgets || (line.widgets = []);
          if (widget.insertAt == null) {
            widgets.push(widget);
          } else {
            widgets.splice(Math.min(widgets.length, Math.max(0, widget.insertAt)), 0, widget);
          }
          widget.line = line;
          if (cm && !lineIsHidden(doc2, line)) {
            var aboveVisible = heightAtLine(line) < doc2.scrollTop;
            updateLineHeight(line, line.height + widgetHeight(widget));
            if (aboveVisible) {
              addToScrollTop(cm, widget.height);
            }
            cm.curOp.forceUpdate = true;
          }
          return true;
        });
        if (cm) {
          signalLater(cm, "lineWidgetAdded", cm, widget, typeof handle == "number" ? handle : lineNo(handle));
        }
        return widget;
      }
      var nextMarkerId = 0;
      var TextMarker = function(doc2, type) {
        this.lines = [];
        this.type = type;
        this.doc = doc2;
        this.id = ++nextMarkerId;
      };
      TextMarker.prototype.clear = function() {
        if (this.explicitlyCleared) {
          return;
        }
        var cm = this.doc.cm, withOp = cm && !cm.curOp;
        if (withOp) {
          startOperation(cm);
        }
        if (hasHandler(this, "clear")) {
          var found = this.find();
          if (found) {
            signalLater(this, "clear", found.from, found.to);
          }
        }
        var min = null, max = null;
        for (var i2 = 0; i2 < this.lines.length; ++i2) {
          var line = this.lines[i2];
          var span = getMarkedSpanFor(line.markedSpans, this);
          if (cm && !this.collapsed) {
            regLineChange(cm, lineNo(line), "text");
          } else if (cm) {
            if (span.to != null) {
              max = lineNo(line);
            }
            if (span.from != null) {
              min = lineNo(line);
            }
          }
          line.markedSpans = removeMarkedSpan(line.markedSpans, span);
          if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm) {
            updateLineHeight(line, textHeight(cm.display));
          }
        }
        if (cm && this.collapsed && !cm.options.lineWrapping) {
          for (var i$12 = 0; i$12 < this.lines.length; ++i$12) {
            var visual = visualLine(this.lines[i$12]), len = lineLength(visual);
            if (len > cm.display.maxLineLength) {
              cm.display.maxLine = visual;
              cm.display.maxLineLength = len;
              cm.display.maxLineChanged = true;
            }
          }
        }
        if (min != null && cm && this.collapsed) {
          regChange(cm, min, max + 1);
        }
        this.lines.length = 0;
        this.explicitlyCleared = true;
        if (this.atomic && this.doc.cantEdit) {
          this.doc.cantEdit = false;
          if (cm) {
            reCheckSelection(cm.doc);
          }
        }
        if (cm) {
          signalLater(cm, "markerCleared", cm, this, min, max);
        }
        if (withOp) {
          endOperation(cm);
        }
        if (this.parent) {
          this.parent.clear();
        }
      };
      TextMarker.prototype.find = function(side, lineObj) {
        if (side == null && this.type == "bookmark") {
          side = 1;
        }
        var from, to;
        for (var i2 = 0; i2 < this.lines.length; ++i2) {
          var line = this.lines[i2];
          var span = getMarkedSpanFor(line.markedSpans, this);
          if (span.from != null) {
            from = Pos(lineObj ? line : lineNo(line), span.from);
            if (side == -1) {
              return from;
            }
          }
          if (span.to != null) {
            to = Pos(lineObj ? line : lineNo(line), span.to);
            if (side == 1) {
              return to;
            }
          }
        }
        return from && { from, to };
      };
      TextMarker.prototype.changed = function() {
        var this$1$1 = this;
        var pos = this.find(-1, true), widget = this, cm = this.doc.cm;
        if (!pos || !cm) {
          return;
        }
        runInOp(cm, function() {
          var line = pos.line, lineN = lineNo(pos.line);
          var view = findViewForLine(cm, lineN);
          if (view) {
            clearLineMeasurementCacheFor(view);
            cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;
          }
          cm.curOp.updateMaxLine = true;
          if (!lineIsHidden(widget.doc, line) && widget.height != null) {
            var oldHeight = widget.height;
            widget.height = null;
            var dHeight = widgetHeight(widget) - oldHeight;
            if (dHeight) {
              updateLineHeight(line, line.height + dHeight);
            }
          }
          signalLater(cm, "markerChanged", cm, this$1$1);
        });
      };
      TextMarker.prototype.attachLine = function(line) {
        if (!this.lines.length && this.doc.cm) {
          var op = this.doc.cm.curOp;
          if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1) {
            (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this);
          }
        }
        this.lines.push(line);
      };
      TextMarker.prototype.detachLine = function(line) {
        this.lines.splice(indexOf(this.lines, line), 1);
        if (!this.lines.length && this.doc.cm) {
          var op = this.doc.cm.curOp;
          (op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);
        }
      };
      eventMixin(TextMarker);
      function markText(doc2, from, to, options, type) {
        if (options && options.shared) {
          return markTextShared(doc2, from, to, options, type);
        }
        if (doc2.cm && !doc2.cm.curOp) {
          return operation(doc2.cm, markText)(doc2, from, to, options, type);
        }
        var marker = new TextMarker(doc2, type), diff = cmp(from, to);
        if (options) {
          copyObj(options, marker, false);
        }
        if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false) {
          return marker;
        }
        if (marker.replacedWith) {
          marker.collapsed = true;
          marker.widgetNode = eltP("span", [marker.replacedWith], "CodeMirror-widget");
          if (!options.handleMouseEvents) {
            marker.widgetNode.setAttribute("cm-ignore-events", "true");
          }
          if (options.insertLeft) {
            marker.widgetNode.insertLeft = true;
          }
        }
        if (marker.collapsed) {
          if (conflictingCollapsedRange(doc2, from.line, from, to, marker) || from.line != to.line && conflictingCollapsedRange(doc2, to.line, from, to, marker)) {
            throw new Error("Inserting collapsed marker partially overlapping an existing one");
          }
          seeCollapsedSpans();
        }
        if (marker.addToHistory) {
          addChangeToHistory(doc2, { from, to, origin: "markText" }, doc2.sel, NaN);
        }
        var curLine = from.line, cm = doc2.cm, updateMaxLine;
        doc2.iter(curLine, to.line + 1, function(line) {
          if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine) {
            updateMaxLine = true;
          }
          if (marker.collapsed && curLine != from.line) {
            updateLineHeight(line, 0);
          }
          addMarkedSpan(line, new MarkedSpan(
            marker,
            curLine == from.line ? from.ch : null,
            curLine == to.line ? to.ch : null
          ), doc2.cm && doc2.cm.curOp);
          ++curLine;
        });
        if (marker.collapsed) {
          doc2.iter(from.line, to.line + 1, function(line) {
            if (lineIsHidden(doc2, line)) {
              updateLineHeight(line, 0);
            }
          });
        }
        if (marker.clearOnEnter) {
          on(marker, "beforeCursorEnter", function() {
            return marker.clear();
          });
        }
        if (marker.readOnly) {
          seeReadOnlySpans();
          if (doc2.history.done.length || doc2.history.undone.length) {
            doc2.clearHistory();
          }
        }
        if (marker.collapsed) {
          marker.id = ++nextMarkerId;
          marker.atomic = true;
        }
        if (cm) {
          if (updateMaxLine) {
            cm.curOp.updateMaxLine = true;
          }
          if (marker.collapsed) {
            regChange(cm, from.line, to.line + 1);
          } else if (marker.className || marker.startStyle || marker.endStyle || marker.css || marker.attributes || marker.title) {
            for (var i2 = from.line; i2 <= to.line; i2++) {
              regLineChange(cm, i2, "text");
            }
          }
          if (marker.atomic) {
            reCheckSelection(cm.doc);
          }
          signalLater(cm, "markerAdded", cm, marker);
        }
        return marker;
      }
      var SharedTextMarker = function(markers, primary) {
        this.markers = markers;
        this.primary = primary;
        for (var i2 = 0; i2 < markers.length; ++i2) {
          markers[i2].parent = this;
        }
      };
      SharedTextMarker.prototype.clear = function() {
        if (this.explicitlyCleared) {
          return;
        }
        this.explicitlyCleared = true;
        for (var i2 = 0; i2 < this.markers.length; ++i2) {
          this.markers[i2].clear();
        }
        signalLater(this, "clear");
      };
      SharedTextMarker.prototype.find = function(side, lineObj) {
        return this.primary.find(side, lineObj);
      };
      eventMixin(SharedTextMarker);
      function markTextShared(doc2, from, to, options, type) {
        options = copyObj(options);
        options.shared = false;
        var markers = [markText(doc2, from, to, options, type)], primary = markers[0];
        var widget = options.widgetNode;
        linkedDocs(doc2, function(doc3) {
          if (widget) {
            options.widgetNode = widget.cloneNode(true);
          }
          markers.push(markText(doc3, clipPos(doc3, from), clipPos(doc3, to), options, type));
          for (var i2 = 0; i2 < doc3.linked.length; ++i2) {
            if (doc3.linked[i2].isParent) {
              return;
            }
          }
          primary = lst(markers);
        });
        return new SharedTextMarker(markers, primary);
      }
      function findSharedMarkers(doc2) {
        return doc2.findMarks(Pos(doc2.first, 0), doc2.clipPos(Pos(doc2.lastLine())), function(m) {
          return m.parent;
        });
      }
      function copySharedMarkers(doc2, markers) {
        for (var i2 = 0; i2 < markers.length; i2++) {
          var marker = markers[i2], pos = marker.find();
          var mFrom = doc2.clipPos(pos.from), mTo = doc2.clipPos(pos.to);
          if (cmp(mFrom, mTo)) {
            var subMark = markText(doc2, mFrom, mTo, marker.primary, marker.primary.type);
            marker.markers.push(subMark);
            subMark.parent = marker;
          }
        }
      }
      function detachSharedMarkers(markers) {
        var loop = function(i3) {
          var marker = markers[i3], linked = [marker.primary.doc];
          linkedDocs(marker.primary.doc, function(d) {
            return linked.push(d);
          });
          for (var j = 0; j < marker.markers.length; j++) {
            var subMarker = marker.markers[j];
            if (indexOf(linked, subMarker.doc) == -1) {
              subMarker.parent = null;
              marker.markers.splice(j--, 1);
            }
          }
        };
        for (var i2 = 0; i2 < markers.length; i2++) loop(i2);
      }
      var nextDocId = 0;
      var Doc = function(text, mode, firstLine, lineSep, direction) {
        if (!(this instanceof Doc)) {
          return new Doc(text, mode, firstLine, lineSep, direction);
        }
        if (firstLine == null) {
          firstLine = 0;
        }
        BranchChunk.call(this, [new LeafChunk([new Line("", null)])]);
        this.first = firstLine;
        this.scrollTop = this.scrollLeft = 0;
        this.cantEdit = false;
        this.cleanGeneration = 1;
        this.modeFrontier = this.highlightFrontier = firstLine;
        var start = Pos(firstLine, 0);
        this.sel = simpleSelection(start);
        this.history = new History(null);
        this.id = ++nextDocId;
        this.modeOption = mode;
        this.lineSep = lineSep;
        this.direction = direction == "rtl" ? "rtl" : "ltr";
        this.extend = false;
        if (typeof text == "string") {
          text = this.splitLines(text);
        }
        updateDoc(this, { from: start, to: start, text });
        setSelection(this, simpleSelection(start), sel_dontScroll);
      };
      Doc.prototype = createObj(BranchChunk.prototype, {
        constructor: Doc,
        // Iterate over the document. Supports two forms -- with only one
        // argument, it calls that for each line in the document. With
        // three, it iterates over the range given by the first two (with
        // the second being non-inclusive).
        iter: function(from, to, op) {
          if (op) {
            this.iterN(from - this.first, to - from, op);
          } else {
            this.iterN(this.first, this.first + this.size, from);
          }
        },
        // Non-public interface for adding and removing lines.
        insert: function(at, lines) {
          var height = 0;
          for (var i2 = 0; i2 < lines.length; ++i2) {
            height += lines[i2].height;
          }
          this.insertInner(at - this.first, lines, height);
        },
        remove: function(at, n) {
          this.removeInner(at - this.first, n);
        },
        // From here, the methods are part of the public interface. Most
        // are also available from CodeMirror (editor) instances.
        getValue: function(lineSep) {
          var lines = getLines(this, this.first, this.first + this.size);
          if (lineSep === false) {
            return lines;
          }
          return lines.join(lineSep || this.lineSeparator());
        },
        setValue: docMethodOp(function(code) {
          var top = Pos(this.first, 0), last = this.first + this.size - 1;
          makeChange(this, {
            from: top,
            to: Pos(last, getLine(this, last).text.length),
            text: this.splitLines(code),
            origin: "setValue",
            full: true
          }, true);
          if (this.cm) {
            scrollToCoords(this.cm, 0, 0);
          }
          setSelection(this, simpleSelection(top), sel_dontScroll);
        }),
        replaceRange: function(code, from, to, origin) {
          from = clipPos(this, from);
          to = to ? clipPos(this, to) : from;
          replaceRange(this, code, from, to, origin);
        },
        getRange: function(from, to, lineSep) {
          var lines = getBetween(this, clipPos(this, from), clipPos(this, to));
          if (lineSep === false) {
            return lines;
          }
          if (lineSep === "") {
            return lines.join("");
          }
          return lines.join(lineSep || this.lineSeparator());
        },
        getLine: function(line) {
          var l = this.getLineHandle(line);
          return l && l.text;
        },
        getLineHandle: function(line) {
          if (isLine(this, line)) {
            return getLine(this, line);
          }
        },
        getLineNumber: function(line) {
          return lineNo(line);
        },
        getLineHandleVisualStart: function(line) {
          if (typeof line == "number") {
            line = getLine(this, line);
          }
          return visualLine(line);
        },
        lineCount: function() {
          return this.size;
        },
        firstLine: function() {
          return this.first;
        },
        lastLine: function() {
          return this.first + this.size - 1;
        },
        clipPos: function(pos) {
          return clipPos(this, pos);
        },
        getCursor: function(start) {
          var range2 = this.sel.primary(), pos;
          if (start == null || start == "head") {
            pos = range2.head;
          } else if (start == "anchor") {
            pos = range2.anchor;
          } else if (start == "end" || start == "to" || start === false) {
            pos = range2.to();
          } else {
            pos = range2.from();
          }
          return pos;
        },
        listSelections: function() {
          return this.sel.ranges;
        },
        somethingSelected: function() {
          return this.sel.somethingSelected();
        },
        setCursor: docMethodOp(function(line, ch, options) {
          setSimpleSelection(this, clipPos(this, typeof line == "number" ? Pos(line, ch || 0) : line), null, options);
        }),
        setSelection: docMethodOp(function(anchor, head, options) {
          setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);
        }),
        extendSelection: docMethodOp(function(head, other, options) {
          extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);
        }),
        extendSelections: docMethodOp(function(heads, options) {
          extendSelections(this, clipPosArray(this, heads), options);
        }),
        extendSelectionsBy: docMethodOp(function(f, options) {
          var heads = map(this.sel.ranges, f);
          extendSelections(this, clipPosArray(this, heads), options);
        }),
        setSelections: docMethodOp(function(ranges, primary, options) {
          if (!ranges.length) {
            return;
          }
          var out = [];
          for (var i2 = 0; i2 < ranges.length; i2++) {
            out[i2] = new Range(
              clipPos(this, ranges[i2].anchor),
              clipPos(this, ranges[i2].head || ranges[i2].anchor)
            );
          }
          if (primary == null) {
            primary = Math.min(ranges.length - 1, this.sel.primIndex);
          }
          setSelection(this, normalizeSelection(this.cm, out, primary), options);
        }),
        addSelection: docMethodOp(function(anchor, head, options) {
          var ranges = this.sel.ranges.slice(0);
          ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));
          setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);
        }),
        getSelection: function(lineSep) {
          var ranges = this.sel.ranges, lines;
          for (var i2 = 0; i2 < ranges.length; i2++) {
            var sel = getBetween(this, ranges[i2].from(), ranges[i2].to());
            lines = lines ? lines.concat(sel) : sel;
          }
          if (lineSep === false) {
            return lines;
          } else {
            return lines.join(lineSep || this.lineSeparator());
          }
        },
        getSelections: function(lineSep) {
          var parts = [], ranges = this.sel.ranges;
          for (var i2 = 0; i2 < ranges.length; i2++) {
            var sel = getBetween(this, ranges[i2].from(), ranges[i2].to());
            if (lineSep !== false) {
              sel = sel.join(lineSep || this.lineSeparator());
            }
            parts[i2] = sel;
          }
          return parts;
        },
        replaceSelection: function(code, collapse, origin) {
          var dup = [];
          for (var i2 = 0; i2 < this.sel.ranges.length; i2++) {
            dup[i2] = code;
          }
          this.replaceSelections(dup, collapse, origin || "+input");
        },
        replaceSelections: docMethodOp(function(code, collapse, origin) {
          var changes = [], sel = this.sel;
          for (var i2 = 0; i2 < sel.ranges.length; i2++) {
            var range2 = sel.ranges[i2];
            changes[i2] = { from: range2.from(), to: range2.to(), text: this.splitLines(code[i2]), origin };
          }
          var newSel = collapse && collapse != "end" && computeReplacedSel(this, changes, collapse);
          for (var i$12 = changes.length - 1; i$12 >= 0; i$12--) {
            makeChange(this, changes[i$12]);
          }
          if (newSel) {
            setSelectionReplaceHistory(this, newSel);
          } else if (this.cm) {
            ensureCursorVisible(this.cm);
          }
        }),
        undo: docMethodOp(function() {
          makeChangeFromHistory(this, "undo");
        }),
        redo: docMethodOp(function() {
          makeChangeFromHistory(this, "redo");
        }),
        undoSelection: docMethodOp(function() {
          makeChangeFromHistory(this, "undo", true);
        }),
        redoSelection: docMethodOp(function() {
          makeChangeFromHistory(this, "redo", true);
        }),
        setExtending: function(val) {
          this.extend = val;
        },
        getExtending: function() {
          return this.extend;
        },
        historySize: function() {
          var hist = this.history, done = 0, undone = 0;
          for (var i2 = 0; i2 < hist.done.length; i2++) {
            if (!hist.done[i2].ranges) {
              ++done;
            }
          }
          for (var i$12 = 0; i$12 < hist.undone.length; i$12++) {
            if (!hist.undone[i$12].ranges) {
              ++undone;
            }
          }
          return { undo: done, redo: undone };
        },
        clearHistory: function() {
          var this$1$1 = this;
          this.history = new History(this.history);
          linkedDocs(this, function(doc2) {
            return doc2.history = this$1$1.history;
          }, true);
        },
        markClean: function() {
          this.cleanGeneration = this.changeGeneration(true);
        },
        changeGeneration: function(forceSplit) {
          if (forceSplit) {
            this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null;
          }
          return this.history.generation;
        },
        isClean: function(gen) {
          return this.history.generation == (gen || this.cleanGeneration);
        },
        getHistory: function() {
          return {
            done: copyHistoryArray(this.history.done),
            undone: copyHistoryArray(this.history.undone)
          };
        },
        setHistory: function(histData) {
          var hist = this.history = new History(this.history);
          hist.done = copyHistoryArray(histData.done.slice(0), null, true);
          hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);
        },
        setGutterMarker: docMethodOp(function(line, gutterID, value) {
          return changeLine(this, line, "gutter", function(line2) {
            var markers = line2.gutterMarkers || (line2.gutterMarkers = {});
            markers[gutterID] = value;
            if (!value && isEmpty(markers)) {
              line2.gutterMarkers = null;
            }
            return true;
          });
        }),
        clearGutter: docMethodOp(function(gutterID) {
          var this$1$1 = this;
          this.iter(function(line) {
            if (line.gutterMarkers && line.gutterMarkers[gutterID]) {
              changeLine(this$1$1, line, "gutter", function() {
                line.gutterMarkers[gutterID] = null;
                if (isEmpty(line.gutterMarkers)) {
                  line.gutterMarkers = null;
                }
                return true;
              });
            }
          });
        }),
        lineInfo: function(line) {
          var n;
          if (typeof line == "number") {
            if (!isLine(this, line)) {
              return null;
            }
            n = line;
            line = getLine(this, line);
            if (!line) {
              return null;
            }
          } else {
            n = lineNo(line);
            if (n == null) {
              return null;
            }
          }
          return {
            line: n,
            handle: line,
            text: line.text,
            gutterMarkers: line.gutterMarkers,
            textClass: line.textClass,
            bgClass: line.bgClass,
            wrapClass: line.wrapClass,
            widgets: line.widgets
          };
        },
        addLineClass: docMethodOp(function(handle, where, cls) {
          return changeLine(this, handle, where == "gutter" ? "gutter" : "class", function(line) {
            var prop2 = where == "text" ? "textClass" : where == "background" ? "bgClass" : where == "gutter" ? "gutterClass" : "wrapClass";
            if (!line[prop2]) {
              line[prop2] = cls;
            } else if (classTest(cls).test(line[prop2])) {
              return false;
            } else {
              line[prop2] += " " + cls;
            }
            return true;
          });
        }),
        removeLineClass: docMethodOp(function(handle, where, cls) {
          return changeLine(this, handle, where == "gutter" ? "gutter" : "class", function(line) {
            var prop2 = where == "text" ? "textClass" : where == "background" ? "bgClass" : where == "gutter" ? "gutterClass" : "wrapClass";
            var cur = line[prop2];
            if (!cur) {
              return false;
            } else if (cls == null) {
              line[prop2] = null;
            } else {
              var found = cur.match(classTest(cls));
              if (!found) {
                return false;
              }
              var end = found.index + found[0].length;
              line[prop2] = cur.slice(0, found.index) + (!found.index || end == cur.length ? "" : " ") + cur.slice(end) || null;
            }
            return true;
          });
        }),
        addLineWidget: docMethodOp(function(handle, node, options) {
          return addLineWidget(this, handle, node, options);
        }),
        removeLineWidget: function(widget) {
          widget.clear();
        },
        markText: function(from, to, options) {
          return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || "range");
        },
        setBookmark: function(pos, options) {
          var realOpts = {
            replacedWith: options && (options.nodeType == null ? options.widget : options),
            insertLeft: options && options.insertLeft,
            clearWhenEmpty: false,
            shared: options && options.shared,
            handleMouseEvents: options && options.handleMouseEvents
          };
          pos = clipPos(this, pos);
          return markText(this, pos, pos, realOpts, "bookmark");
        },
        findMarksAt: function(pos) {
          pos = clipPos(this, pos);
          var markers = [], spans = getLine(this, pos.line).markedSpans;
          if (spans) {
            for (var i2 = 0; i2 < spans.length; ++i2) {
              var span = spans[i2];
              if ((span.from == null || span.from <= pos.ch) && (span.to == null || span.to >= pos.ch)) {
                markers.push(span.marker.parent || span.marker);
              }
            }
          }
          return markers;
        },
        findMarks: function(from, to, filter) {
          from = clipPos(this, from);
          to = clipPos(this, to);
          var found = [], lineNo2 = from.line;
          this.iter(from.line, to.line + 1, function(line) {
            var spans = line.markedSpans;
            if (spans) {
              for (var i2 = 0; i2 < spans.length; i2++) {
                var span = spans[i2];
                if (!(span.to != null && lineNo2 == from.line && from.ch >= span.to || span.from == null && lineNo2 != from.line || span.from != null && lineNo2 == to.line && span.from >= to.ch) && (!filter || filter(span.marker))) {
                  found.push(span.marker.parent || span.marker);
                }
              }
            }
            ++lineNo2;
          });
          return found;
        },
        getAllMarks: function() {
          var markers = [];
          this.iter(function(line) {
            var sps = line.markedSpans;
            if (sps) {
              for (var i2 = 0; i2 < sps.length; ++i2) {
                if (sps[i2].from != null) {
                  markers.push(sps[i2].marker);
                }
              }
            }
          });
          return markers;
        },
        posFromIndex: function(off2) {
          var ch, lineNo2 = this.first, sepSize = this.lineSeparator().length;
          this.iter(function(line) {
            var sz = line.text.length + sepSize;
            if (sz > off2) {
              ch = off2;
              return true;
            }
            off2 -= sz;
            ++lineNo2;
          });
          return clipPos(this, Pos(lineNo2, ch));
        },
        indexFromPos: function(coords) {
          coords = clipPos(this, coords);
          var index = coords.ch;
          if (coords.line < this.first || coords.ch < 0) {
            return 0;
          }
          var sepSize = this.lineSeparator().length;
          this.iter(this.first, coords.line, function(line) {
            index += line.text.length + sepSize;
          });
          return index;
        },
        copy: function(copyHistory) {
          var doc2 = new Doc(
            getLines(this, this.first, this.first + this.size),
            this.modeOption,
            this.first,
            this.lineSep,
            this.direction
          );
          doc2.scrollTop = this.scrollTop;
          doc2.scrollLeft = this.scrollLeft;
          doc2.sel = this.sel;
          doc2.extend = false;
          if (copyHistory) {
            doc2.history.undoDepth = this.history.undoDepth;
            doc2.setHistory(this.getHistory());
          }
          return doc2;
        },
        linkedDoc: function(options) {
          if (!options) {
            options = {};
          }
          var from = this.first, to = this.first + this.size;
          if (options.from != null && options.from > from) {
            from = options.from;
          }
          if (options.to != null && options.to < to) {
            to = options.to;
          }
          var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);
          if (options.sharedHist) {
            copy.history = this.history;
          }
          (this.linked || (this.linked = [])).push({ doc: copy, sharedHist: options.sharedHist });
          copy.linked = [{ doc: this, isParent: true, sharedHist: options.sharedHist }];
          copySharedMarkers(copy, findSharedMarkers(this));
          return copy;
        },
        unlinkDoc: function(other) {
          if (other instanceof CodeMirror) {
            other = other.doc;
          }
          if (this.linked) {
            for (var i2 = 0; i2 < this.linked.length; ++i2) {
              var link = this.linked[i2];
              if (link.doc != other) {
                continue;
              }
              this.linked.splice(i2, 1);
              other.unlinkDoc(this);
              detachSharedMarkers(findSharedMarkers(this));
              break;
            }
          }
          if (other.history == this.history) {
            var splitIds = [other.id];
            linkedDocs(other, function(doc2) {
              return splitIds.push(doc2.id);
            }, true);
            other.history = new History(null);
            other.history.done = copyHistoryArray(this.history.done, splitIds);
            other.history.undone = copyHistoryArray(this.history.undone, splitIds);
          }
        },
        iterLinkedDocs: function(f) {
          linkedDocs(this, f);
        },
        getMode: function() {
          return this.mode;
        },
        getEditor: function() {
          return this.cm;
        },
        splitLines: function(str) {
          if (this.lineSep) {
            return str.split(this.lineSep);
          }
          return splitLinesAuto(str);
        },
        lineSeparator: function() {
          return this.lineSep || "\n";
        },
        setDirection: docMethodOp(function(dir) {
          if (dir != "rtl") {
            dir = "ltr";
          }
          if (dir == this.direction) {
            return;
          }
          this.direction = dir;
          this.iter(function(line) {
            return line.order = null;
          });
          if (this.cm) {
            directionChanged(this.cm);
          }
        })
      });
      Doc.prototype.eachLine = Doc.prototype.iter;
      var lastDrop = 0;
      function onDrop(e) {
        var cm = this;
        clearDragCursor(cm);
        if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) {
          return;
        }
        e_preventDefault(e);
        if (ie) {
          lastDrop = +/* @__PURE__ */ new Date();
        }
        var pos = posFromMouse(cm, e, true), files = e.dataTransfer.files;
        if (!pos || cm.isReadOnly()) {
          return;
        }
        if (files && files.length && window.FileReader && window.File) {
          var n = files.length, text = Array(n), read = 0;
          var markAsReadAndPasteIfAllFilesAreRead = function() {
            if (++read == n) {
              operation(cm, function() {
                pos = clipPos(cm.doc, pos);
                var change = {
                  from: pos,
                  to: pos,
                  text: cm.doc.splitLines(
                    text.filter(function(t) {
                      return t != null;
                    }).join(cm.doc.lineSeparator())
                  ),
                  origin: "paste"
                };
                makeChange(cm.doc, change);
                setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));
              })();
            }
          };
          var readTextFromFile = function(file, i3) {
            if (cm.options.allowDropFileTypes && indexOf(cm.options.allowDropFileTypes, file.type) == -1) {
              markAsReadAndPasteIfAllFilesAreRead();
              return;
            }
            var reader = new FileReader();
            reader.onerror = function() {
              return markAsReadAndPasteIfAllFilesAreRead();
            };
            reader.onload = function() {
              var content = reader.result;
              if (/[\x00-\x08\x0e-\x1f]{2}/.test(content)) {
                markAsReadAndPasteIfAllFilesAreRead();
                return;
              }
              text[i3] = content;
              markAsReadAndPasteIfAllFilesAreRead();
            };
            reader.readAsText(file);
          };
          for (var i2 = 0; i2 < files.length; i2++) {
            readTextFromFile(files[i2], i2);
          }
        } else {
          if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {
            cm.state.draggingText(e);
            setTimeout(function() {
              return cm.display.input.focus();
            }, 20);
            return;
          }
          try {
            var text$1 = e.dataTransfer.getData("Text");
            if (text$1) {
              var selected;
              if (cm.state.draggingText && !cm.state.draggingText.copy) {
                selected = cm.listSelections();
              }
              setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));
              if (selected) {
                for (var i$12 = 0; i$12 < selected.length; ++i$12) {
                  replaceRange(cm.doc, "", selected[i$12].anchor, selected[i$12].head, "drag");
                }
              }
              cm.replaceSelection(text$1, "around", "paste");
              cm.display.input.focus();
            }
          } catch (e$1) {
          }
        }
      }
      function onDragStart(cm, e) {
        if (ie && (!cm.state.draggingText || +/* @__PURE__ */ new Date() - lastDrop < 100)) {
          e_stop(e);
          return;
        }
        if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) {
          return;
        }
        e.dataTransfer.setData("Text", cm.getSelection());
        e.dataTransfer.effectAllowed = "copyMove";
        if (e.dataTransfer.setDragImage && !safari) {
          var img = elt("img", null, null, "position: fixed; left: 0; top: 0;");
          img.src = "data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==";
          if (presto) {
            img.width = img.height = 1;
            cm.display.wrapper.appendChild(img);
            img._top = img.offsetTop;
          }
          e.dataTransfer.setDragImage(img, 0, 0);
          if (presto) {
            img.parentNode.removeChild(img);
          }
        }
      }
      function onDragOver(cm, e) {
        var pos = posFromMouse(cm, e);
        if (!pos) {
          return;
        }
        var frag = document.createDocumentFragment();
        drawSelectionCursor(cm, pos, frag);
        if (!cm.display.dragCursor) {
          cm.display.dragCursor = elt("div", null, "CodeMirror-cursors CodeMirror-dragcursors");
          cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);
        }
        removeChildrenAndAdd(cm.display.dragCursor, frag);
      }
      function clearDragCursor(cm) {
        if (cm.display.dragCursor) {
          cm.display.lineSpace.removeChild(cm.display.dragCursor);
          cm.display.dragCursor = null;
        }
      }
      function forEachCodeMirror(f) {
        if (!document.getElementsByClassName) {
          return;
        }
        var byClass = document.getElementsByClassName("CodeMirror"), editors = [];
        for (var i2 = 0; i2 < byClass.length; i2++) {
          var cm = byClass[i2].CodeMirror;
          if (cm) {
            editors.push(cm);
          }
        }
        if (editors.length) {
          editors[0].operation(function() {
            for (var i3 = 0; i3 < editors.length; i3++) {
              f(editors[i3]);
            }
          });
        }
      }
      var globalsRegistered = false;
      function ensureGlobalHandlers() {
        if (globalsRegistered) {
          return;
        }
        registerGlobalHandlers();
        globalsRegistered = true;
      }
      function registerGlobalHandlers() {
        var resizeTimer;
        on(window, "resize", function() {
          if (resizeTimer == null) {
            resizeTimer = setTimeout(function() {
              resizeTimer = null;
              forEachCodeMirror(onResize);
            }, 100);
          }
        });
        on(window, "blur", function() {
          return forEachCodeMirror(onBlur);
        });
      }
      function onResize(cm) {
        var d = cm.display;
        d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;
        d.scrollbarsClipped = false;
        cm.setSize();
      }
      var keyNames = {
        3: "Pause",
        8: "Backspace",
        9: "Tab",
        13: "Enter",
        16: "Shift",
        17: "Ctrl",
        18: "Alt",
        19: "Pause",
        20: "CapsLock",
        27: "Esc",
        32: "Space",
        33: "PageUp",
        34: "PageDown",
        35: "End",
        36: "Home",
        37: "Left",
        38: "Up",
        39: "Right",
        40: "Down",
        44: "PrintScrn",
        45: "Insert",
        46: "Delete",
        59: ";",
        61: "=",
        91: "Mod",
        92: "Mod",
        93: "Mod",
        106: "*",
        107: "=",
        109: "-",
        110: ".",
        111: "/",
        145: "ScrollLock",
        173: "-",
        186: ";",
        187: "=",
        188: ",",
        189: "-",
        190: ".",
        191: "/",
        192: "`",
        219: "[",
        220: "\\",
        221: "]",
        222: "'",
        224: "Mod",
        63232: "Up",
        63233: "Down",
        63234: "Left",
        63235: "Right",
        63272: "Delete",
        63273: "Home",
        63275: "End",
        63276: "PageUp",
        63277: "PageDown",
        63302: "Insert"
      };
      for (var i = 0; i < 10; i++) {
        keyNames[i + 48] = keyNames[i + 96] = String(i);
      }
      for (var i$1 = 65; i$1 <= 90; i$1++) {
        keyNames[i$1] = String.fromCharCode(i$1);
      }
      for (var i$2 = 1; i$2 <= 12; i$2++) {
        keyNames[i$2 + 111] = keyNames[i$2 + 63235] = "F" + i$2;
      }
      var keyMap = {};
      keyMap.basic = {
        "Left": "goCharLeft",
        "Right": "goCharRight",
        "Up": "goLineUp",
        "Down": "goLineDown",
        "End": "goLineEnd",
        "Home": "goLineStartSmart",
        "PageUp": "goPageUp",
        "PageDown": "goPageDown",
        "Delete": "delCharAfter",
        "Backspace": "delCharBefore",
        "Shift-Backspace": "delCharBefore",
        "Tab": "defaultTab",
        "Shift-Tab": "indentAuto",
        "Enter": "newlineAndIndent",
        "Insert": "toggleOverwrite",
        "Esc": "singleSelection"
      };
      keyMap.pcDefault = {
        "Ctrl-A": "selectAll",
        "Ctrl-D": "deleteLine",
        "Ctrl-Z": "undo",
        "Shift-Ctrl-Z": "redo",
        "Ctrl-Y": "redo",
        "Ctrl-Home": "goDocStart",
        "Ctrl-End": "goDocEnd",
        "Ctrl-Up": "goLineUp",
        "Ctrl-Down": "goLineDown",
        "Ctrl-Left": "goGroupLeft",
        "Ctrl-Right": "goGroupRight",
        "Alt-Left": "goLineStart",
        "Alt-Right": "goLineEnd",
        "Ctrl-Backspace": "delGroupBefore",
        "Ctrl-Delete": "delGroupAfter",
        "Ctrl-S": "save",
        "Ctrl-F": "find",
        "Ctrl-G": "findNext",
        "Shift-Ctrl-G": "findPrev",
        "Shift-Ctrl-F": "replace",
        "Shift-Ctrl-R": "replaceAll",
        "Ctrl-[": "indentLess",
        "Ctrl-]": "indentMore",
        "Ctrl-U": "undoSelection",
        "Shift-Ctrl-U": "redoSelection",
        "Alt-U": "redoSelection",
        "fallthrough": "basic"
      };
      keyMap.emacsy = {
        "Ctrl-F": "goCharRight",
        "Ctrl-B": "goCharLeft",
        "Ctrl-P": "goLineUp",
        "Ctrl-N": "goLineDown",
        "Ctrl-A": "goLineStart",
        "Ctrl-E": "goLineEnd",
        "Ctrl-V": "goPageDown",
        "Shift-Ctrl-V": "goPageUp",
        "Ctrl-D": "delCharAfter",
        "Ctrl-H": "delCharBefore",
        "Alt-Backspace": "delWordBefore",
        "Ctrl-K": "killLine",
        "Ctrl-T": "transposeChars",
        "Ctrl-O": "openLine"
      };
      keyMap.macDefault = {
        "Cmd-A": "selectAll",
        "Cmd-D": "deleteLine",
        "Cmd-Z": "undo",
        "Shift-Cmd-Z": "redo",
        "Cmd-Y": "redo",
        "Cmd-Home": "goDocStart",
        "Cmd-Up": "goDocStart",
        "Cmd-End": "goDocEnd",
        "Cmd-Down": "goDocEnd",
        "Alt-Left": "goGroupLeft",
        "Alt-Right": "goGroupRight",
        "Cmd-Left": "goLineLeft",
        "Cmd-Right": "goLineRight",
        "Alt-Backspace": "delGroupBefore",
        "Ctrl-Alt-Backspace": "delGroupAfter",
        "Alt-Delete": "delGroupAfter",
        "Cmd-S": "save",
        "Cmd-F": "find",
        "Cmd-G": "findNext",
        "Shift-Cmd-G": "findPrev",
        "Cmd-Alt-F": "replace",
        "Shift-Cmd-Alt-F": "replaceAll",
        "Cmd-[": "indentLess",
        "Cmd-]": "indentMore",
        "Cmd-Backspace": "delWrappedLineLeft",
        "Cmd-Delete": "delWrappedLineRight",
        "Cmd-U": "undoSelection",
        "Shift-Cmd-U": "redoSelection",
        "Ctrl-Up": "goDocStart",
        "Ctrl-Down": "goDocEnd",
        "fallthrough": ["basic", "emacsy"]
      };
      keyMap["default"] = mac ? keyMap.macDefault : keyMap.pcDefault;
      function normalizeKeyName(name) {
        var parts = name.split(/-(?!$)/);
        name = parts[parts.length - 1];
        var alt, ctrl, shift, cmd;
        for (var i2 = 0; i2 < parts.length - 1; i2++) {
          var mod = parts[i2];
          if (/^(cmd|meta|m)$/i.test(mod)) {
            cmd = true;
          } else if (/^a(lt)?$/i.test(mod)) {
            alt = true;
          } else if (/^(c|ctrl|control)$/i.test(mod)) {
            ctrl = true;
          } else if (/^s(hift)?$/i.test(mod)) {
            shift = true;
          } else {
            throw new Error("Unrecognized modifier name: " + mod);
          }
        }
        if (alt) {
          name = "Alt-" + name;
        }
        if (ctrl) {
          name = "Ctrl-" + name;
        }
        if (cmd) {
          name = "Cmd-" + name;
        }
        if (shift) {
          name = "Shift-" + name;
        }
        return name;
      }
      function normalizeKeyMap(keymap) {
        var copy = {};
        for (var keyname in keymap) {
          if (keymap.hasOwnProperty(keyname)) {
            var value = keymap[keyname];
            if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) {
              continue;
            }
            if (value == "...") {
              delete keymap[keyname];
              continue;
            }
            var keys = map(keyname.split(" "), normalizeKeyName);
            for (var i2 = 0; i2 < keys.length; i2++) {
              var val = void 0, name = void 0;
              if (i2 == keys.length - 1) {
                name = keys.join(" ");
                val = value;
              } else {
                name = keys.slice(0, i2 + 1).join(" ");
                val = "...";
              }
              var prev = copy[name];
              if (!prev) {
                copy[name] = val;
              } else if (prev != val) {
                throw new Error("Inconsistent bindings for " + name);
              }
            }
            delete keymap[keyname];
          }
        }
        for (var prop2 in copy) {
          keymap[prop2] = copy[prop2];
        }
        return keymap;
      }
      function lookupKey(key, map2, handle, context) {
        map2 = getKeyMap(map2);
        var found = map2.call ? map2.call(key, context) : map2[key];
        if (found === false) {
          return "nothing";
        }
        if (found === "...") {
          return "multi";
        }
        if (found != null && handle(found)) {
          return "handled";
        }
        if (map2.fallthrough) {
          if (Object.prototype.toString.call(map2.fallthrough) != "[object Array]") {
            return lookupKey(key, map2.fallthrough, handle, context);
          }
          for (var i2 = 0; i2 < map2.fallthrough.length; i2++) {
            var result = lookupKey(key, map2.fallthrough[i2], handle, context);
            if (result) {
              return result;
            }
          }
        }
      }
      function isModifierKey(value) {
        var name = typeof value == "string" ? value : keyNames[value.keyCode];
        return name == "Ctrl" || name == "Alt" || name == "Shift" || name == "Mod";
      }
      function addModifierNames(name, event, noShift) {
        var base = name;
        if (event.altKey && base != "Alt") {
          name = "Alt-" + name;
        }
        if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != "Ctrl") {
          name = "Ctrl-" + name;
        }
        if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != "Mod") {
          name = "Cmd-" + name;
        }
        if (!noShift && event.shiftKey && base != "Shift") {
          name = "Shift-" + name;
        }
        return name;
      }
      function keyName(event, noShift) {
        if (presto && event.keyCode == 34 && event["char"]) {
          return false;
        }
        var name = keyNames[event.keyCode];
        if (name == null || event.altGraphKey) {
          return false;
        }
        if (event.keyCode == 3 && event.code) {
          name = event.code;
        }
        return addModifierNames(name, event, noShift);
      }
      function getKeyMap(val) {
        return typeof val == "string" ? keyMap[val] : val;
      }
      function deleteNearSelection(cm, compute) {
        var ranges = cm.doc.sel.ranges, kill = [];
        for (var i2 = 0; i2 < ranges.length; i2++) {
          var toKill = compute(ranges[i2]);
          while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {
            var replaced = kill.pop();
            if (cmp(replaced.from, toKill.from) < 0) {
              toKill.from = replaced.from;
              break;
            }
          }
          kill.push(toKill);
        }
        runInOp(cm, function() {
          for (var i3 = kill.length - 1; i3 >= 0; i3--) {
            replaceRange(cm.doc, "", kill[i3].from, kill[i3].to, "+delete");
          }
          ensureCursorVisible(cm);
        });
      }
      function moveCharLogically(line, ch, dir) {
        var target = skipExtendingChars(line.text, ch + dir, dir);
        return target < 0 || target > line.text.length ? null : target;
      }
      function moveLogically(line, start, dir) {
        var ch = moveCharLogically(line, start.ch, dir);
        return ch == null ? null : new Pos(start.line, ch, dir < 0 ? "after" : "before");
      }
      function endOfLine(visually, cm, lineObj, lineNo2, dir) {
        if (visually) {
          if (cm.doc.direction == "rtl") {
            dir = -dir;
          }
          var order = getOrder(lineObj, cm.doc.direction);
          if (order) {
            var part = dir < 0 ? lst(order) : order[0];
            var moveInStorageOrder = dir < 0 == (part.level == 1);
            var sticky = moveInStorageOrder ? "after" : "before";
            var ch;
            if (part.level > 0 || cm.doc.direction == "rtl") {
              var prep = prepareMeasureForLine(cm, lineObj);
              ch = dir < 0 ? lineObj.text.length - 1 : 0;
              var targetTop = measureCharPrepared(cm, prep, ch).top;
              ch = findFirst(function(ch2) {
                return measureCharPrepared(cm, prep, ch2).top == targetTop;
              }, dir < 0 == (part.level == 1) ? part.from : part.to - 1, ch);
              if (sticky == "before") {
                ch = moveCharLogically(lineObj, ch, 1);
              }
            } else {
              ch = dir < 0 ? part.to : part.from;
            }
            return new Pos(lineNo2, ch, sticky);
          }
        }
        return new Pos(lineNo2, dir < 0 ? lineObj.text.length : 0, dir < 0 ? "before" : "after");
      }
      function moveVisually(cm, line, start, dir) {
        var bidi = getOrder(line, cm.doc.direction);
        if (!bidi) {
          return moveLogically(line, start, dir);
        }
        if (start.ch >= line.text.length) {
          start.ch = line.text.length;
          start.sticky = "before";
        } else if (start.ch <= 0) {
          start.ch = 0;
          start.sticky = "after";
        }
        var partPos = getBidiPartAt(bidi, start.ch, start.sticky), part = bidi[partPos];
        if (cm.doc.direction == "ltr" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {
          return moveLogically(line, start, dir);
        }
        var mv = function(pos, dir2) {
          return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir2);
        };
        var prep;
        var getWrappedLineExtent = function(ch2) {
          if (!cm.options.lineWrapping) {
            return { begin: 0, end: line.text.length };
          }
          prep = prep || prepareMeasureForLine(cm, line);
          return wrappedLineExtentChar(cm, line, prep, ch2);
        };
        var wrappedLineExtent2 = getWrappedLineExtent(start.sticky == "before" ? mv(start, -1) : start.ch);
        if (cm.doc.direction == "rtl" || part.level == 1) {
          var moveInStorageOrder = part.level == 1 == dir < 0;
          var ch = mv(start, moveInStorageOrder ? 1 : -1);
          if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent2.begin : ch <= part.to && ch <= wrappedLineExtent2.end)) {
            var sticky = moveInStorageOrder ? "before" : "after";
            return new Pos(start.line, ch, sticky);
          }
        }
        var searchInVisualLine = function(partPos2, dir2, wrappedLineExtent3) {
          var getRes = function(ch3, moveInStorageOrder3) {
            return moveInStorageOrder3 ? new Pos(start.line, mv(ch3, 1), "before") : new Pos(start.line, ch3, "after");
          };
          for (; partPos2 >= 0 && partPos2 < bidi.length; partPos2 += dir2) {
            var part2 = bidi[partPos2];
            var moveInStorageOrder2 = dir2 > 0 == (part2.level != 1);
            var ch2 = moveInStorageOrder2 ? wrappedLineExtent3.begin : mv(wrappedLineExtent3.end, -1);
            if (part2.from <= ch2 && ch2 < part2.to) {
              return getRes(ch2, moveInStorageOrder2);
            }
            ch2 = moveInStorageOrder2 ? part2.from : mv(part2.to, -1);
            if (wrappedLineExtent3.begin <= ch2 && ch2 < wrappedLineExtent3.end) {
              return getRes(ch2, moveInStorageOrder2);
            }
          }
        };
        var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent2);
        if (res) {
          return res;
        }
        var nextCh = dir > 0 ? wrappedLineExtent2.end : mv(wrappedLineExtent2.begin, -1);
        if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {
          res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));
          if (res) {
            return res;
          }
        }
        return null;
      }
      var commands = {
        selectAll,
        singleSelection: function(cm) {
          return cm.setSelection(cm.getCursor("anchor"), cm.getCursor("head"), sel_dontScroll);
        },
        killLine: function(cm) {
          return deleteNearSelection(cm, function(range2) {
            if (range2.empty()) {
              var len = getLine(cm.doc, range2.head.line).text.length;
              if (range2.head.ch == len && range2.head.line < cm.lastLine()) {
                return { from: range2.head, to: Pos(range2.head.line + 1, 0) };
              } else {
                return { from: range2.head, to: Pos(range2.head.line, len) };
              }
            } else {
              return { from: range2.from(), to: range2.to() };
            }
          });
        },
        deleteLine: function(cm) {
          return deleteNearSelection(cm, function(range2) {
            return {
              from: Pos(range2.from().line, 0),
              to: clipPos(cm.doc, Pos(range2.to().line + 1, 0))
            };
          });
        },
        delLineLeft: function(cm) {
          return deleteNearSelection(cm, function(range2) {
            return {
              from: Pos(range2.from().line, 0),
              to: range2.from()
            };
          });
        },
        delWrappedLineLeft: function(cm) {
          return deleteNearSelection(cm, function(range2) {
            var top = cm.charCoords(range2.head, "div").top + 5;
            var leftPos = cm.coordsChar({ left: 0, top }, "div");
            return { from: leftPos, to: range2.from() };
          });
        },
        delWrappedLineRight: function(cm) {
          return deleteNearSelection(cm, function(range2) {
            var top = cm.charCoords(range2.head, "div").top + 5;
            var rightPos = cm.coordsChar({ left: cm.display.lineDiv.offsetWidth + 100, top }, "div");
            return { from: range2.from(), to: rightPos };
          });
        },
        undo: function(cm) {
          return cm.undo();
        },
        redo: function(cm) {
          return cm.redo();
        },
        undoSelection: function(cm) {
          return cm.undoSelection();
        },
        redoSelection: function(cm) {
          return cm.redoSelection();
        },
        goDocStart: function(cm) {
          return cm.extendSelection(Pos(cm.firstLine(), 0));
        },
        goDocEnd: function(cm) {
          return cm.extendSelection(Pos(cm.lastLine()));
        },
        goLineStart: function(cm) {
          return cm.extendSelectionsBy(
            function(range2) {
              return lineStart(cm, range2.head.line);
            },
            { origin: "+move", bias: 1 }
          );
        },
        goLineStartSmart: function(cm) {
          return cm.extendSelectionsBy(
            function(range2) {
              return lineStartSmart(cm, range2.head);
            },
            { origin: "+move", bias: 1 }
          );
        },
        goLineEnd: function(cm) {
          return cm.extendSelectionsBy(
            function(range2) {
              return lineEnd(cm, range2.head.line);
            },
            { origin: "+move", bias: -1 }
          );
        },
        goLineRight: function(cm) {
          return cm.extendSelectionsBy(function(range2) {
            var top = cm.cursorCoords(range2.head, "div").top + 5;
            return cm.coordsChar({ left: cm.display.lineDiv.offsetWidth + 100, top }, "div");
          }, sel_move);
        },
        goLineLeft: function(cm) {
          return cm.extendSelectionsBy(function(range2) {
            var top = cm.cursorCoords(range2.head, "div").top + 5;
            return cm.coordsChar({ left: 0, top }, "div");
          }, sel_move);
        },
        goLineLeftSmart: function(cm) {
          return cm.extendSelectionsBy(function(range2) {
            var top = cm.cursorCoords(range2.head, "div").top + 5;
            var pos = cm.coordsChar({ left: 0, top }, "div");
            if (pos.ch < cm.getLine(pos.line).search(/\S/)) {
              return lineStartSmart(cm, range2.head);
            }
            return pos;
          }, sel_move);
        },
        goLineUp: function(cm) {
          return cm.moveV(-1, "line");
        },
        goLineDown: function(cm) {
          return cm.moveV(1, "line");
        },
        goPageUp: function(cm) {
          return cm.moveV(-1, "page");
        },
        goPageDown: function(cm) {
          return cm.moveV(1, "page");
        },
        goCharLeft: function(cm) {
          return cm.moveH(-1, "char");
        },
        goCharRight: function(cm) {
          return cm.moveH(1, "char");
        },
        goColumnLeft: function(cm) {
          return cm.moveH(-1, "column");
        },
        goColumnRight: function(cm) {
          return cm.moveH(1, "column");
        },
        goWordLeft: function(cm) {
          return cm.moveH(-1, "word");
        },
        goGroupRight: function(cm) {
          return cm.moveH(1, "group");
        },
        goGroupLeft: function(cm) {
          return cm.moveH(-1, "group");
        },
        goWordRight: function(cm) {
          return cm.moveH(1, "word");
        },
        delCharBefore: function(cm) {
          return cm.deleteH(-1, "codepoint");
        },
        delCharAfter: function(cm) {
          return cm.deleteH(1, "char");
        },
        delWordBefore: function(cm) {
          return cm.deleteH(-1, "word");
        },
        delWordAfter: function(cm) {
          return cm.deleteH(1, "word");
        },
        delGroupBefore: function(cm) {
          return cm.deleteH(-1, "group");
        },
        delGroupAfter: function(cm) {
          return cm.deleteH(1, "group");
        },
        indentAuto: function(cm) {
          return cm.indentSelection("smart");
        },
        indentMore: function(cm) {
          return cm.indentSelection("add");
        },
        indentLess: function(cm) {
          return cm.indentSelection("subtract");
        },
        insertTab: function(cm) {
          return cm.replaceSelection("	");
        },
        insertSoftTab: function(cm) {
          var spaces = [], ranges = cm.listSelections(), tabSize = cm.options.tabSize;
          for (var i2 = 0; i2 < ranges.length; i2++) {
            var pos = ranges[i2].from();
            var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);
            spaces.push(spaceStr(tabSize - col % tabSize));
          }
          cm.replaceSelections(spaces);
        },
        defaultTab: function(cm) {
          if (cm.somethingSelected()) {
            cm.indentSelection("add");
          } else {
            cm.execCommand("insertTab");
          }
        },
        // Swap the two chars left and right of each selection's head.
        // Move cursor behind the two swapped characters afterwards.
        //
        // Doesn't consider line feeds a character.
        // Doesn't scan more than one line above to find a character.
        // Doesn't do anything on an empty line.
        // Doesn't do anything with non-empty selections.
        transposeChars: function(cm) {
          return runInOp(cm, function() {
            var ranges = cm.listSelections(), newSel = [];
            for (var i2 = 0; i2 < ranges.length; i2++) {
              if (!ranges[i2].empty()) {
                continue;
              }
              var cur = ranges[i2].head, line = getLine(cm.doc, cur.line).text;
              if (line) {
                if (cur.ch == line.length) {
                  cur = new Pos(cur.line, cur.ch - 1);
                }
                if (cur.ch > 0) {
                  cur = new Pos(cur.line, cur.ch + 1);
                  cm.replaceRange(
                    line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2),
                    Pos(cur.line, cur.ch - 2),
                    cur,
                    "+transpose"
                  );
                } else if (cur.line > cm.doc.first) {
                  var prev = getLine(cm.doc, cur.line - 1).text;
                  if (prev) {
                    cur = new Pos(cur.line, 1);
                    cm.replaceRange(
                      line.charAt(0) + cm.doc.lineSeparator() + prev.charAt(prev.length - 1),
                      Pos(cur.line - 1, prev.length - 1),
                      cur,
                      "+transpose"
                    );
                  }
                }
              }
              newSel.push(new Range(cur, cur));
            }
            cm.setSelections(newSel);
          });
        },
        newlineAndIndent: function(cm) {
          return runInOp(cm, function() {
            var sels = cm.listSelections();
            for (var i2 = sels.length - 1; i2 >= 0; i2--) {
              cm.replaceRange(cm.doc.lineSeparator(), sels[i2].anchor, sels[i2].head, "+input");
            }
            sels = cm.listSelections();
            for (var i$12 = 0; i$12 < sels.length; i$12++) {
              cm.indentLine(sels[i$12].from().line, null, true);
            }
            ensureCursorVisible(cm);
          });
        },
        openLine: function(cm) {
          return cm.replaceSelection("\n", "start");
        },
        toggleOverwrite: function(cm) {
          return cm.toggleOverwrite();
        }
      };
      function lineStart(cm, lineN) {
        var line = getLine(cm.doc, lineN);
        var visual = visualLine(line);
        if (visual != line) {
          lineN = lineNo(visual);
        }
        return endOfLine(true, cm, visual, lineN, 1);
      }
      function lineEnd(cm, lineN) {
        var line = getLine(cm.doc, lineN);
        var visual = visualLineEnd(line);
        if (visual != line) {
          lineN = lineNo(visual);
        }
        return endOfLine(true, cm, line, lineN, -1);
      }
      function lineStartSmart(cm, pos) {
        var start = lineStart(cm, pos.line);
        var line = getLine(cm.doc, start.line);
        var order = getOrder(line, cm.doc.direction);
        if (!order || order[0].level == 0) {
          var firstNonWS = Math.max(start.ch, line.text.search(/\S/));
          var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;
          return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky);
        }
        return start;
      }
      function doHandleBinding(cm, bound, dropShift) {
        if (typeof bound == "string") {
          bound = commands[bound];
          if (!bound) {
            return false;
          }
        }
        cm.display.input.ensurePolled();
        var prevShift = cm.display.shift, done = false;
        try {
          if (cm.isReadOnly()) {
            cm.state.suppressEdits = true;
          }
          if (dropShift) {
            cm.display.shift = false;
          }
          done = bound(cm) != Pass;
        } finally {
          cm.display.shift = prevShift;
          cm.state.suppressEdits = false;
        }
        return done;
      }
      function lookupKeyForEditor(cm, name, handle) {
        for (var i2 = 0; i2 < cm.state.keyMaps.length; i2++) {
          var result = lookupKey(name, cm.state.keyMaps[i2], handle, cm);
          if (result) {
            return result;
          }
        }
        return cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm) || lookupKey(name, cm.options.keyMap, handle, cm);
      }
      var stopSeq = new Delayed();
      function dispatchKey(cm, name, e, handle) {
        var seq = cm.state.keySeq;
        if (seq) {
          if (isModifierKey(name)) {
            return "handled";
          }
          if (/\'$/.test(name)) {
            cm.state.keySeq = null;
          } else {
            stopSeq.set(50, function() {
              if (cm.state.keySeq == seq) {
                cm.state.keySeq = null;
                cm.display.input.reset();
              }
            });
          }
          if (dispatchKeyInner(cm, seq + " " + name, e, handle)) {
            return true;
          }
        }
        return dispatchKeyInner(cm, name, e, handle);
      }
      function dispatchKeyInner(cm, name, e, handle) {
        var result = lookupKeyForEditor(cm, name, handle);
        if (result == "multi") {
          cm.state.keySeq = name;
        }
        if (result == "handled") {
          signalLater(cm, "keyHandled", cm, name, e);
        }
        if (result == "handled" || result == "multi") {
          e_preventDefault(e);
          restartBlink(cm);
        }
        return !!result;
      }
      function handleKeyBinding(cm, e) {
        var name = keyName(e, true);
        if (!name) {
          return false;
        }
        if (e.shiftKey && !cm.state.keySeq) {
          return dispatchKey(cm, "Shift-" + name, e, function(b) {
            return doHandleBinding(cm, b, true);
          }) || dispatchKey(cm, name, e, function(b) {
            if (typeof b == "string" ? /^go[A-Z]/.test(b) : b.motion) {
              return doHandleBinding(cm, b);
            }
          });
        } else {
          return dispatchKey(cm, name, e, function(b) {
            return doHandleBinding(cm, b);
          });
        }
      }
      function handleCharBinding(cm, e, ch) {
        return dispatchKey(cm, "'" + ch + "'", e, function(b) {
          return doHandleBinding(cm, b, true);
        });
      }
      var lastStoppedKey = null;
      function onKeyDown(e) {
        var cm = this;
        if (e.target && e.target != cm.display.input.getField()) {
          return;
        }
        cm.curOp.focus = activeElt(root(cm));
        if (signalDOMEvent(cm, e)) {
          return;
        }
        if (ie && ie_version < 11 && e.keyCode == 27) {
          e.returnValue = false;
        }
        var code = e.keyCode;
        cm.display.shift = code == 16 || e.shiftKey;
        var handled = handleKeyBinding(cm, e);
        if (presto) {
          lastStoppedKey = handled ? code : null;
          if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey)) {
            cm.replaceSelection("", null, "cut");
          }
        }
        if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand) {
          document.execCommand("cut");
        }
        if (code == 18 && !/\bCodeMirror-crosshair\b/.test(cm.display.lineDiv.className)) {
          showCrossHair(cm);
        }
      }
      function showCrossHair(cm) {
        var lineDiv = cm.display.lineDiv;
        addClass(lineDiv, "CodeMirror-crosshair");
        function up(e) {
          if (e.keyCode == 18 || !e.altKey) {
            rmClass(lineDiv, "CodeMirror-crosshair");
            off(document, "keyup", up);
            off(document, "mouseover", up);
          }
        }
        on(document, "keyup", up);
        on(document, "mouseover", up);
      }
      function onKeyUp(e) {
        if (e.keyCode == 16) {
          this.doc.sel.shift = false;
        }
        signalDOMEvent(this, e);
      }
      function onKeyPress(e) {
        var cm = this;
        if (e.target && e.target != cm.display.input.getField()) {
          return;
        }
        if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) {
          return;
        }
        var keyCode = e.keyCode, charCode = e.charCode;
        if (presto && keyCode == lastStoppedKey) {
          lastStoppedKey = null;
          e_preventDefault(e);
          return;
        }
        if (presto && (!e.which || e.which < 10) && handleKeyBinding(cm, e)) {
          return;
        }
        var ch = String.fromCharCode(charCode == null ? keyCode : charCode);
        if (ch == "\b") {
          return;
        }
        if (handleCharBinding(cm, e, ch)) {
          return;
        }
        cm.display.input.onKeyPress(e);
      }
      var DOUBLECLICK_DELAY = 400;
      var PastClick = function(time, pos, button) {
        this.time = time;
        this.pos = pos;
        this.button = button;
      };
      PastClick.prototype.compare = function(time, pos, button) {
        return this.time + DOUBLECLICK_DELAY > time && cmp(pos, this.pos) == 0 && button == this.button;
      };
      var lastClick, lastDoubleClick;
      function clickRepeat(pos, button) {
        var now = +/* @__PURE__ */ new Date();
        if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {
          lastClick = lastDoubleClick = null;
          return "triple";
        } else if (lastClick && lastClick.compare(now, pos, button)) {
          lastDoubleClick = new PastClick(now, pos, button);
          lastClick = null;
          return "double";
        } else {
          lastClick = new PastClick(now, pos, button);
          lastDoubleClick = null;
          return "single";
        }
      }
      function onMouseDown(e) {
        var cm = this, display = cm.display;
        if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) {
          return;
        }
        display.input.ensurePolled();
        display.shift = e.shiftKey;
        if (eventInWidget(display, e)) {
          if (!webkit) {
            display.scroller.draggable = false;
            setTimeout(function() {
              return display.scroller.draggable = true;
            }, 100);
          }
          return;
        }
        if (clickInGutter(cm, e)) {
          return;
        }
        var pos = posFromMouse(cm, e), button = e_button(e), repeat = pos ? clickRepeat(pos, button) : "single";
        win(cm).focus();
        if (button == 1 && cm.state.selectingText) {
          cm.state.selectingText(e);
        }
        if (pos && handleMappedButton(cm, button, pos, repeat, e)) {
          return;
        }
        if (button == 1) {
          if (pos) {
            leftButtonDown(cm, pos, repeat, e);
          } else if (e_target(e) == display.scroller) {
            e_preventDefault(e);
          }
        } else if (button == 2) {
          if (pos) {
            extendSelection(cm.doc, pos);
          }
          setTimeout(function() {
            return display.input.focus();
          }, 20);
        } else if (button == 3) {
          if (captureRightClick) {
            cm.display.input.onContextMenu(e);
          } else {
            delayBlurEvent(cm);
          }
        }
      }
      function handleMappedButton(cm, button, pos, repeat, event) {
        var name = "Click";
        if (repeat == "double") {
          name = "Double" + name;
        } else if (repeat == "triple") {
          name = "Triple" + name;
        }
        name = (button == 1 ? "Left" : button == 2 ? "Middle" : "Right") + name;
        return dispatchKey(cm, addModifierNames(name, event), event, function(bound) {
          if (typeof bound == "string") {
            bound = commands[bound];
          }
          if (!bound) {
            return false;
          }
          var done = false;
          try {
            if (cm.isReadOnly()) {
              cm.state.suppressEdits = true;
            }
            done = bound(cm, pos) != Pass;
          } finally {
            cm.state.suppressEdits = false;
          }
          return done;
        });
      }
      function configureMouse(cm, repeat, event) {
        var option = cm.getOption("configureMouse");
        var value = option ? option(cm, repeat, event) : {};
        if (value.unit == null) {
          var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;
          value.unit = rect ? "rectangle" : repeat == "single" ? "char" : repeat == "double" ? "word" : "line";
        }
        if (value.extend == null || cm.doc.extend) {
          value.extend = cm.doc.extend || event.shiftKey;
        }
        if (value.addNew == null) {
          value.addNew = mac ? event.metaKey : event.ctrlKey;
        }
        if (value.moveOnDrag == null) {
          value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey);
        }
        return value;
      }
      function leftButtonDown(cm, pos, repeat, event) {
        if (ie) {
          setTimeout(bind(ensureFocus, cm), 0);
        } else {
          cm.curOp.focus = activeElt(root(cm));
        }
        var behavior = configureMouse(cm, repeat, event);
        var sel = cm.doc.sel, contained;
        if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() && repeat == "single" && (contained = sel.contains(pos)) > -1 && (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) && (cmp(contained.to(), pos) > 0 || pos.xRel < 0)) {
          leftButtonStartDrag(cm, event, pos, behavior);
        } else {
          leftButtonSelect(cm, event, pos, behavior);
        }
      }
      function leftButtonStartDrag(cm, event, pos, behavior) {
        var display = cm.display, moved = false;
        var dragEnd = operation(cm, function(e) {
          if (webkit) {
            display.scroller.draggable = false;
          }
          cm.state.draggingText = false;
          if (cm.state.delayingBlurEvent) {
            if (cm.hasFocus()) {
              cm.state.delayingBlurEvent = false;
            } else {
              delayBlurEvent(cm);
            }
          }
          off(display.wrapper.ownerDocument, "mouseup", dragEnd);
          off(display.wrapper.ownerDocument, "mousemove", mouseMove);
          off(display.scroller, "dragstart", dragStart);
          off(display.scroller, "drop", dragEnd);
          if (!moved) {
            e_preventDefault(e);
            if (!behavior.addNew) {
              extendSelection(cm.doc, pos, null, null, behavior.extend);
            }
            if (webkit && !safari || ie && ie_version == 9) {
              setTimeout(function() {
                display.wrapper.ownerDocument.body.focus({ preventScroll: true });
                display.input.focus();
              }, 20);
            } else {
              display.input.focus();
            }
          }
        });
        var mouseMove = function(e2) {
          moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;
        };
        var dragStart = function() {
          return moved = true;
        };
        if (webkit) {
          display.scroller.draggable = true;
        }
        cm.state.draggingText = dragEnd;
        dragEnd.copy = !behavior.moveOnDrag;
        on(display.wrapper.ownerDocument, "mouseup", dragEnd);
        on(display.wrapper.ownerDocument, "mousemove", mouseMove);
        on(display.scroller, "dragstart", dragStart);
        on(display.scroller, "drop", dragEnd);
        cm.state.delayingBlurEvent = true;
        setTimeout(function() {
          return display.input.focus();
        }, 20);
        if (display.scroller.dragDrop) {
          display.scroller.dragDrop();
        }
      }
      function rangeForUnit(cm, pos, unit) {
        if (unit == "char") {
          return new Range(pos, pos);
        }
        if (unit == "word") {
          return cm.findWordAt(pos);
        }
        if (unit == "line") {
          return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0)));
        }
        var result = unit(cm, pos);
        return new Range(result.from, result.to);
      }
      function leftButtonSelect(cm, event, start, behavior) {
        if (ie) {
          delayBlurEvent(cm);
        }
        var display = cm.display, doc2 = cm.doc;
        e_preventDefault(event);
        var ourRange, ourIndex, startSel = doc2.sel, ranges = startSel.ranges;
        if (behavior.addNew && !behavior.extend) {
          ourIndex = doc2.sel.contains(start);
          if (ourIndex > -1) {
            ourRange = ranges[ourIndex];
          } else {
            ourRange = new Range(start, start);
          }
        } else {
          ourRange = doc2.sel.primary();
          ourIndex = doc2.sel.primIndex;
        }
        if (behavior.unit == "rectangle") {
          if (!behavior.addNew) {
            ourRange = new Range(start, start);
          }
          start = posFromMouse(cm, event, true, true);
          ourIndex = -1;
        } else {
          var range2 = rangeForUnit(cm, start, behavior.unit);
          if (behavior.extend) {
            ourRange = extendRange(ourRange, range2.anchor, range2.head, behavior.extend);
          } else {
            ourRange = range2;
          }
        }
        if (!behavior.addNew) {
          ourIndex = 0;
          setSelection(doc2, new Selection([ourRange], 0), sel_mouse);
          startSel = doc2.sel;
        } else if (ourIndex == -1) {
          ourIndex = ranges.length;
          setSelection(
            doc2,
            normalizeSelection(cm, ranges.concat([ourRange]), ourIndex),
            { scroll: false, origin: "*mouse" }
          );
        } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == "char" && !behavior.extend) {
          setSelection(
            doc2,
            normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0),
            { scroll: false, origin: "*mouse" }
          );
          startSel = doc2.sel;
        } else {
          replaceOneSelection(doc2, ourIndex, ourRange, sel_mouse);
        }
        var lastPos = start;
        function extendTo(pos) {
          if (cmp(lastPos, pos) == 0) {
            return;
          }
          lastPos = pos;
          if (behavior.unit == "rectangle") {
            var ranges2 = [], tabSize = cm.options.tabSize;
            var startCol = countColumn(getLine(doc2, start.line).text, start.ch, tabSize);
            var posCol = countColumn(getLine(doc2, pos.line).text, pos.ch, tabSize);
            var left = Math.min(startCol, posCol), right = Math.max(startCol, posCol);
            for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line)); line <= end; line++) {
              var text = getLine(doc2, line).text, leftPos = findColumn(text, left, tabSize);
              if (left == right) {
                ranges2.push(new Range(Pos(line, leftPos), Pos(line, leftPos)));
              } else if (text.length > leftPos) {
                ranges2.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize))));
              }
            }
            if (!ranges2.length) {
              ranges2.push(new Range(start, start));
            }
            setSelection(
              doc2,
              normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges2), ourIndex),
              { origin: "*mouse", scroll: false }
            );
            cm.scrollIntoView(pos);
          } else {
            var oldRange = ourRange;
            var range3 = rangeForUnit(cm, pos, behavior.unit);
            var anchor = oldRange.anchor, head;
            if (cmp(range3.anchor, anchor) > 0) {
              head = range3.head;
              anchor = minPos(oldRange.from(), range3.anchor);
            } else {
              head = range3.anchor;
              anchor = maxPos(oldRange.to(), range3.head);
            }
            var ranges$1 = startSel.ranges.slice(0);
            ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc2, anchor), head));
            setSelection(doc2, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);
          }
        }
        var editorSize = display.wrapper.getBoundingClientRect();
        var counter = 0;
        function extend(e) {
          var curCount = ++counter;
          var cur = posFromMouse(cm, e, true, behavior.unit == "rectangle");
          if (!cur) {
            return;
          }
          if (cmp(cur, lastPos) != 0) {
            cm.curOp.focus = activeElt(root(cm));
            extendTo(cur);
            var visible = visibleLines(display, doc2);
            if (cur.line >= visible.to || cur.line < visible.from) {
              setTimeout(operation(cm, function() {
                if (counter == curCount) {
                  extend(e);
                }
              }), 150);
            }
          } else {
            var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;
            if (outside) {
              setTimeout(operation(cm, function() {
                if (counter != curCount) {
                  return;
                }
                display.scroller.scrollTop += outside;
                extend(e);
              }), 50);
            }
          }
        }
        function done(e) {
          cm.state.selectingText = false;
          counter = Infinity;
          if (e) {
            e_preventDefault(e);
            display.input.focus();
          }
          off(display.wrapper.ownerDocument, "mousemove", move);
          off(display.wrapper.ownerDocument, "mouseup", up);
          doc2.history.lastSelOrigin = null;
        }
        var move = operation(cm, function(e) {
          if (e.buttons === 0 || !e_button(e)) {
            done(e);
          } else {
            extend(e);
          }
        });
        var up = operation(cm, done);
        cm.state.selectingText = up;
        on(display.wrapper.ownerDocument, "mousemove", move);
        on(display.wrapper.ownerDocument, "mouseup", up);
      }
      function bidiSimplify(cm, range2) {
        var anchor = range2.anchor;
        var head = range2.head;
        var anchorLine = getLine(cm.doc, anchor.line);
        if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) {
          return range2;
        }
        var order = getOrder(anchorLine);
        if (!order) {
          return range2;
        }
        var index = getBidiPartAt(order, anchor.ch, anchor.sticky), part = order[index];
        if (part.from != anchor.ch && part.to != anchor.ch) {
          return range2;
        }
        var boundary = index + (part.from == anchor.ch == (part.level != 1) ? 0 : 1);
        if (boundary == 0 || boundary == order.length) {
          return range2;
        }
        var leftSide;
        if (head.line != anchor.line) {
          leftSide = (head.line - anchor.line) * (cm.doc.direction == "ltr" ? 1 : -1) > 0;
        } else {
          var headIndex = getBidiPartAt(order, head.ch, head.sticky);
          var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);
          if (headIndex == boundary - 1 || headIndex == boundary) {
            leftSide = dir < 0;
          } else {
            leftSide = dir > 0;
          }
        }
        var usePart = order[boundary + (leftSide ? -1 : 0)];
        var from = leftSide == (usePart.level == 1);
        var ch = from ? usePart.from : usePart.to, sticky = from ? "after" : "before";
        return anchor.ch == ch && anchor.sticky == sticky ? range2 : new Range(new Pos(anchor.line, ch, sticky), head);
      }
      function gutterEvent(cm, e, type, prevent) {
        var mX, mY;
        if (e.touches) {
          mX = e.touches[0].clientX;
          mY = e.touches[0].clientY;
        } else {
          try {
            mX = e.clientX;
            mY = e.clientY;
          } catch (e$1) {
            return false;
          }
        }
        if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) {
          return false;
        }
        if (prevent) {
          e_preventDefault(e);
        }
        var display = cm.display;
        var lineBox = display.lineDiv.getBoundingClientRect();
        if (mY > lineBox.bottom || !hasHandler(cm, type)) {
          return e_defaultPrevented(e);
        }
        mY -= lineBox.top - display.viewOffset;
        for (var i2 = 0; i2 < cm.display.gutterSpecs.length; ++i2) {
          var g = display.gutters.childNodes[i2];
          if (g && g.getBoundingClientRect().right >= mX) {
            var line = lineAtHeight(cm.doc, mY);
            var gutter = cm.display.gutterSpecs[i2];
            signal(cm, type, cm, line, gutter.className, e);
            return e_defaultPrevented(e);
          }
        }
      }
      function clickInGutter(cm, e) {
        return gutterEvent(cm, e, "gutterClick", true);
      }
      function onContextMenu(cm, e) {
        if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) {
          return;
        }
        if (signalDOMEvent(cm, e, "contextmenu")) {
          return;
        }
        if (!captureRightClick) {
          cm.display.input.onContextMenu(e);
        }
      }
      function contextMenuInGutter(cm, e) {
        if (!hasHandler(cm, "gutterContextMenu")) {
          return false;
        }
        return gutterEvent(cm, e, "gutterContextMenu", false);
      }
      function themeChanged(cm) {
        cm.display.wrapper.className = cm.display.wrapper.className.replace(/\s*cm-s-\S+/g, "") + cm.options.theme.replace(/(^|\s)\s*/g, " cm-s-");
        clearCaches(cm);
      }
      var Init = { toString: function() {
        return "CodeMirror.Init";
      } };
      var defaults = {};
      var optionHandlers = {};
      function defineOptions(CodeMirror2) {
        var optionHandlers2 = CodeMirror2.optionHandlers;
        function option(name, deflt, handle, notOnInit) {
          CodeMirror2.defaults[name] = deflt;
          if (handle) {
            optionHandlers2[name] = notOnInit ? function(cm, val, old) {
              if (old != Init) {
                handle(cm, val, old);
              }
            } : handle;
          }
        }
        CodeMirror2.defineOption = option;
        CodeMirror2.Init = Init;
        option("value", "", function(cm, val) {
          return cm.setValue(val);
        }, true);
        option("mode", null, function(cm, val) {
          cm.doc.modeOption = val;
          loadMode(cm);
        }, true);
        option("indentUnit", 2, loadMode, true);
        option("indentWithTabs", false);
        option("smartIndent", true);
        option("tabSize", 4, function(cm) {
          resetModeState(cm);
          clearCaches(cm);
          regChange(cm);
        }, true);
        option("lineSeparator", null, function(cm, val) {
          cm.doc.lineSep = val;
          if (!val) {
            return;
          }
          var newBreaks = [], lineNo2 = cm.doc.first;
          cm.doc.iter(function(line) {
            for (var pos = 0; ; ) {
              var found = line.text.indexOf(val, pos);
              if (found == -1) {
                break;
              }
              pos = found + val.length;
              newBreaks.push(Pos(lineNo2, found));
            }
            lineNo2++;
          });
          for (var i2 = newBreaks.length - 1; i2 >= 0; i2--) {
            replaceRange(cm.doc, val, newBreaks[i2], Pos(newBreaks[i2].line, newBreaks[i2].ch + val.length));
          }
        });
        option("specialChars", /[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\u202d\u202e\u2066\u2067\u2069\ufeff\ufff9-\ufffc]/g, function(cm, val, old) {
          cm.state.specialChars = new RegExp(val.source + (val.test("	") ? "" : "|	"), "g");
          if (old != Init) {
            cm.refresh();
          }
        });
        option("specialCharPlaceholder", defaultSpecialCharPlaceholder, function(cm) {
          return cm.refresh();
        }, true);
        option("electricChars", true);
        option("inputStyle", mobile ? "contenteditable" : "textarea", function() {
          throw new Error("inputStyle can not (yet) be changed in a running editor");
        }, true);
        option("spellcheck", false, function(cm, val) {
          return cm.getInputField().spellcheck = val;
        }, true);
        option("autocorrect", false, function(cm, val) {
          return cm.getInputField().autocorrect = val;
        }, true);
        option("autocapitalize", false, function(cm, val) {
          return cm.getInputField().autocapitalize = val;
        }, true);
        option("rtlMoveVisually", !windows);
        option("wholeLineUpdateBefore", true);
        option("theme", "default", function(cm) {
          themeChanged(cm);
          updateGutters(cm);
        }, true);
        option("keyMap", "default", function(cm, val, old) {
          var next = getKeyMap(val);
          var prev = old != Init && getKeyMap(old);
          if (prev && prev.detach) {
            prev.detach(cm, next);
          }
          if (next.attach) {
            next.attach(cm, prev || null);
          }
        });
        option("extraKeys", null);
        option("configureMouse", null);
        option("lineWrapping", false, wrappingChanged, true);
        option("gutters", [], function(cm, val) {
          cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);
          updateGutters(cm);
        }, true);
        option("fixedGutter", true, function(cm, val) {
          cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + "px" : "0";
          cm.refresh();
        }, true);
        option("coverGutterNextToScrollbar", false, function(cm) {
          return updateScrollbars(cm);
        }, true);
        option("scrollbarStyle", "native", function(cm) {
          initScrollbars(cm);
          updateScrollbars(cm);
          cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);
          cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);
        }, true);
        option("lineNumbers", false, function(cm, val) {
          cm.display.gutterSpecs = getGutters(cm.options.gutters, val);
          updateGutters(cm);
        }, true);
        option("firstLineNumber", 1, updateGutters, true);
        option("lineNumberFormatter", function(integer) {
          return integer;
        }, updateGutters, true);
        option("showCursorWhenSelecting", false, updateSelection, true);
        option("resetSelectionOnContextMenu", true);
        option("lineWiseCopyCut", true);
        option("pasteLinesPerSelection", true);
        option("selectionsMayTouch", false);
        option("readOnly", false, function(cm, val) {
          if (val == "nocursor") {
            onBlur(cm);
            cm.display.input.blur();
          }
          cm.display.input.readOnlyChanged(val);
        });
        option("screenReaderLabel", null, function(cm, val) {
          val = val === "" ? null : val;
          cm.display.input.screenReaderLabelChanged(val);
        });
        option("disableInput", false, function(cm, val) {
          if (!val) {
            cm.display.input.reset();
          }
        }, true);
        option("dragDrop", true, dragDropChanged);
        option("allowDropFileTypes", null);
        option("cursorBlinkRate", 530);
        option("cursorScrollMargin", 0);
        option("cursorHeight", 1, updateSelection, true);
        option("singleCursorHeightPerLine", true, updateSelection, true);
        option("workTime", 100);
        option("workDelay", 100);
        option("flattenSpans", true, resetModeState, true);
        option("addModeClass", false, resetModeState, true);
        option("pollInterval", 100);
        option("undoDepth", 200, function(cm, val) {
          return cm.doc.history.undoDepth = val;
        });
        option("historyEventDelay", 1250);
        option("viewportMargin", 10, function(cm) {
          return cm.refresh();
        }, true);
        option("maxHighlightLength", 1e4, resetModeState, true);
        option("moveInputWithCursor", true, function(cm, val) {
          if (!val) {
            cm.display.input.resetPosition();
          }
        });
        option("tabindex", null, function(cm, val) {
          return cm.display.input.getField().tabIndex = val || "";
        });
        option("autofocus", null);
        option("direction", "ltr", function(cm, val) {
          return cm.doc.setDirection(val);
        }, true);
        option("phrases", null);
      }
      function dragDropChanged(cm, value, old) {
        var wasOn = old && old != Init;
        if (!value != !wasOn) {
          var funcs = cm.display.dragFunctions;
          var toggle = value ? on : off;
          toggle(cm.display.scroller, "dragstart", funcs.start);
          toggle(cm.display.scroller, "dragenter", funcs.enter);
          toggle(cm.display.scroller, "dragover", funcs.over);
          toggle(cm.display.scroller, "dragleave", funcs.leave);
          toggle(cm.display.scroller, "drop", funcs.drop);
        }
      }
      function wrappingChanged(cm) {
        if (cm.options.lineWrapping) {
          addClass(cm.display.wrapper, "CodeMirror-wrap");
          cm.display.sizer.style.minWidth = "";
          cm.display.sizerWidth = null;
        } else {
          rmClass(cm.display.wrapper, "CodeMirror-wrap");
          findMaxLine(cm);
        }
        estimateLineHeights(cm);
        regChange(cm);
        clearCaches(cm);
        setTimeout(function() {
          return updateScrollbars(cm);
        }, 100);
      }
      function CodeMirror(place, options) {
        var this$1$1 = this;
        if (!(this instanceof CodeMirror)) {
          return new CodeMirror(place, options);
        }
        this.options = options = options ? copyObj(options) : {};
        copyObj(defaults, options, false);
        var doc2 = options.value;
        if (typeof doc2 == "string") {
          doc2 = new Doc(doc2, options.mode, null, options.lineSeparator, options.direction);
        } else if (options.mode) {
          doc2.modeOption = options.mode;
        }
        this.doc = doc2;
        var input = new CodeMirror.inputStyles[options.inputStyle](this);
        var display = this.display = new Display(place, doc2, input, options);
        display.wrapper.CodeMirror = this;
        themeChanged(this);
        if (options.lineWrapping) {
          this.display.wrapper.className += " CodeMirror-wrap";
        }
        initScrollbars(this);
        this.state = {
          keyMaps: [],
          // stores maps added by addKeyMap
          overlays: [],
          // highlighting overlays, as added by addOverlay
          modeGen: 0,
          // bumped when mode/overlay changes, used to invalidate highlighting info
          overwrite: false,
          delayingBlurEvent: false,
          focused: false,
          suppressEdits: false,
          // used to disable editing during key handlers when in readOnly mode
          pasteIncoming: -1,
          cutIncoming: -1,
          // help recognize paste/cut edits in input.poll
          selectingText: false,
          draggingText: false,
          highlight: new Delayed(),
          // stores highlight worker timeout
          keySeq: null,
          // Unfinished key sequence
          specialChars: null
        };
        if (options.autofocus && !mobile) {
          display.input.focus();
        }
        if (ie && ie_version < 11) {
          setTimeout(function() {
            return this$1$1.display.input.reset(true);
          }, 20);
        }
        registerEventHandlers(this);
        ensureGlobalHandlers();
        startOperation(this);
        this.curOp.forceUpdate = true;
        attachDoc(this, doc2);
        if (options.autofocus && !mobile || this.hasFocus()) {
          setTimeout(function() {
            if (this$1$1.hasFocus() && !this$1$1.state.focused) {
              onFocus(this$1$1);
            }
          }, 20);
        } else {
          onBlur(this);
        }
        for (var opt in optionHandlers) {
          if (optionHandlers.hasOwnProperty(opt)) {
            optionHandlers[opt](this, options[opt], Init);
          }
        }
        maybeUpdateLineNumberWidth(this);
        if (options.finishInit) {
          options.finishInit(this);
        }
        for (var i2 = 0; i2 < initHooks.length; ++i2) {
          initHooks[i2](this);
        }
        endOperation(this);
        if (webkit && options.lineWrapping && getComputedStyle(display.lineDiv).textRendering == "optimizelegibility") {
          display.lineDiv.style.textRendering = "auto";
        }
      }
      CodeMirror.defaults = defaults;
      CodeMirror.optionHandlers = optionHandlers;
      function registerEventHandlers(cm) {
        var d = cm.display;
        on(d.scroller, "mousedown", operation(cm, onMouseDown));
        if (ie && ie_version < 11) {
          on(d.scroller, "dblclick", operation(cm, function(e) {
            if (signalDOMEvent(cm, e)) {
              return;
            }
            var pos = posFromMouse(cm, e);
            if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) {
              return;
            }
            e_preventDefault(e);
            var word = cm.findWordAt(pos);
            extendSelection(cm.doc, word.anchor, word.head);
          }));
        } else {
          on(d.scroller, "dblclick", function(e) {
            return signalDOMEvent(cm, e) || e_preventDefault(e);
          });
        }
        on(d.scroller, "contextmenu", function(e) {
          return onContextMenu(cm, e);
        });
        on(d.input.getField(), "contextmenu", function(e) {
          if (!d.scroller.contains(e.target)) {
            onContextMenu(cm, e);
          }
        });
        var touchFinished, prevTouch = { end: 0 };
        function finishTouch() {
          if (d.activeTouch) {
            touchFinished = setTimeout(function() {
              return d.activeTouch = null;
            }, 1e3);
            prevTouch = d.activeTouch;
            prevTouch.end = +/* @__PURE__ */ new Date();
          }
        }
        function isMouseLikeTouchEvent(e) {
          if (e.touches.length != 1) {
            return false;
          }
          var touch = e.touches[0];
          return touch.radiusX <= 1 && touch.radiusY <= 1;
        }
        function farAway(touch, other) {
          if (other.left == null) {
            return true;
          }
          var dx = other.left - touch.left, dy = other.top - touch.top;
          return dx * dx + dy * dy > 20 * 20;
        }
        on(d.scroller, "touchstart", function(e) {
          if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {
            d.input.ensurePolled();
            clearTimeout(touchFinished);
            var now = +/* @__PURE__ */ new Date();
            d.activeTouch = {
              start: now,
              moved: false,
              prev: now - prevTouch.end <= 300 ? prevTouch : null
            };
            if (e.touches.length == 1) {
              d.activeTouch.left = e.touches[0].pageX;
              d.activeTouch.top = e.touches[0].pageY;
            }
          }
        });
        on(d.scroller, "touchmove", function() {
          if (d.activeTouch) {
            d.activeTouch.moved = true;
          }
        });
        on(d.scroller, "touchend", function(e) {
          var touch = d.activeTouch;
          if (touch && !eventInWidget(d, e) && touch.left != null && !touch.moved && /* @__PURE__ */ new Date() - touch.start < 300) {
            var pos = cm.coordsChar(d.activeTouch, "page"), range2;
            if (!touch.prev || farAway(touch, touch.prev)) {
              range2 = new Range(pos, pos);
            } else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) {
              range2 = cm.findWordAt(pos);
            } else {
              range2 = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0)));
            }
            cm.setSelection(range2.anchor, range2.head);
            cm.focus();
            e_preventDefault(e);
          }
          finishTouch();
        });
        on(d.scroller, "touchcancel", finishTouch);
        on(d.scroller, "scroll", function() {
          if (d.scroller.clientHeight) {
            updateScrollTop(cm, d.scroller.scrollTop);
            setScrollLeft(cm, d.scroller.scrollLeft, true);
            signal(cm, "scroll", cm);
          }
        });
        on(d.scroller, "mousewheel", function(e) {
          return onScrollWheel(cm, e);
        });
        on(d.scroller, "DOMMouseScroll", function(e) {
          return onScrollWheel(cm, e);
        });
        on(d.wrapper, "scroll", function() {
          return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0;
        });
        d.dragFunctions = {
          enter: function(e) {
            if (!signalDOMEvent(cm, e)) {
              e_stop(e);
            }
          },
          over: function(e) {
            if (!signalDOMEvent(cm, e)) {
              onDragOver(cm, e);
              e_stop(e);
            }
          },
          start: function(e) {
            return onDragStart(cm, e);
          },
          drop: operation(cm, onDrop),
          leave: function(e) {
            if (!signalDOMEvent(cm, e)) {
              clearDragCursor(cm);
            }
          }
        };
        var inp = d.input.getField();
        on(inp, "keyup", function(e) {
          return onKeyUp.call(cm, e);
        });
        on(inp, "keydown", operation(cm, onKeyDown));
        on(inp, "keypress", operation(cm, onKeyPress));
        on(inp, "focus", function(e) {
          return onFocus(cm, e);
        });
        on(inp, "blur", function(e) {
          return onBlur(cm, e);
        });
      }
      var initHooks = [];
      CodeMirror.defineInitHook = function(f) {
        return initHooks.push(f);
      };
      function indentLine(cm, n, how, aggressive) {
        var doc2 = cm.doc, state;
        if (how == null) {
          how = "add";
        }
        if (how == "smart") {
          if (!doc2.mode.indent) {
            how = "prev";
          } else {
            state = getContextBefore(cm, n).state;
          }
        }
        var tabSize = cm.options.tabSize;
        var line = getLine(doc2, n), curSpace = countColumn(line.text, null, tabSize);
        if (line.stateAfter) {
          line.stateAfter = null;
        }
        var curSpaceString = line.text.match(/^\s*/)[0], indentation;
        if (!aggressive && !/\S/.test(line.text)) {
          indentation = 0;
          how = "not";
        } else if (how == "smart") {
          indentation = doc2.mode.indent(state, line.text.slice(curSpaceString.length), line.text);
          if (indentation == Pass || indentation > 150) {
            if (!aggressive) {
              return;
            }
            how = "prev";
          }
        }
        if (how == "prev") {
          if (n > doc2.first) {
            indentation = countColumn(getLine(doc2, n - 1).text, null, tabSize);
          } else {
            indentation = 0;
          }
        } else if (how == "add") {
          indentation = curSpace + cm.options.indentUnit;
        } else if (how == "subtract") {
          indentation = curSpace - cm.options.indentUnit;
        } else if (typeof how == "number") {
          indentation = curSpace + how;
        }
        indentation = Math.max(0, indentation);
        var indentString = "", pos = 0;
        if (cm.options.indentWithTabs) {
          for (var i2 = Math.floor(indentation / tabSize); i2; --i2) {
            pos += tabSize;
            indentString += "	";
          }
        }
        if (pos < indentation) {
          indentString += spaceStr(indentation - pos);
        }
        if (indentString != curSpaceString) {
          replaceRange(doc2, indentString, Pos(n, 0), Pos(n, curSpaceString.length), "+input");
          line.stateAfter = null;
          return true;
        } else {
          for (var i$12 = 0; i$12 < doc2.sel.ranges.length; i$12++) {
            var range2 = doc2.sel.ranges[i$12];
            if (range2.head.line == n && range2.head.ch < curSpaceString.length) {
              var pos$1 = Pos(n, curSpaceString.length);
              replaceOneSelection(doc2, i$12, new Range(pos$1, pos$1));
              break;
            }
          }
        }
      }
      var lastCopied = null;
      function setLastCopied(newLastCopied) {
        lastCopied = newLastCopied;
      }
      function applyTextInput(cm, inserted, deleted, sel, origin) {
        var doc2 = cm.doc;
        cm.display.shift = false;
        if (!sel) {
          sel = doc2.sel;
        }
        var recent = +/* @__PURE__ */ new Date() - 200;
        var paste = origin == "paste" || cm.state.pasteIncoming > recent;
        var textLines = splitLinesAuto(inserted), multiPaste = null;
        if (paste && sel.ranges.length > 1) {
          if (lastCopied && lastCopied.text.join("\n") == inserted) {
            if (sel.ranges.length % lastCopied.text.length == 0) {
              multiPaste = [];
              for (var i2 = 0; i2 < lastCopied.text.length; i2++) {
                multiPaste.push(doc2.splitLines(lastCopied.text[i2]));
              }
            }
          } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {
            multiPaste = map(textLines, function(l) {
              return [l];
            });
          }
        }
        var updateInput = cm.curOp.updateInput;
        for (var i$12 = sel.ranges.length - 1; i$12 >= 0; i$12--) {
          var range2 = sel.ranges[i$12];
          var from = range2.from(), to = range2.to();
          if (range2.empty()) {
            if (deleted && deleted > 0) {
              from = Pos(from.line, from.ch - deleted);
            } else if (cm.state.overwrite && !paste) {
              to = Pos(to.line, Math.min(getLine(doc2, to.line).text.length, to.ch + lst(textLines).length));
            } else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join("\n") == textLines.join("\n")) {
              from = to = Pos(from.line, 0);
            }
          }
          var changeEvent = {
            from,
            to,
            text: multiPaste ? multiPaste[i$12 % multiPaste.length] : textLines,
            origin: origin || (paste ? "paste" : cm.state.cutIncoming > recent ? "cut" : "+input")
          };
          makeChange(cm.doc, changeEvent);
          signalLater(cm, "inputRead", cm, changeEvent);
        }
        if (inserted && !paste) {
          triggerElectric(cm, inserted);
        }
        ensureCursorVisible(cm);
        if (cm.curOp.updateInput < 2) {
          cm.curOp.updateInput = updateInput;
        }
        cm.curOp.typing = true;
        cm.state.pasteIncoming = cm.state.cutIncoming = -1;
      }
      function handlePaste(e, cm) {
        var pasted = e.clipboardData && e.clipboardData.getData("Text");
        if (pasted) {
          e.preventDefault();
          if (!cm.isReadOnly() && !cm.options.disableInput && cm.hasFocus()) {
            runInOp(cm, function() {
              return applyTextInput(cm, pasted, 0, null, "paste");
            });
          }
          return true;
        }
      }
      function triggerElectric(cm, inserted) {
        if (!cm.options.electricChars || !cm.options.smartIndent) {
          return;
        }
        var sel = cm.doc.sel;
        for (var i2 = sel.ranges.length - 1; i2 >= 0; i2--) {
          var range2 = sel.ranges[i2];
          if (range2.head.ch > 100 || i2 && sel.ranges[i2 - 1].head.line == range2.head.line) {
            continue;
          }
          var mode = cm.getModeAt(range2.head);
          var indented = false;
          if (mode.electricChars) {
            for (var j = 0; j < mode.electricChars.length; j++) {
              if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {
                indented = indentLine(cm, range2.head.line, "smart");
                break;
              }
            }
          } else if (mode.electricInput) {
            if (mode.electricInput.test(getLine(cm.doc, range2.head.line).text.slice(0, range2.head.ch))) {
              indented = indentLine(cm, range2.head.line, "smart");
            }
          }
          if (indented) {
            signalLater(cm, "electricInput", cm, range2.head.line);
          }
        }
      }
      function copyableRanges(cm) {
        var text = [], ranges = [];
        for (var i2 = 0; i2 < cm.doc.sel.ranges.length; i2++) {
          var line = cm.doc.sel.ranges[i2].head.line;
          var lineRange = { anchor: Pos(line, 0), head: Pos(line + 1, 0) };
          ranges.push(lineRange);
          text.push(cm.getRange(lineRange.anchor, lineRange.head));
        }
        return { text, ranges };
      }
      function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {
        field.setAttribute("autocorrect", autocorrect ? "on" : "off");
        field.setAttribute("autocapitalize", autocapitalize ? "on" : "off");
        field.setAttribute("spellcheck", !!spellcheck);
      }
      function hiddenTextarea() {
        var te = elt("textarea", null, null, "position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none");
        var div = elt("div", [te], null, "overflow: hidden; position: relative; width: 3px; height: 0px;");
        if (webkit) {
          te.style.width = "1000px";
        } else {
          te.setAttribute("wrap", "off");
        }
        if (ios) {
          te.style.border = "1px solid black";
        }
        return div;
      }
      function addEditorMethods(CodeMirror2) {
        var optionHandlers2 = CodeMirror2.optionHandlers;
        var helpers = CodeMirror2.helpers = {};
        CodeMirror2.prototype = {
          constructor: CodeMirror2,
          focus: function() {
            win(this).focus();
            this.display.input.focus();
          },
          setOption: function(option, value) {
            var options = this.options, old = options[option];
            if (options[option] == value && option != "mode") {
              return;
            }
            options[option] = value;
            if (optionHandlers2.hasOwnProperty(option)) {
              operation(this, optionHandlers2[option])(this, value, old);
            }
            signal(this, "optionChange", this, option);
          },
          getOption: function(option) {
            return this.options[option];
          },
          getDoc: function() {
            return this.doc;
          },
          addKeyMap: function(map2, bottom) {
            this.state.keyMaps[bottom ? "push" : "unshift"](getKeyMap(map2));
          },
          removeKeyMap: function(map2) {
            var maps = this.state.keyMaps;
            for (var i2 = 0; i2 < maps.length; ++i2) {
              if (maps[i2] == map2 || maps[i2].name == map2) {
                maps.splice(i2, 1);
                return true;
              }
            }
          },
          addOverlay: methodOp(function(spec, options) {
            var mode = spec.token ? spec : CodeMirror2.getMode(this.options, spec);
            if (mode.startState) {
              throw new Error("Overlays may not be stateful.");
            }
            insertSorted(
              this.state.overlays,
              {
                mode,
                modeSpec: spec,
                opaque: options && options.opaque,
                priority: options && options.priority || 0
              },
              function(overlay) {
                return overlay.priority;
              }
            );
            this.state.modeGen++;
            regChange(this);
          }),
          removeOverlay: methodOp(function(spec) {
            var overlays = this.state.overlays;
            for (var i2 = 0; i2 < overlays.length; ++i2) {
              var cur = overlays[i2].modeSpec;
              if (cur == spec || typeof spec == "string" && cur.name == spec) {
                overlays.splice(i2, 1);
                this.state.modeGen++;
                regChange(this);
                return;
              }
            }
          }),
          indentLine: methodOp(function(n, dir, aggressive) {
            if (typeof dir != "string" && typeof dir != "number") {
              if (dir == null) {
                dir = this.options.smartIndent ? "smart" : "prev";
              } else {
                dir = dir ? "add" : "subtract";
              }
            }
            if (isLine(this.doc, n)) {
              indentLine(this, n, dir, aggressive);
            }
          }),
          indentSelection: methodOp(function(how) {
            var ranges = this.doc.sel.ranges, end = -1;
            for (var i2 = 0; i2 < ranges.length; i2++) {
              var range2 = ranges[i2];
              if (!range2.empty()) {
                var from = range2.from(), to = range2.to();
                var start = Math.max(end, from.line);
                end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;
                for (var j = start; j < end; ++j) {
                  indentLine(this, j, how);
                }
                var newRanges = this.doc.sel.ranges;
                if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i2].from().ch > 0) {
                  replaceOneSelection(this.doc, i2, new Range(from, newRanges[i2].to()), sel_dontScroll);
                }
              } else if (range2.head.line > end) {
                indentLine(this, range2.head.line, how, true);
                end = range2.head.line;
                if (i2 == this.doc.sel.primIndex) {
                  ensureCursorVisible(this);
                }
              }
            }
          }),
          // Fetch the parser token for a given character. Useful for hacks
          // that want to inspect the mode state (say, for completion).
          getTokenAt: function(pos, precise) {
            return takeToken(this, pos, precise);
          },
          getLineTokens: function(line, precise) {
            return takeToken(this, Pos(line), precise, true);
          },
          getTokenTypeAt: function(pos) {
            pos = clipPos(this.doc, pos);
            var styles = getLineStyles(this, getLine(this.doc, pos.line));
            var before = 0, after = (styles.length - 1) / 2, ch = pos.ch;
            var type;
            if (ch == 0) {
              type = styles[2];
            } else {
              for (; ; ) {
                var mid = before + after >> 1;
                if ((mid ? styles[mid * 2 - 1] : 0) >= ch) {
                  after = mid;
                } else if (styles[mid * 2 + 1] < ch) {
                  before = mid + 1;
                } else {
                  type = styles[mid * 2 + 2];
                  break;
                }
              }
            }
            var cut = type ? type.indexOf("overlay ") : -1;
            return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1);
          },
          getModeAt: function(pos) {
            var mode = this.doc.mode;
            if (!mode.innerMode) {
              return mode;
            }
            return CodeMirror2.innerMode(mode, this.getTokenAt(pos).state).mode;
          },
          getHelper: function(pos, type) {
            return this.getHelpers(pos, type)[0];
          },
          getHelpers: function(pos, type) {
            var found = [];
            if (!helpers.hasOwnProperty(type)) {
              return found;
            }
            var help = helpers[type], mode = this.getModeAt(pos);
            if (typeof mode[type] == "string") {
              if (help[mode[type]]) {
                found.push(help[mode[type]]);
              }
            } else if (mode[type]) {
              for (var i2 = 0; i2 < mode[type].length; i2++) {
                var val = help[mode[type][i2]];
                if (val) {
                  found.push(val);
                }
              }
            } else if (mode.helperType && help[mode.helperType]) {
              found.push(help[mode.helperType]);
            } else if (help[mode.name]) {
              found.push(help[mode.name]);
            }
            for (var i$12 = 0; i$12 < help._global.length; i$12++) {
              var cur = help._global[i$12];
              if (cur.pred(mode, this) && indexOf(found, cur.val) == -1) {
                found.push(cur.val);
              }
            }
            return found;
          },
          getStateAfter: function(line, precise) {
            var doc2 = this.doc;
            line = clipLine(doc2, line == null ? doc2.first + doc2.size - 1 : line);
            return getContextBefore(this, line + 1, precise).state;
          },
          cursorCoords: function(start, mode) {
            var pos, range2 = this.doc.sel.primary();
            if (start == null) {
              pos = range2.head;
            } else if (typeof start == "object") {
              pos = clipPos(this.doc, start);
            } else {
              pos = start ? range2.from() : range2.to();
            }
            return cursorCoords(this, pos, mode || "page");
          },
          charCoords: function(pos, mode) {
            return charCoords(this, clipPos(this.doc, pos), mode || "page");
          },
          coordsChar: function(coords, mode) {
            coords = fromCoordSystem(this, coords, mode || "page");
            return coordsChar(this, coords.left, coords.top);
          },
          lineAtHeight: function(height, mode) {
            height = fromCoordSystem(this, { top: height, left: 0 }, mode || "page").top;
            return lineAtHeight(this.doc, height + this.display.viewOffset);
          },
          heightAtLine: function(line, mode, includeWidgets) {
            var end = false, lineObj;
            if (typeof line == "number") {
              var last = this.doc.first + this.doc.size - 1;
              if (line < this.doc.first) {
                line = this.doc.first;
              } else if (line > last) {
                line = last;
                end = true;
              }
              lineObj = getLine(this.doc, line);
            } else {
              lineObj = line;
            }
            return intoCoordSystem(this, lineObj, { top: 0, left: 0 }, mode || "page", includeWidgets || end).top + (end ? this.doc.height - heightAtLine(lineObj) : 0);
          },
          defaultTextHeight: function() {
            return textHeight(this.display);
          },
          defaultCharWidth: function() {
            return charWidth(this.display);
          },
          getViewport: function() {
            return { from: this.display.viewFrom, to: this.display.viewTo };
          },
          addWidget: function(pos, node, scroll, vert, horiz) {
            var display = this.display;
            pos = cursorCoords(this, clipPos(this.doc, pos));
            var top = pos.bottom, left = pos.left;
            node.style.position = "absolute";
            node.setAttribute("cm-ignore-events", "true");
            this.display.input.setUneditable(node);
            display.sizer.appendChild(node);
            if (vert == "over") {
              top = pos.top;
            } else if (vert == "above" || vert == "near") {
              var vspace = Math.max(display.wrapper.clientHeight, this.doc.height), hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth);
              if ((vert == "above" || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight) {
                top = pos.top - node.offsetHeight;
              } else if (pos.bottom + node.offsetHeight <= vspace) {
                top = pos.bottom;
              }
              if (left + node.offsetWidth > hspace) {
                left = hspace - node.offsetWidth;
              }
            }
            node.style.top = top + "px";
            node.style.left = node.style.right = "";
            if (horiz == "right") {
              left = display.sizer.clientWidth - node.offsetWidth;
              node.style.right = "0px";
            } else {
              if (horiz == "left") {
                left = 0;
              } else if (horiz == "middle") {
                left = (display.sizer.clientWidth - node.offsetWidth) / 2;
              }
              node.style.left = left + "px";
            }
            if (scroll) {
              scrollIntoView(this, { left, top, right: left + node.offsetWidth, bottom: top + node.offsetHeight });
            }
          },
          triggerOnKeyDown: methodOp(onKeyDown),
          triggerOnKeyPress: methodOp(onKeyPress),
          triggerOnKeyUp: onKeyUp,
          triggerOnMouseDown: methodOp(onMouseDown),
          execCommand: function(cmd) {
            if (commands.hasOwnProperty(cmd)) {
              return commands[cmd].call(null, this);
            }
          },
          triggerElectric: methodOp(function(text) {
            triggerElectric(this, text);
          }),
          findPosH: function(from, amount, unit, visually) {
            var dir = 1;
            if (amount < 0) {
              dir = -1;
              amount = -amount;
            }
            var cur = clipPos(this.doc, from);
            for (var i2 = 0; i2 < amount; ++i2) {
              cur = findPosH(this.doc, cur, dir, unit, visually);
              if (cur.hitSide) {
                break;
              }
            }
            return cur;
          },
          moveH: methodOp(function(dir, unit) {
            var this$1$1 = this;
            this.extendSelectionsBy(function(range2) {
              if (this$1$1.display.shift || this$1$1.doc.extend || range2.empty()) {
                return findPosH(this$1$1.doc, range2.head, dir, unit, this$1$1.options.rtlMoveVisually);
              } else {
                return dir < 0 ? range2.from() : range2.to();
              }
            }, sel_move);
          }),
          deleteH: methodOp(function(dir, unit) {
            var sel = this.doc.sel, doc2 = this.doc;
            if (sel.somethingSelected()) {
              doc2.replaceSelection("", null, "+delete");
            } else {
              deleteNearSelection(this, function(range2) {
                var other = findPosH(doc2, range2.head, dir, unit, false);
                return dir < 0 ? { from: other, to: range2.head } : { from: range2.head, to: other };
              });
            }
          }),
          findPosV: function(from, amount, unit, goalColumn) {
            var dir = 1, x = goalColumn;
            if (amount < 0) {
              dir = -1;
              amount = -amount;
            }
            var cur = clipPos(this.doc, from);
            for (var i2 = 0; i2 < amount; ++i2) {
              var coords = cursorCoords(this, cur, "div");
              if (x == null) {
                x = coords.left;
              } else {
                coords.left = x;
              }
              cur = findPosV(this, coords, dir, unit);
              if (cur.hitSide) {
                break;
              }
            }
            return cur;
          },
          moveV: methodOp(function(dir, unit) {
            var this$1$1 = this;
            var doc2 = this.doc, goals = [];
            var collapse = !this.display.shift && !doc2.extend && doc2.sel.somethingSelected();
            doc2.extendSelectionsBy(function(range2) {
              if (collapse) {
                return dir < 0 ? range2.from() : range2.to();
              }
              var headPos = cursorCoords(this$1$1, range2.head, "div");
              if (range2.goalColumn != null) {
                headPos.left = range2.goalColumn;
              }
              goals.push(headPos.left);
              var pos = findPosV(this$1$1, headPos, dir, unit);
              if (unit == "page" && range2 == doc2.sel.primary()) {
                addToScrollTop(this$1$1, charCoords(this$1$1, pos, "div").top - headPos.top);
              }
              return pos;
            }, sel_move);
            if (goals.length) {
              for (var i2 = 0; i2 < doc2.sel.ranges.length; i2++) {
                doc2.sel.ranges[i2].goalColumn = goals[i2];
              }
            }
          }),
          // Find the word at the given position (as returned by coordsChar).
          findWordAt: function(pos) {
            var doc2 = this.doc, line = getLine(doc2, pos.line).text;
            var start = pos.ch, end = pos.ch;
            if (line) {
              var helper = this.getHelper(pos, "wordChars");
              if ((pos.sticky == "before" || end == line.length) && start) {
                --start;
              } else {
                ++end;
              }
              var startChar = line.charAt(start);
              var check = isWordChar(startChar, helper) ? function(ch) {
                return isWordChar(ch, helper);
              } : /\s/.test(startChar) ? function(ch) {
                return /\s/.test(ch);
              } : function(ch) {
                return !/\s/.test(ch) && !isWordChar(ch);
              };
              while (start > 0 && check(line.charAt(start - 1))) {
                --start;
              }
              while (end < line.length && check(line.charAt(end))) {
                ++end;
              }
            }
            return new Range(Pos(pos.line, start), Pos(pos.line, end));
          },
          toggleOverwrite: function(value) {
            if (value != null && value == this.state.overwrite) {
              return;
            }
            if (this.state.overwrite = !this.state.overwrite) {
              addClass(this.display.cursorDiv, "CodeMirror-overwrite");
            } else {
              rmClass(this.display.cursorDiv, "CodeMirror-overwrite");
            }
            signal(this, "overwriteToggle", this, this.state.overwrite);
          },
          hasFocus: function() {
            return this.display.input.getField() == activeElt(root(this));
          },
          isReadOnly: function() {
            return !!(this.options.readOnly || this.doc.cantEdit);
          },
          scrollTo: methodOp(function(x, y) {
            scrollToCoords(this, x, y);
          }),
          getScrollInfo: function() {
            var scroller = this.display.scroller;
            return {
              left: scroller.scrollLeft,
              top: scroller.scrollTop,
              height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,
              width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,
              clientHeight: displayHeight(this),
              clientWidth: displayWidth(this)
            };
          },
          scrollIntoView: methodOp(function(range2, margin) {
            if (range2 == null) {
              range2 = { from: this.doc.sel.primary().head, to: null };
              if (margin == null) {
                margin = this.options.cursorScrollMargin;
              }
            } else if (typeof range2 == "number") {
              range2 = { from: Pos(range2, 0), to: null };
            } else if (range2.from == null) {
              range2 = { from: range2, to: null };
            }
            if (!range2.to) {
              range2.to = range2.from;
            }
            range2.margin = margin || 0;
            if (range2.from.line != null) {
              scrollToRange(this, range2);
            } else {
              scrollToCoordsRange(this, range2.from, range2.to, range2.margin);
            }
          }),
          setSize: methodOp(function(width, height) {
            var this$1$1 = this;
            var interpret = function(val) {
              return typeof val == "number" || /^\d+$/.test(String(val)) ? val + "px" : val;
            };
            if (width != null) {
              this.display.wrapper.style.width = interpret(width);
            }
            if (height != null) {
              this.display.wrapper.style.height = interpret(height);
            }
            if (this.options.lineWrapping) {
              clearLineMeasurementCache(this);
            }
            var lineNo2 = this.display.viewFrom;
            this.doc.iter(lineNo2, this.display.viewTo, function(line) {
              if (line.widgets) {
                for (var i2 = 0; i2 < line.widgets.length; i2++) {
                  if (line.widgets[i2].noHScroll) {
                    regLineChange(this$1$1, lineNo2, "widget");
                    break;
                  }
                }
              }
              ++lineNo2;
            });
            this.curOp.forceUpdate = true;
            signal(this, "refresh", this);
          }),
          operation: function(f) {
            return runInOp(this, f);
          },
          startOperation: function() {
            return startOperation(this);
          },
          endOperation: function() {
            return endOperation(this);
          },
          refresh: methodOp(function() {
            var oldHeight = this.display.cachedTextHeight;
            regChange(this);
            this.curOp.forceUpdate = true;
            clearCaches(this);
            scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);
            updateGutterSpace(this.display);
            if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > 0.5 || this.options.lineWrapping) {
              estimateLineHeights(this);
            }
            signal(this, "refresh", this);
          }),
          swapDoc: methodOp(function(doc2) {
            var old = this.doc;
            old.cm = null;
            if (this.state.selectingText) {
              this.state.selectingText();
            }
            attachDoc(this, doc2);
            clearCaches(this);
            this.display.input.reset();
            scrollToCoords(this, doc2.scrollLeft, doc2.scrollTop);
            this.curOp.forceScroll = true;
            signalLater(this, "swapDoc", this, old);
            return old;
          }),
          phrase: function(phraseText) {
            var phrases = this.options.phrases;
            return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText;
          },
          getInputField: function() {
            return this.display.input.getField();
          },
          getWrapperElement: function() {
            return this.display.wrapper;
          },
          getScrollerElement: function() {
            return this.display.scroller;
          },
          getGutterElement: function() {
            return this.display.gutters;
          }
        };
        eventMixin(CodeMirror2);
        CodeMirror2.registerHelper = function(type, name, value) {
          if (!helpers.hasOwnProperty(type)) {
            helpers[type] = CodeMirror2[type] = { _global: [] };
          }
          helpers[type][name] = value;
        };
        CodeMirror2.registerGlobalHelper = function(type, name, predicate, value) {
          CodeMirror2.registerHelper(type, name, value);
          helpers[type]._global.push({ pred: predicate, val: value });
        };
      }
      function findPosH(doc2, pos, dir, unit, visually) {
        var oldPos = pos;
        var origDir = dir;
        var lineObj = getLine(doc2, pos.line);
        var lineDir = visually && doc2.direction == "rtl" ? -dir : dir;
        function findNextLine() {
          var l = pos.line + lineDir;
          if (l < doc2.first || l >= doc2.first + doc2.size) {
            return false;
          }
          pos = new Pos(l, pos.ch, pos.sticky);
          return lineObj = getLine(doc2, l);
        }
        function moveOnce(boundToLine) {
          var next;
          if (unit == "codepoint") {
            var ch = lineObj.text.charCodeAt(pos.ch + (dir > 0 ? 0 : -1));
            if (isNaN(ch)) {
              next = null;
            } else {
              var astral = dir > 0 ? ch >= 55296 && ch < 56320 : ch >= 56320 && ch < 57343;
              next = new Pos(pos.line, Math.max(0, Math.min(lineObj.text.length, pos.ch + dir * (astral ? 2 : 1))), -dir);
            }
          } else if (visually) {
            next = moveVisually(doc2.cm, lineObj, pos, dir);
          } else {
            next = moveLogically(lineObj, pos, dir);
          }
          if (next == null) {
            if (!boundToLine && findNextLine()) {
              pos = endOfLine(visually, doc2.cm, lineObj, pos.line, lineDir);
            } else {
              return false;
            }
          } else {
            pos = next;
          }
          return true;
        }
        if (unit == "char" || unit == "codepoint") {
          moveOnce();
        } else if (unit == "column") {
          moveOnce(true);
        } else if (unit == "word" || unit == "group") {
          var sawType = null, group = unit == "group";
          var helper = doc2.cm && doc2.cm.getHelper(pos, "wordChars");
          for (var first = true; ; first = false) {
            if (dir < 0 && !moveOnce(!first)) {
              break;
            }
            var cur = lineObj.text.charAt(pos.ch) || "\n";
            var type = isWordChar(cur, helper) ? "w" : group && cur == "\n" ? "n" : !group || /\s/.test(cur) ? null : "p";
            if (group && !first && !type) {
              type = "s";
            }
            if (sawType && sawType != type) {
              if (dir < 0) {
                dir = 1;
                moveOnce();
                pos.sticky = "after";
              }
              break;
            }
            if (type) {
              sawType = type;
            }
            if (dir > 0 && !moveOnce(!first)) {
              break;
            }
          }
        }
        var result = skipAtomic(doc2, pos, oldPos, origDir, true);
        if (equalCursorPos(oldPos, result)) {
          result.hitSide = true;
        }
        return result;
      }
      function findPosV(cm, pos, dir, unit) {
        var doc2 = cm.doc, x = pos.left, y;
        if (unit == "page") {
          var pageSize = Math.min(cm.display.wrapper.clientHeight, win(cm).innerHeight || doc2(cm).documentElement.clientHeight);
          var moveAmount = Math.max(pageSize - 0.5 * textHeight(cm.display), 3);
          y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;
        } else if (unit == "line") {
          y = dir > 0 ? pos.bottom + 3 : pos.top - 3;
        }
        var target;
        for (; ; ) {
          target = coordsChar(cm, x, y);
          if (!target.outside) {
            break;
          }
          if (dir < 0 ? y <= 0 : y >= doc2.height) {
            target.hitSide = true;
            break;
          }
          y += dir * 5;
        }
        return target;
      }
      var ContentEditableInput = function(cm) {
        this.cm = cm;
        this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;
        this.polling = new Delayed();
        this.composing = null;
        this.gracePeriod = false;
        this.readDOMTimeout = null;
      };
      ContentEditableInput.prototype.init = function(display) {
        var this$1$1 = this;
        var input = this, cm = input.cm;
        var div = input.div = display.lineDiv;
        div.contentEditable = true;
        disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);
        function belongsToInput(e) {
          for (var t = e.target; t; t = t.parentNode) {
            if (t == div) {
              return true;
            }
            if (/\bCodeMirror-(?:line)?widget\b/.test(t.className)) {
              break;
            }
          }
          return false;
        }
        on(div, "paste", function(e) {
          if (!belongsToInput(e) || signalDOMEvent(cm, e) || handlePaste(e, cm)) {
            return;
          }
          if (ie_version <= 11) {
            setTimeout(operation(cm, function() {
              return this$1$1.updateFromDOM();
            }), 20);
          }
        });
        on(div, "compositionstart", function(e) {
          this$1$1.composing = { data: e.data, done: false };
        });
        on(div, "compositionupdate", function(e) {
          if (!this$1$1.composing) {
            this$1$1.composing = { data: e.data, done: false };
          }
        });
        on(div, "compositionend", function(e) {
          if (this$1$1.composing) {
            if (e.data != this$1$1.composing.data) {
              this$1$1.readFromDOMSoon();
            }
            this$1$1.composing.done = true;
          }
        });
        on(div, "touchstart", function() {
          return input.forceCompositionEnd();
        });
        on(div, "input", function() {
          if (!this$1$1.composing) {
            this$1$1.readFromDOMSoon();
          }
        });
        function onCopyCut(e) {
          if (!belongsToInput(e) || signalDOMEvent(cm, e)) {
            return;
          }
          if (cm.somethingSelected()) {
            setLastCopied({ lineWise: false, text: cm.getSelections() });
            if (e.type == "cut") {
              cm.replaceSelection("", null, "cut");
            }
          } else if (!cm.options.lineWiseCopyCut) {
            return;
          } else {
            var ranges = copyableRanges(cm);
            setLastCopied({ lineWise: true, text: ranges.text });
            if (e.type == "cut") {
              cm.operation(function() {
                cm.setSelections(ranges.ranges, 0, sel_dontScroll);
                cm.replaceSelection("", null, "cut");
              });
            }
          }
          if (e.clipboardData) {
            e.clipboardData.clearData();
            var content = lastCopied.text.join("\n");
            e.clipboardData.setData("Text", content);
            if (e.clipboardData.getData("Text") == content) {
              e.preventDefault();
              return;
            }
          }
          var kludge = hiddenTextarea(), te = kludge.firstChild;
          disableBrowserMagic(te);
          cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);
          te.value = lastCopied.text.join("\n");
          var hadFocus = activeElt(rootNode(div));
          selectInput(te);
          setTimeout(function() {
            cm.display.lineSpace.removeChild(kludge);
            hadFocus.focus();
            if (hadFocus == div) {
              input.showPrimarySelection();
            }
          }, 50);
        }
        on(div, "copy", onCopyCut);
        on(div, "cut", onCopyCut);
      };
      ContentEditableInput.prototype.screenReaderLabelChanged = function(label) {
        if (label) {
          this.div.setAttribute("aria-label", label);
        } else {
          this.div.removeAttribute("aria-label");
        }
      };
      ContentEditableInput.prototype.prepareSelection = function() {
        var result = prepareSelection(this.cm, false);
        result.focus = activeElt(rootNode(this.div)) == this.div;
        return result;
      };
      ContentEditableInput.prototype.showSelection = function(info, takeFocus) {
        if (!info || !this.cm.display.view.length) {
          return;
        }
        if (info.focus || takeFocus) {
          this.showPrimarySelection();
        }
        this.showMultipleSelections(info);
      };
      ContentEditableInput.prototype.getSelection = function() {
        return this.cm.display.wrapper.ownerDocument.getSelection();
      };
      ContentEditableInput.prototype.showPrimarySelection = function() {
        var sel = this.getSelection(), cm = this.cm, prim = cm.doc.sel.primary();
        var from = prim.from(), to = prim.to();
        if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {
          sel.removeAllRanges();
          return;
        }
        var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);
        var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);
        if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad && cmp(minPos(curAnchor, curFocus), from) == 0 && cmp(maxPos(curAnchor, curFocus), to) == 0) {
          return;
        }
        var view = cm.display.view;
        var start = from.line >= cm.display.viewFrom && posToDOM(cm, from) || { node: view[0].measure.map[2], offset: 0 };
        var end = to.line < cm.display.viewTo && posToDOM(cm, to);
        if (!end) {
          var measure = view[view.length - 1].measure;
          var map2 = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;
          end = { node: map2[map2.length - 1], offset: map2[map2.length - 2] - map2[map2.length - 3] };
        }
        if (!start || !end) {
          sel.removeAllRanges();
          return;
        }
        var old = sel.rangeCount && sel.getRangeAt(0), rng;
        try {
          rng = range(start.node, start.offset, end.offset, end.node);
        } catch (e) {
        }
        if (rng) {
          if (!gecko && cm.state.focused) {
            sel.collapse(start.node, start.offset);
            if (!rng.collapsed) {
              sel.removeAllRanges();
              sel.addRange(rng);
            }
          } else {
            sel.removeAllRanges();
            sel.addRange(rng);
          }
          if (old && sel.anchorNode == null) {
            sel.addRange(old);
          } else if (gecko) {
            this.startGracePeriod();
          }
        }
        this.rememberSelection();
      };
      ContentEditableInput.prototype.startGracePeriod = function() {
        var this$1$1 = this;
        clearTimeout(this.gracePeriod);
        this.gracePeriod = setTimeout(function() {
          this$1$1.gracePeriod = false;
          if (this$1$1.selectionChanged()) {
            this$1$1.cm.operation(function() {
              return this$1$1.cm.curOp.selectionChanged = true;
            });
          }
        }, 20);
      };
      ContentEditableInput.prototype.showMultipleSelections = function(info) {
        removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);
        removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);
      };
      ContentEditableInput.prototype.rememberSelection = function() {
        var sel = this.getSelection();
        this.lastAnchorNode = sel.anchorNode;
        this.lastAnchorOffset = sel.anchorOffset;
        this.lastFocusNode = sel.focusNode;
        this.lastFocusOffset = sel.focusOffset;
      };
      ContentEditableInput.prototype.selectionInEditor = function() {
        var sel = this.getSelection();
        if (!sel.rangeCount) {
          return false;
        }
        var node = sel.getRangeAt(0).commonAncestorContainer;
        return contains(this.div, node);
      };
      ContentEditableInput.prototype.focus = function() {
        if (this.cm.options.readOnly != "nocursor") {
          if (!this.selectionInEditor() || activeElt(rootNode(this.div)) != this.div) {
            this.showSelection(this.prepareSelection(), true);
          }
          this.div.focus();
        }
      };
      ContentEditableInput.prototype.blur = function() {
        this.div.blur();
      };
      ContentEditableInput.prototype.getField = function() {
        return this.div;
      };
      ContentEditableInput.prototype.supportsTouch = function() {
        return true;
      };
      ContentEditableInput.prototype.receivedFocus = function() {
        var this$1$1 = this;
        var input = this;
        if (this.selectionInEditor()) {
          setTimeout(function() {
            return this$1$1.pollSelection();
          }, 20);
        } else {
          runInOp(this.cm, function() {
            return input.cm.curOp.selectionChanged = true;
          });
        }
        function poll() {
          if (input.cm.state.focused) {
            input.pollSelection();
            input.polling.set(input.cm.options.pollInterval, poll);
          }
        }
        this.polling.set(this.cm.options.pollInterval, poll);
      };
      ContentEditableInput.prototype.selectionChanged = function() {
        var sel = this.getSelection();
        return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset || sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset;
      };
      ContentEditableInput.prototype.pollSelection = function() {
        if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) {
          return;
        }
        var sel = this.getSelection(), cm = this.cm;
        if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {
          this.cm.triggerOnKeyDown({ type: "keydown", keyCode: 8, preventDefault: Math.abs });
          this.blur();
          this.focus();
          return;
        }
        if (this.composing) {
          return;
        }
        this.rememberSelection();
        var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);
        var head = domToPos(cm, sel.focusNode, sel.focusOffset);
        if (anchor && head) {
          runInOp(cm, function() {
            setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);
            if (anchor.bad || head.bad) {
              cm.curOp.selectionChanged = true;
            }
          });
        }
      };
      ContentEditableInput.prototype.pollContent = function() {
        if (this.readDOMTimeout != null) {
          clearTimeout(this.readDOMTimeout);
          this.readDOMTimeout = null;
        }
        var cm = this.cm, display = cm.display, sel = cm.doc.sel.primary();
        var from = sel.from(), to = sel.to();
        if (from.ch == 0 && from.line > cm.firstLine()) {
          from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length);
        }
        if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine()) {
          to = Pos(to.line + 1, 0);
        }
        if (from.line < display.viewFrom || to.line > display.viewTo - 1) {
          return false;
        }
        var fromIndex, fromLine, fromNode;
        if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {
          fromLine = lineNo(display.view[0].line);
          fromNode = display.view[0].node;
        } else {
          fromLine = lineNo(display.view[fromIndex].line);
          fromNode = display.view[fromIndex - 1].node.nextSibling;
        }
        var toIndex = findViewIndex(cm, to.line);
        var toLine, toNode;
        if (toIndex == display.view.length - 1) {
          toLine = display.viewTo - 1;
          toNode = display.lineDiv.lastChild;
        } else {
          toLine = lineNo(display.view[toIndex + 1].line) - 1;
          toNode = display.view[toIndex + 1].node.previousSibling;
        }
        if (!fromNode) {
          return false;
        }
        var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));
        var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));
        while (newText.length > 1 && oldText.length > 1) {
          if (lst(newText) == lst(oldText)) {
            newText.pop();
            oldText.pop();
            toLine--;
          } else if (newText[0] == oldText[0]) {
            newText.shift();
            oldText.shift();
            fromLine++;
          } else {
            break;
          }
        }
        var cutFront = 0, cutEnd = 0;
        var newTop = newText[0], oldTop = oldText[0], maxCutFront = Math.min(newTop.length, oldTop.length);
        while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront)) {
          ++cutFront;
        }
        var newBot = lst(newText), oldBot = lst(oldText);
        var maxCutEnd = Math.min(
          newBot.length - (newText.length == 1 ? cutFront : 0),
          oldBot.length - (oldText.length == 1 ? cutFront : 0)
        );
        while (cutEnd < maxCutEnd && newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {
          ++cutEnd;
        }
        if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {
          while (cutFront && cutFront > from.ch && newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {
            cutFront--;
            cutEnd++;
          }
        }
        newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\u200b+/, "");
        newText[0] = newText[0].slice(cutFront).replace(/\u200b+$/, "");
        var chFrom = Pos(fromLine, cutFront);
        var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);
        if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {
          replaceRange(cm.doc, newText, chFrom, chTo, "+input");
          return true;
        }
      };
      ContentEditableInput.prototype.ensurePolled = function() {
        this.forceCompositionEnd();
      };
      ContentEditableInput.prototype.reset = function() {
        this.forceCompositionEnd();
      };
      ContentEditableInput.prototype.forceCompositionEnd = function() {
        if (!this.composing) {
          return;
        }
        clearTimeout(this.readDOMTimeout);
        this.composing = null;
        this.updateFromDOM();
        this.div.blur();
        this.div.focus();
      };
      ContentEditableInput.prototype.readFromDOMSoon = function() {
        var this$1$1 = this;
        if (this.readDOMTimeout != null) {
          return;
        }
        this.readDOMTimeout = setTimeout(function() {
          this$1$1.readDOMTimeout = null;
          if (this$1$1.composing) {
            if (this$1$1.composing.done) {
              this$1$1.composing = null;
            } else {
              return;
            }
          }
          this$1$1.updateFromDOM();
        }, 80);
      };
      ContentEditableInput.prototype.updateFromDOM = function() {
        var this$1$1 = this;
        if (this.cm.isReadOnly() || !this.pollContent()) {
          runInOp(this.cm, function() {
            return regChange(this$1$1.cm);
          });
        }
      };
      ContentEditableInput.prototype.setUneditable = function(node) {
        node.contentEditable = "false";
      };
      ContentEditableInput.prototype.onKeyPress = function(e) {
        if (e.charCode == 0 || this.composing) {
          return;
        }
        e.preventDefault();
        if (!this.cm.isReadOnly()) {
          operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0);
        }
      };
      ContentEditableInput.prototype.readOnlyChanged = function(val) {
        this.div.contentEditable = String(val != "nocursor");
      };
      ContentEditableInput.prototype.onContextMenu = function() {
      };
      ContentEditableInput.prototype.resetPosition = function() {
      };
      ContentEditableInput.prototype.needsContentAttribute = true;
      function posToDOM(cm, pos) {
        var view = findViewForLine(cm, pos.line);
        if (!view || view.hidden) {
          return null;
        }
        var line = getLine(cm.doc, pos.line);
        var info = mapFromLineView(view, line, pos.line);
        var order = getOrder(line, cm.doc.direction), side = "left";
        if (order) {
          var partPos = getBidiPartAt(order, pos.ch);
          side = partPos % 2 ? "right" : "left";
        }
        var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);
        result.offset = result.collapse == "right" ? result.end : result.start;
        return result;
      }
      function isInGutter(node) {
        for (var scan = node; scan; scan = scan.parentNode) {
          if (/CodeMirror-gutter-wrapper/.test(scan.className)) {
            return true;
          }
        }
        return false;
      }
      function badPos(pos, bad) {
        if (bad) {
          pos.bad = true;
        }
        return pos;
      }
      function domTextBetween(cm, from, to, fromLine, toLine) {
        var text = "", closing = false, lineSep = cm.doc.lineSeparator(), extraLinebreak = false;
        function recognizeMarker(id) {
          return function(marker) {
            return marker.id == id;
          };
        }
        function close() {
          if (closing) {
            text += lineSep;
            if (extraLinebreak) {
              text += lineSep;
            }
            closing = extraLinebreak = false;
          }
        }
        function addText(str) {
          if (str) {
            close();
            text += str;
          }
        }
        function walk(node) {
          if (node.nodeType == 1) {
            var cmText = node.getAttribute("cm-text");
            if (cmText) {
              addText(cmText);
              return;
            }
            var markerID = node.getAttribute("cm-marker"), range2;
            if (markerID) {
              var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));
              if (found.length && (range2 = found[0].find(0))) {
                addText(getBetween(cm.doc, range2.from, range2.to).join(lineSep));
              }
              return;
            }
            if (node.getAttribute("contenteditable") == "false") {
              return;
            }
            var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);
            if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) {
              return;
            }
            if (isBlock) {
              close();
            }
            for (var i2 = 0; i2 < node.childNodes.length; i2++) {
              walk(node.childNodes[i2]);
            }
            if (/^(pre|p)$/i.test(node.nodeName)) {
              extraLinebreak = true;
            }
            if (isBlock) {
              closing = true;
            }
          } else if (node.nodeType == 3) {
            addText(node.nodeValue.replace(/\u200b/g, "").replace(/\u00a0/g, " "));
          }
        }
        for (; ; ) {
          walk(from);
          if (from == to) {
            break;
          }
          from = from.nextSibling;
          extraLinebreak = false;
        }
        return text;
      }
      function domToPos(cm, node, offset) {
        var lineNode;
        if (node == cm.display.lineDiv) {
          lineNode = cm.display.lineDiv.childNodes[offset];
          if (!lineNode) {
            return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true);
          }
          node = null;
          offset = 0;
        } else {
          for (lineNode = node; ; lineNode = lineNode.parentNode) {
            if (!lineNode || lineNode == cm.display.lineDiv) {
              return null;
            }
            if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) {
              break;
            }
          }
        }
        for (var i2 = 0; i2 < cm.display.view.length; i2++) {
          var lineView = cm.display.view[i2];
          if (lineView.node == lineNode) {
            return locateNodeInLineView(lineView, node, offset);
          }
        }
      }
      function locateNodeInLineView(lineView, node, offset) {
        var wrapper = lineView.text.firstChild, bad = false;
        if (!node || !contains(wrapper, node)) {
          return badPos(Pos(lineNo(lineView.line), 0), true);
        }
        if (node == wrapper) {
          bad = true;
          node = wrapper.childNodes[offset];
          offset = 0;
          if (!node) {
            var line = lineView.rest ? lst(lineView.rest) : lineView.line;
            return badPos(Pos(lineNo(line), line.text.length), bad);
          }
        }
        var textNode = node.nodeType == 3 ? node : null, topNode = node;
        if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {
          textNode = node.firstChild;
          if (offset) {
            offset = textNode.nodeValue.length;
          }
        }
        while (topNode.parentNode != wrapper) {
          topNode = topNode.parentNode;
        }
        var measure = lineView.measure, maps = measure.maps;
        function find(textNode2, topNode2, offset2) {
          for (var i2 = -1; i2 < (maps ? maps.length : 0); i2++) {
            var map2 = i2 < 0 ? measure.map : maps[i2];
            for (var j = 0; j < map2.length; j += 3) {
              var curNode = map2[j + 2];
              if (curNode == textNode2 || curNode == topNode2) {
                var line2 = lineNo(i2 < 0 ? lineView.line : lineView.rest[i2]);
                var ch = map2[j] + offset2;
                if (offset2 < 0 || curNode != textNode2) {
                  ch = map2[j + (offset2 ? 1 : 0)];
                }
                return Pos(line2, ch);
              }
            }
          }
        }
        var found = find(textNode, topNode, offset);
        if (found) {
          return badPos(found, bad);
        }
        for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {
          found = find(after, after.firstChild, 0);
          if (found) {
            return badPos(Pos(found.line, found.ch - dist), bad);
          } else {
            dist += after.textContent.length;
          }
        }
        for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {
          found = find(before, before.firstChild, -1);
          if (found) {
            return badPos(Pos(found.line, found.ch + dist$1), bad);
          } else {
            dist$1 += before.textContent.length;
          }
        }
      }
      var TextareaInput = function(cm) {
        this.cm = cm;
        this.prevInput = "";
        this.pollingFast = false;
        this.polling = new Delayed();
        this.hasSelection = false;
        this.composing = null;
        this.resetting = false;
      };
      TextareaInput.prototype.init = function(display) {
        var this$1$1 = this;
        var input = this, cm = this.cm;
        this.createField(display);
        var te = this.textarea;
        display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild);
        if (ios) {
          te.style.width = "0px";
        }
        on(te, "input", function() {
          if (ie && ie_version >= 9 && this$1$1.hasSelection) {
            this$1$1.hasSelection = null;
          }
          input.poll();
        });
        on(te, "paste", function(e) {
          if (signalDOMEvent(cm, e) || handlePaste(e, cm)) {
            return;
          }
          cm.state.pasteIncoming = +/* @__PURE__ */ new Date();
          input.fastPoll();
        });
        function prepareCopyCut(e) {
          if (signalDOMEvent(cm, e)) {
            return;
          }
          if (cm.somethingSelected()) {
            setLastCopied({ lineWise: false, text: cm.getSelections() });
          } else if (!cm.options.lineWiseCopyCut) {
            return;
          } else {
            var ranges = copyableRanges(cm);
            setLastCopied({ lineWise: true, text: ranges.text });
            if (e.type == "cut") {
              cm.setSelections(ranges.ranges, null, sel_dontScroll);
            } else {
              input.prevInput = "";
              te.value = ranges.text.join("\n");
              selectInput(te);
            }
          }
          if (e.type == "cut") {
            cm.state.cutIncoming = +/* @__PURE__ */ new Date();
          }
        }
        on(te, "cut", prepareCopyCut);
        on(te, "copy", prepareCopyCut);
        on(display.scroller, "paste", function(e) {
          if (eventInWidget(display, e) || signalDOMEvent(cm, e)) {
            return;
          }
          if (!te.dispatchEvent) {
            cm.state.pasteIncoming = +/* @__PURE__ */ new Date();
            input.focus();
            return;
          }
          var event = new Event("paste");
          event.clipboardData = e.clipboardData;
          te.dispatchEvent(event);
        });
        on(display.lineSpace, "selectstart", function(e) {
          if (!eventInWidget(display, e)) {
            e_preventDefault(e);
          }
        });
        on(te, "compositionstart", function() {
          var start = cm.getCursor("from");
          if (input.composing) {
            input.composing.range.clear();
          }
          input.composing = {
            start,
            range: cm.markText(start, cm.getCursor("to"), { className: "CodeMirror-composing" })
          };
        });
        on(te, "compositionend", function() {
          if (input.composing) {
            input.poll();
            input.composing.range.clear();
            input.composing = null;
          }
        });
      };
      TextareaInput.prototype.createField = function(_display) {
        this.wrapper = hiddenTextarea();
        this.textarea = this.wrapper.firstChild;
        var opts = this.cm.options;
        disableBrowserMagic(this.textarea, opts.spellcheck, opts.autocorrect, opts.autocapitalize);
      };
      TextareaInput.prototype.screenReaderLabelChanged = function(label) {
        if (label) {
          this.textarea.setAttribute("aria-label", label);
        } else {
          this.textarea.removeAttribute("aria-label");
        }
      };
      TextareaInput.prototype.prepareSelection = function() {
        var cm = this.cm, display = cm.display, doc2 = cm.doc;
        var result = prepareSelection(cm);
        if (cm.options.moveInputWithCursor) {
          var headPos = cursorCoords(cm, doc2.sel.primary().head, "div");
          var wrapOff = display.wrapper.getBoundingClientRect(), lineOff = display.lineDiv.getBoundingClientRect();
          result.teTop = Math.max(0, Math.min(
            display.wrapper.clientHeight - 10,
            headPos.top + lineOff.top - wrapOff.top
          ));
          result.teLeft = Math.max(0, Math.min(
            display.wrapper.clientWidth - 10,
            headPos.left + lineOff.left - wrapOff.left
          ));
        }
        return result;
      };
      TextareaInput.prototype.showSelection = function(drawn) {
        var cm = this.cm, display = cm.display;
        removeChildrenAndAdd(display.cursorDiv, drawn.cursors);
        removeChildrenAndAdd(display.selectionDiv, drawn.selection);
        if (drawn.teTop != null) {
          this.wrapper.style.top = drawn.teTop + "px";
          this.wrapper.style.left = drawn.teLeft + "px";
        }
      };
      TextareaInput.prototype.reset = function(typing) {
        if (this.contextMenuPending || this.composing && typing) {
          return;
        }
        var cm = this.cm;
        this.resetting = true;
        if (cm.somethingSelected()) {
          this.prevInput = "";
          var content = cm.getSelection();
          this.textarea.value = content;
          if (cm.state.focused) {
            selectInput(this.textarea);
          }
          if (ie && ie_version >= 9) {
            this.hasSelection = content;
          }
        } else if (!typing) {
          this.prevInput = this.textarea.value = "";
          if (ie && ie_version >= 9) {
            this.hasSelection = null;
          }
        }
        this.resetting = false;
      };
      TextareaInput.prototype.getField = function() {
        return this.textarea;
      };
      TextareaInput.prototype.supportsTouch = function() {
        return false;
      };
      TextareaInput.prototype.focus = function() {
        if (this.cm.options.readOnly != "nocursor" && (!mobile || activeElt(rootNode(this.textarea)) != this.textarea)) {
          try {
            this.textarea.focus();
          } catch (e) {
          }
        }
      };
      TextareaInput.prototype.blur = function() {
        this.textarea.blur();
      };
      TextareaInput.prototype.resetPosition = function() {
        this.wrapper.style.top = this.wrapper.style.left = 0;
      };
      TextareaInput.prototype.receivedFocus = function() {
        this.slowPoll();
      };
      TextareaInput.prototype.slowPoll = function() {
        var this$1$1 = this;
        if (this.pollingFast) {
          return;
        }
        this.polling.set(this.cm.options.pollInterval, function() {
          this$1$1.poll();
          if (this$1$1.cm.state.focused) {
            this$1$1.slowPoll();
          }
        });
      };
      TextareaInput.prototype.fastPoll = function() {
        var missed = false, input = this;
        input.pollingFast = true;
        function p() {
          var changed = input.poll();
          if (!changed && !missed) {
            missed = true;
            input.polling.set(60, p);
          } else {
            input.pollingFast = false;
            input.slowPoll();
          }
        }
        input.polling.set(20, p);
      };
      TextareaInput.prototype.poll = function() {
        var this$1$1 = this;
        var cm = this.cm, input = this.textarea, prevInput = this.prevInput;
        if (this.contextMenuPending || this.resetting || !cm.state.focused || hasSelection(input) && !prevInput && !this.composing || cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq) {
          return false;
        }
        var text = input.value;
        if (text == prevInput && !cm.somethingSelected()) {
          return false;
        }
        if (ie && ie_version >= 9 && this.hasSelection === text || mac && /[\uf700-\uf7ff]/.test(text)) {
          cm.display.input.reset();
          return false;
        }
        if (cm.doc.sel == cm.display.selForContextMenu) {
          var first = text.charCodeAt(0);
          if (first == 8203 && !prevInput) {
            prevInput = "​";
          }
          if (first == 8666) {
            this.reset();
            return this.cm.execCommand("undo");
          }
        }
        var same = 0, l = Math.min(prevInput.length, text.length);
        while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) {
          ++same;
        }
        runInOp(cm, function() {
          applyTextInput(
            cm,
            text.slice(same),
            prevInput.length - same,
            null,
            this$1$1.composing ? "*compose" : null
          );
          if (text.length > 1e3 || text.indexOf("\n") > -1) {
            input.value = this$1$1.prevInput = "";
          } else {
            this$1$1.prevInput = text;
          }
          if (this$1$1.composing) {
            this$1$1.composing.range.clear();
            this$1$1.composing.range = cm.markText(
              this$1$1.composing.start,
              cm.getCursor("to"),
              { className: "CodeMirror-composing" }
            );
          }
        });
        return true;
      };
      TextareaInput.prototype.ensurePolled = function() {
        if (this.pollingFast && this.poll()) {
          this.pollingFast = false;
        }
      };
      TextareaInput.prototype.onKeyPress = function() {
        if (ie && ie_version >= 9) {
          this.hasSelection = null;
        }
        this.fastPoll();
      };
      TextareaInput.prototype.onContextMenu = function(e) {
        var input = this, cm = input.cm, display = cm.display, te = input.textarea;
        if (input.contextMenuPending) {
          input.contextMenuPending();
        }
        var pos = posFromMouse(cm, e), scrollPos = display.scroller.scrollTop;
        if (!pos || presto) {
          return;
        }
        var reset = cm.options.resetSelectionOnContextMenu;
        if (reset && cm.doc.sel.contains(pos) == -1) {
          operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll);
        }
        var oldCSS = te.style.cssText, oldWrapperCSS = input.wrapper.style.cssText;
        var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();
        input.wrapper.style.cssText = "position: static";
        te.style.cssText = "position: absolute; width: 30px; height: 30px;\n      top: " + (e.clientY - wrapperBox.top - 5) + "px; left: " + (e.clientX - wrapperBox.left - 5) + "px;\n      z-index: 1000; background: " + (ie ? "rgba(255, 255, 255, .05)" : "transparent") + ";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);";
        var oldScrollY;
        if (webkit) {
          oldScrollY = te.ownerDocument.defaultView.scrollY;
        }
        display.input.focus();
        if (webkit) {
          te.ownerDocument.defaultView.scrollTo(null, oldScrollY);
        }
        display.input.reset();
        if (!cm.somethingSelected()) {
          te.value = input.prevInput = " ";
        }
        input.contextMenuPending = rehide;
        display.selForContextMenu = cm.doc.sel;
        clearTimeout(display.detectingSelectAll);
        function prepareSelectAllHack() {
          if (te.selectionStart != null) {
            var selected = cm.somethingSelected();
            var extval = "​" + (selected ? te.value : "");
            te.value = "⇚";
            te.value = extval;
            input.prevInput = selected ? "" : "​";
            te.selectionStart = 1;
            te.selectionEnd = extval.length;
            display.selForContextMenu = cm.doc.sel;
          }
        }
        function rehide() {
          if (input.contextMenuPending != rehide) {
            return;
          }
          input.contextMenuPending = false;
          input.wrapper.style.cssText = oldWrapperCSS;
          te.style.cssText = oldCSS;
          if (ie && ie_version < 9) {
            display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos);
          }
          if (te.selectionStart != null) {
            if (!ie || ie && ie_version < 9) {
              prepareSelectAllHack();
            }
            var i2 = 0, poll = function() {
              if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 && te.selectionEnd > 0 && input.prevInput == "​") {
                operation(cm, selectAll)(cm);
              } else if (i2++ < 10) {
                display.detectingSelectAll = setTimeout(poll, 500);
              } else {
                display.selForContextMenu = null;
                display.input.reset();
              }
            };
            display.detectingSelectAll = setTimeout(poll, 200);
          }
        }
        if (ie && ie_version >= 9) {
          prepareSelectAllHack();
        }
        if (captureRightClick) {
          e_stop(e);
          var mouseup = function() {
            off(window, "mouseup", mouseup);
            setTimeout(rehide, 20);
          };
          on(window, "mouseup", mouseup);
        } else {
          setTimeout(rehide, 50);
        }
      };
      TextareaInput.prototype.readOnlyChanged = function(val) {
        if (!val) {
          this.reset();
        }
        this.textarea.disabled = val == "nocursor";
        this.textarea.readOnly = !!val;
      };
      TextareaInput.prototype.setUneditable = function() {
      };
      TextareaInput.prototype.needsContentAttribute = false;
      function fromTextArea(textarea, options) {
        options = options ? copyObj(options) : {};
        options.value = textarea.value;
        if (!options.tabindex && textarea.tabIndex) {
          options.tabindex = textarea.tabIndex;
        }
        if (!options.placeholder && textarea.placeholder) {
          options.placeholder = textarea.placeholder;
        }
        if (options.autofocus == null) {
          var hasFocus = activeElt(rootNode(textarea));
          options.autofocus = hasFocus == textarea || textarea.getAttribute("autofocus") != null && hasFocus == document.body;
        }
        function save() {
          textarea.value = cm.getValue();
        }
        var realSubmit;
        if (textarea.form) {
          on(textarea.form, "submit", save);
          if (!options.leaveSubmitMethodAlone) {
            var form = textarea.form;
            realSubmit = form.submit;
            try {
              var wrappedSubmit = form.submit = function() {
                save();
                form.submit = realSubmit;
                form.submit();
                form.submit = wrappedSubmit;
              };
            } catch (e) {
            }
          }
        }
        options.finishInit = function(cm2) {
          cm2.save = save;
          cm2.getTextArea = function() {
            return textarea;
          };
          cm2.toTextArea = function() {
            cm2.toTextArea = isNaN;
            save();
            textarea.parentNode.removeChild(cm2.getWrapperElement());
            textarea.style.display = "";
            if (textarea.form) {
              off(textarea.form, "submit", save);
              if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == "function") {
                textarea.form.submit = realSubmit;
              }
            }
          };
        };
        textarea.style.display = "none";
        var cm = CodeMirror(
          function(node) {
            return textarea.parentNode.insertBefore(node, textarea.nextSibling);
          },
          options
        );
        return cm;
      }
      function addLegacyProps(CodeMirror2) {
        CodeMirror2.off = off;
        CodeMirror2.on = on;
        CodeMirror2.wheelEventPixels = wheelEventPixels;
        CodeMirror2.Doc = Doc;
        CodeMirror2.splitLines = splitLinesAuto;
        CodeMirror2.countColumn = countColumn;
        CodeMirror2.findColumn = findColumn;
        CodeMirror2.isWordChar = isWordCharBasic;
        CodeMirror2.Pass = Pass;
        CodeMirror2.signal = signal;
        CodeMirror2.Line = Line;
        CodeMirror2.changeEnd = changeEnd;
        CodeMirror2.scrollbarModel = scrollbarModel;
        CodeMirror2.Pos = Pos;
        CodeMirror2.cmpPos = cmp;
        CodeMirror2.modes = modes;
        CodeMirror2.mimeModes = mimeModes;
        CodeMirror2.resolveMode = resolveMode;
        CodeMirror2.getMode = getMode;
        CodeMirror2.modeExtensions = modeExtensions;
        CodeMirror2.extendMode = extendMode;
        CodeMirror2.copyState = copyState;
        CodeMirror2.startState = startState;
        CodeMirror2.innerMode = innerMode;
        CodeMirror2.commands = commands;
        CodeMirror2.keyMap = keyMap;
        CodeMirror2.keyName = keyName;
        CodeMirror2.isModifierKey = isModifierKey;
        CodeMirror2.lookupKey = lookupKey;
        CodeMirror2.normalizeKeyMap = normalizeKeyMap;
        CodeMirror2.StringStream = StringStream;
        CodeMirror2.SharedTextMarker = SharedTextMarker;
        CodeMirror2.TextMarker = TextMarker;
        CodeMirror2.LineWidget = LineWidget;
        CodeMirror2.e_preventDefault = e_preventDefault;
        CodeMirror2.e_stopPropagation = e_stopPropagation;
        CodeMirror2.e_stop = e_stop;
        CodeMirror2.addClass = addClass;
        CodeMirror2.contains = contains;
        CodeMirror2.rmClass = rmClass;
        CodeMirror2.keyNames = keyNames;
      }
      defineOptions(CodeMirror);
      addEditorMethods(CodeMirror);
      var dontDelegate = "iter insert remove copy getEditor constructor".split(" ");
      for (var prop in Doc.prototype) {
        if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0) {
          CodeMirror.prototype[prop] = /* @__PURE__ */ function(method) {
            return function() {
              return method.apply(this.doc, arguments);
            };
          }(Doc.prototype[prop]);
        }
      }
      eventMixin(Doc);
      CodeMirror.inputStyles = { "textarea": TextareaInput, "contenteditable": ContentEditableInput };
      CodeMirror.defineMode = function(name) {
        if (!CodeMirror.defaults.mode && name != "null") {
          CodeMirror.defaults.mode = name;
        }
        defineMode.apply(this, arguments);
      };
      CodeMirror.defineMIME = defineMIME;
      CodeMirror.defineMode("null", function() {
        return { token: function(stream) {
          return stream.skipToEnd();
        } };
      });
      CodeMirror.defineMIME("text/plain", "null");
      CodeMirror.defineExtension = function(name, func) {
        CodeMirror.prototype[name] = func;
      };
      CodeMirror.defineDocExtension = function(name, func) {
        Doc.prototype[name] = func;
      };
      CodeMirror.fromTextArea = fromTextArea;
      addLegacyProps(CodeMirror);
      CodeMirror.version = "5.65.18";
      return CodeMirror;
    });
  })(codemirror$2);
  return codemirror$2.exports;
}
var codemirrorExports = requireCodemirror();
const codemirror = /* @__PURE__ */ getDefaultExportFromCjs(codemirrorExports);
var css = { exports: {} };
var hasRequiredCss;
function requireCss() {
  if (hasRequiredCss) return css.exports;
  hasRequiredCss = 1;
  (function(module, exports) {
    (function(mod) {
      mod(requireCodemirror());
    })(function(CodeMirror) {
      CodeMirror.defineMode("css", function(config, parserConfig) {
        var inline = parserConfig.inline;
        if (!parserConfig.propertyKeywords) parserConfig = CodeMirror.resolveMode("text/css");
        var indentUnit = config.indentUnit, tokenHooks = parserConfig.tokenHooks, documentTypes2 = parserConfig.documentTypes || {}, mediaTypes2 = parserConfig.mediaTypes || {}, mediaFeatures2 = parserConfig.mediaFeatures || {}, mediaValueKeywords2 = parserConfig.mediaValueKeywords || {}, propertyKeywords2 = parserConfig.propertyKeywords || {}, nonStandardPropertyKeywords2 = parserConfig.nonStandardPropertyKeywords || {}, fontProperties2 = parserConfig.fontProperties || {}, counterDescriptors2 = parserConfig.counterDescriptors || {}, colorKeywords2 = parserConfig.colorKeywords || {}, valueKeywords2 = parserConfig.valueKeywords || {}, allowNested = parserConfig.allowNested, lineComment = parserConfig.lineComment, supportsAtComponent = parserConfig.supportsAtComponent === true, highlightNonStandardPropertyKeywords = config.highlightNonStandardPropertyKeywords !== false;
        var type, override;
        function ret(style, tp) {
          type = tp;
          return style;
        }
        function tokenBase(stream, state) {
          var ch = stream.next();
          if (tokenHooks[ch]) {
            var result = tokenHooks[ch](stream, state);
            if (result !== false) return result;
          }
          if (ch == "@") {
            stream.eatWhile(/[\w\\\-]/);
            return ret("def", stream.current());
          } else if (ch == "=" || (ch == "~" || ch == "|") && stream.eat("=")) {
            return ret(null, "compare");
          } else if (ch == '"' || ch == "'") {
            state.tokenize = tokenString(ch);
            return state.tokenize(stream, state);
          } else if (ch == "#") {
            stream.eatWhile(/[\w\\\-]/);
            return ret("atom", "hash");
          } else if (ch == "!") {
            stream.match(/^\s*\w*/);
            return ret("keyword", "important");
          } else if (/\d/.test(ch) || ch == "." && stream.eat(/\d/)) {
            stream.eatWhile(/[\w.%]/);
            return ret("number", "unit");
          } else if (ch === "-") {
            if (/[\d.]/.test(stream.peek())) {
              stream.eatWhile(/[\w.%]/);
              return ret("number", "unit");
            } else if (stream.match(/^-[\w\\\-]*/)) {
              stream.eatWhile(/[\w\\\-]/);
              if (stream.match(/^\s*:/, false))
                return ret("variable-2", "variable-definition");
              return ret("variable-2", "variable");
            } else if (stream.match(/^\w+-/)) {
              return ret("meta", "meta");
            }
          } else if (/[,+>*\/]/.test(ch)) {
            return ret(null, "select-op");
          } else if (ch == "." && stream.match(/^-?[_a-z][_a-z0-9-]*/i)) {
            return ret("qualifier", "qualifier");
          } else if (/[:;{}\[\]\(\)]/.test(ch)) {
            return ret(null, ch);
          } else if (stream.match(/^[\w-.]+(?=\()/)) {
            if (/^(url(-prefix)?|domain|regexp)$/i.test(stream.current())) {
              state.tokenize = tokenParenthesized;
            }
            return ret("variable callee", "variable");
          } else if (/[\w\\\-]/.test(ch)) {
            stream.eatWhile(/[\w\\\-]/);
            return ret("property", "word");
          } else {
            return ret(null, null);
          }
        }
        function tokenString(quote) {
          return function(stream, state) {
            var escaped = false, ch;
            while ((ch = stream.next()) != null) {
              if (ch == quote && !escaped) {
                if (quote == ")") stream.backUp(1);
                break;
              }
              escaped = !escaped && ch == "\\";
            }
            if (ch == quote || !escaped && quote != ")") state.tokenize = null;
            return ret("string", "string");
          };
        }
        function tokenParenthesized(stream, state) {
          stream.next();
          if (!stream.match(/^\s*[\"\')]/, false))
            state.tokenize = tokenString(")");
          else
            state.tokenize = null;
          return ret(null, "(");
        }
        function Context(type2, indent, prev) {
          this.type = type2;
          this.indent = indent;
          this.prev = prev;
        }
        function pushContext(state, stream, type2, indent) {
          state.context = new Context(type2, stream.indentation() + (indent === false ? 0 : indentUnit), state.context);
          return type2;
        }
        function popContext(state) {
          if (state.context.prev)
            state.context = state.context.prev;
          return state.context.type;
        }
        function pass(type2, stream, state) {
          return states[state.context.type](type2, stream, state);
        }
        function popAndPass(type2, stream, state, n) {
          for (var i = n || 1; i > 0; i--)
            state.context = state.context.prev;
          return pass(type2, stream, state);
        }
        function wordAsValue(stream) {
          var word = stream.current().toLowerCase();
          if (valueKeywords2.hasOwnProperty(word))
            override = "atom";
          else if (colorKeywords2.hasOwnProperty(word))
            override = "keyword";
          else
            override = "variable";
        }
        var states = {};
        states.top = function(type2, stream, state) {
          if (type2 == "{") {
            return pushContext(state, stream, "block");
          } else if (type2 == "}" && state.context.prev) {
            return popContext(state);
          } else if (supportsAtComponent && /@component/i.test(type2)) {
            return pushContext(state, stream, "atComponentBlock");
          } else if (/^@(-moz-)?document$/i.test(type2)) {
            return pushContext(state, stream, "documentTypes");
          } else if (/^@(media|supports|(-moz-)?document|import)$/i.test(type2)) {
            return pushContext(state, stream, "atBlock");
          } else if (/^@(font-face|counter-style)/i.test(type2)) {
            state.stateArg = type2;
            return "restricted_atBlock_before";
          } else if (/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(type2)) {
            return "keyframes";
          } else if (type2 && type2.charAt(0) == "@") {
            return pushContext(state, stream, "at");
          } else if (type2 == "hash") {
            override = "builtin";
          } else if (type2 == "word") {
            override = "tag";
          } else if (type2 == "variable-definition") {
            return "maybeprop";
          } else if (type2 == "interpolation") {
            return pushContext(state, stream, "interpolation");
          } else if (type2 == ":") {
            return "pseudo";
          } else if (allowNested && type2 == "(") {
            return pushContext(state, stream, "parens");
          }
          return state.context.type;
        };
        states.block = function(type2, stream, state) {
          if (type2 == "word") {
            var word = stream.current().toLowerCase();
            if (propertyKeywords2.hasOwnProperty(word)) {
              override = "property";
              return "maybeprop";
            } else if (nonStandardPropertyKeywords2.hasOwnProperty(word)) {
              override = highlightNonStandardPropertyKeywords ? "string-2" : "property";
              return "maybeprop";
            } else if (allowNested) {
              override = stream.match(/^\s*:(?:\s|$)/, false) ? "property" : "tag";
              return "block";
            } else {
              override += " error";
              return "maybeprop";
            }
          } else if (type2 == "meta") {
            return "block";
          } else if (!allowNested && (type2 == "hash" || type2 == "qualifier")) {
            override = "error";
            return "block";
          } else {
            return states.top(type2, stream, state);
          }
        };
        states.maybeprop = function(type2, stream, state) {
          if (type2 == ":") return pushContext(state, stream, "prop");
          return pass(type2, stream, state);
        };
        states.prop = function(type2, stream, state) {
          if (type2 == ";") return popContext(state);
          if (type2 == "{" && allowNested) return pushContext(state, stream, "propBlock");
          if (type2 == "}" || type2 == "{") return popAndPass(type2, stream, state);
          if (type2 == "(") return pushContext(state, stream, "parens");
          if (type2 == "hash" && !/^#([0-9a-fA-F]{3,4}|[0-9a-fA-F]{6}|[0-9a-fA-F]{8})$/.test(stream.current())) {
            override += " error";
          } else if (type2 == "word") {
            wordAsValue(stream);
          } else if (type2 == "interpolation") {
            return pushContext(state, stream, "interpolation");
          }
          return "prop";
        };
        states.propBlock = function(type2, _stream, state) {
          if (type2 == "}") return popContext(state);
          if (type2 == "word") {
            override = "property";
            return "maybeprop";
          }
          return state.context.type;
        };
        states.parens = function(type2, stream, state) {
          if (type2 == "{" || type2 == "}") return popAndPass(type2, stream, state);
          if (type2 == ")") return popContext(state);
          if (type2 == "(") return pushContext(state, stream, "parens");
          if (type2 == "interpolation") return pushContext(state, stream, "interpolation");
          if (type2 == "word") wordAsValue(stream);
          return "parens";
        };
        states.pseudo = function(type2, stream, state) {
          if (type2 == "meta") return "pseudo";
          if (type2 == "word") {
            override = "variable-3";
            return state.context.type;
          }
          return pass(type2, stream, state);
        };
        states.documentTypes = function(type2, stream, state) {
          if (type2 == "word" && documentTypes2.hasOwnProperty(stream.current())) {
            override = "tag";
            return state.context.type;
          } else {
            return states.atBlock(type2, stream, state);
          }
        };
        states.atBlock = function(type2, stream, state) {
          if (type2 == "(") return pushContext(state, stream, "atBlock_parens");
          if (type2 == "}" || type2 == ";") return popAndPass(type2, stream, state);
          if (type2 == "{") return popContext(state) && pushContext(state, stream, allowNested ? "block" : "top");
          if (type2 == "interpolation") return pushContext(state, stream, "interpolation");
          if (type2 == "word") {
            var word = stream.current().toLowerCase();
            if (word == "only" || word == "not" || word == "and" || word == "or")
              override = "keyword";
            else if (mediaTypes2.hasOwnProperty(word))
              override = "attribute";
            else if (mediaFeatures2.hasOwnProperty(word))
              override = "property";
            else if (mediaValueKeywords2.hasOwnProperty(word))
              override = "keyword";
            else if (propertyKeywords2.hasOwnProperty(word))
              override = "property";
            else if (nonStandardPropertyKeywords2.hasOwnProperty(word))
              override = highlightNonStandardPropertyKeywords ? "string-2" : "property";
            else if (valueKeywords2.hasOwnProperty(word))
              override = "atom";
            else if (colorKeywords2.hasOwnProperty(word))
              override = "keyword";
            else
              override = "error";
          }
          return state.context.type;
        };
        states.atComponentBlock = function(type2, stream, state) {
          if (type2 == "}")
            return popAndPass(type2, stream, state);
          if (type2 == "{")
            return popContext(state) && pushContext(state, stream, allowNested ? "block" : "top", false);
          if (type2 == "word")
            override = "error";
          return state.context.type;
        };
        states.atBlock_parens = function(type2, stream, state) {
          if (type2 == ")") return popContext(state);
          if (type2 == "{" || type2 == "}") return popAndPass(type2, stream, state, 2);
          return states.atBlock(type2, stream, state);
        };
        states.restricted_atBlock_before = function(type2, stream, state) {
          if (type2 == "{")
            return pushContext(state, stream, "restricted_atBlock");
          if (type2 == "word" && state.stateArg == "@counter-style") {
            override = "variable";
            return "restricted_atBlock_before";
          }
          return pass(type2, stream, state);
        };
        states.restricted_atBlock = function(type2, stream, state) {
          if (type2 == "}") {
            state.stateArg = null;
            return popContext(state);
          }
          if (type2 == "word") {
            if (state.stateArg == "@font-face" && !fontProperties2.hasOwnProperty(stream.current().toLowerCase()) || state.stateArg == "@counter-style" && !counterDescriptors2.hasOwnProperty(stream.current().toLowerCase()))
              override = "error";
            else
              override = "property";
            return "maybeprop";
          }
          return "restricted_atBlock";
        };
        states.keyframes = function(type2, stream, state) {
          if (type2 == "word") {
            override = "variable";
            return "keyframes";
          }
          if (type2 == "{") return pushContext(state, stream, "top");
          return pass(type2, stream, state);
        };
        states.at = function(type2, stream, state) {
          if (type2 == ";") return popContext(state);
          if (type2 == "{" || type2 == "}") return popAndPass(type2, stream, state);
          if (type2 == "word") override = "tag";
          else if (type2 == "hash") override = "builtin";
          return "at";
        };
        states.interpolation = function(type2, stream, state) {
          if (type2 == "}") return popContext(state);
          if (type2 == "{" || type2 == ";") return popAndPass(type2, stream, state);
          if (type2 == "word") override = "variable";
          else if (type2 != "variable" && type2 != "(" && type2 != ")") override = "error";
          return "interpolation";
        };
        return {
          startState: function(base) {
            return {
              tokenize: null,
              state: inline ? "block" : "top",
              stateArg: null,
              context: new Context(inline ? "block" : "top", base || 0, null)
            };
          },
          token: function(stream, state) {
            if (!state.tokenize && stream.eatSpace()) return null;
            var style = (state.tokenize || tokenBase)(stream, state);
            if (style && typeof style == "object") {
              type = style[1];
              style = style[0];
            }
            override = style;
            if (type != "comment")
              state.state = states[state.state](type, stream, state);
            return override;
          },
          indent: function(state, textAfter) {
            var cx = state.context, ch = textAfter && textAfter.charAt(0);
            var indent = cx.indent;
            if (cx.type == "prop" && (ch == "}" || ch == ")")) cx = cx.prev;
            if (cx.prev) {
              if (ch == "}" && (cx.type == "block" || cx.type == "top" || cx.type == "interpolation" || cx.type == "restricted_atBlock")) {
                cx = cx.prev;
                indent = cx.indent;
              } else if (ch == ")" && (cx.type == "parens" || cx.type == "atBlock_parens") || ch == "{" && (cx.type == "at" || cx.type == "atBlock")) {
                indent = Math.max(0, cx.indent - indentUnit);
              }
            }
            return indent;
          },
          electricChars: "}",
          blockCommentStart: "/*",
          blockCommentEnd: "*/",
          blockCommentContinue: " * ",
          lineComment,
          fold: "brace"
        };
      });
      function keySet(array) {
        var keys = {};
        for (var i = 0; i < array.length; ++i) {
          keys[array[i].toLowerCase()] = true;
        }
        return keys;
      }
      var documentTypes_ = [
        "domain",
        "regexp",
        "url",
        "url-prefix"
      ], documentTypes = keySet(documentTypes_);
      var mediaTypes_ = [
        "all",
        "aural",
        "braille",
        "handheld",
        "print",
        "projection",
        "screen",
        "tty",
        "tv",
        "embossed"
      ], mediaTypes = keySet(mediaTypes_);
      var mediaFeatures_ = [
        "width",
        "min-width",
        "max-width",
        "height",
        "min-height",
        "max-height",
        "device-width",
        "min-device-width",
        "max-device-width",
        "device-height",
        "min-device-height",
        "max-device-height",
        "aspect-ratio",
        "min-aspect-ratio",
        "max-aspect-ratio",
        "device-aspect-ratio",
        "min-device-aspect-ratio",
        "max-device-aspect-ratio",
        "color",
        "min-color",
        "max-color",
        "color-index",
        "min-color-index",
        "max-color-index",
        "monochrome",
        "min-monochrome",
        "max-monochrome",
        "resolution",
        "min-resolution",
        "max-resolution",
        "scan",
        "grid",
        "orientation",
        "device-pixel-ratio",
        "min-device-pixel-ratio",
        "max-device-pixel-ratio",
        "pointer",
        "any-pointer",
        "hover",
        "any-hover",
        "prefers-color-scheme",
        "dynamic-range",
        "video-dynamic-range"
      ], mediaFeatures = keySet(mediaFeatures_);
      var mediaValueKeywords_ = [
        "landscape",
        "portrait",
        "none",
        "coarse",
        "fine",
        "on-demand",
        "hover",
        "interlace",
        "progressive",
        "dark",
        "light",
        "standard",
        "high"
      ], mediaValueKeywords = keySet(mediaValueKeywords_);
      var propertyKeywords_ = [
        "align-content",
        "align-items",
        "align-self",
        "alignment-adjust",
        "alignment-baseline",
        "all",
        "anchor-point",
        "animation",
        "animation-delay",
        "animation-direction",
        "animation-duration",
        "animation-fill-mode",
        "animation-iteration-count",
        "animation-name",
        "animation-play-state",
        "animation-timing-function",
        "appearance",
        "azimuth",
        "backdrop-filter",
        "backface-visibility",
        "background",
        "background-attachment",
        "background-blend-mode",
        "background-clip",
        "background-color",
        "background-image",
        "background-origin",
        "background-position",
        "background-position-x",
        "background-position-y",
        "background-repeat",
        "background-size",
        "baseline-shift",
        "binding",
        "bleed",
        "block-size",
        "bookmark-label",
        "bookmark-level",
        "bookmark-state",
        "bookmark-target",
        "border",
        "border-bottom",
        "border-bottom-color",
        "border-bottom-left-radius",
        "border-bottom-right-radius",
        "border-bottom-style",
        "border-bottom-width",
        "border-collapse",
        "border-color",
        "border-image",
        "border-image-outset",
        "border-image-repeat",
        "border-image-slice",
        "border-image-source",
        "border-image-width",
        "border-left",
        "border-left-color",
        "border-left-style",
        "border-left-width",
        "border-radius",
        "border-right",
        "border-right-color",
        "border-right-style",
        "border-right-width",
        "border-spacing",
        "border-style",
        "border-top",
        "border-top-color",
        "border-top-left-radius",
        "border-top-right-radius",
        "border-top-style",
        "border-top-width",
        "border-width",
        "bottom",
        "box-decoration-break",
        "box-shadow",
        "box-sizing",
        "break-after",
        "break-before",
        "break-inside",
        "caption-side",
        "caret-color",
        "clear",
        "clip",
        "color",
        "color-profile",
        "column-count",
        "column-fill",
        "column-gap",
        "column-rule",
        "column-rule-color",
        "column-rule-style",
        "column-rule-width",
        "column-span",
        "column-width",
        "columns",
        "contain",
        "content",
        "counter-increment",
        "counter-reset",
        "crop",
        "cue",
        "cue-after",
        "cue-before",
        "cursor",
        "direction",
        "display",
        "dominant-baseline",
        "drop-initial-after-adjust",
        "drop-initial-after-align",
        "drop-initial-before-adjust",
        "drop-initial-before-align",
        "drop-initial-size",
        "drop-initial-value",
        "elevation",
        "empty-cells",
        "fit",
        "fit-content",
        "fit-position",
        "flex",
        "flex-basis",
        "flex-direction",
        "flex-flow",
        "flex-grow",
        "flex-shrink",
        "flex-wrap",
        "float",
        "float-offset",
        "flow-from",
        "flow-into",
        "font",
        "font-family",
        "font-feature-settings",
        "font-kerning",
        "font-language-override",
        "font-optical-sizing",
        "font-size",
        "font-size-adjust",
        "font-stretch",
        "font-style",
        "font-synthesis",
        "font-variant",
        "font-variant-alternates",
        "font-variant-caps",
        "font-variant-east-asian",
        "font-variant-ligatures",
        "font-variant-numeric",
        "font-variant-position",
        "font-variation-settings",
        "font-weight",
        "gap",
        "grid",
        "grid-area",
        "grid-auto-columns",
        "grid-auto-flow",
        "grid-auto-rows",
        "grid-column",
        "grid-column-end",
        "grid-column-gap",
        "grid-column-start",
        "grid-gap",
        "grid-row",
        "grid-row-end",
        "grid-row-gap",
        "grid-row-start",
        "grid-template",
        "grid-template-areas",
        "grid-template-columns",
        "grid-template-rows",
        "hanging-punctuation",
        "height",
        "hyphens",
        "icon",
        "image-orientation",
        "image-rendering",
        "image-resolution",
        "inline-box-align",
        "inset",
        "inset-block",
        "inset-block-end",
        "inset-block-start",
        "inset-inline",
        "inset-inline-end",
        "inset-inline-start",
        "isolation",
        "justify-content",
        "justify-items",
        "justify-self",
        "left",
        "letter-spacing",
        "line-break",
        "line-height",
        "line-height-step",
        "line-stacking",
        "line-stacking-ruby",
        "line-stacking-shift",
        "line-stacking-strategy",
        "list-style",
        "list-style-image",
        "list-style-position",
        "list-style-type",
        "margin",
        "margin-bottom",
        "margin-left",
        "margin-right",
        "margin-top",
        "marks",
        "marquee-direction",
        "marquee-loop",
        "marquee-play-count",
        "marquee-speed",
        "marquee-style",
        "mask-clip",
        "mask-composite",
        "mask-image",
        "mask-mode",
        "mask-origin",
        "mask-position",
        "mask-repeat",
        "mask-size",
        "mask-type",
        "max-block-size",
        "max-height",
        "max-inline-size",
        "max-width",
        "min-block-size",
        "min-height",
        "min-inline-size",
        "min-width",
        "mix-blend-mode",
        "move-to",
        "nav-down",
        "nav-index",
        "nav-left",
        "nav-right",
        "nav-up",
        "object-fit",
        "object-position",
        "offset",
        "offset-anchor",
        "offset-distance",
        "offset-path",
        "offset-position",
        "offset-rotate",
        "opacity",
        "order",
        "orphans",
        "outline",
        "outline-color",
        "outline-offset",
        "outline-style",
        "outline-width",
        "overflow",
        "overflow-style",
        "overflow-wrap",
        "overflow-x",
        "overflow-y",
        "padding",
        "padding-bottom",
        "padding-left",
        "padding-right",
        "padding-top",
        "page",
        "page-break-after",
        "page-break-before",
        "page-break-inside",
        "page-policy",
        "pause",
        "pause-after",
        "pause-before",
        "perspective",
        "perspective-origin",
        "pitch",
        "pitch-range",
        "place-content",
        "place-items",
        "place-self",
        "play-during",
        "position",
        "presentation-level",
        "punctuation-trim",
        "quotes",
        "region-break-after",
        "region-break-before",
        "region-break-inside",
        "region-fragment",
        "rendering-intent",
        "resize",
        "rest",
        "rest-after",
        "rest-before",
        "richness",
        "right",
        "rotate",
        "rotation",
        "rotation-point",
        "row-gap",
        "ruby-align",
        "ruby-overhang",
        "ruby-position",
        "ruby-span",
        "scale",
        "scroll-behavior",
        "scroll-margin",
        "scroll-margin-block",
        "scroll-margin-block-end",
        "scroll-margin-block-start",
        "scroll-margin-bottom",
        "scroll-margin-inline",
        "scroll-margin-inline-end",
        "scroll-margin-inline-start",
        "scroll-margin-left",
        "scroll-margin-right",
        "scroll-margin-top",
        "scroll-padding",
        "scroll-padding-block",
        "scroll-padding-block-end",
        "scroll-padding-block-start",
        "scroll-padding-bottom",
        "scroll-padding-inline",
        "scroll-padding-inline-end",
        "scroll-padding-inline-start",
        "scroll-padding-left",
        "scroll-padding-right",
        "scroll-padding-top",
        "scroll-snap-align",
        "scroll-snap-type",
        "shape-image-threshold",
        "shape-inside",
        "shape-margin",
        "shape-outside",
        "size",
        "speak",
        "speak-as",
        "speak-header",
        "speak-numeral",
        "speak-punctuation",
        "speech-rate",
        "stress",
        "string-set",
        "tab-size",
        "table-layout",
        "target",
        "target-name",
        "target-new",
        "target-position",
        "text-align",
        "text-align-last",
        "text-combine-upright",
        "text-decoration",
        "text-decoration-color",
        "text-decoration-line",
        "text-decoration-skip",
        "text-decoration-skip-ink",
        "text-decoration-style",
        "text-emphasis",
        "text-emphasis-color",
        "text-emphasis-position",
        "text-emphasis-style",
        "text-height",
        "text-indent",
        "text-justify",
        "text-orientation",
        "text-outline",
        "text-overflow",
        "text-rendering",
        "text-shadow",
        "text-size-adjust",
        "text-space-collapse",
        "text-transform",
        "text-underline-position",
        "text-wrap",
        "top",
        "touch-action",
        "transform",
        "transform-origin",
        "transform-style",
        "transition",
        "transition-delay",
        "transition-duration",
        "transition-property",
        "transition-timing-function",
        "translate",
        "unicode-bidi",
        "user-select",
        "vertical-align",
        "visibility",
        "voice-balance",
        "voice-duration",
        "voice-family",
        "voice-pitch",
        "voice-range",
        "voice-rate",
        "voice-stress",
        "voice-volume",
        "volume",
        "white-space",
        "widows",
        "width",
        "will-change",
        "word-break",
        "word-spacing",
        "word-wrap",
        "writing-mode",
        "z-index",
        // SVG-specific
        "clip-path",
        "clip-rule",
        "mask",
        "enable-background",
        "filter",
        "flood-color",
        "flood-opacity",
        "lighting-color",
        "stop-color",
        "stop-opacity",
        "pointer-events",
        "color-interpolation",
        "color-interpolation-filters",
        "color-rendering",
        "fill",
        "fill-opacity",
        "fill-rule",
        "image-rendering",
        "marker",
        "marker-end",
        "marker-mid",
        "marker-start",
        "paint-order",
        "shape-rendering",
        "stroke",
        "stroke-dasharray",
        "stroke-dashoffset",
        "stroke-linecap",
        "stroke-linejoin",
        "stroke-miterlimit",
        "stroke-opacity",
        "stroke-width",
        "text-rendering",
        "baseline-shift",
        "dominant-baseline",
        "glyph-orientation-horizontal",
        "glyph-orientation-vertical",
        "text-anchor",
        "writing-mode"
      ], propertyKeywords = keySet(propertyKeywords_);
      var nonStandardPropertyKeywords_ = [
        "accent-color",
        "aspect-ratio",
        "border-block",
        "border-block-color",
        "border-block-end",
        "border-block-end-color",
        "border-block-end-style",
        "border-block-end-width",
        "border-block-start",
        "border-block-start-color",
        "border-block-start-style",
        "border-block-start-width",
        "border-block-style",
        "border-block-width",
        "border-inline",
        "border-inline-color",
        "border-inline-end",
        "border-inline-end-color",
        "border-inline-end-style",
        "border-inline-end-width",
        "border-inline-start",
        "border-inline-start-color",
        "border-inline-start-style",
        "border-inline-start-width",
        "border-inline-style",
        "border-inline-width",
        "content-visibility",
        "margin-block",
        "margin-block-end",
        "margin-block-start",
        "margin-inline",
        "margin-inline-end",
        "margin-inline-start",
        "overflow-anchor",
        "overscroll-behavior",
        "padding-block",
        "padding-block-end",
        "padding-block-start",
        "padding-inline",
        "padding-inline-end",
        "padding-inline-start",
        "scroll-snap-stop",
        "scrollbar-3d-light-color",
        "scrollbar-arrow-color",
        "scrollbar-base-color",
        "scrollbar-dark-shadow-color",
        "scrollbar-face-color",
        "scrollbar-highlight-color",
        "scrollbar-shadow-color",
        "scrollbar-track-color",
        "searchfield-cancel-button",
        "searchfield-decoration",
        "searchfield-results-button",
        "searchfield-results-decoration",
        "shape-inside",
        "zoom"
      ], nonStandardPropertyKeywords = keySet(nonStandardPropertyKeywords_);
      var fontProperties_ = [
        "font-display",
        "font-family",
        "src",
        "unicode-range",
        "font-variant",
        "font-feature-settings",
        "font-stretch",
        "font-weight",
        "font-style"
      ], fontProperties = keySet(fontProperties_);
      var counterDescriptors_ = [
        "additive-symbols",
        "fallback",
        "negative",
        "pad",
        "prefix",
        "range",
        "speak-as",
        "suffix",
        "symbols",
        "system"
      ], counterDescriptors = keySet(counterDescriptors_);
      var colorKeywords_ = [
        "aliceblue",
        "antiquewhite",
        "aqua",
        "aquamarine",
        "azure",
        "beige",
        "bisque",
        "black",
        "blanchedalmond",
        "blue",
        "blueviolet",
        "brown",
        "burlywood",
        "cadetblue",
        "chartreuse",
        "chocolate",
        "coral",
        "cornflowerblue",
        "cornsilk",
        "crimson",
        "cyan",
        "darkblue",
        "darkcyan",
        "darkgoldenrod",
        "darkgray",
        "darkgreen",
        "darkgrey",
        "darkkhaki",
        "darkmagenta",
        "darkolivegreen",
        "darkorange",
        "darkorchid",
        "darkred",
        "darksalmon",
        "darkseagreen",
        "darkslateblue",
        "darkslategray",
        "darkslategrey",
        "darkturquoise",
        "darkviolet",
        "deeppink",
        "deepskyblue",
        "dimgray",
        "dimgrey",
        "dodgerblue",
        "firebrick",
        "floralwhite",
        "forestgreen",
        "fuchsia",
        "gainsboro",
        "ghostwhite",
        "gold",
        "goldenrod",
        "gray",
        "grey",
        "green",
        "greenyellow",
        "honeydew",
        "hotpink",
        "indianred",
        "indigo",
        "ivory",
        "khaki",
        "lavender",
        "lavenderblush",
        "lawngreen",
        "lemonchiffon",
        "lightblue",
        "lightcoral",
        "lightcyan",
        "lightgoldenrodyellow",
        "lightgray",
        "lightgreen",
        "lightgrey",
        "lightpink",
        "lightsalmon",
        "lightseagreen",
        "lightskyblue",
        "lightslategray",
        "lightslategrey",
        "lightsteelblue",
        "lightyellow",
        "lime",
        "limegreen",
        "linen",
        "magenta",
        "maroon",
        "mediumaquamarine",
        "mediumblue",
        "mediumorchid",
        "mediumpurple",
        "mediumseagreen",
        "mediumslateblue",
        "mediumspringgreen",
        "mediumturquoise",
        "mediumvioletred",
        "midnightblue",
        "mintcream",
        "mistyrose",
        "moccasin",
        "navajowhite",
        "navy",
        "oldlace",
        "olive",
        "olivedrab",
        "orange",
        "orangered",
        "orchid",
        "palegoldenrod",
        "palegreen",
        "paleturquoise",
        "palevioletred",
        "papayawhip",
        "peachpuff",
        "peru",
        "pink",
        "plum",
        "powderblue",
        "purple",
        "rebeccapurple",
        "red",
        "rosybrown",
        "royalblue",
        "saddlebrown",
        "salmon",
        "sandybrown",
        "seagreen",
        "seashell",
        "sienna",
        "silver",
        "skyblue",
        "slateblue",
        "slategray",
        "slategrey",
        "snow",
        "springgreen",
        "steelblue",
        "tan",
        "teal",
        "thistle",
        "tomato",
        "turquoise",
        "violet",
        "wheat",
        "white",
        "whitesmoke",
        "yellow",
        "yellowgreen"
      ], colorKeywords = keySet(colorKeywords_);
      var valueKeywords_ = [
        "above",
        "absolute",
        "activeborder",
        "additive",
        "activecaption",
        "afar",
        "after-white-space",
        "ahead",
        "alias",
        "all",
        "all-scroll",
        "alphabetic",
        "alternate",
        "always",
        "amharic",
        "amharic-abegede",
        "antialiased",
        "appworkspace",
        "arabic-indic",
        "armenian",
        "asterisks",
        "attr",
        "auto",
        "auto-flow",
        "avoid",
        "avoid-column",
        "avoid-page",
        "avoid-region",
        "axis-pan",
        "background",
        "backwards",
        "baseline",
        "below",
        "bidi-override",
        "binary",
        "bengali",
        "blink",
        "block",
        "block-axis",
        "blur",
        "bold",
        "bolder",
        "border",
        "border-box",
        "both",
        "bottom",
        "break",
        "break-all",
        "break-word",
        "brightness",
        "bullets",
        "button",
        "buttonface",
        "buttonhighlight",
        "buttonshadow",
        "buttontext",
        "calc",
        "cambodian",
        "capitalize",
        "caps-lock-indicator",
        "caption",
        "captiontext",
        "caret",
        "cell",
        "center",
        "checkbox",
        "circle",
        "cjk-decimal",
        "cjk-earthly-branch",
        "cjk-heavenly-stem",
        "cjk-ideographic",
        "clear",
        "clip",
        "close-quote",
        "col-resize",
        "collapse",
        "color",
        "color-burn",
        "color-dodge",
        "column",
        "column-reverse",
        "compact",
        "condensed",
        "conic-gradient",
        "contain",
        "content",
        "contents",
        "content-box",
        "context-menu",
        "continuous",
        "contrast",
        "copy",
        "counter",
        "counters",
        "cover",
        "crop",
        "cross",
        "crosshair",
        "cubic-bezier",
        "currentcolor",
        "cursive",
        "cyclic",
        "darken",
        "dashed",
        "decimal",
        "decimal-leading-zero",
        "default",
        "default-button",
        "dense",
        "destination-atop",
        "destination-in",
        "destination-out",
        "destination-over",
        "devanagari",
        "difference",
        "disc",
        "discard",
        "disclosure-closed",
        "disclosure-open",
        "document",
        "dot-dash",
        "dot-dot-dash",
        "dotted",
        "double",
        "down",
        "drop-shadow",
        "e-resize",
        "ease",
        "ease-in",
        "ease-in-out",
        "ease-out",
        "element",
        "ellipse",
        "ellipsis",
        "embed",
        "end",
        "ethiopic",
        "ethiopic-abegede",
        "ethiopic-abegede-am-et",
        "ethiopic-abegede-gez",
        "ethiopic-abegede-ti-er",
        "ethiopic-abegede-ti-et",
        "ethiopic-halehame-aa-er",
        "ethiopic-halehame-aa-et",
        "ethiopic-halehame-am-et",
        "ethiopic-halehame-gez",
        "ethiopic-halehame-om-et",
        "ethiopic-halehame-sid-et",
        "ethiopic-halehame-so-et",
        "ethiopic-halehame-ti-er",
        "ethiopic-halehame-ti-et",
        "ethiopic-halehame-tig",
        "ethiopic-numeric",
        "ew-resize",
        "exclusion",
        "expanded",
        "extends",
        "extra-condensed",
        "extra-expanded",
        "fantasy",
        "fast",
        "fill",
        "fill-box",
        "fixed",
        "flat",
        "flex",
        "flex-end",
        "flex-start",
        "footnotes",
        "forwards",
        "from",
        "geometricPrecision",
        "georgian",
        "grayscale",
        "graytext",
        "grid",
        "groove",
        "gujarati",
        "gurmukhi",
        "hand",
        "hangul",
        "hangul-consonant",
        "hard-light",
        "hebrew",
        "help",
        "hidden",
        "hide",
        "higher",
        "highlight",
        "highlighttext",
        "hiragana",
        "hiragana-iroha",
        "horizontal",
        "hsl",
        "hsla",
        "hue",
        "hue-rotate",
        "icon",
        "ignore",
        "inactiveborder",
        "inactivecaption",
        "inactivecaptiontext",
        "infinite",
        "infobackground",
        "infotext",
        "inherit",
        "initial",
        "inline",
        "inline-axis",
        "inline-block",
        "inline-flex",
        "inline-grid",
        "inline-table",
        "inset",
        "inside",
        "intrinsic",
        "invert",
        "italic",
        "japanese-formal",
        "japanese-informal",
        "justify",
        "kannada",
        "katakana",
        "katakana-iroha",
        "keep-all",
        "khmer",
        "korean-hangul-formal",
        "korean-hanja-formal",
        "korean-hanja-informal",
        "landscape",
        "lao",
        "large",
        "larger",
        "left",
        "level",
        "lighter",
        "lighten",
        "line-through",
        "linear",
        "linear-gradient",
        "lines",
        "list-item",
        "listbox",
        "listitem",
        "local",
        "logical",
        "loud",
        "lower",
        "lower-alpha",
        "lower-armenian",
        "lower-greek",
        "lower-hexadecimal",
        "lower-latin",
        "lower-norwegian",
        "lower-roman",
        "lowercase",
        "ltr",
        "luminosity",
        "malayalam",
        "manipulation",
        "match",
        "matrix",
        "matrix3d",
        "media-play-button",
        "media-slider",
        "media-sliderthumb",
        "media-volume-slider",
        "media-volume-sliderthumb",
        "medium",
        "menu",
        "menulist",
        "menulist-button",
        "menutext",
        "message-box",
        "middle",
        "min-intrinsic",
        "mix",
        "mongolian",
        "monospace",
        "move",
        "multiple",
        "multiple_mask_images",
        "multiply",
        "myanmar",
        "n-resize",
        "narrower",
        "ne-resize",
        "nesw-resize",
        "no-close-quote",
        "no-drop",
        "no-open-quote",
        "no-repeat",
        "none",
        "normal",
        "not-allowed",
        "nowrap",
        "ns-resize",
        "numbers",
        "numeric",
        "nw-resize",
        "nwse-resize",
        "oblique",
        "octal",
        "opacity",
        "open-quote",
        "optimizeLegibility",
        "optimizeSpeed",
        "oriya",
        "oromo",
        "outset",
        "outside",
        "outside-shape",
        "overlay",
        "overline",
        "padding",
        "padding-box",
        "painted",
        "page",
        "paused",
        "persian",
        "perspective",
        "pinch-zoom",
        "plus-darker",
        "plus-lighter",
        "pointer",
        "polygon",
        "portrait",
        "pre",
        "pre-line",
        "pre-wrap",
        "preserve-3d",
        "progress",
        "push-button",
        "radial-gradient",
        "radio",
        "read-only",
        "read-write",
        "read-write-plaintext-only",
        "rectangle",
        "region",
        "relative",
        "repeat",
        "repeating-linear-gradient",
        "repeating-radial-gradient",
        "repeating-conic-gradient",
        "repeat-x",
        "repeat-y",
        "reset",
        "reverse",
        "rgb",
        "rgba",
        "ridge",
        "right",
        "rotate",
        "rotate3d",
        "rotateX",
        "rotateY",
        "rotateZ",
        "round",
        "row",
        "row-resize",
        "row-reverse",
        "rtl",
        "run-in",
        "running",
        "s-resize",
        "sans-serif",
        "saturate",
        "saturation",
        "scale",
        "scale3d",
        "scaleX",
        "scaleY",
        "scaleZ",
        "screen",
        "scroll",
        "scrollbar",
        "scroll-position",
        "se-resize",
        "searchfield",
        "searchfield-cancel-button",
        "searchfield-decoration",
        "searchfield-results-button",
        "searchfield-results-decoration",
        "self-start",
        "self-end",
        "semi-condensed",
        "semi-expanded",
        "separate",
        "sepia",
        "serif",
        "show",
        "sidama",
        "simp-chinese-formal",
        "simp-chinese-informal",
        "single",
        "skew",
        "skewX",
        "skewY",
        "skip-white-space",
        "slide",
        "slider-horizontal",
        "slider-vertical",
        "sliderthumb-horizontal",
        "sliderthumb-vertical",
        "slow",
        "small",
        "small-caps",
        "small-caption",
        "smaller",
        "soft-light",
        "solid",
        "somali",
        "source-atop",
        "source-in",
        "source-out",
        "source-over",
        "space",
        "space-around",
        "space-between",
        "space-evenly",
        "spell-out",
        "square",
        "square-button",
        "start",
        "static",
        "status-bar",
        "stretch",
        "stroke",
        "stroke-box",
        "sub",
        "subpixel-antialiased",
        "svg_masks",
        "super",
        "sw-resize",
        "symbolic",
        "symbols",
        "system-ui",
        "table",
        "table-caption",
        "table-cell",
        "table-column",
        "table-column-group",
        "table-footer-group",
        "table-header-group",
        "table-row",
        "table-row-group",
        "tamil",
        "telugu",
        "text",
        "text-bottom",
        "text-top",
        "textarea",
        "textfield",
        "thai",
        "thick",
        "thin",
        "threeddarkshadow",
        "threedface",
        "threedhighlight",
        "threedlightshadow",
        "threedshadow",
        "tibetan",
        "tigre",
        "tigrinya-er",
        "tigrinya-er-abegede",
        "tigrinya-et",
        "tigrinya-et-abegede",
        "to",
        "top",
        "trad-chinese-formal",
        "trad-chinese-informal",
        "transform",
        "translate",
        "translate3d",
        "translateX",
        "translateY",
        "translateZ",
        "transparent",
        "ultra-condensed",
        "ultra-expanded",
        "underline",
        "unidirectional-pan",
        "unset",
        "up",
        "upper-alpha",
        "upper-armenian",
        "upper-greek",
        "upper-hexadecimal",
        "upper-latin",
        "upper-norwegian",
        "upper-roman",
        "uppercase",
        "urdu",
        "url",
        "var",
        "vertical",
        "vertical-text",
        "view-box",
        "visible",
        "visibleFill",
        "visiblePainted",
        "visibleStroke",
        "visual",
        "w-resize",
        "wait",
        "wave",
        "wider",
        "window",
        "windowframe",
        "windowtext",
        "words",
        "wrap",
        "wrap-reverse",
        "x-large",
        "x-small",
        "xor",
        "xx-large",
        "xx-small"
      ], valueKeywords = keySet(valueKeywords_);
      var allWords = documentTypes_.concat(mediaTypes_).concat(mediaFeatures_).concat(mediaValueKeywords_).concat(propertyKeywords_).concat(nonStandardPropertyKeywords_).concat(colorKeywords_).concat(valueKeywords_);
      CodeMirror.registerHelper("hintWords", "css", allWords);
      function tokenCComment(stream, state) {
        var maybeEnd = false, ch;
        while ((ch = stream.next()) != null) {
          if (maybeEnd && ch == "/") {
            state.tokenize = null;
            break;
          }
          maybeEnd = ch == "*";
        }
        return ["comment", "comment"];
      }
      CodeMirror.defineMIME("text/css", {
        documentTypes,
        mediaTypes,
        mediaFeatures,
        mediaValueKeywords,
        propertyKeywords,
        nonStandardPropertyKeywords,
        fontProperties,
        counterDescriptors,
        colorKeywords,
        valueKeywords,
        tokenHooks: {
          "/": function(stream, state) {
            if (!stream.eat("*")) return false;
            state.tokenize = tokenCComment;
            return tokenCComment(stream, state);
          }
        },
        name: "css"
      });
      CodeMirror.defineMIME("text/x-scss", {
        mediaTypes,
        mediaFeatures,
        mediaValueKeywords,
        propertyKeywords,
        nonStandardPropertyKeywords,
        colorKeywords,
        valueKeywords,
        fontProperties,
        allowNested: true,
        lineComment: "//",
        tokenHooks: {
          "/": function(stream, state) {
            if (stream.eat("/")) {
              stream.skipToEnd();
              return ["comment", "comment"];
            } else if (stream.eat("*")) {
              state.tokenize = tokenCComment;
              return tokenCComment(stream, state);
            } else {
              return ["operator", "operator"];
            }
          },
          ":": function(stream) {
            if (stream.match(/^\s*\{/, false))
              return [null, null];
            return false;
          },
          "$": function(stream) {
            stream.match(/^[\w-]+/);
            if (stream.match(/^\s*:/, false))
              return ["variable-2", "variable-definition"];
            return ["variable-2", "variable"];
          },
          "#": function(stream) {
            if (!stream.eat("{")) return false;
            return [null, "interpolation"];
          }
        },
        name: "css",
        helperType: "scss"
      });
      CodeMirror.defineMIME("text/x-less", {
        mediaTypes,
        mediaFeatures,
        mediaValueKeywords,
        propertyKeywords,
        nonStandardPropertyKeywords,
        colorKeywords,
        valueKeywords,
        fontProperties,
        allowNested: true,
        lineComment: "//",
        tokenHooks: {
          "/": function(stream, state) {
            if (stream.eat("/")) {
              stream.skipToEnd();
              return ["comment", "comment"];
            } else if (stream.eat("*")) {
              state.tokenize = tokenCComment;
              return tokenCComment(stream, state);
            } else {
              return ["operator", "operator"];
            }
          },
          "@": function(stream) {
            if (stream.eat("{")) return [null, "interpolation"];
            if (stream.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i, false)) return false;
            stream.eatWhile(/[\w\\\-]/);
            if (stream.match(/^\s*:/, false))
              return ["variable-2", "variable-definition"];
            return ["variable-2", "variable"];
          },
          "&": function() {
            return ["atom", "atom"];
          }
        },
        name: "css",
        helperType: "less"
      });
      CodeMirror.defineMIME("text/x-gss", {
        documentTypes,
        mediaTypes,
        mediaFeatures,
        propertyKeywords,
        nonStandardPropertyKeywords,
        fontProperties,
        counterDescriptors,
        colorKeywords,
        valueKeywords,
        supportsAtComponent: true,
        tokenHooks: {
          "/": function(stream, state) {
            if (!stream.eat("*")) return false;
            state.tokenize = tokenCComment;
            return tokenCComment(stream, state);
          }
        },
        name: "css",
        helperType: "gss"
      });
    });
  })();
  return css.exports;
}
requireCss();
var htmlmixed = { exports: {} };
var xml = { exports: {} };
var hasRequiredXml;
function requireXml() {
  if (hasRequiredXml) return xml.exports;
  hasRequiredXml = 1;
  (function(module, exports) {
    (function(mod) {
      mod(requireCodemirror());
    })(function(CodeMirror) {
      var htmlConfig = {
        autoSelfClosers: {
          "area": true,
          "base": true,
          "br": true,
          "col": true,
          "command": true,
          "embed": true,
          "frame": true,
          "hr": true,
          "img": true,
          "input": true,
          "keygen": true,
          "link": true,
          "meta": true,
          "param": true,
          "source": true,
          "track": true,
          "wbr": true,
          "menuitem": true
        },
        implicitlyClosed: {
          "dd": true,
          "li": true,
          "optgroup": true,
          "option": true,
          "p": true,
          "rp": true,
          "rt": true,
          "tbody": true,
          "td": true,
          "tfoot": true,
          "th": true,
          "tr": true
        },
        contextGrabbers: {
          "dd": { "dd": true, "dt": true },
          "dt": { "dd": true, "dt": true },
          "li": { "li": true },
          "option": { "option": true, "optgroup": true },
          "optgroup": { "optgroup": true },
          "p": {
            "address": true,
            "article": true,
            "aside": true,
            "blockquote": true,
            "dir": true,
            "div": true,
            "dl": true,
            "fieldset": true,
            "footer": true,
            "form": true,
            "h1": true,
            "h2": true,
            "h3": true,
            "h4": true,
            "h5": true,
            "h6": true,
            "header": true,
            "hgroup": true,
            "hr": true,
            "menu": true,
            "nav": true,
            "ol": true,
            "p": true,
            "pre": true,
            "section": true,
            "table": true,
            "ul": true
          },
          "rp": { "rp": true, "rt": true },
          "rt": { "rp": true, "rt": true },
          "tbody": { "tbody": true, "tfoot": true },
          "td": { "td": true, "th": true },
          "tfoot": { "tbody": true },
          "th": { "td": true, "th": true },
          "thead": { "tbody": true, "tfoot": true },
          "tr": { "tr": true }
        },
        doNotIndent: { "pre": true },
        allowUnquoted: true,
        allowMissing: true,
        caseFold: true
      };
      var xmlConfig = {
        autoSelfClosers: {},
        implicitlyClosed: {},
        contextGrabbers: {},
        doNotIndent: {},
        allowUnquoted: false,
        allowMissing: false,
        allowMissingTagName: false,
        caseFold: false
      };
      CodeMirror.defineMode("xml", function(editorConf, config_) {
        var indentUnit = editorConf.indentUnit;
        var config = {};
        var defaults = config_.htmlMode ? htmlConfig : xmlConfig;
        for (var prop in defaults) config[prop] = defaults[prop];
        for (var prop in config_) config[prop] = config_[prop];
        var type, setStyle;
        function inText(stream, state) {
          function chain(parser) {
            state.tokenize = parser;
            return parser(stream, state);
          }
          var ch = stream.next();
          if (ch == "<") {
            if (stream.eat("!")) {
              if (stream.eat("[")) {
                if (stream.match("CDATA[")) return chain(inBlock("atom", "]]>"));
                else return null;
              } else if (stream.match("--")) {
                return chain(inBlock("comment", "-->"));
              } else if (stream.match("DOCTYPE", true, true)) {
                stream.eatWhile(/[\w\._\-]/);
                return chain(doctype(1));
              } else {
                return null;
              }
            } else if (stream.eat("?")) {
              stream.eatWhile(/[\w\._\-]/);
              state.tokenize = inBlock("meta", "?>");
              return "meta";
            } else {
              type = stream.eat("/") ? "closeTag" : "openTag";
              state.tokenize = inTag;
              return "tag bracket";
            }
          } else if (ch == "&") {
            var ok;
            if (stream.eat("#")) {
              if (stream.eat("x")) {
                ok = stream.eatWhile(/[a-fA-F\d]/) && stream.eat(";");
              } else {
                ok = stream.eatWhile(/[\d]/) && stream.eat(";");
              }
            } else {
              ok = stream.eatWhile(/[\w\.\-:]/) && stream.eat(";");
            }
            return ok ? "atom" : "error";
          } else {
            stream.eatWhile(/[^&<]/);
            return null;
          }
        }
        inText.isInText = true;
        function inTag(stream, state) {
          var ch = stream.next();
          if (ch == ">" || ch == "/" && stream.eat(">")) {
            state.tokenize = inText;
            type = ch == ">" ? "endTag" : "selfcloseTag";
            return "tag bracket";
          } else if (ch == "=") {
            type = "equals";
            return null;
          } else if (ch == "<") {
            state.tokenize = inText;
            state.state = baseState;
            state.tagName = state.tagStart = null;
            var next = state.tokenize(stream, state);
            return next ? next + " tag error" : "tag error";
          } else if (/[\'\"]/.test(ch)) {
            state.tokenize = inAttribute(ch);
            state.stringStartCol = stream.column();
            return state.tokenize(stream, state);
          } else {
            stream.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);
            return "word";
          }
        }
        function inAttribute(quote) {
          var closure = function(stream, state) {
            while (!stream.eol()) {
              if (stream.next() == quote) {
                state.tokenize = inTag;
                break;
              }
            }
            return "string";
          };
          closure.isInAttribute = true;
          return closure;
        }
        function inBlock(style, terminator) {
          return function(stream, state) {
            while (!stream.eol()) {
              if (stream.match(terminator)) {
                state.tokenize = inText;
                break;
              }
              stream.next();
            }
            return style;
          };
        }
        function doctype(depth) {
          return function(stream, state) {
            var ch;
            while ((ch = stream.next()) != null) {
              if (ch == "<") {
                state.tokenize = doctype(depth + 1);
                return state.tokenize(stream, state);
              } else if (ch == ">") {
                if (depth == 1) {
                  state.tokenize = inText;
                  break;
                } else {
                  state.tokenize = doctype(depth - 1);
                  return state.tokenize(stream, state);
                }
              }
            }
            return "meta";
          };
        }
        function lower(tagName) {
          return tagName && tagName.toLowerCase();
        }
        function Context(state, tagName, startOfLine) {
          this.prev = state.context;
          this.tagName = tagName || "";
          this.indent = state.indented;
          this.startOfLine = startOfLine;
          if (config.doNotIndent.hasOwnProperty(tagName) || state.context && state.context.noIndent)
            this.noIndent = true;
        }
        function popContext(state) {
          if (state.context) state.context = state.context.prev;
        }
        function maybePopContext(state, nextTagName) {
          var parentTagName;
          while (true) {
            if (!state.context) {
              return;
            }
            parentTagName = state.context.tagName;
            if (!config.contextGrabbers.hasOwnProperty(lower(parentTagName)) || !config.contextGrabbers[lower(parentTagName)].hasOwnProperty(lower(nextTagName))) {
              return;
            }
            popContext(state);
          }
        }
        function baseState(type2, stream, state) {
          if (type2 == "openTag") {
            state.tagStart = stream.column();
            return tagNameState;
          } else if (type2 == "closeTag") {
            return closeTagNameState;
          } else {
            return baseState;
          }
        }
        function tagNameState(type2, stream, state) {
          if (type2 == "word") {
            state.tagName = stream.current();
            setStyle = "tag";
            return attrState;
          } else if (config.allowMissingTagName && type2 == "endTag") {
            setStyle = "tag bracket";
            return attrState(type2, stream, state);
          } else {
            setStyle = "error";
            return tagNameState;
          }
        }
        function closeTagNameState(type2, stream, state) {
          if (type2 == "word") {
            var tagName = stream.current();
            if (state.context && state.context.tagName != tagName && config.implicitlyClosed.hasOwnProperty(lower(state.context.tagName)))
              popContext(state);
            if (state.context && state.context.tagName == tagName || config.matchClosing === false) {
              setStyle = "tag";
              return closeState;
            } else {
              setStyle = "tag error";
              return closeStateErr;
            }
          } else if (config.allowMissingTagName && type2 == "endTag") {
            setStyle = "tag bracket";
            return closeState(type2, stream, state);
          } else {
            setStyle = "error";
            return closeStateErr;
          }
        }
        function closeState(type2, _stream, state) {
          if (type2 != "endTag") {
            setStyle = "error";
            return closeState;
          }
          popContext(state);
          return baseState;
        }
        function closeStateErr(type2, stream, state) {
          setStyle = "error";
          return closeState(type2, stream, state);
        }
        function attrState(type2, _stream, state) {
          if (type2 == "word") {
            setStyle = "attribute";
            return attrEqState;
          } else if (type2 == "endTag" || type2 == "selfcloseTag") {
            var tagName = state.tagName, tagStart = state.tagStart;
            state.tagName = state.tagStart = null;
            if (type2 == "selfcloseTag" || config.autoSelfClosers.hasOwnProperty(lower(tagName))) {
              maybePopContext(state, tagName);
            } else {
              maybePopContext(state, tagName);
              state.context = new Context(state, tagName, tagStart == state.indented);
            }
            return baseState;
          }
          setStyle = "error";
          return attrState;
        }
        function attrEqState(type2, stream, state) {
          if (type2 == "equals") return attrValueState;
          if (!config.allowMissing) setStyle = "error";
          return attrState(type2, stream, state);
        }
        function attrValueState(type2, stream, state) {
          if (type2 == "string") return attrContinuedState;
          if (type2 == "word" && config.allowUnquoted) {
            setStyle = "string";
            return attrState;
          }
          setStyle = "error";
          return attrState(type2, stream, state);
        }
        function attrContinuedState(type2, stream, state) {
          if (type2 == "string") return attrContinuedState;
          return attrState(type2, stream, state);
        }
        return {
          startState: function(baseIndent) {
            var state = {
              tokenize: inText,
              state: baseState,
              indented: baseIndent || 0,
              tagName: null,
              tagStart: null,
              context: null
            };
            if (baseIndent != null) state.baseIndent = baseIndent;
            return state;
          },
          token: function(stream, state) {
            if (!state.tagName && stream.sol())
              state.indented = stream.indentation();
            if (stream.eatSpace()) return null;
            type = null;
            var style = state.tokenize(stream, state);
            if ((style || type) && style != "comment") {
              setStyle = null;
              state.state = state.state(type || style, stream, state);
              if (setStyle)
                style = setStyle == "error" ? style + " error" : setStyle;
            }
            return style;
          },
          indent: function(state, textAfter, fullLine) {
            var context = state.context;
            if (state.tokenize.isInAttribute) {
              if (state.tagStart == state.indented)
                return state.stringStartCol + 1;
              else
                return state.indented + indentUnit;
            }
            if (context && context.noIndent) return CodeMirror.Pass;
            if (state.tokenize != inTag && state.tokenize != inText)
              return fullLine ? fullLine.match(/^(\s*)/)[0].length : 0;
            if (state.tagName) {
              if (config.multilineTagIndentPastTag !== false)
                return state.tagStart + state.tagName.length + 2;
              else
                return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);
            }
            if (config.alignCDATA && /<!\[CDATA\[/.test(textAfter)) return 0;
            var tagAfter = textAfter && /^<(\/)?([\w_:\.-]*)/.exec(textAfter);
            if (tagAfter && tagAfter[1]) {
              while (context) {
                if (context.tagName == tagAfter[2]) {
                  context = context.prev;
                  break;
                } else if (config.implicitlyClosed.hasOwnProperty(lower(context.tagName))) {
                  context = context.prev;
                } else {
                  break;
                }
              }
            } else if (tagAfter) {
              while (context) {
                var grabbers = config.contextGrabbers[lower(context.tagName)];
                if (grabbers && grabbers.hasOwnProperty(lower(tagAfter[2])))
                  context = context.prev;
                else
                  break;
              }
            }
            while (context && context.prev && !context.startOfLine)
              context = context.prev;
            if (context) return context.indent + indentUnit;
            else return state.baseIndent || 0;
          },
          electricInput: /<\/[\s\w:]+>$/,
          blockCommentStart: "<!--",
          blockCommentEnd: "-->",
          configuration: config.htmlMode ? "html" : "xml",
          helperType: config.htmlMode ? "html" : "xml",
          skipAttribute: function(state) {
            if (state.state == attrValueState)
              state.state = attrState;
          },
          xmlCurrentTag: function(state) {
            return state.tagName ? { name: state.tagName, close: state.type == "closeTag" } : null;
          },
          xmlCurrentContext: function(state) {
            var context = [];
            for (var cx = state.context; cx; cx = cx.prev)
              context.push(cx.tagName);
            return context.reverse();
          }
        };
      });
      CodeMirror.defineMIME("text/xml", "xml");
      CodeMirror.defineMIME("application/xml", "xml");
      if (!CodeMirror.mimeModes.hasOwnProperty("text/html"))
        CodeMirror.defineMIME("text/html", { name: "xml", htmlMode: true });
    });
  })();
  return xml.exports;
}
var javascript = { exports: {} };
var hasRequiredJavascript;
function requireJavascript() {
  if (hasRequiredJavascript) return javascript.exports;
  hasRequiredJavascript = 1;
  (function(module, exports) {
    (function(mod) {
      mod(requireCodemirror());
    })(function(CodeMirror) {
      CodeMirror.defineMode("javascript", function(config, parserConfig) {
        var indentUnit = config.indentUnit;
        var statementIndent = parserConfig.statementIndent;
        var jsonldMode = parserConfig.jsonld;
        var jsonMode = parserConfig.json || jsonldMode;
        var trackScope = parserConfig.trackScope !== false;
        var isTS = parserConfig.typescript;
        var wordRE = parserConfig.wordCharacters || /[\w$\xa1-\uffff]/;
        var keywords = function() {
          function kw(type2) {
            return { type: type2, style: "keyword" };
          }
          var A = kw("keyword a"), B = kw("keyword b"), C = kw("keyword c"), D = kw("keyword d");
          var operator = kw("operator"), atom = { type: "atom", style: "atom" };
          return {
            "if": kw("if"),
            "while": A,
            "with": A,
            "else": B,
            "do": B,
            "try": B,
            "finally": B,
            "return": D,
            "break": D,
            "continue": D,
            "new": kw("new"),
            "delete": C,
            "void": C,
            "throw": C,
            "debugger": kw("debugger"),
            "var": kw("var"),
            "const": kw("var"),
            "let": kw("var"),
            "function": kw("function"),
            "catch": kw("catch"),
            "for": kw("for"),
            "switch": kw("switch"),
            "case": kw("case"),
            "default": kw("default"),
            "in": operator,
            "typeof": operator,
            "instanceof": operator,
            "true": atom,
            "false": atom,
            "null": atom,
            "undefined": atom,
            "NaN": atom,
            "Infinity": atom,
            "this": kw("this"),
            "class": kw("class"),
            "super": kw("atom"),
            "yield": C,
            "export": kw("export"),
            "import": kw("import"),
            "extends": C,
            "await": C
          };
        }();
        var isOperatorChar = /[+\-*&%=<>!?|~^@]/;
        var isJsonldKeyword = /^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;
        function readRegexp(stream) {
          var escaped = false, next, inSet = false;
          while ((next = stream.next()) != null) {
            if (!escaped) {
              if (next == "/" && !inSet) return;
              if (next == "[") inSet = true;
              else if (inSet && next == "]") inSet = false;
            }
            escaped = !escaped && next == "\\";
          }
        }
        var type, content;
        function ret(tp, style, cont2) {
          type = tp;
          content = cont2;
          return style;
        }
        function tokenBase(stream, state) {
          var ch = stream.next();
          if (ch == '"' || ch == "'") {
            state.tokenize = tokenString(ch);
            return state.tokenize(stream, state);
          } else if (ch == "." && stream.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/)) {
            return ret("number", "number");
          } else if (ch == "." && stream.match("..")) {
            return ret("spread", "meta");
          } else if (/[\[\]{}\(\),;\:\.]/.test(ch)) {
            return ret(ch);
          } else if (ch == "=" && stream.eat(">")) {
            return ret("=>", "operator");
          } else if (ch == "0" && stream.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/)) {
            return ret("number", "number");
          } else if (/\d/.test(ch)) {
            stream.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/);
            return ret("number", "number");
          } else if (ch == "/") {
            if (stream.eat("*")) {
              state.tokenize = tokenComment;
              return tokenComment(stream, state);
            } else if (stream.eat("/")) {
              stream.skipToEnd();
              return ret("comment", "comment");
            } else if (expressionAllowed(stream, state, 1)) {
              readRegexp(stream);
              stream.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/);
              return ret("regexp", "string-2");
            } else {
              stream.eat("=");
              return ret("operator", "operator", stream.current());
            }
          } else if (ch == "`") {
            state.tokenize = tokenQuasi;
            return tokenQuasi(stream, state);
          } else if (ch == "#" && stream.peek() == "!") {
            stream.skipToEnd();
            return ret("meta", "meta");
          } else if (ch == "#" && stream.eatWhile(wordRE)) {
            return ret("variable", "property");
          } else if (ch == "<" && stream.match("!--") || ch == "-" && stream.match("->") && !/\S/.test(stream.string.slice(0, stream.start))) {
            stream.skipToEnd();
            return ret("comment", "comment");
          } else if (isOperatorChar.test(ch)) {
            if (ch != ">" || !state.lexical || state.lexical.type != ">") {
              if (stream.eat("=")) {
                if (ch == "!" || ch == "=") stream.eat("=");
              } else if (/[<>*+\-|&?]/.test(ch)) {
                stream.eat(ch);
                if (ch == ">") stream.eat(ch);
              }
            }
            if (ch == "?" && stream.eat(".")) return ret(".");
            return ret("operator", "operator", stream.current());
          } else if (wordRE.test(ch)) {
            stream.eatWhile(wordRE);
            var word = stream.current();
            if (state.lastType != ".") {
              if (keywords.propertyIsEnumerable(word)) {
                var kw = keywords[word];
                return ret(kw.type, kw.style, word);
              }
              if (word == "async" && stream.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/, false))
                return ret("async", "keyword", word);
            }
            return ret("variable", "variable", word);
          }
        }
        function tokenString(quote) {
          return function(stream, state) {
            var escaped = false, next;
            if (jsonldMode && stream.peek() == "@" && stream.match(isJsonldKeyword)) {
              state.tokenize = tokenBase;
              return ret("jsonld-keyword", "meta");
            }
            while ((next = stream.next()) != null) {
              if (next == quote && !escaped) break;
              escaped = !escaped && next == "\\";
            }
            if (!escaped) state.tokenize = tokenBase;
            return ret("string", "string");
          };
        }
        function tokenComment(stream, state) {
          var maybeEnd = false, ch;
          while (ch = stream.next()) {
            if (ch == "/" && maybeEnd) {
              state.tokenize = tokenBase;
              break;
            }
            maybeEnd = ch == "*";
          }
          return ret("comment", "comment");
        }
        function tokenQuasi(stream, state) {
          var escaped = false, next;
          while ((next = stream.next()) != null) {
            if (!escaped && (next == "`" || next == "$" && stream.eat("{"))) {
              state.tokenize = tokenBase;
              break;
            }
            escaped = !escaped && next == "\\";
          }
          return ret("quasi", "string-2", stream.current());
        }
        var brackets = "([{}])";
        function findFatArrow(stream, state) {
          if (state.fatArrowAt) state.fatArrowAt = null;
          var arrow = stream.string.indexOf("=>", stream.start);
          if (arrow < 0) return;
          if (isTS) {
            var m = /:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(stream.string.slice(stream.start, arrow));
            if (m) arrow = m.index;
          }
          var depth = 0, sawSomething = false;
          for (var pos = arrow - 1; pos >= 0; --pos) {
            var ch = stream.string.charAt(pos);
            var bracket = brackets.indexOf(ch);
            if (bracket >= 0 && bracket < 3) {
              if (!depth) {
                ++pos;
                break;
              }
              if (--depth == 0) {
                if (ch == "(") sawSomething = true;
                break;
              }
            } else if (bracket >= 3 && bracket < 6) {
              ++depth;
            } else if (wordRE.test(ch)) {
              sawSomething = true;
            } else if (/["'\/`]/.test(ch)) {
              for (; ; --pos) {
                if (pos == 0) return;
                var next = stream.string.charAt(pos - 1);
                if (next == ch && stream.string.charAt(pos - 2) != "\\") {
                  pos--;
                  break;
                }
              }
            } else if (sawSomething && !depth) {
              ++pos;
              break;
            }
          }
          if (sawSomething && !depth) state.fatArrowAt = pos;
        }
        var atomicTypes = {
          "atom": true,
          "number": true,
          "variable": true,
          "string": true,
          "regexp": true,
          "this": true,
          "import": true,
          "jsonld-keyword": true
        };
        function JSLexical(indented, column, type2, align, prev, info) {
          this.indented = indented;
          this.column = column;
          this.type = type2;
          this.prev = prev;
          this.info = info;
          if (align != null) this.align = align;
        }
        function inScope(state, varname) {
          if (!trackScope) return false;
          for (var v = state.localVars; v; v = v.next)
            if (v.name == varname) return true;
          for (var cx2 = state.context; cx2; cx2 = cx2.prev) {
            for (var v = cx2.vars; v; v = v.next)
              if (v.name == varname) return true;
          }
        }
        function parseJS(state, style, type2, content2, stream) {
          var cc = state.cc;
          cx.state = state;
          cx.stream = stream;
          cx.marked = null, cx.cc = cc;
          cx.style = style;
          if (!state.lexical.hasOwnProperty("align"))
            state.lexical.align = true;
          while (true) {
            var combinator = cc.length ? cc.pop() : jsonMode ? expression : statement;
            if (combinator(type2, content2)) {
              while (cc.length && cc[cc.length - 1].lex)
                cc.pop()();
              if (cx.marked) return cx.marked;
              if (type2 == "variable" && inScope(state, content2)) return "variable-2";
              return style;
            }
          }
        }
        var cx = { state: null, marked: null, cc: null };
        function pass() {
          for (var i = arguments.length - 1; i >= 0; i--) cx.cc.push(arguments[i]);
        }
        function cont() {
          pass.apply(null, arguments);
          return true;
        }
        function inList(name, list) {
          for (var v = list; v; v = v.next) if (v.name == name) return true;
          return false;
        }
        function register(varname) {
          var state = cx.state;
          cx.marked = "def";
          if (!trackScope) return;
          if (state.context) {
            if (state.lexical.info == "var" && state.context && state.context.block) {
              var newContext = registerVarScoped(varname, state.context);
              if (newContext != null) {
                state.context = newContext;
                return;
              }
            } else if (!inList(varname, state.localVars)) {
              state.localVars = new Var(varname, state.localVars);
              return;
            }
          }
          if (parserConfig.globalVars && !inList(varname, state.globalVars))
            state.globalVars = new Var(varname, state.globalVars);
        }
        function registerVarScoped(varname, context) {
          if (!context) {
            return null;
          } else if (context.block) {
            var inner = registerVarScoped(varname, context.prev);
            if (!inner) return null;
            if (inner == context.prev) return context;
            return new Context(inner, context.vars, true);
          } else if (inList(varname, context.vars)) {
            return context;
          } else {
            return new Context(context.prev, new Var(varname, context.vars), false);
          }
        }
        function isModifier(name) {
          return name == "public" || name == "private" || name == "protected" || name == "abstract" || name == "readonly";
        }
        function Context(prev, vars, block2) {
          this.prev = prev;
          this.vars = vars;
          this.block = block2;
        }
        function Var(name, next) {
          this.name = name;
          this.next = next;
        }
        var defaultVars = new Var("this", new Var("arguments", null));
        function pushcontext() {
          cx.state.context = new Context(cx.state.context, cx.state.localVars, false);
          cx.state.localVars = defaultVars;
        }
        function pushblockcontext() {
          cx.state.context = new Context(cx.state.context, cx.state.localVars, true);
          cx.state.localVars = null;
        }
        pushcontext.lex = pushblockcontext.lex = true;
        function popcontext() {
          cx.state.localVars = cx.state.context.vars;
          cx.state.context = cx.state.context.prev;
        }
        popcontext.lex = true;
        function pushlex(type2, info) {
          var result = function() {
            var state = cx.state, indent = state.indented;
            if (state.lexical.type == "stat") indent = state.lexical.indented;
            else for (var outer = state.lexical; outer && outer.type == ")" && outer.align; outer = outer.prev)
              indent = outer.indented;
            state.lexical = new JSLexical(indent, cx.stream.column(), type2, null, state.lexical, info);
          };
          result.lex = true;
          return result;
        }
        function poplex() {
          var state = cx.state;
          if (state.lexical.prev) {
            if (state.lexical.type == ")")
              state.indented = state.lexical.indented;
            state.lexical = state.lexical.prev;
          }
        }
        poplex.lex = true;
        function expect(wanted) {
          function exp(type2) {
            if (type2 == wanted) return cont();
            else if (wanted == ";" || type2 == "}" || type2 == ")" || type2 == "]") return pass();
            else return cont(exp);
          }
          return exp;
        }
        function statement(type2, value) {
          if (type2 == "var") return cont(pushlex("vardef", value), vardef, expect(";"), poplex);
          if (type2 == "keyword a") return cont(pushlex("form"), parenExpr, statement, poplex);
          if (type2 == "keyword b") return cont(pushlex("form"), statement, poplex);
          if (type2 == "keyword d") return cx.stream.match(/^\s*$/, false) ? cont() : cont(pushlex("stat"), maybeexpression, expect(";"), poplex);
          if (type2 == "debugger") return cont(expect(";"));
          if (type2 == "{") return cont(pushlex("}"), pushblockcontext, block, poplex, popcontext);
          if (type2 == ";") return cont();
          if (type2 == "if") {
            if (cx.state.lexical.info == "else" && cx.state.cc[cx.state.cc.length - 1] == poplex)
              cx.state.cc.pop()();
            return cont(pushlex("form"), parenExpr, statement, poplex, maybeelse);
          }
          if (type2 == "function") return cont(functiondef);
          if (type2 == "for") return cont(pushlex("form"), pushblockcontext, forspec, statement, popcontext, poplex);
          if (type2 == "class" || isTS && value == "interface") {
            cx.marked = "keyword";
            return cont(pushlex("form", type2 == "class" ? type2 : value), className, poplex);
          }
          if (type2 == "variable") {
            if (isTS && value == "declare") {
              cx.marked = "keyword";
              return cont(statement);
            } else if (isTS && (value == "module" || value == "enum" || value == "type") && cx.stream.match(/^\s*\w/, false)) {
              cx.marked = "keyword";
              if (value == "enum") return cont(enumdef);
              else if (value == "type") return cont(typename, expect("operator"), typeexpr, expect(";"));
              else return cont(pushlex("form"), pattern, expect("{"), pushlex("}"), block, poplex, poplex);
            } else if (isTS && value == "namespace") {
              cx.marked = "keyword";
              return cont(pushlex("form"), expression, statement, poplex);
            } else if (isTS && value == "abstract") {
              cx.marked = "keyword";
              return cont(statement);
            } else {
              return cont(pushlex("stat"), maybelabel);
            }
          }
          if (type2 == "switch") return cont(
            pushlex("form"),
            parenExpr,
            expect("{"),
            pushlex("}", "switch"),
            pushblockcontext,
            block,
            poplex,
            poplex,
            popcontext
          );
          if (type2 == "case") return cont(expression, expect(":"));
          if (type2 == "default") return cont(expect(":"));
          if (type2 == "catch") return cont(pushlex("form"), pushcontext, maybeCatchBinding, statement, poplex, popcontext);
          if (type2 == "export") return cont(pushlex("stat"), afterExport, poplex);
          if (type2 == "import") return cont(pushlex("stat"), afterImport, poplex);
          if (type2 == "async") return cont(statement);
          if (value == "@") return cont(expression, statement);
          return pass(pushlex("stat"), expression, expect(";"), poplex);
        }
        function maybeCatchBinding(type2) {
          if (type2 == "(") return cont(funarg, expect(")"));
        }
        function expression(type2, value) {
          return expressionInner(type2, value, false);
        }
        function expressionNoComma(type2, value) {
          return expressionInner(type2, value, true);
        }
        function parenExpr(type2) {
          if (type2 != "(") return pass();
          return cont(pushlex(")"), maybeexpression, expect(")"), poplex);
        }
        function expressionInner(type2, value, noComma) {
          if (cx.state.fatArrowAt == cx.stream.start) {
            var body = noComma ? arrowBodyNoComma : arrowBody;
            if (type2 == "(") return cont(pushcontext, pushlex(")"), commasep(funarg, ")"), poplex, expect("=>"), body, popcontext);
            else if (type2 == "variable") return pass(pushcontext, pattern, expect("=>"), body, popcontext);
          }
          var maybeop = noComma ? maybeoperatorNoComma : maybeoperatorComma;
          if (atomicTypes.hasOwnProperty(type2)) return cont(maybeop);
          if (type2 == "function") return cont(functiondef, maybeop);
          if (type2 == "class" || isTS && value == "interface") {
            cx.marked = "keyword";
            return cont(pushlex("form"), classExpression, poplex);
          }
          if (type2 == "keyword c" || type2 == "async") return cont(noComma ? expressionNoComma : expression);
          if (type2 == "(") return cont(pushlex(")"), maybeexpression, expect(")"), poplex, maybeop);
          if (type2 == "operator" || type2 == "spread") return cont(noComma ? expressionNoComma : expression);
          if (type2 == "[") return cont(pushlex("]"), arrayLiteral, poplex, maybeop);
          if (type2 == "{") return contCommasep(objprop, "}", null, maybeop);
          if (type2 == "quasi") return pass(quasi, maybeop);
          if (type2 == "new") return cont(maybeTarget(noComma));
          return cont();
        }
        function maybeexpression(type2) {
          if (type2.match(/[;\}\)\],]/)) return pass();
          return pass(expression);
        }
        function maybeoperatorComma(type2, value) {
          if (type2 == ",") return cont(maybeexpression);
          return maybeoperatorNoComma(type2, value, false);
        }
        function maybeoperatorNoComma(type2, value, noComma) {
          var me = noComma == false ? maybeoperatorComma : maybeoperatorNoComma;
          var expr = noComma == false ? expression : expressionNoComma;
          if (type2 == "=>") return cont(pushcontext, noComma ? arrowBodyNoComma : arrowBody, popcontext);
          if (type2 == "operator") {
            if (/\+\+|--/.test(value) || isTS && value == "!") return cont(me);
            if (isTS && value == "<" && cx.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/, false))
              return cont(pushlex(">"), commasep(typeexpr, ">"), poplex, me);
            if (value == "?") return cont(expression, expect(":"), expr);
            return cont(expr);
          }
          if (type2 == "quasi") {
            return pass(quasi, me);
          }
          if (type2 == ";") return;
          if (type2 == "(") return contCommasep(expressionNoComma, ")", "call", me);
          if (type2 == ".") return cont(property, me);
          if (type2 == "[") return cont(pushlex("]"), maybeexpression, expect("]"), poplex, me);
          if (isTS && value == "as") {
            cx.marked = "keyword";
            return cont(typeexpr, me);
          }
          if (type2 == "regexp") {
            cx.state.lastType = cx.marked = "operator";
            cx.stream.backUp(cx.stream.pos - cx.stream.start - 1);
            return cont(expr);
          }
        }
        function quasi(type2, value) {
          if (type2 != "quasi") return pass();
          if (value.slice(value.length - 2) != "${") return cont(quasi);
          return cont(maybeexpression, continueQuasi);
        }
        function continueQuasi(type2) {
          if (type2 == "}") {
            cx.marked = "string-2";
            cx.state.tokenize = tokenQuasi;
            return cont(quasi);
          }
        }
        function arrowBody(type2) {
          findFatArrow(cx.stream, cx.state);
          return pass(type2 == "{" ? statement : expression);
        }
        function arrowBodyNoComma(type2) {
          findFatArrow(cx.stream, cx.state);
          return pass(type2 == "{" ? statement : expressionNoComma);
        }
        function maybeTarget(noComma) {
          return function(type2) {
            if (type2 == ".") return cont(noComma ? targetNoComma : target);
            else if (type2 == "variable" && isTS) return cont(maybeTypeArgs, noComma ? maybeoperatorNoComma : maybeoperatorComma);
            else return pass(noComma ? expressionNoComma : expression);
          };
        }
        function target(_, value) {
          if (value == "target") {
            cx.marked = "keyword";
            return cont(maybeoperatorComma);
          }
        }
        function targetNoComma(_, value) {
          if (value == "target") {
            cx.marked = "keyword";
            return cont(maybeoperatorNoComma);
          }
        }
        function maybelabel(type2) {
          if (type2 == ":") return cont(poplex, statement);
          return pass(maybeoperatorComma, expect(";"), poplex);
        }
        function property(type2) {
          if (type2 == "variable") {
            cx.marked = "property";
            return cont();
          }
        }
        function objprop(type2, value) {
          if (type2 == "async") {
            cx.marked = "property";
            return cont(objprop);
          } else if (type2 == "variable" || cx.style == "keyword") {
            cx.marked = "property";
            if (value == "get" || value == "set") return cont(getterSetter);
            var m;
            if (isTS && cx.state.fatArrowAt == cx.stream.start && (m = cx.stream.match(/^\s*:\s*/, false)))
              cx.state.fatArrowAt = cx.stream.pos + m[0].length;
            return cont(afterprop);
          } else if (type2 == "number" || type2 == "string") {
            cx.marked = jsonldMode ? "property" : cx.style + " property";
            return cont(afterprop);
          } else if (type2 == "jsonld-keyword") {
            return cont(afterprop);
          } else if (isTS && isModifier(value)) {
            cx.marked = "keyword";
            return cont(objprop);
          } else if (type2 == "[") {
            return cont(expression, maybetype, expect("]"), afterprop);
          } else if (type2 == "spread") {
            return cont(expressionNoComma, afterprop);
          } else if (value == "*") {
            cx.marked = "keyword";
            return cont(objprop);
          } else if (type2 == ":") {
            return pass(afterprop);
          }
        }
        function getterSetter(type2) {
          if (type2 != "variable") return pass(afterprop);
          cx.marked = "property";
          return cont(functiondef);
        }
        function afterprop(type2) {
          if (type2 == ":") return cont(expressionNoComma);
          if (type2 == "(") return pass(functiondef);
        }
        function commasep(what, end, sep) {
          function proceed(type2, value) {
            if (sep ? sep.indexOf(type2) > -1 : type2 == ",") {
              var lex = cx.state.lexical;
              if (lex.info == "call") lex.pos = (lex.pos || 0) + 1;
              return cont(function(type3, value2) {
                if (type3 == end || value2 == end) return pass();
                return pass(what);
              }, proceed);
            }
            if (type2 == end || value == end) return cont();
            if (sep && sep.indexOf(";") > -1) return pass(what);
            return cont(expect(end));
          }
          return function(type2, value) {
            if (type2 == end || value == end) return cont();
            return pass(what, proceed);
          };
        }
        function contCommasep(what, end, info) {
          for (var i = 3; i < arguments.length; i++)
            cx.cc.push(arguments[i]);
          return cont(pushlex(end, info), commasep(what, end), poplex);
        }
        function block(type2) {
          if (type2 == "}") return cont();
          return pass(statement, block);
        }
        function maybetype(type2, value) {
          if (isTS) {
            if (type2 == ":") return cont(typeexpr);
            if (value == "?") return cont(maybetype);
          }
        }
        function maybetypeOrIn(type2, value) {
          if (isTS && (type2 == ":" || value == "in")) return cont(typeexpr);
        }
        function mayberettype(type2) {
          if (isTS && type2 == ":") {
            if (cx.stream.match(/^\s*\w+\s+is\b/, false)) return cont(expression, isKW, typeexpr);
            else return cont(typeexpr);
          }
        }
        function isKW(_, value) {
          if (value == "is") {
            cx.marked = "keyword";
            return cont();
          }
        }
        function typeexpr(type2, value) {
          if (value == "keyof" || value == "typeof" || value == "infer" || value == "readonly") {
            cx.marked = "keyword";
            return cont(value == "typeof" ? expressionNoComma : typeexpr);
          }
          if (type2 == "variable" || value == "void") {
            cx.marked = "type";
            return cont(afterType);
          }
          if (value == "|" || value == "&") return cont(typeexpr);
          if (type2 == "string" || type2 == "number" || type2 == "atom") return cont(afterType);
          if (type2 == "[") return cont(pushlex("]"), commasep(typeexpr, "]", ","), poplex, afterType);
          if (type2 == "{") return cont(pushlex("}"), typeprops, poplex, afterType);
          if (type2 == "(") return cont(commasep(typearg, ")"), maybeReturnType, afterType);
          if (type2 == "<") return cont(commasep(typeexpr, ">"), typeexpr);
          if (type2 == "quasi") {
            return pass(quasiType, afterType);
          }
        }
        function maybeReturnType(type2) {
          if (type2 == "=>") return cont(typeexpr);
        }
        function typeprops(type2) {
          if (type2.match(/[\}\)\]]/)) return cont();
          if (type2 == "," || type2 == ";") return cont(typeprops);
          return pass(typeprop, typeprops);
        }
        function typeprop(type2, value) {
          if (type2 == "variable" || cx.style == "keyword") {
            cx.marked = "property";
            return cont(typeprop);
          } else if (value == "?" || type2 == "number" || type2 == "string") {
            return cont(typeprop);
          } else if (type2 == ":") {
            return cont(typeexpr);
          } else if (type2 == "[") {
            return cont(expect("variable"), maybetypeOrIn, expect("]"), typeprop);
          } else if (type2 == "(") {
            return pass(functiondecl, typeprop);
          } else if (!type2.match(/[;\}\)\],]/)) {
            return cont();
          }
        }
        function quasiType(type2, value) {
          if (type2 != "quasi") return pass();
          if (value.slice(value.length - 2) != "${") return cont(quasiType);
          return cont(typeexpr, continueQuasiType);
        }
        function continueQuasiType(type2) {
          if (type2 == "}") {
            cx.marked = "string-2";
            cx.state.tokenize = tokenQuasi;
            return cont(quasiType);
          }
        }
        function typearg(type2, value) {
          if (type2 == "variable" && cx.stream.match(/^\s*[?:]/, false) || value == "?") return cont(typearg);
          if (type2 == ":") return cont(typeexpr);
          if (type2 == "spread") return cont(typearg);
          return pass(typeexpr);
        }
        function afterType(type2, value) {
          if (value == "<") return cont(pushlex(">"), commasep(typeexpr, ">"), poplex, afterType);
          if (value == "|" || type2 == "." || value == "&") return cont(typeexpr);
          if (type2 == "[") return cont(typeexpr, expect("]"), afterType);
          if (value == "extends" || value == "implements") {
            cx.marked = "keyword";
            return cont(typeexpr);
          }
          if (value == "?") return cont(typeexpr, expect(":"), typeexpr);
        }
        function maybeTypeArgs(_, value) {
          if (value == "<") return cont(pushlex(">"), commasep(typeexpr, ">"), poplex, afterType);
        }
        function typeparam() {
          return pass(typeexpr, maybeTypeDefault);
        }
        function maybeTypeDefault(_, value) {
          if (value == "=") return cont(typeexpr);
        }
        function vardef(_, value) {
          if (value == "enum") {
            cx.marked = "keyword";
            return cont(enumdef);
          }
          return pass(pattern, maybetype, maybeAssign, vardefCont);
        }
        function pattern(type2, value) {
          if (isTS && isModifier(value)) {
            cx.marked = "keyword";
            return cont(pattern);
          }
          if (type2 == "variable") {
            register(value);
            return cont();
          }
          if (type2 == "spread") return cont(pattern);
          if (type2 == "[") return contCommasep(eltpattern, "]");
          if (type2 == "{") return contCommasep(proppattern, "}");
        }
        function proppattern(type2, value) {
          if (type2 == "variable" && !cx.stream.match(/^\s*:/, false)) {
            register(value);
            return cont(maybeAssign);
          }
          if (type2 == "variable") cx.marked = "property";
          if (type2 == "spread") return cont(pattern);
          if (type2 == "}") return pass();
          if (type2 == "[") return cont(expression, expect("]"), expect(":"), proppattern);
          return cont(expect(":"), pattern, maybeAssign);
        }
        function eltpattern() {
          return pass(pattern, maybeAssign);
        }
        function maybeAssign(_type, value) {
          if (value == "=") return cont(expressionNoComma);
        }
        function vardefCont(type2) {
          if (type2 == ",") return cont(vardef);
        }
        function maybeelse(type2, value) {
          if (type2 == "keyword b" && value == "else") return cont(pushlex("form", "else"), statement, poplex);
        }
        function forspec(type2, value) {
          if (value == "await") return cont(forspec);
          if (type2 == "(") return cont(pushlex(")"), forspec1, poplex);
        }
        function forspec1(type2) {
          if (type2 == "var") return cont(vardef, forspec2);
          if (type2 == "variable") return cont(forspec2);
          return pass(forspec2);
        }
        function forspec2(type2, value) {
          if (type2 == ")") return cont();
          if (type2 == ";") return cont(forspec2);
          if (value == "in" || value == "of") {
            cx.marked = "keyword";
            return cont(expression, forspec2);
          }
          return pass(expression, forspec2);
        }
        function functiondef(type2, value) {
          if (value == "*") {
            cx.marked = "keyword";
            return cont(functiondef);
          }
          if (type2 == "variable") {
            register(value);
            return cont(functiondef);
          }
          if (type2 == "(") return cont(pushcontext, pushlex(")"), commasep(funarg, ")"), poplex, mayberettype, statement, popcontext);
          if (isTS && value == "<") return cont(pushlex(">"), commasep(typeparam, ">"), poplex, functiondef);
        }
        function functiondecl(type2, value) {
          if (value == "*") {
            cx.marked = "keyword";
            return cont(functiondecl);
          }
          if (type2 == "variable") {
            register(value);
            return cont(functiondecl);
          }
          if (type2 == "(") return cont(pushcontext, pushlex(")"), commasep(funarg, ")"), poplex, mayberettype, popcontext);
          if (isTS && value == "<") return cont(pushlex(">"), commasep(typeparam, ">"), poplex, functiondecl);
        }
        function typename(type2, value) {
          if (type2 == "keyword" || type2 == "variable") {
            cx.marked = "type";
            return cont(typename);
          } else if (value == "<") {
            return cont(pushlex(">"), commasep(typeparam, ">"), poplex);
          }
        }
        function funarg(type2, value) {
          if (value == "@") cont(expression, funarg);
          if (type2 == "spread") return cont(funarg);
          if (isTS && isModifier(value)) {
            cx.marked = "keyword";
            return cont(funarg);
          }
          if (isTS && type2 == "this") return cont(maybetype, maybeAssign);
          return pass(pattern, maybetype, maybeAssign);
        }
        function classExpression(type2, value) {
          if (type2 == "variable") return className(type2, value);
          return classNameAfter(type2, value);
        }
        function className(type2, value) {
          if (type2 == "variable") {
            register(value);
            return cont(classNameAfter);
          }
        }
        function classNameAfter(type2, value) {
          if (value == "<") return cont(pushlex(">"), commasep(typeparam, ">"), poplex, classNameAfter);
          if (value == "extends" || value == "implements" || isTS && type2 == ",") {
            if (value == "implements") cx.marked = "keyword";
            return cont(isTS ? typeexpr : expression, classNameAfter);
          }
          if (type2 == "{") return cont(pushlex("}"), classBody, poplex);
        }
        function classBody(type2, value) {
          if (type2 == "async" || type2 == "variable" && (value == "static" || value == "get" || value == "set" || isTS && isModifier(value)) && cx.stream.match(/^\s+#?[\w$\xa1-\uffff]/, false)) {
            cx.marked = "keyword";
            return cont(classBody);
          }
          if (type2 == "variable" || cx.style == "keyword") {
            cx.marked = "property";
            return cont(classfield, classBody);
          }
          if (type2 == "number" || type2 == "string") return cont(classfield, classBody);
          if (type2 == "[")
            return cont(expression, maybetype, expect("]"), classfield, classBody);
          if (value == "*") {
            cx.marked = "keyword";
            return cont(classBody);
          }
          if (isTS && type2 == "(") return pass(functiondecl, classBody);
          if (type2 == ";" || type2 == ",") return cont(classBody);
          if (type2 == "}") return cont();
          if (value == "@") return cont(expression, classBody);
        }
        function classfield(type2, value) {
          if (value == "!") return cont(classfield);
          if (value == "?") return cont(classfield);
          if (type2 == ":") return cont(typeexpr, maybeAssign);
          if (value == "=") return cont(expressionNoComma);
          var context = cx.state.lexical.prev, isInterface = context && context.info == "interface";
          return pass(isInterface ? functiondecl : functiondef);
        }
        function afterExport(type2, value) {
          if (value == "*") {
            cx.marked = "keyword";
            return cont(maybeFrom, expect(";"));
          }
          if (value == "default") {
            cx.marked = "keyword";
            return cont(expression, expect(";"));
          }
          if (type2 == "{") return cont(commasep(exportField, "}"), maybeFrom, expect(";"));
          return pass(statement);
        }
        function exportField(type2, value) {
          if (value == "as") {
            cx.marked = "keyword";
            return cont(expect("variable"));
          }
          if (type2 == "variable") return pass(expressionNoComma, exportField);
        }
        function afterImport(type2) {
          if (type2 == "string") return cont();
          if (type2 == "(") return pass(expression);
          if (type2 == ".") return pass(maybeoperatorComma);
          return pass(importSpec, maybeMoreImports, maybeFrom);
        }
        function importSpec(type2, value) {
          if (type2 == "{") return contCommasep(importSpec, "}");
          if (type2 == "variable") register(value);
          if (value == "*") cx.marked = "keyword";
          return cont(maybeAs);
        }
        function maybeMoreImports(type2) {
          if (type2 == ",") return cont(importSpec, maybeMoreImports);
        }
        function maybeAs(_type, value) {
          if (value == "as") {
            cx.marked = "keyword";
            return cont(importSpec);
          }
        }
        function maybeFrom(_type, value) {
          if (value == "from") {
            cx.marked = "keyword";
            return cont(expression);
          }
        }
        function arrayLiteral(type2) {
          if (type2 == "]") return cont();
          return pass(commasep(expressionNoComma, "]"));
        }
        function enumdef() {
          return pass(pushlex("form"), pattern, expect("{"), pushlex("}"), commasep(enummember, "}"), poplex, poplex);
        }
        function enummember() {
          return pass(pattern, maybeAssign);
        }
        function isContinuedStatement(state, textAfter) {
          return state.lastType == "operator" || state.lastType == "," || isOperatorChar.test(textAfter.charAt(0)) || /[,.]/.test(textAfter.charAt(0));
        }
        function expressionAllowed(stream, state, backUp) {
          return state.tokenize == tokenBase && /^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(state.lastType) || state.lastType == "quasi" && /\{\s*$/.test(stream.string.slice(0, stream.pos - (backUp || 0)));
        }
        return {
          startState: function(basecolumn) {
            var state = {
              tokenize: tokenBase,
              lastType: "sof",
              cc: [],
              lexical: new JSLexical((basecolumn || 0) - indentUnit, 0, "block", false),
              localVars: parserConfig.localVars,
              context: parserConfig.localVars && new Context(null, null, false),
              indented: basecolumn || 0
            };
            if (parserConfig.globalVars && typeof parserConfig.globalVars == "object")
              state.globalVars = parserConfig.globalVars;
            return state;
          },
          token: function(stream, state) {
            if (stream.sol()) {
              if (!state.lexical.hasOwnProperty("align"))
                state.lexical.align = false;
              state.indented = stream.indentation();
              findFatArrow(stream, state);
            }
            if (state.tokenize != tokenComment && stream.eatSpace()) return null;
            var style = state.tokenize(stream, state);
            if (type == "comment") return style;
            state.lastType = type == "operator" && (content == "++" || content == "--") ? "incdec" : type;
            return parseJS(state, style, type, content, stream);
          },
          indent: function(state, textAfter) {
            if (state.tokenize == tokenComment || state.tokenize == tokenQuasi) return CodeMirror.Pass;
            if (state.tokenize != tokenBase) return 0;
            var firstChar = textAfter && textAfter.charAt(0), lexical = state.lexical, top;
            if (!/^\s*else\b/.test(textAfter)) for (var i = state.cc.length - 1; i >= 0; --i) {
              var c = state.cc[i];
              if (c == poplex) lexical = lexical.prev;
              else if (c != maybeelse && c != popcontext) break;
            }
            while ((lexical.type == "stat" || lexical.type == "form") && (firstChar == "}" || (top = state.cc[state.cc.length - 1]) && (top == maybeoperatorComma || top == maybeoperatorNoComma) && !/^[,\.=+\-*:?[\(]/.test(textAfter)))
              lexical = lexical.prev;
            if (statementIndent && lexical.type == ")" && lexical.prev.type == "stat")
              lexical = lexical.prev;
            var type2 = lexical.type, closing = firstChar == type2;
            if (type2 == "vardef") return lexical.indented + (state.lastType == "operator" || state.lastType == "," ? lexical.info.length + 1 : 0);
            else if (type2 == "form" && firstChar == "{") return lexical.indented;
            else if (type2 == "form") return lexical.indented + indentUnit;
            else if (type2 == "stat")
              return lexical.indented + (isContinuedStatement(state, textAfter) ? statementIndent || indentUnit : 0);
            else if (lexical.info == "switch" && !closing && parserConfig.doubleIndentSwitch != false)
              return lexical.indented + (/^(?:case|default)\b/.test(textAfter) ? indentUnit : 2 * indentUnit);
            else if (lexical.align) return lexical.column + (closing ? 0 : 1);
            else return lexical.indented + (closing ? 0 : indentUnit);
          },
          electricInput: /^\s*(?:case .*?:|default:|\{|\})$/,
          blockCommentStart: jsonMode ? null : "/*",
          blockCommentEnd: jsonMode ? null : "*/",
          blockCommentContinue: jsonMode ? null : " * ",
          lineComment: jsonMode ? null : "//",
          fold: "brace",
          closeBrackets: "()[]{}''\"\"``",
          helperType: jsonMode ? "json" : "javascript",
          jsonldMode,
          jsonMode,
          expressionAllowed,
          skipExpression: function(state) {
            parseJS(state, "atom", "atom", "true", new CodeMirror.StringStream("", 2, null));
          }
        };
      });
      CodeMirror.registerHelper("wordChars", "javascript", /[\w$]/);
      CodeMirror.defineMIME("text/javascript", "javascript");
      CodeMirror.defineMIME("text/ecmascript", "javascript");
      CodeMirror.defineMIME("application/javascript", "javascript");
      CodeMirror.defineMIME("application/x-javascript", "javascript");
      CodeMirror.defineMIME("application/ecmascript", "javascript");
      CodeMirror.defineMIME("application/json", { name: "javascript", json: true });
      CodeMirror.defineMIME("application/x-json", { name: "javascript", json: true });
      CodeMirror.defineMIME("application/manifest+json", { name: "javascript", json: true });
      CodeMirror.defineMIME("application/ld+json", { name: "javascript", jsonld: true });
      CodeMirror.defineMIME("text/typescript", { name: "javascript", typescript: true });
      CodeMirror.defineMIME("application/typescript", { name: "javascript", typescript: true });
    });
  })();
  return javascript.exports;
}
var hasRequiredHtmlmixed;
function requireHtmlmixed() {
  if (hasRequiredHtmlmixed) return htmlmixed.exports;
  hasRequiredHtmlmixed = 1;
  (function(module, exports) {
    (function(mod) {
      mod(requireCodemirror(), requireXml(), requireJavascript(), requireCss());
    })(function(CodeMirror) {
      var defaultTags = {
        script: [
          ["lang", /(javascript|babel)/i, "javascript"],
          ["type", /^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i, "javascript"],
          ["type", /./, "text/plain"],
          [null, null, "javascript"]
        ],
        style: [
          ["lang", /^css$/i, "css"],
          ["type", /^(text\/)?(x-)?(stylesheet|css)$/i, "css"],
          ["type", /./, "text/plain"],
          [null, null, "css"]
        ]
      };
      function maybeBackup(stream, pat, style) {
        var cur = stream.current(), close = cur.search(pat);
        if (close > -1) {
          stream.backUp(cur.length - close);
        } else if (cur.match(/<\/?$/)) {
          stream.backUp(cur.length);
          if (!stream.match(pat, false)) stream.match(cur);
        }
        return style;
      }
      var attrRegexpCache = {};
      function getAttrRegexp(attr) {
        var regexp = attrRegexpCache[attr];
        if (regexp) return regexp;
        return attrRegexpCache[attr] = new RegExp("\\s+" + attr + `\\s*=\\s*('|")?([^'"]+)('|")?\\s*`);
      }
      function getAttrValue(text, attr) {
        var match = text.match(getAttrRegexp(attr));
        return match ? /^\s*(.*?)\s*$/.exec(match[2])[1] : "";
      }
      function getTagRegexp(tagName, anchored) {
        return new RegExp((anchored ? "^" : "") + "</\\s*" + tagName + "\\s*>", "i");
      }
      function addTags(from, to) {
        for (var tag in from) {
          var dest = to[tag] || (to[tag] = []);
          var source = from[tag];
          for (var i = source.length - 1; i >= 0; i--)
            dest.unshift(source[i]);
        }
      }
      function findMatchingMode(tagInfo, tagText) {
        for (var i = 0; i < tagInfo.length; i++) {
          var spec = tagInfo[i];
          if (!spec[0] || spec[1].test(getAttrValue(tagText, spec[0]))) return spec[2];
        }
      }
      CodeMirror.defineMode("htmlmixed", function(config, parserConfig) {
        var htmlMode = CodeMirror.getMode(config, {
          name: "xml",
          htmlMode: true,
          multilineTagIndentFactor: parserConfig.multilineTagIndentFactor,
          multilineTagIndentPastTag: parserConfig.multilineTagIndentPastTag,
          allowMissingTagName: parserConfig.allowMissingTagName
        });
        var tags = {};
        var configTags = parserConfig && parserConfig.tags, configScript = parserConfig && parserConfig.scriptTypes;
        addTags(defaultTags, tags);
        if (configTags) addTags(configTags, tags);
        if (configScript) for (var i = configScript.length - 1; i >= 0; i--)
          tags.script.unshift(["type", configScript[i].matches, configScript[i].mode]);
        function html(stream, state) {
          var style = htmlMode.token(stream, state.htmlState), tag = /\btag\b/.test(style), tagName;
          if (tag && !/[<>\s\/]/.test(stream.current()) && (tagName = state.htmlState.tagName && state.htmlState.tagName.toLowerCase()) && tags.hasOwnProperty(tagName)) {
            state.inTag = tagName + " ";
          } else if (state.inTag && tag && />$/.test(stream.current())) {
            var inTag = /^([\S]+) (.*)/.exec(state.inTag);
            state.inTag = null;
            var modeSpec = stream.current() == ">" && findMatchingMode(tags[inTag[1]], inTag[2]);
            var mode = CodeMirror.getMode(config, modeSpec);
            var endTagA = getTagRegexp(inTag[1], true), endTag = getTagRegexp(inTag[1], false);
            state.token = function(stream2, state2) {
              if (stream2.match(endTagA, false)) {
                state2.token = html;
                state2.localState = state2.localMode = null;
                return null;
              }
              return maybeBackup(stream2, endTag, state2.localMode.token(stream2, state2.localState));
            };
            state.localMode = mode;
            state.localState = CodeMirror.startState(mode, htmlMode.indent(state.htmlState, "", ""));
          } else if (state.inTag) {
            state.inTag += stream.current();
            if (stream.eol()) state.inTag += " ";
          }
          return style;
        }
        return {
          startState: function() {
            var state = CodeMirror.startState(htmlMode);
            return { token: html, inTag: null, localMode: null, localState: null, htmlState: state };
          },
          copyState: function(state) {
            var local;
            if (state.localState) {
              local = CodeMirror.copyState(state.localMode, state.localState);
            }
            return {
              token: state.token,
              inTag: state.inTag,
              localMode: state.localMode,
              localState: local,
              htmlState: CodeMirror.copyState(htmlMode, state.htmlState)
            };
          },
          token: function(stream, state) {
            return state.token(stream, state);
          },
          indent: function(state, textAfter, line) {
            if (!state.localMode || /^\s*<\//.test(textAfter))
              return htmlMode.indent(state.htmlState, textAfter, line);
            else if (state.localMode.indent)
              return state.localMode.indent(state.localState, textAfter, line);
            else
              return CodeMirror.Pass;
          },
          innerMode: function(state) {
            return { state: state.localState || state.htmlState, mode: state.localMode || htmlMode };
          }
        };
      }, "xml", "javascript", "css");
      CodeMirror.defineMIME("text/html", "htmlmixed");
    });
  })();
  return htmlmixed.exports;
}
requireHtmlmixed();
requireJavascript();
var python = { exports: {} };
var hasRequiredPython;
function requirePython() {
  if (hasRequiredPython) return python.exports;
  hasRequiredPython = 1;
  (function(module, exports) {
    (function(mod) {
      mod(requireCodemirror());
    })(function(CodeMirror) {
      function wordRegexp(words2) {
        return new RegExp("^((" + words2.join(")|(") + "))\\b");
      }
      var wordOperators = wordRegexp(["and", "or", "not", "is"]);
      var commonKeywords = [
        "as",
        "assert",
        "break",
        "class",
        "continue",
        "def",
        "del",
        "elif",
        "else",
        "except",
        "finally",
        "for",
        "from",
        "global",
        "if",
        "import",
        "lambda",
        "pass",
        "raise",
        "return",
        "try",
        "while",
        "with",
        "yield",
        "in",
        "False",
        "True"
      ];
      var commonBuiltins = [
        "abs",
        "all",
        "any",
        "bin",
        "bool",
        "bytearray",
        "callable",
        "chr",
        "classmethod",
        "compile",
        "complex",
        "delattr",
        "dict",
        "dir",
        "divmod",
        "enumerate",
        "eval",
        "filter",
        "float",
        "format",
        "frozenset",
        "getattr",
        "globals",
        "hasattr",
        "hash",
        "help",
        "hex",
        "id",
        "input",
        "int",
        "isinstance",
        "issubclass",
        "iter",
        "len",
        "list",
        "locals",
        "map",
        "max",
        "memoryview",
        "min",
        "next",
        "object",
        "oct",
        "open",
        "ord",
        "pow",
        "property",
        "range",
        "repr",
        "reversed",
        "round",
        "set",
        "setattr",
        "slice",
        "sorted",
        "staticmethod",
        "str",
        "sum",
        "super",
        "tuple",
        "type",
        "vars",
        "zip",
        "__import__",
        "NotImplemented",
        "Ellipsis",
        "__debug__"
      ];
      CodeMirror.registerHelper("hintWords", "python", commonKeywords.concat(commonBuiltins).concat(["exec", "print"]));
      function top(state) {
        return state.scopes[state.scopes.length - 1];
      }
      CodeMirror.defineMode("python", function(conf, parserConf) {
        var ERRORCLASS = "error";
        var delimiters = parserConf.delimiters || parserConf.singleDelimiters || /^[\(\)\[\]\{\}@,:`=;\.\\]/;
        var operators = [
          parserConf.singleOperators,
          parserConf.doubleOperators,
          parserConf.doubleDelimiters,
          parserConf.tripleDelimiters,
          parserConf.operators || /^([-+*/%\/&|^]=?|[<>=]+|\/\/=?|\*\*=?|!=|[~!@]|\.\.\.)/
        ];
        for (var i = 0; i < operators.length; i++) if (!operators[i]) operators.splice(i--, 1);
        var hangingIndent = parserConf.hangingIndent || conf.indentUnit;
        var myKeywords = commonKeywords, myBuiltins = commonBuiltins;
        if (parserConf.extra_keywords != void 0)
          myKeywords = myKeywords.concat(parserConf.extra_keywords);
        if (parserConf.extra_builtins != void 0)
          myBuiltins = myBuiltins.concat(parserConf.extra_builtins);
        var py3 = !(parserConf.version && Number(parserConf.version) < 3);
        if (py3) {
          var identifiers = parserConf.identifiers || /^[_A-Za-z\u00A1-\uFFFF][_A-Za-z0-9\u00A1-\uFFFF]*/;
          myKeywords = myKeywords.concat(["nonlocal", "None", "aiter", "anext", "async", "await", "breakpoint", "match", "case"]);
          myBuiltins = myBuiltins.concat(["ascii", "bytes", "exec", "print"]);
          var stringPrefixes = new RegExp(`^(([rbuf]|(br)|(rb)|(fr)|(rf))?('{3}|"{3}|['"]))`, "i");
        } else {
          var identifiers = parserConf.identifiers || /^[_A-Za-z][_A-Za-z0-9]*/;
          myKeywords = myKeywords.concat(["exec", "print"]);
          myBuiltins = myBuiltins.concat([
            "apply",
            "basestring",
            "buffer",
            "cmp",
            "coerce",
            "execfile",
            "file",
            "intern",
            "long",
            "raw_input",
            "reduce",
            "reload",
            "unichr",
            "unicode",
            "xrange",
            "None"
          ]);
          var stringPrefixes = new RegExp(`^(([rubf]|(ur)|(br))?('{3}|"{3}|['"]))`, "i");
        }
        var keywords = wordRegexp(myKeywords);
        var builtins = wordRegexp(myBuiltins);
        function tokenBase(stream, state) {
          var sol = stream.sol() && state.lastToken != "\\";
          if (sol) state.indent = stream.indentation();
          if (sol && top(state).type == "py") {
            var scopeOffset = top(state).offset;
            if (stream.eatSpace()) {
              var lineOffset = stream.indentation();
              if (lineOffset > scopeOffset)
                pushPyScope(state);
              else if (lineOffset < scopeOffset && dedent(stream, state) && stream.peek() != "#")
                state.errorToken = true;
              return null;
            } else {
              var style = tokenBaseInner(stream, state);
              if (scopeOffset > 0 && dedent(stream, state))
                style += " " + ERRORCLASS;
              return style;
            }
          }
          return tokenBaseInner(stream, state);
        }
        function tokenBaseInner(stream, state, inFormat) {
          if (stream.eatSpace()) return null;
          if (!inFormat && stream.match(/^#.*/)) return "comment";
          if (stream.match(/^[0-9\.]/, false)) {
            var floatLiteral = false;
            if (stream.match(/^[\d_]*\.\d+(e[\+\-]?\d+)?/i)) {
              floatLiteral = true;
            }
            if (stream.match(/^[\d_]+\.\d*/)) {
              floatLiteral = true;
            }
            if (stream.match(/^\.\d+/)) {
              floatLiteral = true;
            }
            if (floatLiteral) {
              stream.eat(/J/i);
              return "number";
            }
            var intLiteral = false;
            if (stream.match(/^0x[0-9a-f_]+/i)) intLiteral = true;
            if (stream.match(/^0b[01_]+/i)) intLiteral = true;
            if (stream.match(/^0o[0-7_]+/i)) intLiteral = true;
            if (stream.match(/^[1-9][\d_]*(e[\+\-]?[\d_]+)?/)) {
              stream.eat(/J/i);
              intLiteral = true;
            }
            if (stream.match(/^0(?![\dx])/i)) intLiteral = true;
            if (intLiteral) {
              stream.eat(/L/i);
              return "number";
            }
          }
          if (stream.match(stringPrefixes)) {
            var isFmtString = stream.current().toLowerCase().indexOf("f") !== -1;
            if (!isFmtString) {
              state.tokenize = tokenStringFactory(stream.current(), state.tokenize);
              return state.tokenize(stream, state);
            } else {
              state.tokenize = formatStringFactory(stream.current(), state.tokenize);
              return state.tokenize(stream, state);
            }
          }
          for (var i2 = 0; i2 < operators.length; i2++)
            if (stream.match(operators[i2])) return "operator";
          if (stream.match(delimiters)) return "punctuation";
          if (state.lastToken == "." && stream.match(identifiers))
            return "property";
          if (stream.match(keywords) || stream.match(wordOperators))
            return "keyword";
          if (stream.match(builtins))
            return "builtin";
          if (stream.match(/^(self|cls)\b/))
            return "variable-2";
          if (stream.match(identifiers)) {
            if (state.lastToken == "def" || state.lastToken == "class")
              return "def";
            return "variable";
          }
          stream.next();
          return inFormat ? null : ERRORCLASS;
        }
        function formatStringFactory(delimiter, tokenOuter) {
          while ("rubf".indexOf(delimiter.charAt(0).toLowerCase()) >= 0)
            delimiter = delimiter.substr(1);
          var singleline = delimiter.length == 1;
          var OUTCLASS = "string";
          function tokenNestedExpr(depth) {
            return function(stream, state) {
              var inner = tokenBaseInner(stream, state, true);
              if (inner == "punctuation") {
                if (stream.current() == "{") {
                  state.tokenize = tokenNestedExpr(depth + 1);
                } else if (stream.current() == "}") {
                  if (depth > 1) state.tokenize = tokenNestedExpr(depth - 1);
                  else state.tokenize = tokenString;
                }
              }
              return inner;
            };
          }
          function tokenString(stream, state) {
            while (!stream.eol()) {
              stream.eatWhile(/[^'"\{\}\\]/);
              if (stream.eat("\\")) {
                stream.next();
                if (singleline && stream.eol())
                  return OUTCLASS;
              } else if (stream.match(delimiter)) {
                state.tokenize = tokenOuter;
                return OUTCLASS;
              } else if (stream.match("{{")) {
                return OUTCLASS;
              } else if (stream.match("{", false)) {
                state.tokenize = tokenNestedExpr(0);
                if (stream.current()) return OUTCLASS;
                else return state.tokenize(stream, state);
              } else if (stream.match("}}")) {
                return OUTCLASS;
              } else if (stream.match("}")) {
                return ERRORCLASS;
              } else {
                stream.eat(/['"]/);
              }
            }
            if (singleline) {
              if (parserConf.singleLineStringErrors)
                return ERRORCLASS;
              else
                state.tokenize = tokenOuter;
            }
            return OUTCLASS;
          }
          tokenString.isString = true;
          return tokenString;
        }
        function tokenStringFactory(delimiter, tokenOuter) {
          while ("rubf".indexOf(delimiter.charAt(0).toLowerCase()) >= 0)
            delimiter = delimiter.substr(1);
          var singleline = delimiter.length == 1;
          var OUTCLASS = "string";
          function tokenString(stream, state) {
            while (!stream.eol()) {
              stream.eatWhile(/[^'"\\]/);
              if (stream.eat("\\")) {
                stream.next();
                if (singleline && stream.eol())
                  return OUTCLASS;
              } else if (stream.match(delimiter)) {
                state.tokenize = tokenOuter;
                return OUTCLASS;
              } else {
                stream.eat(/['"]/);
              }
            }
            if (singleline) {
              if (parserConf.singleLineStringErrors)
                return ERRORCLASS;
              else
                state.tokenize = tokenOuter;
            }
            return OUTCLASS;
          }
          tokenString.isString = true;
          return tokenString;
        }
        function pushPyScope(state) {
          while (top(state).type != "py") state.scopes.pop();
          state.scopes.push({
            offset: top(state).offset + conf.indentUnit,
            type: "py",
            align: null
          });
        }
        function pushBracketScope(stream, state, type) {
          var align = stream.match(/^[\s\[\{\(]*(?:#|$)/, false) ? null : stream.column() + 1;
          state.scopes.push({
            offset: state.indent + hangingIndent,
            type,
            align
          });
        }
        function dedent(stream, state) {
          var indented = stream.indentation();
          while (state.scopes.length > 1 && top(state).offset > indented) {
            if (top(state).type != "py") return true;
            state.scopes.pop();
          }
          return top(state).offset != indented;
        }
        function tokenLexer(stream, state) {
          if (stream.sol()) {
            state.beginningOfLine = true;
            state.dedent = false;
          }
          var style = state.tokenize(stream, state);
          var current = stream.current();
          if (state.beginningOfLine && current == "@")
            return stream.match(identifiers, false) ? "meta" : py3 ? "operator" : ERRORCLASS;
          if (/\S/.test(current)) state.beginningOfLine = false;
          if ((style == "variable" || style == "builtin") && state.lastToken == "meta")
            style = "meta";
          if (current == "pass" || current == "return")
            state.dedent = true;
          if (current == "lambda") state.lambda = true;
          if (current == ":" && !state.lambda && top(state).type == "py" && stream.match(/^\s*(?:#|$)/, false))
            pushPyScope(state);
          if (current.length == 1 && !/string|comment/.test(style)) {
            var delimiter_index = "[({".indexOf(current);
            if (delimiter_index != -1)
              pushBracketScope(stream, state, "])}".slice(delimiter_index, delimiter_index + 1));
            delimiter_index = "])}".indexOf(current);
            if (delimiter_index != -1) {
              if (top(state).type == current) state.indent = state.scopes.pop().offset - hangingIndent;
              else return ERRORCLASS;
            }
          }
          if (state.dedent && stream.eol() && top(state).type == "py" && state.scopes.length > 1)
            state.scopes.pop();
          return style;
        }
        var external = {
          startState: function(basecolumn) {
            return {
              tokenize: tokenBase,
              scopes: [{ offset: basecolumn || 0, type: "py", align: null }],
              indent: basecolumn || 0,
              lastToken: null,
              lambda: false,
              dedent: 0
            };
          },
          token: function(stream, state) {
            var addErr = state.errorToken;
            if (addErr) state.errorToken = false;
            var style = tokenLexer(stream, state);
            if (style && style != "comment")
              state.lastToken = style == "keyword" || style == "punctuation" ? stream.current() : style;
            if (style == "punctuation") style = null;
            if (stream.eol() && state.lambda)
              state.lambda = false;
            return addErr ? style + " " + ERRORCLASS : style;
          },
          indent: function(state, textAfter) {
            if (state.tokenize != tokenBase)
              return state.tokenize.isString ? CodeMirror.Pass : 0;
            var scope = top(state);
            var closing = scope.type == textAfter.charAt(0) || scope.type == "py" && !state.dedent && /^(else:|elif |except |finally:)/.test(textAfter);
            if (scope.align != null)
              return scope.align - (closing ? 1 : 0);
            else
              return scope.offset - (closing ? hangingIndent : 0);
          },
          electricInput: /^\s*([\}\]\)]|else:|elif |except |finally:)$/,
          closeBrackets: { triples: `'"` },
          lineComment: "#",
          fold: "indent"
        };
        return external;
      });
      CodeMirror.defineMIME("text/x-python", "python");
      var words = function(str) {
        return str.split(" ");
      };
      CodeMirror.defineMIME("text/x-cython", {
        name: "python",
        extra_keywords: words("by cdef cimport cpdef ctypedef enum except extern gil include nogil property public readonly struct union DEF IF ELIF ELSE")
      });
    });
  })();
  return python.exports;
}
requirePython();
var clike = { exports: {} };
var hasRequiredClike;
function requireClike() {
  if (hasRequiredClike) return clike.exports;
  hasRequiredClike = 1;
  (function(module, exports) {
    (function(mod) {
      mod(requireCodemirror());
    })(function(CodeMirror) {
      function Context(indented, column, type, info, align, prev) {
        this.indented = indented;
        this.column = column;
        this.type = type;
        this.info = info;
        this.align = align;
        this.prev = prev;
      }
      function pushContext(state, col, type, info) {
        var indent = state.indented;
        if (state.context && state.context.type == "statement" && type != "statement")
          indent = state.context.indented;
        return state.context = new Context(indent, col, type, info, null, state.context);
      }
      function popContext(state) {
        var t = state.context.type;
        if (t == ")" || t == "]" || t == "}")
          state.indented = state.context.indented;
        return state.context = state.context.prev;
      }
      function typeBefore(stream, state, pos) {
        if (state.prevToken == "variable" || state.prevToken == "type") return true;
        if (/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(stream.string.slice(0, pos))) return true;
        if (state.typeAtEndOfLine && stream.column() == stream.indentation()) return true;
      }
      function isTopScope(context) {
        for (; ; ) {
          if (!context || context.type == "top") return true;
          if (context.type == "}" && context.prev.info != "namespace") return false;
          context = context.prev;
        }
      }
      CodeMirror.defineMode("clike", function(config, parserConfig) {
        var indentUnit = config.indentUnit, statementIndentUnit = parserConfig.statementIndentUnit || indentUnit, dontAlignCalls = parserConfig.dontAlignCalls, keywords = parserConfig.keywords || {}, types = parserConfig.types || {}, builtin = parserConfig.builtin || {}, blockKeywords = parserConfig.blockKeywords || {}, defKeywords = parserConfig.defKeywords || {}, atoms = parserConfig.atoms || {}, hooks = parserConfig.hooks || {}, multiLineStrings = parserConfig.multiLineStrings, indentStatements = parserConfig.indentStatements !== false, indentSwitch = parserConfig.indentSwitch !== false, namespaceSeparator = parserConfig.namespaceSeparator, isPunctuationChar = parserConfig.isPunctuationChar || /[\[\]{}\(\),;\:\.]/, numberStart = parserConfig.numberStart || /[\d\.]/, number = parserConfig.number || /^(?:0x[a-f\d]+|0b[01]+|(?:\d+\.?\d*|\.\d+)(?:e[-+]?\d+)?)(u|ll?|l|f)?/i, isOperatorChar = parserConfig.isOperatorChar || /[+\-*&%=<>!?|\/]/, isIdentifierChar = parserConfig.isIdentifierChar || /[\w\$_\xa1-\uffff]/, isReservedIdentifier = parserConfig.isReservedIdentifier || false;
        var curPunc, isDefKeyword;
        function tokenBase(stream, state) {
          var ch = stream.next();
          if (hooks[ch]) {
            var result = hooks[ch](stream, state);
            if (result !== false) return result;
          }
          if (ch == '"' || ch == "'") {
            state.tokenize = tokenString(ch);
            return state.tokenize(stream, state);
          }
          if (numberStart.test(ch)) {
            stream.backUp(1);
            if (stream.match(number)) return "number";
            stream.next();
          }
          if (isPunctuationChar.test(ch)) {
            curPunc = ch;
            return null;
          }
          if (ch == "/") {
            if (stream.eat("*")) {
              state.tokenize = tokenComment;
              return tokenComment(stream, state);
            }
            if (stream.eat("/")) {
              stream.skipToEnd();
              return "comment";
            }
          }
          if (isOperatorChar.test(ch)) {
            while (!stream.match(/^\/[\/*]/, false) && stream.eat(isOperatorChar)) {
            }
            return "operator";
          }
          stream.eatWhile(isIdentifierChar);
          if (namespaceSeparator) while (stream.match(namespaceSeparator))
            stream.eatWhile(isIdentifierChar);
          var cur = stream.current();
          if (contains(keywords, cur)) {
            if (contains(blockKeywords, cur)) curPunc = "newstatement";
            if (contains(defKeywords, cur)) isDefKeyword = true;
            return "keyword";
          }
          if (contains(types, cur)) return "type";
          if (contains(builtin, cur) || isReservedIdentifier && isReservedIdentifier(cur)) {
            if (contains(blockKeywords, cur)) curPunc = "newstatement";
            return "builtin";
          }
          if (contains(atoms, cur)) return "atom";
          return "variable";
        }
        function tokenString(quote) {
          return function(stream, state) {
            var escaped = false, next, end = false;
            while ((next = stream.next()) != null) {
              if (next == quote && !escaped) {
                end = true;
                break;
              }
              escaped = !escaped && next == "\\";
            }
            if (end || !(escaped || multiLineStrings))
              state.tokenize = null;
            return "string";
          };
        }
        function tokenComment(stream, state) {
          var maybeEnd = false, ch;
          while (ch = stream.next()) {
            if (ch == "/" && maybeEnd) {
              state.tokenize = null;
              break;
            }
            maybeEnd = ch == "*";
          }
          return "comment";
        }
        function maybeEOL(stream, state) {
          if (parserConfig.typeFirstDefinitions && stream.eol() && isTopScope(state.context))
            state.typeAtEndOfLine = typeBefore(stream, state, stream.pos);
        }
        return {
          startState: function(basecolumn) {
            return {
              tokenize: null,
              context: new Context((basecolumn || 0) - indentUnit, 0, "top", null, false),
              indented: 0,
              startOfLine: true,
              prevToken: null
            };
          },
          token: function(stream, state) {
            var ctx = state.context;
            if (stream.sol()) {
              if (ctx.align == null) ctx.align = false;
              state.indented = stream.indentation();
              state.startOfLine = true;
            }
            if (stream.eatSpace()) {
              maybeEOL(stream, state);
              return null;
            }
            curPunc = isDefKeyword = null;
            var style = (state.tokenize || tokenBase)(stream, state);
            if (style == "comment" || style == "meta") return style;
            if (ctx.align == null) ctx.align = true;
            if (curPunc == ";" || curPunc == ":" || curPunc == "," && stream.match(/^\s*(?:\/\/.*)?$/, false))
              while (state.context.type == "statement") popContext(state);
            else if (curPunc == "{") pushContext(state, stream.column(), "}");
            else if (curPunc == "[") pushContext(state, stream.column(), "]");
            else if (curPunc == "(") pushContext(state, stream.column(), ")");
            else if (curPunc == "}") {
              while (ctx.type == "statement") ctx = popContext(state);
              if (ctx.type == "}") ctx = popContext(state);
              while (ctx.type == "statement") ctx = popContext(state);
            } else if (curPunc == ctx.type) popContext(state);
            else if (indentStatements && ((ctx.type == "}" || ctx.type == "top") && curPunc != ";" || ctx.type == "statement" && curPunc == "newstatement")) {
              pushContext(state, stream.column(), "statement", stream.current());
            }
            if (style == "variable" && (state.prevToken == "def" || parserConfig.typeFirstDefinitions && typeBefore(stream, state, stream.start) && isTopScope(state.context) && stream.match(/^\s*\(/, false)))
              style = "def";
            if (hooks.token) {
              var result = hooks.token(stream, state, style);
              if (result !== void 0) style = result;
            }
            if (style == "def" && parserConfig.styleDefs === false) style = "variable";
            state.startOfLine = false;
            state.prevToken = isDefKeyword ? "def" : style || curPunc;
            maybeEOL(stream, state);
            return style;
          },
          indent: function(state, textAfter) {
            if (state.tokenize != tokenBase && state.tokenize != null || state.typeAtEndOfLine && isTopScope(state.context))
              return CodeMirror.Pass;
            var ctx = state.context, firstChar = textAfter && textAfter.charAt(0);
            var closing = firstChar == ctx.type;
            if (ctx.type == "statement" && firstChar == "}") ctx = ctx.prev;
            if (parserConfig.dontIndentStatements)
              while (ctx.type == "statement" && parserConfig.dontIndentStatements.test(ctx.info))
                ctx = ctx.prev;
            if (hooks.indent) {
              var hook = hooks.indent(state, ctx, textAfter, indentUnit);
              if (typeof hook == "number") return hook;
            }
            var switchBlock = ctx.prev && ctx.prev.info == "switch";
            if (parserConfig.allmanIndentation && /[{(]/.test(firstChar)) {
              while (ctx.type != "top" && ctx.type != "}") ctx = ctx.prev;
              return ctx.indented;
            }
            if (ctx.type == "statement")
              return ctx.indented + (firstChar == "{" ? 0 : statementIndentUnit);
            if (ctx.align && (!dontAlignCalls || ctx.type != ")"))
              return ctx.column + (closing ? 0 : 1);
            if (ctx.type == ")" && !closing)
              return ctx.indented + statementIndentUnit;
            return ctx.indented + (closing ? 0 : indentUnit) + (!closing && switchBlock && !/^(?:case|default)\b/.test(textAfter) ? indentUnit : 0);
          },
          electricInput: indentSwitch ? /^\s*(?:case .*?:|default:|\{\}?|\})$/ : /^\s*[{}]$/,
          blockCommentStart: "/*",
          blockCommentEnd: "*/",
          blockCommentContinue: " * ",
          lineComment: "//",
          fold: "brace"
        };
      });
      function words(str) {
        var obj = {}, words2 = str.split(" ");
        for (var i = 0; i < words2.length; ++i) obj[words2[i]] = true;
        return obj;
      }
      function contains(words2, word) {
        if (typeof words2 === "function") {
          return words2(word);
        } else {
          return words2.propertyIsEnumerable(word);
        }
      }
      var cKeywords = "auto if break case register continue return default do sizeof static else struct switch extern typedef union for goto while enum const volatile inline restrict asm fortran";
      var cppKeywords = "alignas alignof and and_eq audit axiom bitand bitor catch class compl concept constexpr const_cast decltype delete dynamic_cast explicit export final friend import module mutable namespace new noexcept not not_eq operator or or_eq override private protected public reinterpret_cast requires static_assert static_cast template this thread_local throw try typeid typename using virtual xor xor_eq";
      var objCKeywords = "bycopy byref in inout oneway out self super atomic nonatomic retain copy readwrite readonly strong weak assign typeof nullable nonnull null_resettable _cmd @interface @implementation @end @protocol @encode @property @synthesize @dynamic @class @public @package @private @protected @required @optional @try @catch @finally @import @selector @encode @defs @synchronized @autoreleasepool @compatibility_alias @available";
      var objCBuiltins = "FOUNDATION_EXPORT FOUNDATION_EXTERN NS_INLINE NS_FORMAT_FUNCTION  NS_RETURNS_RETAINEDNS_ERROR_ENUM NS_RETURNS_NOT_RETAINED NS_RETURNS_INNER_POINTER NS_DESIGNATED_INITIALIZER NS_ENUM NS_OPTIONS NS_REQUIRES_NIL_TERMINATION NS_ASSUME_NONNULL_BEGIN NS_ASSUME_NONNULL_END NS_SWIFT_NAME NS_REFINED_FOR_SWIFT";
      var basicCTypes = words("int long char short double float unsigned signed void bool");
      var basicObjCTypes = words("SEL instancetype id Class Protocol BOOL");
      function cTypes(identifier) {
        return contains(basicCTypes, identifier) || /.+_t$/.test(identifier);
      }
      function objCTypes(identifier) {
        return cTypes(identifier) || contains(basicObjCTypes, identifier);
      }
      var cBlockKeywords = "case do else for if switch while struct enum union";
      var cDefKeywords = "struct enum union";
      function cppHook(stream, state) {
        if (!state.startOfLine) return false;
        for (var ch, next = null; ch = stream.peek(); ) {
          if (ch == "\\" && stream.match(/^.$/)) {
            next = cppHook;
            break;
          } else if (ch == "/" && stream.match(/^\/[\/\*]/, false)) {
            break;
          }
          stream.next();
        }
        state.tokenize = next;
        return "meta";
      }
      function pointerHook(_stream, state) {
        if (state.prevToken == "type") return "type";
        return false;
      }
      function cIsReservedIdentifier(token) {
        if (!token || token.length < 2) return false;
        if (token[0] != "_") return false;
        return token[1] == "_" || token[1] !== token[1].toLowerCase();
      }
      function cpp14Literal(stream) {
        stream.eatWhile(/[\w\.']/);
        return "number";
      }
      function cpp11StringHook(stream, state) {
        stream.backUp(1);
        if (stream.match(/^(?:R|u8R|uR|UR|LR)/)) {
          var match = stream.match(/^"([^\s\\()]{0,16})\(/);
          if (!match) {
            return false;
          }
          state.cpp11RawStringDelim = match[1];
          state.tokenize = tokenRawString;
          return tokenRawString(stream, state);
        }
        if (stream.match(/^(?:u8|u|U|L)/)) {
          if (stream.match(
            /^["']/,
            /* eat */
            false
          )) {
            return "string";
          }
          return false;
        }
        stream.next();
        return false;
      }
      function cppLooksLikeConstructor(word) {
        var lastTwo = /(\w+)::~?(\w+)$/.exec(word);
        return lastTwo && lastTwo[1] == lastTwo[2];
      }
      function tokenAtString(stream, state) {
        var next;
        while ((next = stream.next()) != null) {
          if (next == '"' && !stream.eat('"')) {
            state.tokenize = null;
            break;
          }
        }
        return "string";
      }
      function tokenRawString(stream, state) {
        var delim = state.cpp11RawStringDelim.replace(/[^\w\s]/g, "\\$&");
        var match = stream.match(new RegExp(".*?\\)" + delim + '"'));
        if (match)
          state.tokenize = null;
        else
          stream.skipToEnd();
        return "string";
      }
      function def(mimes, mode) {
        if (typeof mimes == "string") mimes = [mimes];
        var words2 = [];
        function add(obj) {
          if (obj) {
            for (var prop in obj) if (obj.hasOwnProperty(prop))
              words2.push(prop);
          }
        }
        add(mode.keywords);
        add(mode.types);
        add(mode.builtin);
        add(mode.atoms);
        if (words2.length) {
          mode.helperType = mimes[0];
          CodeMirror.registerHelper("hintWords", mimes[0], words2);
        }
        for (var i = 0; i < mimes.length; ++i)
          CodeMirror.defineMIME(mimes[i], mode);
      }
      def(["text/x-csrc", "text/x-c", "text/x-chdr"], {
        name: "clike",
        keywords: words(cKeywords),
        types: cTypes,
        blockKeywords: words(cBlockKeywords),
        defKeywords: words(cDefKeywords),
        typeFirstDefinitions: true,
        atoms: words("NULL true false"),
        isReservedIdentifier: cIsReservedIdentifier,
        hooks: {
          "#": cppHook,
          "*": pointerHook
        },
        modeProps: { fold: ["brace", "include"] }
      });
      def(["text/x-c++src", "text/x-c++hdr"], {
        name: "clike",
        keywords: words(cKeywords + " " + cppKeywords),
        types: cTypes,
        blockKeywords: words(cBlockKeywords + " class try catch"),
        defKeywords: words(cDefKeywords + " class namespace"),
        typeFirstDefinitions: true,
        atoms: words("true false NULL nullptr"),
        dontIndentStatements: /^template$/,
        isIdentifierChar: /[\w\$_~\xa1-\uffff]/,
        isReservedIdentifier: cIsReservedIdentifier,
        hooks: {
          "#": cppHook,
          "*": pointerHook,
          "u": cpp11StringHook,
          "U": cpp11StringHook,
          "L": cpp11StringHook,
          "R": cpp11StringHook,
          "0": cpp14Literal,
          "1": cpp14Literal,
          "2": cpp14Literal,
          "3": cpp14Literal,
          "4": cpp14Literal,
          "5": cpp14Literal,
          "6": cpp14Literal,
          "7": cpp14Literal,
          "8": cpp14Literal,
          "9": cpp14Literal,
          token: function(stream, state, style) {
            if (style == "variable" && stream.peek() == "(" && (state.prevToken == ";" || state.prevToken == null || state.prevToken == "}") && cppLooksLikeConstructor(stream.current()))
              return "def";
          }
        },
        namespaceSeparator: "::",
        modeProps: { fold: ["brace", "include"] }
      });
      def("text/x-java", {
        name: "clike",
        keywords: words("abstract assert break case catch class const continue default do else enum extends final finally for goto if implements import instanceof interface native new package private protected public return static strictfp super switch synchronized this throw throws transient try volatile while @interface"),
        types: words("var byte short int long float double boolean char void Boolean Byte Character Double Float Integer Long Number Object Short String StringBuffer StringBuilder Void"),
        blockKeywords: words("catch class do else finally for if switch try while"),
        defKeywords: words("class interface enum @interface"),
        typeFirstDefinitions: true,
        atoms: words("true false null"),
        number: /^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+\.?\d*|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,
        hooks: {
          "@": function(stream) {
            if (stream.match("interface", false)) return false;
            stream.eatWhile(/[\w\$_]/);
            return "meta";
          },
          '"': function(stream, state) {
            if (!stream.match(/""$/)) return false;
            state.tokenize = tokenTripleString;
            return state.tokenize(stream, state);
          }
        },
        modeProps: { fold: ["brace", "import"] }
      });
      def("text/x-csharp", {
        name: "clike",
        keywords: words("abstract as async await base break case catch checked class const continue default delegate do else enum event explicit extern finally fixed for foreach goto if implicit in init interface internal is lock namespace new operator out override params private protected public readonly record ref required return sealed sizeof stackalloc static struct switch this throw try typeof unchecked unsafe using virtual void volatile while add alias ascending descending dynamic from get global group into join let orderby partial remove select set value var yield"),
        types: words("Action Boolean Byte Char DateTime DateTimeOffset Decimal Double Func Guid Int16 Int32 Int64 Object SByte Single String Task TimeSpan UInt16 UInt32 UInt64 bool byte char decimal double short int long object sbyte float string ushort uint ulong"),
        blockKeywords: words("catch class do else finally for foreach if struct switch try while"),
        defKeywords: words("class interface namespace record struct var"),
        typeFirstDefinitions: true,
        atoms: words("true false null"),
        hooks: {
          "@": function(stream, state) {
            if (stream.eat('"')) {
              state.tokenize = tokenAtString;
              return tokenAtString(stream, state);
            }
            stream.eatWhile(/[\w\$_]/);
            return "meta";
          }
        }
      });
      function tokenTripleString(stream, state) {
        var escaped = false;
        while (!stream.eol()) {
          if (!escaped && stream.match('"""')) {
            state.tokenize = null;
            break;
          }
          escaped = stream.next() == "\\" && !escaped;
        }
        return "string";
      }
      function tokenNestedComment(depth) {
        return function(stream, state) {
          var ch;
          while (ch = stream.next()) {
            if (ch == "*" && stream.eat("/")) {
              if (depth == 1) {
                state.tokenize = null;
                break;
              } else {
                state.tokenize = tokenNestedComment(depth - 1);
                return state.tokenize(stream, state);
              }
            } else if (ch == "/" && stream.eat("*")) {
              state.tokenize = tokenNestedComment(depth + 1);
              return state.tokenize(stream, state);
            }
          }
          return "comment";
        };
      }
      def("text/x-scala", {
        name: "clike",
        keywords: words(
          /* scala */
          "abstract case catch class def do else extends final finally for forSome if implicit import lazy match new null object override package private protected return sealed super this throw trait try type val var while with yield _ assert assume require print println printf readLine readBoolean readByte readShort readChar readInt readLong readFloat readDouble"
        ),
        types: words(
          "AnyVal App Application Array BufferedIterator BigDecimal BigInt Char Console Either Enumeration Equiv Error Exception Fractional Function IndexedSeq Int Integral Iterable Iterator List Map Numeric Nil NotNull Option Ordered Ordering PartialFunction PartialOrdering Product Proxy Range Responder Seq Serializable Set Specializable Stream StringBuilder StringContext Symbol Throwable Traversable TraversableOnce Tuple Unit Vector Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void"
        ),
        multiLineStrings: true,
        blockKeywords: words("catch class enum do else finally for forSome if match switch try while"),
        defKeywords: words("class enum def object package trait type val var"),
        atoms: words("true false null"),
        indentStatements: false,
        indentSwitch: false,
        isOperatorChar: /[+\-*&%=<>!?|\/#:@]/,
        hooks: {
          "@": function(stream) {
            stream.eatWhile(/[\w\$_]/);
            return "meta";
          },
          '"': function(stream, state) {
            if (!stream.match('""')) return false;
            state.tokenize = tokenTripleString;
            return state.tokenize(stream, state);
          },
          "'": function(stream) {
            if (stream.match(/^(\\[^'\s]+|[^\\'])'/)) return "string-2";
            stream.eatWhile(/[\w\$_\xa1-\uffff]/);
            return "atom";
          },
          "=": function(stream, state) {
            var cx = state.context;
            if (cx.type == "}" && cx.align && stream.eat(">")) {
              state.context = new Context(cx.indented, cx.column, cx.type, cx.info, null, cx.prev);
              return "operator";
            } else {
              return false;
            }
          },
          "/": function(stream, state) {
            if (!stream.eat("*")) return false;
            state.tokenize = tokenNestedComment(1);
            return state.tokenize(stream, state);
          }
        },
        modeProps: { closeBrackets: { pairs: '()[]{}""', triples: '"' } }
      });
      function tokenKotlinString(tripleString) {
        return function(stream, state) {
          var escaped = false, next, end = false;
          while (!stream.eol()) {
            if (!tripleString && !escaped && stream.match('"')) {
              end = true;
              break;
            }
            if (tripleString && stream.match('"""')) {
              end = true;
              break;
            }
            next = stream.next();
            if (!escaped && next == "$" && stream.match("{"))
              stream.skipTo("}");
            escaped = !escaped && next == "\\" && !tripleString;
          }
          if (end || !tripleString)
            state.tokenize = null;
          return "string";
        };
      }
      def("text/x-kotlin", {
        name: "clike",
        keywords: words(
          /*keywords*/
          "package as typealias class interface this super val operator var fun for is in This throw return annotation break continue object if else while do try when !in !is as? file import where by get set abstract enum open inner override private public internal protected catch finally out final vararg reified dynamic companion constructor init sealed field property receiver param sparam lateinit data inline noinline tailrec external annotation crossinline const operator infix suspend actual expect setparam value"
        ),
        types: words(
          /* package java.lang */
          "Boolean Byte Character CharSequence Class ClassLoader Cloneable Comparable Compiler Double Exception Float Integer Long Math Number Object Package Pair Process Runtime Runnable SecurityManager Short StackTraceElement StrictMath String StringBuffer System Thread ThreadGroup ThreadLocal Throwable Triple Void Annotation Any BooleanArray ByteArray Char CharArray DeprecationLevel DoubleArray Enum FloatArray Function Int IntArray Lazy LazyThreadSafetyMode LongArray Nothing ShortArray Unit"
        ),
        intendSwitch: false,
        indentStatements: false,
        multiLineStrings: true,
        number: /^(?:0x[a-f\d_]+|0b[01_]+|(?:[\d_]+(\.\d+)?|\.\d+)(?:e[-+]?[\d_]+)?)(u|ll?|l|f)?/i,
        blockKeywords: words("catch class do else finally for if where try while enum"),
        defKeywords: words("class val var object interface fun"),
        atoms: words("true false null this"),
        hooks: {
          "@": function(stream) {
            stream.eatWhile(/[\w\$_]/);
            return "meta";
          },
          "*": function(_stream, state) {
            return state.prevToken == "." ? "variable" : "operator";
          },
          '"': function(stream, state) {
            state.tokenize = tokenKotlinString(stream.match('""'));
            return state.tokenize(stream, state);
          },
          "/": function(stream, state) {
            if (!stream.eat("*")) return false;
            state.tokenize = tokenNestedComment(1);
            return state.tokenize(stream, state);
          },
          indent: function(state, ctx, textAfter, indentUnit) {
            var firstChar = textAfter && textAfter.charAt(0);
            if ((state.prevToken == "}" || state.prevToken == ")") && textAfter == "")
              return state.indented;
            if (state.prevToken == "operator" && textAfter != "}" && state.context.type != "}" || state.prevToken == "variable" && firstChar == "." || (state.prevToken == "}" || state.prevToken == ")") && firstChar == ".")
              return indentUnit * 2 + ctx.indented;
            if (ctx.align && ctx.type == "}")
              return ctx.indented + (state.context.type == (textAfter || "").charAt(0) ? 0 : indentUnit);
          }
        },
        modeProps: { closeBrackets: { triples: '"' } }
      });
      def(["x-shader/x-vertex", "x-shader/x-fragment"], {
        name: "clike",
        keywords: words("sampler1D sampler2D sampler3D samplerCube sampler1DShadow sampler2DShadow const attribute uniform varying break continue discard return for while do if else struct in out inout"),
        types: words("float int bool void vec2 vec3 vec4 ivec2 ivec3 ivec4 bvec2 bvec3 bvec4 mat2 mat3 mat4"),
        blockKeywords: words("for while do if else struct"),
        builtin: words("radians degrees sin cos tan asin acos atan pow exp log exp2 sqrt inversesqrt abs sign floor ceil fract mod min max clamp mix step smoothstep length distance dot cross normalize ftransform faceforward reflect refract matrixCompMult lessThan lessThanEqual greaterThan greaterThanEqual equal notEqual any all not texture1D texture1DProj texture1DLod texture1DProjLod texture2D texture2DProj texture2DLod texture2DProjLod texture3D texture3DProj texture3DLod texture3DProjLod textureCube textureCubeLod shadow1D shadow2D shadow1DProj shadow2DProj shadow1DLod shadow2DLod shadow1DProjLod shadow2DProjLod dFdx dFdy fwidth noise1 noise2 noise3 noise4"),
        atoms: words("true false gl_FragColor gl_SecondaryColor gl_Normal gl_Vertex gl_MultiTexCoord0 gl_MultiTexCoord1 gl_MultiTexCoord2 gl_MultiTexCoord3 gl_MultiTexCoord4 gl_MultiTexCoord5 gl_MultiTexCoord6 gl_MultiTexCoord7 gl_FogCoord gl_PointCoord gl_Position gl_PointSize gl_ClipVertex gl_FrontColor gl_BackColor gl_FrontSecondaryColor gl_BackSecondaryColor gl_TexCoord gl_FogFragCoord gl_FragCoord gl_FrontFacing gl_FragData gl_FragDepth gl_ModelViewMatrix gl_ProjectionMatrix gl_ModelViewProjectionMatrix gl_TextureMatrix gl_NormalMatrix gl_ModelViewMatrixInverse gl_ProjectionMatrixInverse gl_ModelViewProjectionMatrixInverse gl_TextureMatrixTranspose gl_ModelViewMatrixInverseTranspose gl_ProjectionMatrixInverseTranspose gl_ModelViewProjectionMatrixInverseTranspose gl_TextureMatrixInverseTranspose gl_NormalScale gl_DepthRange gl_ClipPlane gl_Point gl_FrontMaterial gl_BackMaterial gl_LightSource gl_LightModel gl_FrontLightModelProduct gl_BackLightModelProduct gl_TextureColor gl_EyePlaneS gl_EyePlaneT gl_EyePlaneR gl_EyePlaneQ gl_FogParameters gl_MaxLights gl_MaxClipPlanes gl_MaxTextureUnits gl_MaxTextureCoords gl_MaxVertexAttribs gl_MaxVertexUniformComponents gl_MaxVaryingFloats gl_MaxVertexTextureImageUnits gl_MaxTextureImageUnits gl_MaxFragmentUniformComponents gl_MaxCombineTextureImageUnits gl_MaxDrawBuffers"),
        indentSwitch: false,
        hooks: { "#": cppHook },
        modeProps: { fold: ["brace", "include"] }
      });
      def("text/x-nesc", {
        name: "clike",
        keywords: words(cKeywords + " as atomic async call command component components configuration event generic implementation includes interface module new norace nx_struct nx_union post provides signal task uses abstract extends"),
        types: cTypes,
        blockKeywords: words(cBlockKeywords),
        atoms: words("null true false"),
        hooks: { "#": cppHook },
        modeProps: { fold: ["brace", "include"] }
      });
      def("text/x-objectivec", {
        name: "clike",
        keywords: words(cKeywords + " " + objCKeywords),
        types: objCTypes,
        builtin: words(objCBuiltins),
        blockKeywords: words(cBlockKeywords + " @synthesize @try @catch @finally @autoreleasepool @synchronized"),
        defKeywords: words(cDefKeywords + " @interface @implementation @protocol @class"),
        dontIndentStatements: /^@.*$/,
        typeFirstDefinitions: true,
        atoms: words("YES NO NULL Nil nil true false nullptr"),
        isReservedIdentifier: cIsReservedIdentifier,
        hooks: {
          "#": cppHook,
          "*": pointerHook
        },
        modeProps: { fold: ["brace", "include"] }
      });
      def("text/x-objectivec++", {
        name: "clike",
        keywords: words(cKeywords + " " + objCKeywords + " " + cppKeywords),
        types: objCTypes,
        builtin: words(objCBuiltins),
        blockKeywords: words(cBlockKeywords + " @synthesize @try @catch @finally @autoreleasepool @synchronized class try catch"),
        defKeywords: words(cDefKeywords + " @interface @implementation @protocol @class class namespace"),
        dontIndentStatements: /^@.*$|^template$/,
        typeFirstDefinitions: true,
        atoms: words("YES NO NULL Nil nil true false nullptr"),
        isReservedIdentifier: cIsReservedIdentifier,
        hooks: {
          "#": cppHook,
          "*": pointerHook,
          "u": cpp11StringHook,
          "U": cpp11StringHook,
          "L": cpp11StringHook,
          "R": cpp11StringHook,
          "0": cpp14Literal,
          "1": cpp14Literal,
          "2": cpp14Literal,
          "3": cpp14Literal,
          "4": cpp14Literal,
          "5": cpp14Literal,
          "6": cpp14Literal,
          "7": cpp14Literal,
          "8": cpp14Literal,
          "9": cpp14Literal,
          token: function(stream, state, style) {
            if (style == "variable" && stream.peek() == "(" && (state.prevToken == ";" || state.prevToken == null || state.prevToken == "}") && cppLooksLikeConstructor(stream.current()))
              return "def";
          }
        },
        namespaceSeparator: "::",
        modeProps: { fold: ["brace", "include"] }
      });
      def("text/x-squirrel", {
        name: "clike",
        keywords: words("base break clone continue const default delete enum extends function in class foreach local resume return this throw typeof yield constructor instanceof static"),
        types: cTypes,
        blockKeywords: words("case catch class else for foreach if switch try while"),
        defKeywords: words("function local class"),
        typeFirstDefinitions: true,
        atoms: words("true false null"),
        hooks: { "#": cppHook },
        modeProps: { fold: ["brace", "include"] }
      });
      var stringTokenizer = null;
      function tokenCeylonString(type) {
        return function(stream, state) {
          var escaped = false, next, end = false;
          while (!stream.eol()) {
            if (!escaped && stream.match('"') && (type == "single" || stream.match('""'))) {
              end = true;
              break;
            }
            if (!escaped && stream.match("``")) {
              stringTokenizer = tokenCeylonString(type);
              end = true;
              break;
            }
            next = stream.next();
            escaped = type == "single" && !escaped && next == "\\";
          }
          if (end)
            state.tokenize = null;
          return "string";
        };
      }
      def("text/x-ceylon", {
        name: "clike",
        keywords: words("abstracts alias assembly assert assign break case catch class continue dynamic else exists extends finally for function given if import in interface is let module new nonempty object of out outer package return satisfies super switch then this throw try value void while"),
        types: function(word) {
          var first = word.charAt(0);
          return first === first.toUpperCase() && first !== first.toLowerCase();
        },
        blockKeywords: words("case catch class dynamic else finally for function if interface module new object switch try while"),
        defKeywords: words("class dynamic function interface module object package value"),
        builtin: words("abstract actual aliased annotation by default deprecated doc final formal late license native optional sealed see serializable shared suppressWarnings tagged throws variable"),
        isPunctuationChar: /[\[\]{}\(\),;\:\.`]/,
        isOperatorChar: /[+\-*&%=<>!?|^~:\/]/,
        numberStart: /[\d#$]/,
        number: /^(?:#[\da-fA-F_]+|\$[01_]+|[\d_]+[kMGTPmunpf]?|[\d_]+\.[\d_]+(?:[eE][-+]?\d+|[kMGTPmunpf]|)|)/i,
        multiLineStrings: true,
        typeFirstDefinitions: true,
        atoms: words("true false null larger smaller equal empty finished"),
        indentSwitch: false,
        styleDefs: false,
        hooks: {
          "@": function(stream) {
            stream.eatWhile(/[\w\$_]/);
            return "meta";
          },
          '"': function(stream, state) {
            state.tokenize = tokenCeylonString(stream.match('""') ? "triple" : "single");
            return state.tokenize(stream, state);
          },
          "`": function(stream, state) {
            if (!stringTokenizer || !stream.match("`")) return false;
            state.tokenize = stringTokenizer;
            stringTokenizer = null;
            return state.tokenize(stream, state);
          },
          "'": function(stream) {
            stream.eatWhile(/[\w\$_\xa1-\uffff]/);
            return "atom";
          },
          token: function(_stream, state, style) {
            if ((style == "variable" || style == "type") && state.prevToken == ".") {
              return "variable-2";
            }
          }
        },
        modeProps: {
          fold: ["brace", "import"],
          closeBrackets: { triples: '"' }
        }
      });
    });
  })();
  return clike.exports;
}
requireClike();
var markdown = { exports: {} };
var meta = { exports: {} };
var hasRequiredMeta;
function requireMeta() {
  if (hasRequiredMeta) return meta.exports;
  hasRequiredMeta = 1;
  (function(module, exports) {
    (function(mod) {
      mod(requireCodemirror());
    })(function(CodeMirror) {
      CodeMirror.modeInfo = [
        { name: "APL", mime: "text/apl", mode: "apl", ext: ["dyalog", "apl"] },
        { name: "PGP", mimes: ["application/pgp", "application/pgp-encrypted", "application/pgp-keys", "application/pgp-signature"], mode: "asciiarmor", ext: ["asc", "pgp", "sig"] },
        { name: "ASN.1", mime: "text/x-ttcn-asn", mode: "asn.1", ext: ["asn", "asn1"] },
        { name: "Asterisk", mime: "text/x-asterisk", mode: "asterisk", file: /^extensions\.conf$/i },
        { name: "Brainfuck", mime: "text/x-brainfuck", mode: "brainfuck", ext: ["b", "bf"] },
        { name: "C", mime: "text/x-csrc", mode: "clike", ext: ["c", "h", "ino"] },
        { name: "C++", mime: "text/x-c++src", mode: "clike", ext: ["cpp", "c++", "cc", "cxx", "hpp", "h++", "hh", "hxx"], alias: ["cpp"] },
        { name: "Cobol", mime: "text/x-cobol", mode: "cobol", ext: ["cob", "cpy", "cbl"] },
        { name: "C#", mime: "text/x-csharp", mode: "clike", ext: ["cs"], alias: ["csharp", "cs"] },
        { name: "Clojure", mime: "text/x-clojure", mode: "clojure", ext: ["clj", "cljc", "cljx"] },
        { name: "ClojureScript", mime: "text/x-clojurescript", mode: "clojure", ext: ["cljs"] },
        { name: "Closure Stylesheets (GSS)", mime: "text/x-gss", mode: "css", ext: ["gss"] },
        { name: "CMake", mime: "text/x-cmake", mode: "cmake", ext: ["cmake", "cmake.in"], file: /^CMakeLists\.txt$/ },
        { name: "CoffeeScript", mimes: ["application/vnd.coffeescript", "text/coffeescript", "text/x-coffeescript"], mode: "coffeescript", ext: ["coffee"], alias: ["coffee", "coffee-script"] },
        { name: "Common Lisp", mime: "text/x-common-lisp", mode: "commonlisp", ext: ["cl", "lisp", "el"], alias: ["lisp"] },
        { name: "Cypher", mime: "application/x-cypher-query", mode: "cypher", ext: ["cyp", "cypher"] },
        { name: "Cython", mime: "text/x-cython", mode: "python", ext: ["pyx", "pxd", "pxi"] },
        { name: "Crystal", mime: "text/x-crystal", mode: "crystal", ext: ["cr"] },
        { name: "CSS", mime: "text/css", mode: "css", ext: ["css"] },
        { name: "CQL", mime: "text/x-cassandra", mode: "sql", ext: ["cql"] },
        { name: "D", mime: "text/x-d", mode: "d", ext: ["d"] },
        { name: "Dart", mimes: ["application/dart", "text/x-dart"], mode: "dart", ext: ["dart"] },
        { name: "diff", mime: "text/x-diff", mode: "diff", ext: ["diff", "patch"] },
        { name: "Django", mime: "text/x-django", mode: "django" },
        { name: "Dockerfile", mime: "text/x-dockerfile", mode: "dockerfile", file: /^Dockerfile$/ },
        { name: "DTD", mime: "application/xml-dtd", mode: "dtd", ext: ["dtd"] },
        { name: "Dylan", mime: "text/x-dylan", mode: "dylan", ext: ["dylan", "dyl", "intr"] },
        { name: "EBNF", mime: "text/x-ebnf", mode: "ebnf" },
        { name: "ECL", mime: "text/x-ecl", mode: "ecl", ext: ["ecl"] },
        { name: "edn", mime: "application/edn", mode: "clojure", ext: ["edn"] },
        { name: "Eiffel", mime: "text/x-eiffel", mode: "eiffel", ext: ["e"] },
        { name: "Elm", mime: "text/x-elm", mode: "elm", ext: ["elm"] },
        { name: "Embedded JavaScript", mime: "application/x-ejs", mode: "htmlembedded", ext: ["ejs"] },
        { name: "Embedded Ruby", mime: "application/x-erb", mode: "htmlembedded", ext: ["erb"] },
        { name: "Erlang", mime: "text/x-erlang", mode: "erlang", ext: ["erl"] },
        { name: "Esper", mime: "text/x-esper", mode: "sql" },
        { name: "Factor", mime: "text/x-factor", mode: "factor", ext: ["factor"] },
        { name: "FCL", mime: "text/x-fcl", mode: "fcl" },
        { name: "Forth", mime: "text/x-forth", mode: "forth", ext: ["forth", "fth", "4th"] },
        { name: "Fortran", mime: "text/x-fortran", mode: "fortran", ext: ["f", "for", "f77", "f90", "f95"] },
        { name: "F#", mime: "text/x-fsharp", mode: "mllike", ext: ["fs"], alias: ["fsharp"] },
        { name: "Gas", mime: "text/x-gas", mode: "gas", ext: ["s"] },
        { name: "Gherkin", mime: "text/x-feature", mode: "gherkin", ext: ["feature"] },
        { name: "GitHub Flavored Markdown", mime: "text/x-gfm", mode: "gfm", file: /^(readme|contributing|history)\.md$/i },
        { name: "Go", mime: "text/x-go", mode: "go", ext: ["go"] },
        { name: "Groovy", mime: "text/x-groovy", mode: "groovy", ext: ["groovy", "gradle"], file: /^Jenkinsfile$/ },
        { name: "HAML", mime: "text/x-haml", mode: "haml", ext: ["haml"] },
        { name: "Haskell", mime: "text/x-haskell", mode: "haskell", ext: ["hs"] },
        { name: "Haskell (Literate)", mime: "text/x-literate-haskell", mode: "haskell-literate", ext: ["lhs"] },
        { name: "Haxe", mime: "text/x-haxe", mode: "haxe", ext: ["hx"] },
        { name: "HXML", mime: "text/x-hxml", mode: "haxe", ext: ["hxml"] },
        { name: "ASP.NET", mime: "application/x-aspx", mode: "htmlembedded", ext: ["aspx"], alias: ["asp", "aspx"] },
        { name: "HTML", mime: "text/html", mode: "htmlmixed", ext: ["html", "htm", "handlebars", "hbs"], alias: ["xhtml"] },
        { name: "HTTP", mime: "message/http", mode: "http" },
        { name: "IDL", mime: "text/x-idl", mode: "idl", ext: ["pro"] },
        { name: "Pug", mime: "text/x-pug", mode: "pug", ext: ["jade", "pug"], alias: ["jade"] },
        { name: "Java", mime: "text/x-java", mode: "clike", ext: ["java"] },
        { name: "Java Server Pages", mime: "application/x-jsp", mode: "htmlembedded", ext: ["jsp"], alias: ["jsp"] },
        {
          name: "JavaScript",
          mimes: ["text/javascript", "text/ecmascript", "application/javascript", "application/x-javascript", "application/ecmascript"],
          mode: "javascript",
          ext: ["js"],
          alias: ["ecmascript", "js", "node"]
        },
        { name: "JSON", mimes: ["application/json", "application/x-json"], mode: "javascript", ext: ["json", "map"], alias: ["json5"] },
        { name: "JSON-LD", mime: "application/ld+json", mode: "javascript", ext: ["jsonld"], alias: ["jsonld"] },
        { name: "JSX", mime: "text/jsx", mode: "jsx", ext: ["jsx"] },
        { name: "Jinja2", mime: "text/jinja2", mode: "jinja2", ext: ["j2", "jinja", "jinja2"] },
        { name: "Julia", mime: "text/x-julia", mode: "julia", ext: ["jl"], alias: ["jl"] },
        { name: "Kotlin", mime: "text/x-kotlin", mode: "clike", ext: ["kt"] },
        { name: "LESS", mime: "text/x-less", mode: "css", ext: ["less"] },
        { name: "LiveScript", mime: "text/x-livescript", mode: "livescript", ext: ["ls"], alias: ["ls"] },
        { name: "Lua", mime: "text/x-lua", mode: "lua", ext: ["lua"] },
        { name: "Markdown", mime: "text/x-markdown", mode: "markdown", ext: ["markdown", "md", "mkd"] },
        { name: "mIRC", mime: "text/mirc", mode: "mirc" },
        { name: "MariaDB SQL", mime: "text/x-mariadb", mode: "sql" },
        { name: "Mathematica", mime: "text/x-mathematica", mode: "mathematica", ext: ["m", "nb", "wl", "wls"] },
        { name: "Modelica", mime: "text/x-modelica", mode: "modelica", ext: ["mo"] },
        { name: "MUMPS", mime: "text/x-mumps", mode: "mumps", ext: ["mps"] },
        { name: "MS SQL", mime: "text/x-mssql", mode: "sql" },
        { name: "mbox", mime: "application/mbox", mode: "mbox", ext: ["mbox"] },
        { name: "MySQL", mime: "text/x-mysql", mode: "sql" },
        { name: "Nginx", mime: "text/x-nginx-conf", mode: "nginx", file: /nginx.*\.conf$/i },
        { name: "NSIS", mime: "text/x-nsis", mode: "nsis", ext: ["nsh", "nsi"] },
        {
          name: "NTriples",
          mimes: ["application/n-triples", "application/n-quads", "text/n-triples"],
          mode: "ntriples",
          ext: ["nt", "nq"]
        },
        { name: "Objective-C", mime: "text/x-objectivec", mode: "clike", ext: ["m"], alias: ["objective-c", "objc"] },
        { name: "Objective-C++", mime: "text/x-objectivec++", mode: "clike", ext: ["mm"], alias: ["objective-c++", "objc++"] },
        { name: "OCaml", mime: "text/x-ocaml", mode: "mllike", ext: ["ml", "mli", "mll", "mly"] },
        { name: "Octave", mime: "text/x-octave", mode: "octave", ext: ["m"] },
        { name: "Oz", mime: "text/x-oz", mode: "oz", ext: ["oz"] },
        { name: "Pascal", mime: "text/x-pascal", mode: "pascal", ext: ["p", "pas"] },
        { name: "PEG.js", mime: "null", mode: "pegjs", ext: ["jsonld"] },
        { name: "Perl", mime: "text/x-perl", mode: "perl", ext: ["pl", "pm"] },
        { name: "PHP", mimes: ["text/x-php", "application/x-httpd-php", "application/x-httpd-php-open"], mode: "php", ext: ["php", "php3", "php4", "php5", "php7", "phtml"] },
        { name: "Pig", mime: "text/x-pig", mode: "pig", ext: ["pig"] },
        { name: "Plain Text", mime: "text/plain", mode: "null", ext: ["txt", "text", "conf", "def", "list", "log"] },
        { name: "PLSQL", mime: "text/x-plsql", mode: "sql", ext: ["pls"] },
        { name: "PostgreSQL", mime: "text/x-pgsql", mode: "sql" },
        { name: "PowerShell", mime: "application/x-powershell", mode: "powershell", ext: ["ps1", "psd1", "psm1"] },
        { name: "Properties files", mime: "text/x-properties", mode: "properties", ext: ["properties", "ini", "in"], alias: ["ini", "properties"] },
        { name: "ProtoBuf", mime: "text/x-protobuf", mode: "protobuf", ext: ["proto"] },
        { name: "Python", mime: "text/x-python", mode: "python", ext: ["BUILD", "bzl", "py", "pyw"], file: /^(BUCK|BUILD)$/ },
        { name: "Puppet", mime: "text/x-puppet", mode: "puppet", ext: ["pp"] },
        { name: "Q", mime: "text/x-q", mode: "q", ext: ["q"] },
        { name: "R", mime: "text/x-rsrc", mode: "r", ext: ["r", "R"], alias: ["rscript"] },
        { name: "reStructuredText", mime: "text/x-rst", mode: "rst", ext: ["rst"], alias: ["rst"] },
        { name: "RPM Changes", mime: "text/x-rpm-changes", mode: "rpm" },
        { name: "RPM Spec", mime: "text/x-rpm-spec", mode: "rpm", ext: ["spec"] },
        { name: "Ruby", mime: "text/x-ruby", mode: "ruby", ext: ["rb"], alias: ["jruby", "macruby", "rake", "rb", "rbx"] },
        { name: "Rust", mime: "text/x-rustsrc", mode: "rust", ext: ["rs"] },
        { name: "SAS", mime: "text/x-sas", mode: "sas", ext: ["sas"] },
        { name: "Sass", mime: "text/x-sass", mode: "sass", ext: ["sass"] },
        { name: "Scala", mime: "text/x-scala", mode: "clike", ext: ["scala"] },
        { name: "Scheme", mime: "text/x-scheme", mode: "scheme", ext: ["scm", "ss"] },
        { name: "SCSS", mime: "text/x-scss", mode: "css", ext: ["scss"] },
        { name: "Shell", mimes: ["text/x-sh", "application/x-sh"], mode: "shell", ext: ["sh", "ksh", "bash"], alias: ["bash", "sh", "zsh"], file: /^PKGBUILD$/ },
        { name: "Sieve", mime: "application/sieve", mode: "sieve", ext: ["siv", "sieve"] },
        { name: "Slim", mimes: ["text/x-slim", "application/x-slim"], mode: "slim", ext: ["slim"] },
        { name: "Smalltalk", mime: "text/x-stsrc", mode: "smalltalk", ext: ["st"] },
        { name: "Smarty", mime: "text/x-smarty", mode: "smarty", ext: ["tpl"] },
        { name: "Solr", mime: "text/x-solr", mode: "solr" },
        { name: "SML", mime: "text/x-sml", mode: "mllike", ext: ["sml", "sig", "fun", "smackspec"] },
        { name: "Soy", mime: "text/x-soy", mode: "soy", ext: ["soy"], alias: ["closure template"] },
        { name: "SPARQL", mime: "application/sparql-query", mode: "sparql", ext: ["rq", "sparql"], alias: ["sparul"] },
        { name: "Spreadsheet", mime: "text/x-spreadsheet", mode: "spreadsheet", alias: ["excel", "formula"] },
        { name: "SQL", mime: "text/x-sql", mode: "sql", ext: ["sql"] },
        { name: "SQLite", mime: "text/x-sqlite", mode: "sql" },
        { name: "Squirrel", mime: "text/x-squirrel", mode: "clike", ext: ["nut"] },
        { name: "Stylus", mime: "text/x-styl", mode: "stylus", ext: ["styl"] },
        { name: "Swift", mime: "text/x-swift", mode: "swift", ext: ["swift"] },
        { name: "sTeX", mime: "text/x-stex", mode: "stex" },
        { name: "LaTeX", mime: "text/x-latex", mode: "stex", ext: ["text", "ltx", "tex"], alias: ["tex"] },
        { name: "SystemVerilog", mime: "text/x-systemverilog", mode: "verilog", ext: ["v", "sv", "svh"] },
        { name: "Tcl", mime: "text/x-tcl", mode: "tcl", ext: ["tcl"] },
        { name: "Textile", mime: "text/x-textile", mode: "textile", ext: ["textile"] },
        { name: "TiddlyWiki", mime: "text/x-tiddlywiki", mode: "tiddlywiki" },
        { name: "Tiki wiki", mime: "text/tiki", mode: "tiki" },
        { name: "TOML", mime: "text/x-toml", mode: "toml", ext: ["toml"] },
        { name: "Tornado", mime: "text/x-tornado", mode: "tornado" },
        { name: "troff", mime: "text/troff", mode: "troff", ext: ["1", "2", "3", "4", "5", "6", "7", "8", "9"] },
        { name: "TTCN", mime: "text/x-ttcn", mode: "ttcn", ext: ["ttcn", "ttcn3", "ttcnpp"] },
        { name: "TTCN_CFG", mime: "text/x-ttcn-cfg", mode: "ttcn-cfg", ext: ["cfg"] },
        { name: "Turtle", mime: "text/turtle", mode: "turtle", ext: ["ttl"] },
        { name: "TypeScript", mime: "application/typescript", mode: "javascript", ext: ["ts"], alias: ["ts"] },
        { name: "TypeScript-JSX", mime: "text/typescript-jsx", mode: "jsx", ext: ["tsx"], alias: ["tsx"] },
        { name: "Twig", mime: "text/x-twig", mode: "twig" },
        { name: "Web IDL", mime: "text/x-webidl", mode: "webidl", ext: ["webidl"] },
        { name: "VB.NET", mime: "text/x-vb", mode: "vb", ext: ["vb"] },
        { name: "VBScript", mime: "text/vbscript", mode: "vbscript", ext: ["vbs"] },
        { name: "Velocity", mime: "text/velocity", mode: "velocity", ext: ["vtl"] },
        { name: "Verilog", mime: "text/x-verilog", mode: "verilog", ext: ["v"] },
        { name: "VHDL", mime: "text/x-vhdl", mode: "vhdl", ext: ["vhd", "vhdl"] },
        { name: "Vue.js Component", mimes: ["script/x-vue", "text/x-vue"], mode: "vue", ext: ["vue"] },
        { name: "XML", mimes: ["application/xml", "text/xml"], mode: "xml", ext: ["xml", "xsl", "xsd", "svg"], alias: ["rss", "wsdl", "xsd"] },
        { name: "XQuery", mime: "application/xquery", mode: "xquery", ext: ["xy", "xquery"] },
        { name: "Yacas", mime: "text/x-yacas", mode: "yacas", ext: ["ys"] },
        { name: "YAML", mimes: ["text/x-yaml", "text/yaml"], mode: "yaml", ext: ["yaml", "yml"], alias: ["yml"] },
        { name: "Z80", mime: "text/x-z80", mode: "z80", ext: ["z80"] },
        { name: "mscgen", mime: "text/x-mscgen", mode: "mscgen", ext: ["mscgen", "mscin", "msc"] },
        { name: "xu", mime: "text/x-xu", mode: "mscgen", ext: ["xu"] },
        { name: "msgenny", mime: "text/x-msgenny", mode: "mscgen", ext: ["msgenny"] },
        { name: "WebAssembly", mime: "text/webassembly", mode: "wast", ext: ["wat", "wast"] }
      ];
      for (var i = 0; i < CodeMirror.modeInfo.length; i++) {
        var info = CodeMirror.modeInfo[i];
        if (info.mimes) info.mime = info.mimes[0];
      }
      CodeMirror.findModeByMIME = function(mime) {
        mime = mime.toLowerCase();
        for (var i2 = 0; i2 < CodeMirror.modeInfo.length; i2++) {
          var info2 = CodeMirror.modeInfo[i2];
          if (info2.mime == mime) return info2;
          if (info2.mimes) {
            for (var j = 0; j < info2.mimes.length; j++)
              if (info2.mimes[j] == mime) return info2;
          }
        }
        if (/\+xml$/.test(mime)) return CodeMirror.findModeByMIME("application/xml");
        if (/\+json$/.test(mime)) return CodeMirror.findModeByMIME("application/json");
      };
      CodeMirror.findModeByExtension = function(ext) {
        ext = ext.toLowerCase();
        for (var i2 = 0; i2 < CodeMirror.modeInfo.length; i2++) {
          var info2 = CodeMirror.modeInfo[i2];
          if (info2.ext) {
            for (var j = 0; j < info2.ext.length; j++)
              if (info2.ext[j] == ext) return info2;
          }
        }
      };
      CodeMirror.findModeByFileName = function(filename) {
        for (var i2 = 0; i2 < CodeMirror.modeInfo.length; i2++) {
          var info2 = CodeMirror.modeInfo[i2];
          if (info2.file && info2.file.test(filename)) return info2;
        }
        var dot = filename.lastIndexOf(".");
        var ext = dot > -1 && filename.substring(dot + 1, filename.length);
        if (ext) return CodeMirror.findModeByExtension(ext);
      };
      CodeMirror.findModeByName = function(name) {
        name = name.toLowerCase();
        for (var i2 = 0; i2 < CodeMirror.modeInfo.length; i2++) {
          var info2 = CodeMirror.modeInfo[i2];
          if (info2.name.toLowerCase() == name) return info2;
          if (info2.alias) {
            for (var j = 0; j < info2.alias.length; j++)
              if (info2.alias[j].toLowerCase() == name) return info2;
          }
        }
      };
    });
  })();
  return meta.exports;
}
var hasRequiredMarkdown;
function requireMarkdown() {
  if (hasRequiredMarkdown) return markdown.exports;
  hasRequiredMarkdown = 1;
  (function(module, exports) {
    (function(mod) {
      mod(requireCodemirror(), requireXml(), requireMeta());
    })(function(CodeMirror) {
      CodeMirror.defineMode("markdown", function(cmCfg, modeCfg) {
        var htmlMode = CodeMirror.getMode(cmCfg, "text/html");
        var htmlModeMissing = htmlMode.name == "null";
        function getMode(name) {
          if (CodeMirror.findModeByName) {
            var found = CodeMirror.findModeByName(name);
            if (found) name = found.mime || found.mimes[0];
          }
          var mode2 = CodeMirror.getMode(cmCfg, name);
          return mode2.name == "null" ? null : mode2;
        }
        if (modeCfg.highlightFormatting === void 0)
          modeCfg.highlightFormatting = false;
        if (modeCfg.maxBlockquoteDepth === void 0)
          modeCfg.maxBlockquoteDepth = 0;
        if (modeCfg.taskLists === void 0) modeCfg.taskLists = false;
        if (modeCfg.strikethrough === void 0)
          modeCfg.strikethrough = false;
        if (modeCfg.emoji === void 0)
          modeCfg.emoji = false;
        if (modeCfg.fencedCodeBlockHighlighting === void 0)
          modeCfg.fencedCodeBlockHighlighting = true;
        if (modeCfg.fencedCodeBlockDefaultMode === void 0)
          modeCfg.fencedCodeBlockDefaultMode = "text/plain";
        if (modeCfg.xml === void 0)
          modeCfg.xml = true;
        if (modeCfg.tokenTypeOverrides === void 0)
          modeCfg.tokenTypeOverrides = {};
        var tokenTypes = {
          header: "header",
          code: "comment",
          quote: "quote",
          list1: "variable-2",
          list2: "variable-3",
          list3: "keyword",
          hr: "hr",
          image: "image",
          imageAltText: "image-alt-text",
          imageMarker: "image-marker",
          formatting: "formatting",
          linkInline: "link",
          linkEmail: "link",
          linkText: "link",
          linkHref: "string",
          em: "em",
          strong: "strong",
          strikethrough: "strikethrough",
          emoji: "builtin"
        };
        for (var tokenType in tokenTypes) {
          if (tokenTypes.hasOwnProperty(tokenType) && modeCfg.tokenTypeOverrides[tokenType]) {
            tokenTypes[tokenType] = modeCfg.tokenTypeOverrides[tokenType];
          }
        }
        var hrRE = /^([*\-_])(?:\s*\1){2,}\s*$/, listRE = /^(?:[*\-+]|^[0-9]+([.)]))\s+/, taskListRE = /^\[(x| )\](?=\s)/i, atxHeaderRE = modeCfg.allowAtxHeaderWithoutSpace ? /^(#+)/ : /^(#+)(?: |$)/, setextHeaderRE = /^ {0,3}(?:\={1,}|-{2,})\s*$/, textRE = /^[^#!\[\]*_\\<>` "'(~:]+/, fencedCodeRE = /^(~~~+|```+)[ \t]*([\w\/+#-]*)[^\n`]*$/, linkDefRE = /^\s*\[[^\]]+?\]:.*$/, punctuation = /[!"#$%&'()*+,\-.\/:;<=>?@\[\\\]^_`{|}~\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E42\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC9\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDF3C-\uDF3E]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]/, expandedTab = "    ";
        function switchInline(stream, state, f) {
          state.f = state.inline = f;
          return f(stream, state);
        }
        function switchBlock(stream, state, f) {
          state.f = state.block = f;
          return f(stream, state);
        }
        function lineIsEmpty(line) {
          return !line || !/\S/.test(line.string);
        }
        function blankLine(state) {
          state.linkTitle = false;
          state.linkHref = false;
          state.linkText = false;
          state.em = false;
          state.strong = false;
          state.strikethrough = false;
          state.quote = 0;
          state.indentedCode = false;
          if (state.f == htmlBlock) {
            var exit = htmlModeMissing;
            if (!exit) {
              var inner = CodeMirror.innerMode(htmlMode, state.htmlState);
              exit = inner.mode.name == "xml" && inner.state.tagStart === null && (!inner.state.context && inner.state.tokenize.isInText);
            }
            if (exit) {
              state.f = inlineNormal;
              state.block = blockNormal;
              state.htmlState = null;
            }
          }
          state.trailingSpace = 0;
          state.trailingSpaceNewLine = false;
          state.prevLine = state.thisLine;
          state.thisLine = { stream: null };
          return null;
        }
        function blockNormal(stream, state) {
          var firstTokenOnLine = stream.column() === state.indentation;
          var prevLineLineIsEmpty = lineIsEmpty(state.prevLine.stream);
          var prevLineIsIndentedCode = state.indentedCode;
          var prevLineIsHr = state.prevLine.hr;
          var prevLineIsList = state.list !== false;
          var maxNonCodeIndentation = (state.listStack[state.listStack.length - 1] || 0) + 3;
          state.indentedCode = false;
          var lineIndentation = state.indentation;
          if (state.indentationDiff === null) {
            state.indentationDiff = state.indentation;
            if (prevLineIsList) {
              state.list = null;
              while (lineIndentation < state.listStack[state.listStack.length - 1]) {
                state.listStack.pop();
                if (state.listStack.length) {
                  state.indentation = state.listStack[state.listStack.length - 1];
                } else {
                  state.list = false;
                }
              }
              if (state.list !== false) {
                state.indentationDiff = lineIndentation - state.listStack[state.listStack.length - 1];
              }
            }
          }
          var allowsInlineContinuation = !prevLineLineIsEmpty && !prevLineIsHr && !state.prevLine.header && (!prevLineIsList || !prevLineIsIndentedCode) && !state.prevLine.fencedCodeEnd;
          var isHr = (state.list === false || prevLineIsHr || prevLineLineIsEmpty) && state.indentation <= maxNonCodeIndentation && stream.match(hrRE);
          var match = null;
          if (state.indentationDiff >= 4 && (prevLineIsIndentedCode || state.prevLine.fencedCodeEnd || state.prevLine.header || prevLineLineIsEmpty)) {
            stream.skipToEnd();
            state.indentedCode = true;
            return tokenTypes.code;
          } else if (stream.eatSpace()) {
            return null;
          } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(atxHeaderRE)) && match[1].length <= 6) {
            state.quote = 0;
            state.header = match[1].length;
            state.thisLine.header = true;
            if (modeCfg.highlightFormatting) state.formatting = "header";
            state.f = state.inline;
            return getType(state);
          } else if (state.indentation <= maxNonCodeIndentation && stream.eat(">")) {
            state.quote = firstTokenOnLine ? 1 : state.quote + 1;
            if (modeCfg.highlightFormatting) state.formatting = "quote";
            stream.eatSpace();
            return getType(state);
          } else if (!isHr && !state.setext && firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(listRE))) {
            var listType = match[1] ? "ol" : "ul";
            state.indentation = lineIndentation + stream.current().length;
            state.list = true;
            state.quote = 0;
            state.listStack.push(state.indentation);
            state.em = false;
            state.strong = false;
            state.code = false;
            state.strikethrough = false;
            if (modeCfg.taskLists && stream.match(taskListRE, false)) {
              state.taskList = true;
            }
            state.f = state.inline;
            if (modeCfg.highlightFormatting) state.formatting = ["list", "list-" + listType];
            return getType(state);
          } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(fencedCodeRE, true))) {
            state.quote = 0;
            state.fencedEndRE = new RegExp(match[1] + "+ *$");
            state.localMode = modeCfg.fencedCodeBlockHighlighting && getMode(match[2] || modeCfg.fencedCodeBlockDefaultMode);
            if (state.localMode) state.localState = CodeMirror.startState(state.localMode);
            state.f = state.block = local;
            if (modeCfg.highlightFormatting) state.formatting = "code-block";
            state.code = -1;
            return getType(state);
          } else if (
            // if setext set, indicates line after ---/===
            state.setext || // line before ---/===
            (!allowsInlineContinuation || !prevLineIsList) && !state.quote && state.list === false && !state.code && !isHr && !linkDefRE.test(stream.string) && (match = stream.lookAhead(1)) && (match = match.match(setextHeaderRE))
          ) {
            if (!state.setext) {
              state.header = match[0].charAt(0) == "=" ? 1 : 2;
              state.setext = state.header;
            } else {
              state.header = state.setext;
              state.setext = 0;
              stream.skipToEnd();
              if (modeCfg.highlightFormatting) state.formatting = "header";
            }
            state.thisLine.header = true;
            state.f = state.inline;
            return getType(state);
          } else if (isHr) {
            stream.skipToEnd();
            state.hr = true;
            state.thisLine.hr = true;
            return tokenTypes.hr;
          } else if (stream.peek() === "[") {
            return switchInline(stream, state, footnoteLink);
          }
          return switchInline(stream, state, state.inline);
        }
        function htmlBlock(stream, state) {
          var style = htmlMode.token(stream, state.htmlState);
          if (!htmlModeMissing) {
            var inner = CodeMirror.innerMode(htmlMode, state.htmlState);
            if (inner.mode.name == "xml" && inner.state.tagStart === null && (!inner.state.context && inner.state.tokenize.isInText) || state.md_inside && stream.current().indexOf(">") > -1) {
              state.f = inlineNormal;
              state.block = blockNormal;
              state.htmlState = null;
            }
          }
          return style;
        }
        function local(stream, state) {
          var currListInd = state.listStack[state.listStack.length - 1] || 0;
          var hasExitedList = state.indentation < currListInd;
          var maxFencedEndInd = currListInd + 3;
          if (state.fencedEndRE && state.indentation <= maxFencedEndInd && (hasExitedList || stream.match(state.fencedEndRE))) {
            if (modeCfg.highlightFormatting) state.formatting = "code-block";
            var returnType;
            if (!hasExitedList) returnType = getType(state);
            state.localMode = state.localState = null;
            state.block = blockNormal;
            state.f = inlineNormal;
            state.fencedEndRE = null;
            state.code = 0;
            state.thisLine.fencedCodeEnd = true;
            if (hasExitedList) return switchBlock(stream, state, state.block);
            return returnType;
          } else if (state.localMode) {
            return state.localMode.token(stream, state.localState);
          } else {
            stream.skipToEnd();
            return tokenTypes.code;
          }
        }
        function getType(state) {
          var styles = [];
          if (state.formatting) {
            styles.push(tokenTypes.formatting);
            if (typeof state.formatting === "string") state.formatting = [state.formatting];
            for (var i = 0; i < state.formatting.length; i++) {
              styles.push(tokenTypes.formatting + "-" + state.formatting[i]);
              if (state.formatting[i] === "header") {
                styles.push(tokenTypes.formatting + "-" + state.formatting[i] + "-" + state.header);
              }
              if (state.formatting[i] === "quote") {
                if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {
                  styles.push(tokenTypes.formatting + "-" + state.formatting[i] + "-" + state.quote);
                } else {
                  styles.push("error");
                }
              }
            }
          }
          if (state.taskOpen) {
            styles.push("meta");
            return styles.length ? styles.join(" ") : null;
          }
          if (state.taskClosed) {
            styles.push("property");
            return styles.length ? styles.join(" ") : null;
          }
          if (state.linkHref) {
            styles.push(tokenTypes.linkHref, "url");
          } else {
            if (state.strong) {
              styles.push(tokenTypes.strong);
            }
            if (state.em) {
              styles.push(tokenTypes.em);
            }
            if (state.strikethrough) {
              styles.push(tokenTypes.strikethrough);
            }
            if (state.emoji) {
              styles.push(tokenTypes.emoji);
            }
            if (state.linkText) {
              styles.push(tokenTypes.linkText);
            }
            if (state.code) {
              styles.push(tokenTypes.code);
            }
            if (state.image) {
              styles.push(tokenTypes.image);
            }
            if (state.imageAltText) {
              styles.push(tokenTypes.imageAltText, "link");
            }
            if (state.imageMarker) {
              styles.push(tokenTypes.imageMarker);
            }
          }
          if (state.header) {
            styles.push(tokenTypes.header, tokenTypes.header + "-" + state.header);
          }
          if (state.quote) {
            styles.push(tokenTypes.quote);
            if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {
              styles.push(tokenTypes.quote + "-" + state.quote);
            } else {
              styles.push(tokenTypes.quote + "-" + modeCfg.maxBlockquoteDepth);
            }
          }
          if (state.list !== false) {
            var listMod = (state.listStack.length - 1) % 3;
            if (!listMod) {
              styles.push(tokenTypes.list1);
            } else if (listMod === 1) {
              styles.push(tokenTypes.list2);
            } else {
              styles.push(tokenTypes.list3);
            }
          }
          if (state.trailingSpaceNewLine) {
            styles.push("trailing-space-new-line");
          } else if (state.trailingSpace) {
            styles.push("trailing-space-" + (state.trailingSpace % 2 ? "a" : "b"));
          }
          return styles.length ? styles.join(" ") : null;
        }
        function handleText(stream, state) {
          if (stream.match(textRE, true)) {
            return getType(state);
          }
          return void 0;
        }
        function inlineNormal(stream, state) {
          var style = state.text(stream, state);
          if (typeof style !== "undefined")
            return style;
          if (state.list) {
            state.list = null;
            return getType(state);
          }
          if (state.taskList) {
            var taskOpen = stream.match(taskListRE, true)[1] === " ";
            if (taskOpen) state.taskOpen = true;
            else state.taskClosed = true;
            if (modeCfg.highlightFormatting) state.formatting = "task";
            state.taskList = false;
            return getType(state);
          }
          state.taskOpen = false;
          state.taskClosed = false;
          if (state.header && stream.match(/^#+$/, true)) {
            if (modeCfg.highlightFormatting) state.formatting = "header";
            return getType(state);
          }
          var ch = stream.next();
          if (state.linkTitle) {
            state.linkTitle = false;
            var matchCh = ch;
            if (ch === "(") {
              matchCh = ")";
            }
            matchCh = (matchCh + "").replace(/([.?*+^\[\]\\(){}|-])/g, "\\$1");
            var regex = "^\\s*(?:[^" + matchCh + "\\\\]+|\\\\\\\\|\\\\.)" + matchCh;
            if (stream.match(new RegExp(regex), true)) {
              return tokenTypes.linkHref;
            }
          }
          if (ch === "`") {
            var previousFormatting = state.formatting;
            if (modeCfg.highlightFormatting) state.formatting = "code";
            stream.eatWhile("`");
            var count = stream.current().length;
            if (state.code == 0 && (!state.quote || count == 1)) {
              state.code = count;
              return getType(state);
            } else if (count == state.code) {
              var t = getType(state);
              state.code = 0;
              return t;
            } else {
              state.formatting = previousFormatting;
              return getType(state);
            }
          } else if (state.code) {
            return getType(state);
          }
          if (ch === "\\") {
            stream.next();
            if (modeCfg.highlightFormatting) {
              var type = getType(state);
              var formattingEscape = tokenTypes.formatting + "-escape";
              return type ? type + " " + formattingEscape : formattingEscape;
            }
          }
          if (ch === "!" && stream.match(/\[[^\]]*\] ?(?:\(|\[)/, false)) {
            state.imageMarker = true;
            state.image = true;
            if (modeCfg.highlightFormatting) state.formatting = "image";
            return getType(state);
          }
          if (ch === "[" && state.imageMarker && stream.match(/[^\]]*\](\(.*?\)| ?\[.*?\])/, false)) {
            state.imageMarker = false;
            state.imageAltText = true;
            if (modeCfg.highlightFormatting) state.formatting = "image";
            return getType(state);
          }
          if (ch === "]" && state.imageAltText) {
            if (modeCfg.highlightFormatting) state.formatting = "image";
            var type = getType(state);
            state.imageAltText = false;
            state.image = false;
            state.inline = state.f = linkHref;
            return type;
          }
          if (ch === "[" && !state.image) {
            if (state.linkText && stream.match(/^.*?\]/)) return getType(state);
            state.linkText = true;
            if (modeCfg.highlightFormatting) state.formatting = "link";
            return getType(state);
          }
          if (ch === "]" && state.linkText) {
            if (modeCfg.highlightFormatting) state.formatting = "link";
            var type = getType(state);
            state.linkText = false;
            state.inline = state.f = stream.match(/\(.*?\)| ?\[.*?\]/, false) ? linkHref : inlineNormal;
            return type;
          }
          if (ch === "<" && stream.match(/^(https?|ftps?):\/\/(?:[^\\>]|\\.)+>/, false)) {
            state.f = state.inline = linkInline;
            if (modeCfg.highlightFormatting) state.formatting = "link";
            var type = getType(state);
            if (type) {
              type += " ";
            } else {
              type = "";
            }
            return type + tokenTypes.linkInline;
          }
          if (ch === "<" && stream.match(/^[^> \\]+@(?:[^\\>]|\\.)+>/, false)) {
            state.f = state.inline = linkInline;
            if (modeCfg.highlightFormatting) state.formatting = "link";
            var type = getType(state);
            if (type) {
              type += " ";
            } else {
              type = "";
            }
            return type + tokenTypes.linkEmail;
          }
          if (modeCfg.xml && ch === "<" && stream.match(/^(!--|\?|!\[CDATA\[|[a-z][a-z0-9-]*(?:\s+[a-z_:.\-]+(?:\s*=\s*[^>]+)?)*\s*(?:>|$))/i, false)) {
            var end = stream.string.indexOf(">", stream.pos);
            if (end != -1) {
              var atts = stream.string.substring(stream.start, end);
              if (/markdown\s*=\s*('|"){0,1}1('|"){0,1}/.test(atts)) state.md_inside = true;
            }
            stream.backUp(1);
            state.htmlState = CodeMirror.startState(htmlMode);
            return switchBlock(stream, state, htmlBlock);
          }
          if (modeCfg.xml && ch === "<" && stream.match(/^\/\w*?>/)) {
            state.md_inside = false;
            return "tag";
          } else if (ch === "*" || ch === "_") {
            var len = 1, before = stream.pos == 1 ? " " : stream.string.charAt(stream.pos - 2);
            while (len < 3 && stream.eat(ch)) len++;
            var after = stream.peek() || " ";
            var leftFlanking = !/\s/.test(after) && (!punctuation.test(after) || /\s/.test(before) || punctuation.test(before));
            var rightFlanking = !/\s/.test(before) && (!punctuation.test(before) || /\s/.test(after) || punctuation.test(after));
            var setEm = null, setStrong = null;
            if (len % 2) {
              if (!state.em && leftFlanking && (ch === "*" || !rightFlanking || punctuation.test(before)))
                setEm = true;
              else if (state.em == ch && rightFlanking && (ch === "*" || !leftFlanking || punctuation.test(after)))
                setEm = false;
            }
            if (len > 1) {
              if (!state.strong && leftFlanking && (ch === "*" || !rightFlanking || punctuation.test(before)))
                setStrong = true;
              else if (state.strong == ch && rightFlanking && (ch === "*" || !leftFlanking || punctuation.test(after)))
                setStrong = false;
            }
            if (setStrong != null || setEm != null) {
              if (modeCfg.highlightFormatting) state.formatting = setEm == null ? "strong" : setStrong == null ? "em" : "strong em";
              if (setEm === true) state.em = ch;
              if (setStrong === true) state.strong = ch;
              var t = getType(state);
              if (setEm === false) state.em = false;
              if (setStrong === false) state.strong = false;
              return t;
            }
          } else if (ch === " ") {
            if (stream.eat("*") || stream.eat("_")) {
              if (stream.peek() === " ") {
                return getType(state);
              } else {
                stream.backUp(1);
              }
            }
          }
          if (modeCfg.strikethrough) {
            if (ch === "~" && stream.eatWhile(ch)) {
              if (state.strikethrough) {
                if (modeCfg.highlightFormatting) state.formatting = "strikethrough";
                var t = getType(state);
                state.strikethrough = false;
                return t;
              } else if (stream.match(/^[^\s]/, false)) {
                state.strikethrough = true;
                if (modeCfg.highlightFormatting) state.formatting = "strikethrough";
                return getType(state);
              }
            } else if (ch === " ") {
              if (stream.match("~~", true)) {
                if (stream.peek() === " ") {
                  return getType(state);
                } else {
                  stream.backUp(2);
                }
              }
            }
          }
          if (modeCfg.emoji && ch === ":" && stream.match(/^(?:[a-z_\d+][a-z_\d+-]*|\-[a-z_\d+][a-z_\d+-]*):/)) {
            state.emoji = true;
            if (modeCfg.highlightFormatting) state.formatting = "emoji";
            var retType = getType(state);
            state.emoji = false;
            return retType;
          }
          if (ch === " ") {
            if (stream.match(/^ +$/, false)) {
              state.trailingSpace++;
            } else if (state.trailingSpace) {
              state.trailingSpaceNewLine = true;
            }
          }
          return getType(state);
        }
        function linkInline(stream, state) {
          var ch = stream.next();
          if (ch === ">") {
            state.f = state.inline = inlineNormal;
            if (modeCfg.highlightFormatting) state.formatting = "link";
            var type = getType(state);
            if (type) {
              type += " ";
            } else {
              type = "";
            }
            return type + tokenTypes.linkInline;
          }
          stream.match(/^[^>]+/, true);
          return tokenTypes.linkInline;
        }
        function linkHref(stream, state) {
          if (stream.eatSpace()) {
            return null;
          }
          var ch = stream.next();
          if (ch === "(" || ch === "[") {
            state.f = state.inline = getLinkHrefInside(ch === "(" ? ")" : "]");
            if (modeCfg.highlightFormatting) state.formatting = "link-string";
            state.linkHref = true;
            return getType(state);
          }
          return "error";
        }
        var linkRE = {
          ")": /^(?:[^\\\(\)]|\\.|\((?:[^\\\(\)]|\\.)*\))*?(?=\))/,
          "]": /^(?:[^\\\[\]]|\\.|\[(?:[^\\\[\]]|\\.)*\])*?(?=\])/
        };
        function getLinkHrefInside(endChar) {
          return function(stream, state) {
            var ch = stream.next();
            if (ch === endChar) {
              state.f = state.inline = inlineNormal;
              if (modeCfg.highlightFormatting) state.formatting = "link-string";
              var returnState = getType(state);
              state.linkHref = false;
              return returnState;
            }
            stream.match(linkRE[endChar]);
            state.linkHref = true;
            return getType(state);
          };
        }
        function footnoteLink(stream, state) {
          if (stream.match(/^([^\]\\]|\\.)*\]:/, false)) {
            state.f = footnoteLinkInside;
            stream.next();
            if (modeCfg.highlightFormatting) state.formatting = "link";
            state.linkText = true;
            return getType(state);
          }
          return switchInline(stream, state, inlineNormal);
        }
        function footnoteLinkInside(stream, state) {
          if (stream.match("]:", true)) {
            state.f = state.inline = footnoteUrl;
            if (modeCfg.highlightFormatting) state.formatting = "link";
            var returnType = getType(state);
            state.linkText = false;
            return returnType;
          }
          stream.match(/^([^\]\\]|\\.)+/, true);
          return tokenTypes.linkText;
        }
        function footnoteUrl(stream, state) {
          if (stream.eatSpace()) {
            return null;
          }
          stream.match(/^[^\s]+/, true);
          if (stream.peek() === void 0) {
            state.linkTitle = true;
          } else {
            stream.match(/^(?:\s+(?:"(?:[^"\\]|\\.)+"|'(?:[^'\\]|\\.)+'|\((?:[^)\\]|\\.)+\)))?/, true);
          }
          state.f = state.inline = inlineNormal;
          return tokenTypes.linkHref + " url";
        }
        var mode = {
          startState: function() {
            return {
              f: blockNormal,
              prevLine: { stream: null },
              thisLine: { stream: null },
              block: blockNormal,
              htmlState: null,
              indentation: 0,
              inline: inlineNormal,
              text: handleText,
              formatting: false,
              linkText: false,
              linkHref: false,
              linkTitle: false,
              code: 0,
              em: false,
              strong: false,
              header: 0,
              setext: 0,
              hr: false,
              taskList: false,
              list: false,
              listStack: [],
              quote: 0,
              trailingSpace: 0,
              trailingSpaceNewLine: false,
              strikethrough: false,
              emoji: false,
              fencedEndRE: null
            };
          },
          copyState: function(s) {
            return {
              f: s.f,
              prevLine: s.prevLine,
              thisLine: s.thisLine,
              block: s.block,
              htmlState: s.htmlState && CodeMirror.copyState(htmlMode, s.htmlState),
              indentation: s.indentation,
              localMode: s.localMode,
              localState: s.localMode ? CodeMirror.copyState(s.localMode, s.localState) : null,
              inline: s.inline,
              text: s.text,
              formatting: false,
              linkText: s.linkText,
              linkTitle: s.linkTitle,
              linkHref: s.linkHref,
              code: s.code,
              em: s.em,
              strong: s.strong,
              strikethrough: s.strikethrough,
              emoji: s.emoji,
              header: s.header,
              setext: s.setext,
              hr: s.hr,
              taskList: s.taskList,
              list: s.list,
              listStack: s.listStack.slice(0),
              quote: s.quote,
              indentedCode: s.indentedCode,
              trailingSpace: s.trailingSpace,
              trailingSpaceNewLine: s.trailingSpaceNewLine,
              md_inside: s.md_inside,
              fencedEndRE: s.fencedEndRE
            };
          },
          token: function(stream, state) {
            state.formatting = false;
            if (stream != state.thisLine.stream) {
              state.header = 0;
              state.hr = false;
              if (stream.match(/^\s*$/, true)) {
                blankLine(state);
                return null;
              }
              state.prevLine = state.thisLine;
              state.thisLine = { stream };
              state.taskList = false;
              state.trailingSpace = 0;
              state.trailingSpaceNewLine = false;
              if (!state.localState) {
                state.f = state.block;
                if (state.f != htmlBlock) {
                  var indentation = stream.match(/^\s*/, true)[0].replace(/\t/g, expandedTab).length;
                  state.indentation = indentation;
                  state.indentationDiff = null;
                  if (indentation > 0) return null;
                }
              }
            }
            return state.f(stream, state);
          },
          innerMode: function(state) {
            if (state.block == htmlBlock) return { state: state.htmlState, mode: htmlMode };
            if (state.localState) return { state: state.localState, mode: state.localMode };
            return { state, mode };
          },
          indent: function(state, textAfter, line) {
            if (state.block == htmlBlock && htmlMode.indent) return htmlMode.indent(state.htmlState, textAfter, line);
            if (state.localState && state.localMode.indent) return state.localMode.indent(state.localState, textAfter, line);
            return CodeMirror.Pass;
          },
          blankLine,
          getType,
          blockCommentStart: "<!--",
          blockCommentEnd: "-->",
          closeBrackets: "()[]{}''\"\"``",
          fold: "markdown"
        };
        return mode;
      }, "xml");
      CodeMirror.defineMIME("text/markdown", "markdown");
      CodeMirror.defineMIME("text/x-markdown", "markdown");
    });
  })();
  return markdown.exports;
}
requireMarkdown();
var placeholder = { exports: {} };
var hasRequiredPlaceholder;
function requirePlaceholder() {
  if (hasRequiredPlaceholder) return placeholder.exports;
  hasRequiredPlaceholder = 1;
  (function(module, exports) {
    (function(mod) {
      mod(requireCodemirror());
    })(function(CodeMirror) {
      CodeMirror.defineOption("placeholder", "", function(cm, val, old) {
        var prev = old && old != CodeMirror.Init;
        if (val && !prev) {
          cm.on("blur", onBlur);
          cm.on("change", onChange);
          cm.on("swapDoc", onChange);
          CodeMirror.on(cm.getInputField(), "compositionupdate", cm.state.placeholderCompose = function() {
            onComposition(cm);
          });
          onChange(cm);
        } else if (!val && prev) {
          cm.off("blur", onBlur);
          cm.off("change", onChange);
          cm.off("swapDoc", onChange);
          CodeMirror.off(cm.getInputField(), "compositionupdate", cm.state.placeholderCompose);
          clearPlaceholder(cm);
          var wrapper = cm.getWrapperElement();
          wrapper.className = wrapper.className.replace(" CodeMirror-empty", "");
        }
        if (val && !cm.hasFocus()) onBlur(cm);
      });
      function clearPlaceholder(cm) {
        if (cm.state.placeholder) {
          cm.state.placeholder.parentNode.removeChild(cm.state.placeholder);
          cm.state.placeholder = null;
        }
      }
      function setPlaceholder(cm) {
        clearPlaceholder(cm);
        var elt = cm.state.placeholder = document.createElement("pre");
        elt.style.cssText = "height: 0; overflow: visible";
        elt.style.direction = cm.getOption("direction");
        elt.className = "CodeMirror-placeholder CodeMirror-line-like";
        var placeHolder = cm.getOption("placeholder");
        if (typeof placeHolder == "string") placeHolder = document.createTextNode(placeHolder);
        elt.appendChild(placeHolder);
        cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild);
      }
      function onComposition(cm) {
        setTimeout(function() {
          var empty = false;
          if (cm.lineCount() == 1) {
            var input = cm.getInputField();
            empty = input.nodeName == "TEXTAREA" ? !cm.getLine(0).length : !/[^\u200b]/.test(input.querySelector(".CodeMirror-line").textContent);
          }
          if (empty) setPlaceholder(cm);
          else clearPlaceholder(cm);
        }, 20);
      }
      function onBlur(cm) {
        if (isEmpty(cm)) setPlaceholder(cm);
      }
      function onChange(cm) {
        var wrapper = cm.getWrapperElement(), empty = isEmpty(cm);
        wrapper.className = wrapper.className.replace(" CodeMirror-empty", "") + (empty ? " CodeMirror-empty" : "");
        if (empty) setPlaceholder(cm);
        else clearPlaceholder(cm);
      }
      function isEmpty(cm) {
        return cm.lineCount() === 1 && cm.getLine(0) === "";
      }
    });
  })();
  return placeholder.exports;
}
requirePlaceholder();
var simple = { exports: {} };
var hasRequiredSimple;
function requireSimple() {
  if (hasRequiredSimple) return simple.exports;
  hasRequiredSimple = 1;
  (function(module, exports) {
    (function(mod) {
      mod(requireCodemirror());
    })(function(CodeMirror) {
      CodeMirror.defineSimpleMode = function(name, states) {
        CodeMirror.defineMode(name, function(config) {
          return CodeMirror.simpleMode(config, states);
        });
      };
      CodeMirror.simpleMode = function(config, states) {
        ensureState(states, "start");
        var states_ = {}, meta2 = states.meta || {}, hasIndentation = false;
        for (var state in states) if (state != meta2 && states.hasOwnProperty(state)) {
          var list = states_[state] = [], orig = states[state];
          for (var i = 0; i < orig.length; i++) {
            var data = orig[i];
            list.push(new Rule(data, states));
            if (data.indent || data.dedent) hasIndentation = true;
          }
        }
        var mode = {
          startState: function() {
            return {
              state: "start",
              pending: null,
              local: null,
              localState: null,
              indent: hasIndentation ? [] : null
            };
          },
          copyState: function(state2) {
            var s = {
              state: state2.state,
              pending: state2.pending,
              local: state2.local,
              localState: null,
              indent: state2.indent && state2.indent.slice(0)
            };
            if (state2.localState)
              s.localState = CodeMirror.copyState(state2.local.mode, state2.localState);
            if (state2.stack)
              s.stack = state2.stack.slice(0);
            for (var pers = state2.persistentStates; pers; pers = pers.next)
              s.persistentStates = {
                mode: pers.mode,
                spec: pers.spec,
                state: pers.state == state2.localState ? s.localState : CodeMirror.copyState(pers.mode, pers.state),
                next: s.persistentStates
              };
            return s;
          },
          token: tokenFunction(states_, config),
          innerMode: function(state2) {
            return state2.local && { mode: state2.local.mode, state: state2.localState };
          },
          indent: indentFunction(states_, meta2)
        };
        if (meta2) {
          for (var prop in meta2) if (meta2.hasOwnProperty(prop))
            mode[prop] = meta2[prop];
        }
        return mode;
      };
      function ensureState(states, name) {
        if (!states.hasOwnProperty(name))
          throw new Error("Undefined state " + name + " in simple mode");
      }
      function toRegex(val, caret) {
        if (!val) return /(?:)/;
        var flags = "";
        if (val instanceof RegExp) {
          if (val.ignoreCase) flags = "i";
          if (val.unicode) flags += "u";
          val = val.source;
        } else {
          val = String(val);
        }
        return new RegExp((caret === false ? "" : "^") + "(?:" + val + ")", flags);
      }
      function asToken(val) {
        if (!val) return null;
        if (val.apply) return val;
        if (typeof val == "string") return val.replace(/\./g, " ");
        var result = [];
        for (var i = 0; i < val.length; i++)
          result.push(val[i] && val[i].replace(/\./g, " "));
        return result;
      }
      function Rule(data, states) {
        if (data.next || data.push) ensureState(states, data.next || data.push);
        this.regex = toRegex(data.regex);
        this.token = asToken(data.token);
        this.data = data;
      }
      function tokenFunction(states, config) {
        return function(stream, state) {
          if (state.pending) {
            var pend = state.pending.shift();
            if (state.pending.length == 0) state.pending = null;
            stream.pos += pend.text.length;
            return pend.token;
          }
          if (state.local) {
            if (state.local.end && stream.match(state.local.end)) {
              var tok = state.local.endToken || null;
              state.local = state.localState = null;
              return tok;
            } else {
              var tok = state.local.mode.token(stream, state.localState), m;
              if (state.local.endScan && (m = state.local.endScan.exec(stream.current())))
                stream.pos = stream.start + m.index;
              return tok;
            }
          }
          var curState = states[state.state];
          for (var i = 0; i < curState.length; i++) {
            var rule = curState[i];
            var matches = (!rule.data.sol || stream.sol()) && stream.match(rule.regex);
            if (matches) {
              if (rule.data.next) {
                state.state = rule.data.next;
              } else if (rule.data.push) {
                (state.stack || (state.stack = [])).push(state.state);
                state.state = rule.data.push;
              } else if (rule.data.pop && state.stack && state.stack.length) {
                state.state = state.stack.pop();
              }
              if (rule.data.mode)
                enterLocalMode(config, state, rule.data.mode, rule.token);
              if (rule.data.indent)
                state.indent.push(stream.indentation() + config.indentUnit);
              if (rule.data.dedent)
                state.indent.pop();
              var token = rule.token;
              if (token && token.apply) token = token(matches);
              if (matches.length > 2 && rule.token && typeof rule.token != "string") {
                for (var j = 2; j < matches.length; j++)
                  if (matches[j])
                    (state.pending || (state.pending = [])).push({ text: matches[j], token: rule.token[j - 1] });
                stream.backUp(matches[0].length - (matches[1] ? matches[1].length : 0));
                return token[0];
              } else if (token && token.join) {
                return token[0];
              } else {
                return token;
              }
            }
          }
          stream.next();
          return null;
        };
      }
      function cmp(a, b) {
        if (a === b) return true;
        if (!a || typeof a != "object" || !b || typeof b != "object") return false;
        var props = 0;
        for (var prop in a) if (a.hasOwnProperty(prop)) {
          if (!b.hasOwnProperty(prop) || !cmp(a[prop], b[prop])) return false;
          props++;
        }
        for (var prop in b) if (b.hasOwnProperty(prop)) props--;
        return props == 0;
      }
      function enterLocalMode(config, state, spec, token) {
        var pers;
        if (spec.persistent) {
          for (var p = state.persistentStates; p && !pers; p = p.next)
            if (spec.spec ? cmp(spec.spec, p.spec) : spec.mode == p.mode) pers = p;
        }
        var mode = pers ? pers.mode : spec.mode || CodeMirror.getMode(config, spec.spec);
        var lState = pers ? pers.state : CodeMirror.startState(mode);
        if (spec.persistent && !pers)
          state.persistentStates = { mode, spec: spec.spec, state: lState, next: state.persistentStates };
        state.localState = lState;
        state.local = {
          mode,
          end: spec.end && toRegex(spec.end),
          endScan: spec.end && spec.forceEnd !== false && toRegex(spec.end, false),
          endToken: token && token.join ? token[token.length - 1] : token
        };
      }
      function indexOf(val, arr) {
        for (var i = 0; i < arr.length; i++) if (arr[i] === val) return true;
      }
      function indentFunction(states, meta2) {
        return function(state, textAfter, line) {
          if (state.local && state.local.mode.indent)
            return state.local.mode.indent(state.localState, textAfter, line);
          if (state.indent == null || state.local || meta2.dontIndentStates && indexOf(state.state, meta2.dontIndentStates) > -1)
            return CodeMirror.Pass;
          var pos = state.indent.length - 1, rules = states[state.state];
          scan: for (; ; ) {
            for (var i = 0; i < rules.length; i++) {
              var rule = rules[i];
              if (rule.data.dedent && rule.data.dedentIfLineStart !== false) {
                var m = rule.regex.exec(textAfter);
                if (m && m[0]) {
                  pos--;
                  if (rule.next || rule.push) rules = states[rule.next || rule.push];
                  textAfter = textAfter.slice(m[0].length);
                  continue scan;
                }
              }
            }
            break;
          }
          return pos < 0 ? 0 : state.indent[pos];
        };
      }
    });
  })();
  return simple.exports;
}
requireSimple();
var yaml = { exports: {} };
var hasRequiredYaml;
function requireYaml() {
  if (hasRequiredYaml) return yaml.exports;
  hasRequiredYaml = 1;
  (function(module, exports) {
    (function(mod) {
      mod(requireCodemirror());
    })(function(CodeMirror) {
      CodeMirror.defineMode("yaml", function() {
        var cons = ["true", "false", "on", "off", "yes", "no"];
        var keywordRegex = new RegExp("\\b((" + cons.join(")|(") + "))$", "i");
        return {
          token: function(stream, state) {
            var ch = stream.peek();
            var esc = state.escaped;
            state.escaped = false;
            if (ch == "#" && (stream.pos == 0 || /\s/.test(stream.string.charAt(stream.pos - 1)))) {
              stream.skipToEnd();
              return "comment";
            }
            if (stream.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))
              return "string";
            if (state.literal && stream.indentation() > state.keyCol) {
              stream.skipToEnd();
              return "string";
            } else if (state.literal) {
              state.literal = false;
            }
            if (stream.sol()) {
              state.keyCol = 0;
              state.pair = false;
              state.pairStart = false;
              if (stream.match("---")) {
                return "def";
              }
              if (stream.match("...")) {
                return "def";
              }
              if (stream.match(/\s*-\s+/)) {
                return "meta";
              }
            }
            if (stream.match(/^(\{|\}|\[|\])/)) {
              if (ch == "{")
                state.inlinePairs++;
              else if (ch == "}")
                state.inlinePairs--;
              else if (ch == "[")
                state.inlineList++;
              else
                state.inlineList--;
              return "meta";
            }
            if (state.inlineList > 0 && !esc && ch == ",") {
              stream.next();
              return "meta";
            }
            if (state.inlinePairs > 0 && !esc && ch == ",") {
              state.keyCol = 0;
              state.pair = false;
              state.pairStart = false;
              stream.next();
              return "meta";
            }
            if (state.pairStart) {
              if (stream.match(/^\s*(\||\>)\s*/)) {
                state.literal = true;
                return "meta";
              }
              if (stream.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i)) {
                return "variable-2";
              }
              if (state.inlinePairs == 0 && stream.match(/^\s*-?[0-9\.\,]+\s?$/)) {
                return "number";
              }
              if (state.inlinePairs > 0 && stream.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/)) {
                return "number";
              }
              if (stream.match(keywordRegex)) {
                return "keyword";
              }
            }
            if (!state.pair && stream.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^\s,\[\]{}#&*!|>'"%@`])[^#:]*(?=:($|\s))/)) {
              state.pair = true;
              state.keyCol = stream.indentation();
              return "atom";
            }
            if (state.pair && stream.match(/^:\s*/)) {
              state.pairStart = true;
              return "meta";
            }
            state.pairStart = false;
            state.escaped = ch == "\\";
            stream.next();
            return null;
          },
          startState: function() {
            return {
              pair: false,
              pairStart: false,
              keyCol: 0,
              inlinePairs: 0,
              inlineList: 0,
              literal: false,
              escaped: false
            };
          },
          lineComment: "#",
          fold: "indent"
        };
      });
      CodeMirror.defineMIME("text/x-yaml", "yaml");
      CodeMirror.defineMIME("text/yaml", "yaml");
    });
  })();
  return yaml.exports;
}
requireYaml();
export {
  codemirror as default
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY29kZU1pcnJvck1vZHVsZS1YVFFrQXNSNi5qcyIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NvZGVtaXJyb3IvbGliL2NvZGVtaXJyb3IuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY29kZW1pcnJvci9tb2RlL2Nzcy9jc3MuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY29kZW1pcnJvci9tb2RlL3htbC94bWwuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY29kZW1pcnJvci9tb2RlL2phdmFzY3JpcHQvamF2YXNjcmlwdC5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jb2RlbWlycm9yL21vZGUvaHRtbG1peGVkL2h0bWxtaXhlZC5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jb2RlbWlycm9yL21vZGUvcHl0aG9uL3B5dGhvbi5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jb2RlbWlycm9yL21vZGUvY2xpa2UvY2xpa2UuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY29kZW1pcnJvci9tb2RlL21ldGEuanMiLCIuLi8uLi8uLi8uLi8uLi8uLi9ub2RlX21vZHVsZXMvY29kZW1pcnJvci9tb2RlL21hcmtkb3duL21hcmtkb3duLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NvZGVtaXJyb3IvYWRkb24vZGlzcGxheS9wbGFjZWhvbGRlci5qcyIsIi4uLy4uLy4uLy4uLy4uLy4uL25vZGVfbW9kdWxlcy9jb2RlbWlycm9yL2FkZG9uL21vZGUvc2ltcGxlLmpzIiwiLi4vLi4vLi4vLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2NvZGVtaXJyb3IvbW9kZS95YW1sL3lhbWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwczovL2NvZGVtaXJyb3IubmV0LzUvTElDRU5TRVxuXG4vLyBUaGlzIGlzIENvZGVNaXJyb3IgKGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNSksIGEgY29kZSBlZGl0b3Jcbi8vIGltcGxlbWVudGVkIGluIEphdmFTY3JpcHQgb24gdG9wIG9mIHRoZSBicm93c2VyJ3MgRE9NLlxuLy9cbi8vIFlvdSBjYW4gZmluZCBzb21lIHRlY2huaWNhbCBiYWNrZ3JvdW5kIGZvciBzb21lIG9mIHRoZSBjb2RlIGJlbG93XG4vLyBhdCBodHRwOi8vbWFyaWpuaGF2ZXJiZWtlLm5sL2Jsb2cvI2NtLWludGVybmFscyAuXG5cbihmdW5jdGlvbiAoZ2xvYmFsLCBmYWN0b3J5KSB7XG4gIHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0JyAmJiB0eXBlb2YgbW9kdWxlICE9PSAndW5kZWZpbmVkJyA/IG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpIDpcbiAgdHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kID8gZGVmaW5lKGZhY3RvcnkpIDpcbiAgKGdsb2JhbCA9IGdsb2JhbCB8fCBzZWxmLCBnbG9iYWwuQ29kZU1pcnJvciA9IGZhY3RvcnkoKSk7XG59KHRoaXMsIChmdW5jdGlvbiAoKSB7ICd1c2Ugc3RyaWN0JztcblxuICAvLyBLbHVkZ2VzIGZvciBidWdzIGFuZCBiZWhhdmlvciBkaWZmZXJlbmNlcyB0aGF0IGNhbid0IGJlIGZlYXR1cmVcbiAgLy8gZGV0ZWN0ZWQgYXJlIGVuYWJsZWQgYmFzZWQgb24gdXNlckFnZW50IGV0YyBzbmlmZmluZy5cbiAgdmFyIHVzZXJBZ2VudCA9IG5hdmlnYXRvci51c2VyQWdlbnQ7XG4gIHZhciBwbGF0Zm9ybSA9IG5hdmlnYXRvci5wbGF0Zm9ybTtcblxuICB2YXIgZ2Vja28gPSAvZ2Vja29cXC9cXGQvaS50ZXN0KHVzZXJBZ2VudCk7XG4gIHZhciBpZV91cHRvMTAgPSAvTVNJRSBcXGQvLnRlc3QodXNlckFnZW50KTtcbiAgdmFyIGllXzExdXAgPSAvVHJpZGVudFxcLyg/Ols3LTldfFxcZHsyLH0pXFwuLipydjooXFxkKykvLmV4ZWModXNlckFnZW50KTtcbiAgdmFyIGVkZ2UgPSAvRWRnZVxcLyhcXGQrKS8uZXhlYyh1c2VyQWdlbnQpO1xuICB2YXIgaWUgPSBpZV91cHRvMTAgfHwgaWVfMTF1cCB8fCBlZGdlO1xuICB2YXIgaWVfdmVyc2lvbiA9IGllICYmIChpZV91cHRvMTAgPyBkb2N1bWVudC5kb2N1bWVudE1vZGUgfHwgNiA6ICsoZWRnZSB8fCBpZV8xMXVwKVsxXSk7XG4gIHZhciB3ZWJraXQgPSAhZWRnZSAmJiAvV2ViS2l0XFwvLy50ZXN0KHVzZXJBZ2VudCk7XG4gIHZhciBxdHdlYmtpdCA9IHdlYmtpdCAmJiAvUXRcXC9cXGQrXFwuXFxkKy8udGVzdCh1c2VyQWdlbnQpO1xuICB2YXIgY2hyb21lID0gIWVkZ2UgJiYgL0Nocm9tZVxcLyhcXGQrKS8uZXhlYyh1c2VyQWdlbnQpO1xuICB2YXIgY2hyb21lX3ZlcnNpb24gPSBjaHJvbWUgJiYgK2Nocm9tZVsxXTtcbiAgdmFyIHByZXN0byA9IC9PcGVyYVxcLy8udGVzdCh1c2VyQWdlbnQpO1xuICB2YXIgc2FmYXJpID0gL0FwcGxlIENvbXB1dGVyLy50ZXN0KG5hdmlnYXRvci52ZW5kb3IpO1xuICB2YXIgbWFjX2dlTW91bnRhaW5MaW9uID0gL01hYyBPUyBYIDFcXGRcXEQoWzgtOV18XFxkXFxkKVxcRC8udGVzdCh1c2VyQWdlbnQpO1xuICB2YXIgcGhhbnRvbSA9IC9QaGFudG9tSlMvLnRlc3QodXNlckFnZW50KTtcblxuICB2YXIgaW9zID0gc2FmYXJpICYmICgvTW9iaWxlXFwvXFx3Ky8udGVzdCh1c2VyQWdlbnQpIHx8IG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDIpO1xuICB2YXIgYW5kcm9pZCA9IC9BbmRyb2lkLy50ZXN0KHVzZXJBZ2VudCk7XG4gIC8vIFRoaXMgaXMgd29lZnVsbHkgaW5jb21wbGV0ZS4gU3VnZ2VzdGlvbnMgZm9yIGFsdGVybmF0aXZlIG1ldGhvZHMgd2VsY29tZS5cbiAgdmFyIG1vYmlsZSA9IGlvcyB8fCBhbmRyb2lkIHx8IC93ZWJPU3xCbGFja0JlcnJ5fE9wZXJhIE1pbml8T3BlcmEgTW9iaXxJRU1vYmlsZS9pLnRlc3QodXNlckFnZW50KTtcbiAgdmFyIG1hYyA9IGlvcyB8fCAvTWFjLy50ZXN0KHBsYXRmb3JtKTtcbiAgdmFyIGNocm9tZU9TID0gL1xcYkNyT1NcXGIvLnRlc3QodXNlckFnZW50KTtcbiAgdmFyIHdpbmRvd3MgPSAvd2luL2kudGVzdChwbGF0Zm9ybSk7XG5cbiAgdmFyIHByZXN0b192ZXJzaW9uID0gcHJlc3RvICYmIHVzZXJBZ2VudC5tYXRjaCgvVmVyc2lvblxcLyhcXGQqXFwuXFxkKikvKTtcbiAgaWYgKHByZXN0b192ZXJzaW9uKSB7IHByZXN0b192ZXJzaW9uID0gTnVtYmVyKHByZXN0b192ZXJzaW9uWzFdKTsgfVxuICBpZiAocHJlc3RvX3ZlcnNpb24gJiYgcHJlc3RvX3ZlcnNpb24gPj0gMTUpIHsgcHJlc3RvID0gZmFsc2U7IHdlYmtpdCA9IHRydWU7IH1cbiAgLy8gU29tZSBicm93c2VycyB1c2UgdGhlIHdyb25nIGV2ZW50IHByb3BlcnRpZXMgdG8gc2lnbmFsIGNtZC9jdHJsIG9uIE9TIFhcbiAgdmFyIGZsaXBDdHJsQ21kID0gbWFjICYmIChxdHdlYmtpdCB8fCBwcmVzdG8gJiYgKHByZXN0b192ZXJzaW9uID09IG51bGwgfHwgcHJlc3RvX3ZlcnNpb24gPCAxMi4xMSkpO1xuICB2YXIgY2FwdHVyZVJpZ2h0Q2xpY2sgPSBnZWNrbyB8fCAoaWUgJiYgaWVfdmVyc2lvbiA+PSA5KTtcblxuICBmdW5jdGlvbiBjbGFzc1Rlc3QoY2xzKSB7IHJldHVybiBuZXcgUmVnRXhwKFwiKF58XFxcXHMpXCIgKyBjbHMgKyBcIig/OiR8XFxcXHMpXFxcXHMqXCIpIH1cblxuICB2YXIgcm1DbGFzcyA9IGZ1bmN0aW9uKG5vZGUsIGNscykge1xuICAgIHZhciBjdXJyZW50ID0gbm9kZS5jbGFzc05hbWU7XG4gICAgdmFyIG1hdGNoID0gY2xhc3NUZXN0KGNscykuZXhlYyhjdXJyZW50KTtcbiAgICBpZiAobWF0Y2gpIHtcbiAgICAgIHZhciBhZnRlciA9IGN1cnJlbnQuc2xpY2UobWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGgpO1xuICAgICAgbm9kZS5jbGFzc05hbWUgPSBjdXJyZW50LnNsaWNlKDAsIG1hdGNoLmluZGV4KSArIChhZnRlciA/IG1hdGNoWzFdICsgYWZ0ZXIgOiBcIlwiKTtcbiAgICB9XG4gIH07XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW4oZSkge1xuICAgIGZvciAodmFyIGNvdW50ID0gZS5jaGlsZE5vZGVzLmxlbmd0aDsgY291bnQgPiAwOyAtLWNvdW50KVxuICAgICAgeyBlLnJlbW92ZUNoaWxkKGUuZmlyc3RDaGlsZCk7IH1cbiAgICByZXR1cm4gZVxuICB9XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQ2hpbGRyZW5BbmRBZGQocGFyZW50LCBlKSB7XG4gICAgcmV0dXJuIHJlbW92ZUNoaWxkcmVuKHBhcmVudCkuYXBwZW5kQ2hpbGQoZSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGVsdCh0YWcsIGNvbnRlbnQsIGNsYXNzTmFtZSwgc3R5bGUpIHtcbiAgICB2YXIgZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcbiAgICBpZiAoY2xhc3NOYW1lKSB7IGUuY2xhc3NOYW1lID0gY2xhc3NOYW1lOyB9XG4gICAgaWYgKHN0eWxlKSB7IGUuc3R5bGUuY3NzVGV4dCA9IHN0eWxlOyB9XG4gICAgaWYgKHR5cGVvZiBjb250ZW50ID09IFwic3RyaW5nXCIpIHsgZS5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjb250ZW50KSk7IH1cbiAgICBlbHNlIGlmIChjb250ZW50KSB7IGZvciAodmFyIGkgPSAwOyBpIDwgY29udGVudC5sZW5ndGg7ICsraSkgeyBlLmFwcGVuZENoaWxkKGNvbnRlbnRbaV0pOyB9IH1cbiAgICByZXR1cm4gZVxuICB9XG4gIC8vIHdyYXBwZXIgZm9yIGVsdCwgd2hpY2ggcmVtb3ZlcyB0aGUgZWx0IGZyb20gdGhlIGFjY2Vzc2liaWxpdHkgdHJlZVxuICBmdW5jdGlvbiBlbHRQKHRhZywgY29udGVudCwgY2xhc3NOYW1lLCBzdHlsZSkge1xuICAgIHZhciBlID0gZWx0KHRhZywgY29udGVudCwgY2xhc3NOYW1lLCBzdHlsZSk7XG4gICAgZS5zZXRBdHRyaWJ1dGUoXCJyb2xlXCIsIFwicHJlc2VudGF0aW9uXCIpO1xuICAgIHJldHVybiBlXG4gIH1cblxuICB2YXIgcmFuZ2U7XG4gIGlmIChkb2N1bWVudC5jcmVhdGVSYW5nZSkgeyByYW5nZSA9IGZ1bmN0aW9uKG5vZGUsIHN0YXJ0LCBlbmQsIGVuZE5vZGUpIHtcbiAgICB2YXIgciA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgci5zZXRFbmQoZW5kTm9kZSB8fCBub2RlLCBlbmQpO1xuICAgIHIuc2V0U3RhcnQobm9kZSwgc3RhcnQpO1xuICAgIHJldHVybiByXG4gIH07IH1cbiAgZWxzZSB7IHJhbmdlID0gZnVuY3Rpb24obm9kZSwgc3RhcnQsIGVuZCkge1xuICAgIHZhciByID0gZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICB0cnkgeyByLm1vdmVUb0VsZW1lbnRUZXh0KG5vZGUucGFyZW50Tm9kZSk7IH1cbiAgICBjYXRjaChlKSB7IHJldHVybiByIH1cbiAgICByLmNvbGxhcHNlKHRydWUpO1xuICAgIHIubW92ZUVuZChcImNoYXJhY3RlclwiLCBlbmQpO1xuICAgIHIubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsIHN0YXJ0KTtcbiAgICByZXR1cm4gclxuICB9OyB9XG5cbiAgZnVuY3Rpb24gY29udGFpbnMocGFyZW50LCBjaGlsZCkge1xuICAgIGlmIChjaGlsZC5ub2RlVHlwZSA9PSAzKSAvLyBBbmRyb2lkIGJyb3dzZXIgYWx3YXlzIHJldHVybnMgZmFsc2Ugd2hlbiBjaGlsZCBpcyBhIHRleHRub2RlXG4gICAgICB7IGNoaWxkID0gY2hpbGQucGFyZW50Tm9kZTsgfVxuICAgIGlmIChwYXJlbnQuY29udGFpbnMpXG4gICAgICB7IHJldHVybiBwYXJlbnQuY29udGFpbnMoY2hpbGQpIH1cbiAgICBkbyB7XG4gICAgICBpZiAoY2hpbGQubm9kZVR5cGUgPT0gMTEpIHsgY2hpbGQgPSBjaGlsZC5ob3N0OyB9XG4gICAgICBpZiAoY2hpbGQgPT0gcGFyZW50KSB7IHJldHVybiB0cnVlIH1cbiAgICB9IHdoaWxlIChjaGlsZCA9IGNoaWxkLnBhcmVudE5vZGUpXG4gIH1cblxuICBmdW5jdGlvbiBhY3RpdmVFbHQocm9vdE5vZGUpIHtcbiAgICAvLyBJRSBhbmQgRWRnZSBtYXkgdGhyb3cgYW4gXCJVbnNwZWNpZmllZCBFcnJvclwiIHdoZW4gYWNjZXNzaW5nIGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQuXG4gICAgLy8gSUUgPCAxMCB3aWxsIHRocm93IHdoZW4gYWNjZXNzZWQgd2hpbGUgdGhlIHBhZ2UgaXMgbG9hZGluZyBvciBpbiBhbiBpZnJhbWUuXG4gICAgLy8gSUUgPiA5IGFuZCBFZGdlIHdpbGwgdGhyb3cgd2hlbiBhY2Nlc3NlZCBpbiBhbiBpZnJhbWUgaWYgZG9jdW1lbnQuYm9keSBpcyB1bmF2YWlsYWJsZS5cbiAgICB2YXIgZG9jID0gcm9vdE5vZGUub3duZXJEb2N1bWVudCB8fCByb290Tm9kZTtcbiAgICB2YXIgYWN0aXZlRWxlbWVudDtcbiAgICB0cnkge1xuICAgICAgYWN0aXZlRWxlbWVudCA9IHJvb3ROb2RlLmFjdGl2ZUVsZW1lbnQ7XG4gICAgfSBjYXRjaChlKSB7XG4gICAgICBhY3RpdmVFbGVtZW50ID0gZG9jLmJvZHkgfHwgbnVsbDtcbiAgICB9XG4gICAgd2hpbGUgKGFjdGl2ZUVsZW1lbnQgJiYgYWN0aXZlRWxlbWVudC5zaGFkb3dSb290ICYmIGFjdGl2ZUVsZW1lbnQuc2hhZG93Um9vdC5hY3RpdmVFbGVtZW50KVxuICAgICAgeyBhY3RpdmVFbGVtZW50ID0gYWN0aXZlRWxlbWVudC5zaGFkb3dSb290LmFjdGl2ZUVsZW1lbnQ7IH1cbiAgICByZXR1cm4gYWN0aXZlRWxlbWVudFxuICB9XG5cbiAgZnVuY3Rpb24gYWRkQ2xhc3Mobm9kZSwgY2xzKSB7XG4gICAgdmFyIGN1cnJlbnQgPSBub2RlLmNsYXNzTmFtZTtcbiAgICBpZiAoIWNsYXNzVGVzdChjbHMpLnRlc3QoY3VycmVudCkpIHsgbm9kZS5jbGFzc05hbWUgKz0gKGN1cnJlbnQgPyBcIiBcIiA6IFwiXCIpICsgY2xzOyB9XG4gIH1cbiAgZnVuY3Rpb24gam9pbkNsYXNzZXMoYSwgYikge1xuICAgIHZhciBhcyA9IGEuc3BsaXQoXCIgXCIpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXMubGVuZ3RoOyBpKyspXG4gICAgICB7IGlmIChhc1tpXSAmJiAhY2xhc3NUZXN0KGFzW2ldKS50ZXN0KGIpKSB7IGIgKz0gXCIgXCIgKyBhc1tpXTsgfSB9XG4gICAgcmV0dXJuIGJcbiAgfVxuXG4gIHZhciBzZWxlY3RJbnB1dCA9IGZ1bmN0aW9uKG5vZGUpIHsgbm9kZS5zZWxlY3QoKTsgfTtcbiAgaWYgKGlvcykgLy8gTW9iaWxlIFNhZmFyaSBhcHBhcmVudGx5IGhhcyBhIGJ1ZyB3aGVyZSBzZWxlY3QoKSBpcyBicm9rZW4uXG4gICAgeyBzZWxlY3RJbnB1dCA9IGZ1bmN0aW9uKG5vZGUpIHsgbm9kZS5zZWxlY3Rpb25TdGFydCA9IDA7IG5vZGUuc2VsZWN0aW9uRW5kID0gbm9kZS52YWx1ZS5sZW5ndGg7IH07IH1cbiAgZWxzZSBpZiAoaWUpIC8vIFN1cHByZXNzIG15c3RlcmlvdXMgSUUxMCBlcnJvcnNcbiAgICB7IHNlbGVjdElucHV0ID0gZnVuY3Rpb24obm9kZSkgeyB0cnkgeyBub2RlLnNlbGVjdCgpOyB9IGNhdGNoKF9lKSB7fSB9OyB9XG5cbiAgZnVuY3Rpb24gZG9jKGNtKSB7IHJldHVybiBjbS5kaXNwbGF5LndyYXBwZXIub3duZXJEb2N1bWVudCB9XG5cbiAgZnVuY3Rpb24gcm9vdChjbSkge1xuICAgIHJldHVybiByb290Tm9kZShjbS5kaXNwbGF5LndyYXBwZXIpXG4gIH1cblxuICBmdW5jdGlvbiByb290Tm9kZShlbGVtZW50KSB7XG4gICAgLy8gRGV0ZWN0IG1vZGVybiBicm93c2VycyAoMjAxNyspLlxuICAgIHJldHVybiBlbGVtZW50LmdldFJvb3ROb2RlID8gZWxlbWVudC5nZXRSb290Tm9kZSgpIDogZWxlbWVudC5vd25lckRvY3VtZW50XG4gIH1cblxuICBmdW5jdGlvbiB3aW4oY20pIHsgcmV0dXJuIGRvYyhjbSkuZGVmYXVsdFZpZXcgfVxuXG4gIGZ1bmN0aW9uIGJpbmQoZikge1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICByZXR1cm4gZnVuY3Rpb24oKXtyZXR1cm4gZi5hcHBseShudWxsLCBhcmdzKX1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvcHlPYmoob2JqLCB0YXJnZXQsIG92ZXJ3cml0ZSkge1xuICAgIGlmICghdGFyZ2V0KSB7IHRhcmdldCA9IHt9OyB9XG4gICAgZm9yICh2YXIgcHJvcCBpbiBvYmopXG4gICAgICB7IGlmIChvYmouaGFzT3duUHJvcGVydHkocHJvcCkgJiYgKG92ZXJ3cml0ZSAhPT0gZmFsc2UgfHwgIXRhcmdldC5oYXNPd25Qcm9wZXJ0eShwcm9wKSkpXG4gICAgICAgIHsgdGFyZ2V0W3Byb3BdID0gb2JqW3Byb3BdOyB9IH1cbiAgICByZXR1cm4gdGFyZ2V0XG4gIH1cblxuICAvLyBDb3VudHMgdGhlIGNvbHVtbiBvZmZzZXQgaW4gYSBzdHJpbmcsIHRha2luZyB0YWJzIGludG8gYWNjb3VudC5cbiAgLy8gVXNlZCBtb3N0bHkgdG8gZmluZCBpbmRlbnRhdGlvbi5cbiAgZnVuY3Rpb24gY291bnRDb2x1bW4oc3RyaW5nLCBlbmQsIHRhYlNpemUsIHN0YXJ0SW5kZXgsIHN0YXJ0VmFsdWUpIHtcbiAgICBpZiAoZW5kID09IG51bGwpIHtcbiAgICAgIGVuZCA9IHN0cmluZy5zZWFyY2goL1teXFxzXFx1MDBhMF0vKTtcbiAgICAgIGlmIChlbmQgPT0gLTEpIHsgZW5kID0gc3RyaW5nLmxlbmd0aDsgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gc3RhcnRJbmRleCB8fCAwLCBuID0gc3RhcnRWYWx1ZSB8fCAwOzspIHtcbiAgICAgIHZhciBuZXh0VGFiID0gc3RyaW5nLmluZGV4T2YoXCJcXHRcIiwgaSk7XG4gICAgICBpZiAobmV4dFRhYiA8IDAgfHwgbmV4dFRhYiA+PSBlbmQpXG4gICAgICAgIHsgcmV0dXJuIG4gKyAoZW5kIC0gaSkgfVxuICAgICAgbiArPSBuZXh0VGFiIC0gaTtcbiAgICAgIG4gKz0gdGFiU2l6ZSAtIChuICUgdGFiU2l6ZSk7XG4gICAgICBpID0gbmV4dFRhYiArIDE7XG4gICAgfVxuICB9XG5cbiAgdmFyIERlbGF5ZWQgPSBmdW5jdGlvbigpIHtcbiAgICB0aGlzLmlkID0gbnVsbDtcbiAgICB0aGlzLmYgPSBudWxsO1xuICAgIHRoaXMudGltZSA9IDA7XG4gICAgdGhpcy5oYW5kbGVyID0gYmluZCh0aGlzLm9uVGltZW91dCwgdGhpcyk7XG4gIH07XG4gIERlbGF5ZWQucHJvdG90eXBlLm9uVGltZW91dCA9IGZ1bmN0aW9uIChzZWxmKSB7XG4gICAgc2VsZi5pZCA9IDA7XG4gICAgaWYgKHNlbGYudGltZSA8PSArbmV3IERhdGUpIHtcbiAgICAgIHNlbGYuZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRUaW1lb3V0KHNlbGYuaGFuZGxlciwgc2VsZi50aW1lIC0gK25ldyBEYXRlKTtcbiAgICB9XG4gIH07XG4gIERlbGF5ZWQucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChtcywgZikge1xuICAgIHRoaXMuZiA9IGY7XG4gICAgdmFyIHRpbWUgPSArbmV3IERhdGUgKyBtcztcbiAgICBpZiAoIXRoaXMuaWQgfHwgdGltZSA8IHRoaXMudGltZSkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaWQpO1xuICAgICAgdGhpcy5pZCA9IHNldFRpbWVvdXQodGhpcy5oYW5kbGVyLCBtcyk7XG4gICAgICB0aGlzLnRpbWUgPSB0aW1lO1xuICAgIH1cbiAgfTtcblxuICBmdW5jdGlvbiBpbmRleE9mKGFycmF5LCBlbHQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgKytpKVxuICAgICAgeyBpZiAoYXJyYXlbaV0gPT0gZWx0KSB7IHJldHVybiBpIH0gfVxuICAgIHJldHVybiAtMVxuICB9XG5cbiAgLy8gTnVtYmVyIG9mIHBpeGVscyBhZGRlZCB0byBzY3JvbGxlciBhbmQgc2l6ZXIgdG8gaGlkZSBzY3JvbGxiYXJcbiAgdmFyIHNjcm9sbGVyR2FwID0gNTA7XG5cbiAgLy8gUmV0dXJuZWQgb3IgdGhyb3duIGJ5IHZhcmlvdXMgcHJvdG9jb2xzIHRvIHNpZ25hbCAnSSdtIG5vdFxuICAvLyBoYW5kbGluZyB0aGlzJy5cbiAgdmFyIFBhc3MgPSB7dG9TdHJpbmc6IGZ1bmN0aW9uKCl7cmV0dXJuIFwiQ29kZU1pcnJvci5QYXNzXCJ9fTtcblxuICAvLyBSZXVzZWQgb3B0aW9uIG9iamVjdHMgZm9yIHNldFNlbGVjdGlvbiAmIGZyaWVuZHNcbiAgdmFyIHNlbF9kb250U2Nyb2xsID0ge3Njcm9sbDogZmFsc2V9LCBzZWxfbW91c2UgPSB7b3JpZ2luOiBcIiptb3VzZVwifSwgc2VsX21vdmUgPSB7b3JpZ2luOiBcIittb3ZlXCJ9O1xuXG4gIC8vIFRoZSBpbnZlcnNlIG9mIGNvdW50Q29sdW1uIC0tIGZpbmQgdGhlIG9mZnNldCB0aGF0IGNvcnJlc3BvbmRzIHRvXG4gIC8vIGEgcGFydGljdWxhciBjb2x1bW4uXG4gIGZ1bmN0aW9uIGZpbmRDb2x1bW4oc3RyaW5nLCBnb2FsLCB0YWJTaXplKSB7XG4gICAgZm9yICh2YXIgcG9zID0gMCwgY29sID0gMDs7KSB7XG4gICAgICB2YXIgbmV4dFRhYiA9IHN0cmluZy5pbmRleE9mKFwiXFx0XCIsIHBvcyk7XG4gICAgICBpZiAobmV4dFRhYiA9PSAtMSkgeyBuZXh0VGFiID0gc3RyaW5nLmxlbmd0aDsgfVxuICAgICAgdmFyIHNraXBwZWQgPSBuZXh0VGFiIC0gcG9zO1xuICAgICAgaWYgKG5leHRUYWIgPT0gc3RyaW5nLmxlbmd0aCB8fCBjb2wgKyBza2lwcGVkID49IGdvYWwpXG4gICAgICAgIHsgcmV0dXJuIHBvcyArIE1hdGgubWluKHNraXBwZWQsIGdvYWwgLSBjb2wpIH1cbiAgICAgIGNvbCArPSBuZXh0VGFiIC0gcG9zO1xuICAgICAgY29sICs9IHRhYlNpemUgLSAoY29sICUgdGFiU2l6ZSk7XG4gICAgICBwb3MgPSBuZXh0VGFiICsgMTtcbiAgICAgIGlmIChjb2wgPj0gZ29hbCkgeyByZXR1cm4gcG9zIH1cbiAgICB9XG4gIH1cblxuICB2YXIgc3BhY2VTdHJzID0gW1wiXCJdO1xuICBmdW5jdGlvbiBzcGFjZVN0cihuKSB7XG4gICAgd2hpbGUgKHNwYWNlU3Rycy5sZW5ndGggPD0gbilcbiAgICAgIHsgc3BhY2VTdHJzLnB1c2gobHN0KHNwYWNlU3RycykgKyBcIiBcIik7IH1cbiAgICByZXR1cm4gc3BhY2VTdHJzW25dXG4gIH1cblxuICBmdW5jdGlvbiBsc3QoYXJyKSB7IHJldHVybiBhcnJbYXJyLmxlbmd0aC0xXSB9XG5cbiAgZnVuY3Rpb24gbWFwKGFycmF5LCBmKSB7XG4gICAgdmFyIG91dCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHsgb3V0W2ldID0gZihhcnJheVtpXSwgaSk7IH1cbiAgICByZXR1cm4gb3V0XG4gIH1cblxuICBmdW5jdGlvbiBpbnNlcnRTb3J0ZWQoYXJyYXksIHZhbHVlLCBzY29yZSkge1xuICAgIHZhciBwb3MgPSAwLCBwcmlvcml0eSA9IHNjb3JlKHZhbHVlKTtcbiAgICB3aGlsZSAocG9zIDwgYXJyYXkubGVuZ3RoICYmIHNjb3JlKGFycmF5W3Bvc10pIDw9IHByaW9yaXR5KSB7IHBvcysrOyB9XG4gICAgYXJyYXkuc3BsaWNlKHBvcywgMCwgdmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gbm90aGluZygpIHt9XG5cbiAgZnVuY3Rpb24gY3JlYXRlT2JqKGJhc2UsIHByb3BzKSB7XG4gICAgdmFyIGluc3Q7XG4gICAgaWYgKE9iamVjdC5jcmVhdGUpIHtcbiAgICAgIGluc3QgPSBPYmplY3QuY3JlYXRlKGJhc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBub3RoaW5nLnByb3RvdHlwZSA9IGJhc2U7XG4gICAgICBpbnN0ID0gbmV3IG5vdGhpbmcoKTtcbiAgICB9XG4gICAgaWYgKHByb3BzKSB7IGNvcHlPYmoocHJvcHMsIGluc3QpOyB9XG4gICAgcmV0dXJuIGluc3RcbiAgfVxuXG4gIHZhciBub25BU0NJSVNpbmdsZUNhc2VXb3JkQ2hhciA9IC9bXFx1MDBkZlxcdTA1ODdcXHUwNTkwLVxcdTA1ZjRcXHUwNjAwLVxcdTA2ZmZcXHUzMDQwLVxcdTMwOWZcXHUzMGEwLVxcdTMwZmZcXHUzNDAwLVxcdTRkYjVcXHU0ZTAwLVxcdTlmY2NcXHVhYzAwLVxcdWQ3YWZdLztcbiAgZnVuY3Rpb24gaXNXb3JkQ2hhckJhc2ljKGNoKSB7XG4gICAgcmV0dXJuIC9cXHcvLnRlc3QoY2gpIHx8IGNoID4gXCJcXHg4MFwiICYmXG4gICAgICAoY2gudG9VcHBlckNhc2UoKSAhPSBjaC50b0xvd2VyQ2FzZSgpIHx8IG5vbkFTQ0lJU2luZ2xlQ2FzZVdvcmRDaGFyLnRlc3QoY2gpKVxuICB9XG4gIGZ1bmN0aW9uIGlzV29yZENoYXIoY2gsIGhlbHBlcikge1xuICAgIGlmICghaGVscGVyKSB7IHJldHVybiBpc1dvcmRDaGFyQmFzaWMoY2gpIH1cbiAgICBpZiAoaGVscGVyLnNvdXJjZS5pbmRleE9mKFwiXFxcXHdcIikgPiAtMSAmJiBpc1dvcmRDaGFyQmFzaWMoY2gpKSB7IHJldHVybiB0cnVlIH1cbiAgICByZXR1cm4gaGVscGVyLnRlc3QoY2gpXG4gIH1cblxuICBmdW5jdGlvbiBpc0VtcHR5KG9iaikge1xuICAgIGZvciAodmFyIG4gaW4gb2JqKSB7IGlmIChvYmouaGFzT3duUHJvcGVydHkobikgJiYgb2JqW25dKSB7IHJldHVybiBmYWxzZSB9IH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9XG5cbiAgLy8gRXh0ZW5kaW5nIHVuaWNvZGUgY2hhcmFjdGVycy4gQSBzZXJpZXMgb2YgYSBub24tZXh0ZW5kaW5nIGNoYXIgK1xuICAvLyBhbnkgbnVtYmVyIG9mIGV4dGVuZGluZyBjaGFycyBpcyB0cmVhdGVkIGFzIGEgc2luZ2xlIHVuaXQgYXMgZmFyXG4gIC8vIGFzIGVkaXRpbmcgYW5kIG1lYXN1cmluZyBpcyBjb25jZXJuZWQuIFRoaXMgaXMgbm90IGZ1bGx5IGNvcnJlY3QsXG4gIC8vIHNpbmNlIHNvbWUgc2NyaXB0cy9mb250cy9icm93c2VycyBhbHNvIHRyZWF0IG90aGVyIGNvbmZpZ3VyYXRpb25zXG4gIC8vIG9mIGNvZGUgcG9pbnRzIGFzIGEgZ3JvdXAuXG4gIHZhciBleHRlbmRpbmdDaGFycyA9IC9bXFx1MDMwMC1cXHUwMzZmXFx1MDQ4My1cXHUwNDg5XFx1MDU5MS1cXHUwNWJkXFx1MDViZlxcdTA1YzFcXHUwNWMyXFx1MDVjNFxcdTA1YzVcXHUwNWM3XFx1MDYxMC1cXHUwNjFhXFx1MDY0Yi1cXHUwNjVlXFx1MDY3MFxcdTA2ZDYtXFx1MDZkY1xcdTA2ZGUtXFx1MDZlNFxcdTA2ZTdcXHUwNmU4XFx1MDZlYS1cXHUwNmVkXFx1MDcxMVxcdTA3MzAtXFx1MDc0YVxcdTA3YTYtXFx1MDdiMFxcdTA3ZWItXFx1MDdmM1xcdTA4MTYtXFx1MDgxOVxcdTA4MWItXFx1MDgyM1xcdTA4MjUtXFx1MDgyN1xcdTA4MjktXFx1MDgyZFxcdTA5MDAtXFx1MDkwMlxcdTA5M2NcXHUwOTQxLVxcdTA5NDhcXHUwOTRkXFx1MDk1MS1cXHUwOTU1XFx1MDk2MlxcdTA5NjNcXHUwOTgxXFx1MDliY1xcdTA5YmVcXHUwOWMxLVxcdTA5YzRcXHUwOWNkXFx1MDlkN1xcdTA5ZTJcXHUwOWUzXFx1MGEwMVxcdTBhMDJcXHUwYTNjXFx1MGE0MVxcdTBhNDJcXHUwYTQ3XFx1MGE0OFxcdTBhNGItXFx1MGE0ZFxcdTBhNTFcXHUwYTcwXFx1MGE3MVxcdTBhNzVcXHUwYTgxXFx1MGE4MlxcdTBhYmNcXHUwYWMxLVxcdTBhYzVcXHUwYWM3XFx1MGFjOFxcdTBhY2RcXHUwYWUyXFx1MGFlM1xcdTBiMDFcXHUwYjNjXFx1MGIzZVxcdTBiM2ZcXHUwYjQxLVxcdTBiNDRcXHUwYjRkXFx1MGI1NlxcdTBiNTdcXHUwYjYyXFx1MGI2M1xcdTBiODJcXHUwYmJlXFx1MGJjMFxcdTBiY2RcXHUwYmQ3XFx1MGMzZS1cXHUwYzQwXFx1MGM0Ni1cXHUwYzQ4XFx1MGM0YS1cXHUwYzRkXFx1MGM1NVxcdTBjNTZcXHUwYzYyXFx1MGM2M1xcdTBjYmNcXHUwY2JmXFx1MGNjMlxcdTBjYzZcXHUwY2NjXFx1MGNjZFxcdTBjZDVcXHUwY2Q2XFx1MGNlMlxcdTBjZTNcXHUwZDNlXFx1MGQ0MS1cXHUwZDQ0XFx1MGQ0ZFxcdTBkNTdcXHUwZDYyXFx1MGQ2M1xcdTBkY2FcXHUwZGNmXFx1MGRkMi1cXHUwZGQ0XFx1MGRkNlxcdTBkZGZcXHUwZTMxXFx1MGUzNC1cXHUwZTNhXFx1MGU0Ny1cXHUwZTRlXFx1MGViMVxcdTBlYjQtXFx1MGViOVxcdTBlYmJcXHUwZWJjXFx1MGVjOC1cXHUwZWNkXFx1MGYxOFxcdTBmMTlcXHUwZjM1XFx1MGYzN1xcdTBmMzlcXHUwZjcxLVxcdTBmN2VcXHUwZjgwLVxcdTBmODRcXHUwZjg2XFx1MGY4N1xcdTBmOTAtXFx1MGY5N1xcdTBmOTktXFx1MGZiY1xcdTBmYzZcXHUxMDJkLVxcdTEwMzBcXHUxMDMyLVxcdTEwMzdcXHUxMDM5XFx1MTAzYVxcdTEwM2RcXHUxMDNlXFx1MTA1OFxcdTEwNTlcXHUxMDVlLVxcdTEwNjBcXHUxMDcxLVxcdTEwNzRcXHUxMDgyXFx1MTA4NVxcdTEwODZcXHUxMDhkXFx1MTA5ZFxcdTEzNWZcXHUxNzEyLVxcdTE3MTRcXHUxNzMyLVxcdTE3MzRcXHUxNzUyXFx1MTc1M1xcdTE3NzJcXHUxNzczXFx1MTdiNy1cXHUxN2JkXFx1MTdjNlxcdTE3YzktXFx1MTdkM1xcdTE3ZGRcXHUxODBiLVxcdTE4MGRcXHUxOGE5XFx1MTkyMC1cXHUxOTIyXFx1MTkyN1xcdTE5MjhcXHUxOTMyXFx1MTkzOS1cXHUxOTNiXFx1MWExN1xcdTFhMThcXHUxYTU2XFx1MWE1OC1cXHUxYTVlXFx1MWE2MFxcdTFhNjJcXHUxYTY1LVxcdTFhNmNcXHUxYTczLVxcdTFhN2NcXHUxYTdmXFx1MWIwMC1cXHUxYjAzXFx1MWIzNFxcdTFiMzYtXFx1MWIzYVxcdTFiM2NcXHUxYjQyXFx1MWI2Yi1cXHUxYjczXFx1MWI4MFxcdTFiODFcXHUxYmEyLVxcdTFiYTVcXHUxYmE4XFx1MWJhOVxcdTFjMmMtXFx1MWMzM1xcdTFjMzZcXHUxYzM3XFx1MWNkMC1cXHUxY2QyXFx1MWNkNC1cXHUxY2UwXFx1MWNlMi1cXHUxY2U4XFx1MWNlZFxcdTFkYzAtXFx1MWRlNlxcdTFkZmQtXFx1MWRmZlxcdTIwMGNcXHUyMDBkXFx1MjBkMC1cXHUyMGYwXFx1MmNlZi1cXHUyY2YxXFx1MmRlMC1cXHUyZGZmXFx1MzAyYS1cXHUzMDJmXFx1MzA5OVxcdTMwOWFcXHVhNjZmLVxcdWE2NzJcXHVhNjdjXFx1YTY3ZFxcdWE2ZjBcXHVhNmYxXFx1YTgwMlxcdWE4MDZcXHVhODBiXFx1YTgyNVxcdWE4MjZcXHVhOGM0XFx1YThlMC1cXHVhOGYxXFx1YTkyNi1cXHVhOTJkXFx1YTk0Ny1cXHVhOTUxXFx1YTk4MC1cXHVhOTgyXFx1YTliM1xcdWE5YjYtXFx1YTliOVxcdWE5YmNcXHVhYTI5LVxcdWFhMmVcXHVhYTMxXFx1YWEzMlxcdWFhMzVcXHVhYTM2XFx1YWE0M1xcdWFhNGNcXHVhYWIwXFx1YWFiMi1cXHVhYWI0XFx1YWFiN1xcdWFhYjhcXHVhYWJlXFx1YWFiZlxcdWFhYzFcXHVhYmU1XFx1YWJlOFxcdWFiZWRcXHVkYzAwLVxcdWRmZmZcXHVmYjFlXFx1ZmUwMC1cXHVmZTBmXFx1ZmUyMC1cXHVmZTI2XFx1ZmY5ZVxcdWZmOWZdLztcbiAgZnVuY3Rpb24gaXNFeHRlbmRpbmdDaGFyKGNoKSB7IHJldHVybiBjaC5jaGFyQ29kZUF0KDApID49IDc2OCAmJiBleHRlbmRpbmdDaGFycy50ZXN0KGNoKSB9XG5cbiAgLy8gUmV0dXJucyBhIG51bWJlciBmcm9tIHRoZSByYW5nZSBbYDBgOyBgc3RyLmxlbmd0aGBdIHVubGVzcyBgcG9zYCBpcyBvdXRzaWRlIHRoYXQgcmFuZ2UuXG4gIGZ1bmN0aW9uIHNraXBFeHRlbmRpbmdDaGFycyhzdHIsIHBvcywgZGlyKSB7XG4gICAgd2hpbGUgKChkaXIgPCAwID8gcG9zID4gMCA6IHBvcyA8IHN0ci5sZW5ndGgpICYmIGlzRXh0ZW5kaW5nQ2hhcihzdHIuY2hhckF0KHBvcykpKSB7IHBvcyArPSBkaXI7IH1cbiAgICByZXR1cm4gcG9zXG4gIH1cblxuICAvLyBSZXR1cm5zIHRoZSB2YWx1ZSBmcm9tIHRoZSByYW5nZSBbYGZyb21gOyBgdG9gXSB0aGF0IHNhdGlzZmllc1xuICAvLyBgcHJlZGAgYW5kIGlzIGNsb3Nlc3QgdG8gYGZyb21gLiBBc3N1bWVzIHRoYXQgYXQgbGVhc3QgYHRvYFxuICAvLyBzYXRpc2ZpZXMgYHByZWRgLiBTdXBwb3J0cyBgZnJvbWAgYmVpbmcgZ3JlYXRlciB0aGFuIGB0b2AuXG4gIGZ1bmN0aW9uIGZpbmRGaXJzdChwcmVkLCBmcm9tLCB0bykge1xuICAgIC8vIEF0IGFueSBwb2ludCB3ZSBhcmUgY2VydGFpbiBgdG9gIHNhdGlzZmllcyBgcHJlZGAsIGRvbid0IGtub3dcbiAgICAvLyB3aGV0aGVyIGBmcm9tYCBkb2VzLlxuICAgIHZhciBkaXIgPSBmcm9tID4gdG8gPyAtMSA6IDE7XG4gICAgZm9yICg7Oykge1xuICAgICAgaWYgKGZyb20gPT0gdG8pIHsgcmV0dXJuIGZyb20gfVxuICAgICAgdmFyIG1pZEYgPSAoZnJvbSArIHRvKSAvIDIsIG1pZCA9IGRpciA8IDAgPyBNYXRoLmNlaWwobWlkRikgOiBNYXRoLmZsb29yKG1pZEYpO1xuICAgICAgaWYgKG1pZCA9PSBmcm9tKSB7IHJldHVybiBwcmVkKG1pZCkgPyBmcm9tIDogdG8gfVxuICAgICAgaWYgKHByZWQobWlkKSkgeyB0byA9IG1pZDsgfVxuICAgICAgZWxzZSB7IGZyb20gPSBtaWQgKyBkaXI7IH1cbiAgICB9XG4gIH1cblxuICAvLyBCSURJIEhFTFBFUlNcblxuICBmdW5jdGlvbiBpdGVyYXRlQmlkaVNlY3Rpb25zKG9yZGVyLCBmcm9tLCB0bywgZikge1xuICAgIGlmICghb3JkZXIpIHsgcmV0dXJuIGYoZnJvbSwgdG8sIFwibHRyXCIsIDApIH1cbiAgICB2YXIgZm91bmQgPSBmYWxzZTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9yZGVyLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgcGFydCA9IG9yZGVyW2ldO1xuICAgICAgaWYgKHBhcnQuZnJvbSA8IHRvICYmIHBhcnQudG8gPiBmcm9tIHx8IGZyb20gPT0gdG8gJiYgcGFydC50byA9PSBmcm9tKSB7XG4gICAgICAgIGYoTWF0aC5tYXgocGFydC5mcm9tLCBmcm9tKSwgTWF0aC5taW4ocGFydC50bywgdG8pLCBwYXJ0LmxldmVsID09IDEgPyBcInJ0bFwiIDogXCJsdHJcIiwgaSk7XG4gICAgICAgIGZvdW5kID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFmb3VuZCkgeyBmKGZyb20sIHRvLCBcImx0clwiKTsgfVxuICB9XG5cbiAgdmFyIGJpZGlPdGhlciA9IG51bGw7XG4gIGZ1bmN0aW9uIGdldEJpZGlQYXJ0QXQob3JkZXIsIGNoLCBzdGlja3kpIHtcbiAgICB2YXIgZm91bmQ7XG4gICAgYmlkaU90aGVyID0gbnVsbDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9yZGVyLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgY3VyID0gb3JkZXJbaV07XG4gICAgICBpZiAoY3VyLmZyb20gPCBjaCAmJiBjdXIudG8gPiBjaCkgeyByZXR1cm4gaSB9XG4gICAgICBpZiAoY3VyLnRvID09IGNoKSB7XG4gICAgICAgIGlmIChjdXIuZnJvbSAhPSBjdXIudG8gJiYgc3RpY2t5ID09IFwiYmVmb3JlXCIpIHsgZm91bmQgPSBpOyB9XG4gICAgICAgIGVsc2UgeyBiaWRpT3RoZXIgPSBpOyB9XG4gICAgICB9XG4gICAgICBpZiAoY3VyLmZyb20gPT0gY2gpIHtcbiAgICAgICAgaWYgKGN1ci5mcm9tICE9IGN1ci50byAmJiBzdGlja3kgIT0gXCJiZWZvcmVcIikgeyBmb3VuZCA9IGk7IH1cbiAgICAgICAgZWxzZSB7IGJpZGlPdGhlciA9IGk7IH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZvdW5kICE9IG51bGwgPyBmb3VuZCA6IGJpZGlPdGhlclxuICB9XG5cbiAgLy8gQmlkaXJlY3Rpb25hbCBvcmRlcmluZyBhbGdvcml0aG1cbiAgLy8gU2VlIGh0dHA6Ly91bmljb2RlLm9yZy9yZXBvcnRzL3RyOS90cjktMTMuaHRtbCBmb3IgdGhlIGFsZ29yaXRobVxuICAvLyB0aGF0IHRoaXMgKHBhcnRpYWxseSkgaW1wbGVtZW50cy5cblxuICAvLyBPbmUtY2hhciBjb2RlcyB1c2VkIGZvciBjaGFyYWN0ZXIgdHlwZXM6XG4gIC8vIEwgKEwpOiAgIExlZnQtdG8tUmlnaHRcbiAgLy8gUiAoUik6ICAgUmlnaHQtdG8tTGVmdFxuICAvLyByIChBTCk6ICBSaWdodC10by1MZWZ0IEFyYWJpY1xuICAvLyAxIChFTik6ICBFdXJvcGVhbiBOdW1iZXJcbiAgLy8gKyAoRVMpOiAgRXVyb3BlYW4gTnVtYmVyIFNlcGFyYXRvclxuICAvLyAlIChFVCk6ICBFdXJvcGVhbiBOdW1iZXIgVGVybWluYXRvclxuICAvLyBuIChBTik6ICBBcmFiaWMgTnVtYmVyXG4gIC8vICwgKENTKTogIENvbW1vbiBOdW1iZXIgU2VwYXJhdG9yXG4gIC8vIG0gKE5TTSk6IE5vbi1TcGFjaW5nIE1hcmtcbiAgLy8gYiAoQk4pOiAgQm91bmRhcnkgTmV1dHJhbFxuICAvLyBzIChCKTogICBQYXJhZ3JhcGggU2VwYXJhdG9yXG4gIC8vIHQgKFMpOiAgIFNlZ21lbnQgU2VwYXJhdG9yXG4gIC8vIHcgKFdTKTogIFdoaXRlc3BhY2VcbiAgLy8gTiAoT04pOiAgT3RoZXIgTmV1dHJhbHNcblxuICAvLyBSZXR1cm5zIG51bGwgaWYgY2hhcmFjdGVycyBhcmUgb3JkZXJlZCBhcyB0aGV5IGFwcGVhclxuICAvLyAobGVmdC10by1yaWdodCksIG9yIGFuIGFycmF5IG9mIHNlY3Rpb25zICh7ZnJvbSwgdG8sIGxldmVsfVxuICAvLyBvYmplY3RzKSBpbiB0aGUgb3JkZXIgaW4gd2hpY2ggdGhleSBvY2N1ciB2aXN1YWxseS5cbiAgdmFyIGJpZGlPcmRlcmluZyA9IChmdW5jdGlvbigpIHtcbiAgICAvLyBDaGFyYWN0ZXIgdHlwZXMgZm9yIGNvZGVwb2ludHMgMCB0byAweGZmXG4gICAgdmFyIGxvd1R5cGVzID0gXCJiYmJiYmJiYmJ0c3R3c2JiYmJiYmJiYmJiYmJic3NzdHdOTiUlJU5OTk5OTixOLE4xMTExMTExMTExTk5OTk5OTkxMTExMTExMTExMTExMTExMTExMTExMTExMTk5OTk5OTExMTExMTExMTExMTExMTExMTExMTExMTExOTk5OYmJiYmJic2JiYmJiYmJiYmJiYmJiYmJiYmJiYmJiYmJiLE4lJSUlTk5OTkxOTk5OTiUlMTFOTE5OTjFMTk5OTk5MTExMTExMTExMTExMTExMTExMTExMTE5MTExMTExMTExMTExMTExMTExMTExMTExMTExMTExMTlwiO1xuICAgIC8vIENoYXJhY3RlciB0eXBlcyBmb3IgY29kZXBvaW50cyAweDYwMCB0byAweDZmOVxuICAgIHZhciBhcmFiaWNUeXBlcyA9IFwibm5ubm5uTk5yJSVyLHJOTm1tbW1tbW1tbW1tcnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJybW1tbW1tbW1tbW1tbW1tbW1tbW1tbm5ubm5ubm5ubiVubnJycm1ycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycnJycm1tbW1tbW1uTm1tbW1tbXJybW1ObW1tbXJyMTExMTExMTExMVwiO1xuICAgIGZ1bmN0aW9uIGNoYXJUeXBlKGNvZGUpIHtcbiAgICAgIGlmIChjb2RlIDw9IDB4ZjcpIHsgcmV0dXJuIGxvd1R5cGVzLmNoYXJBdChjb2RlKSB9XG4gICAgICBlbHNlIGlmICgweDU5MCA8PSBjb2RlICYmIGNvZGUgPD0gMHg1ZjQpIHsgcmV0dXJuIFwiUlwiIH1cbiAgICAgIGVsc2UgaWYgKDB4NjAwIDw9IGNvZGUgJiYgY29kZSA8PSAweDZmOSkgeyByZXR1cm4gYXJhYmljVHlwZXMuY2hhckF0KGNvZGUgLSAweDYwMCkgfVxuICAgICAgZWxzZSBpZiAoMHg2ZWUgPD0gY29kZSAmJiBjb2RlIDw9IDB4OGFjKSB7IHJldHVybiBcInJcIiB9XG4gICAgICBlbHNlIGlmICgweDIwMDAgPD0gY29kZSAmJiBjb2RlIDw9IDB4MjAwYikgeyByZXR1cm4gXCJ3XCIgfVxuICAgICAgZWxzZSBpZiAoY29kZSA9PSAweDIwMGMpIHsgcmV0dXJuIFwiYlwiIH1cbiAgICAgIGVsc2UgeyByZXR1cm4gXCJMXCIgfVxuICAgIH1cblxuICAgIHZhciBiaWRpUkUgPSAvW1xcdTA1OTAtXFx1MDVmNFxcdTA2MDAtXFx1MDZmZlxcdTA3MDAtXFx1MDhhY10vO1xuICAgIHZhciBpc05ldXRyYWwgPSAvW3N0d05dLywgaXNTdHJvbmcgPSAvW0xScl0vLCBjb3VudHNBc0xlZnQgPSAvW0xiMW5dLywgY291bnRzQXNOdW0gPSAvWzFuXS87XG5cbiAgICBmdW5jdGlvbiBCaWRpU3BhbihsZXZlbCwgZnJvbSwgdG8pIHtcbiAgICAgIHRoaXMubGV2ZWwgPSBsZXZlbDtcbiAgICAgIHRoaXMuZnJvbSA9IGZyb207IHRoaXMudG8gPSB0bztcbiAgICB9XG5cbiAgICByZXR1cm4gZnVuY3Rpb24oc3RyLCBkaXJlY3Rpb24pIHtcbiAgICAgIHZhciBvdXRlclR5cGUgPSBkaXJlY3Rpb24gPT0gXCJsdHJcIiA/IFwiTFwiIDogXCJSXCI7XG5cbiAgICAgIGlmIChzdHIubGVuZ3RoID09IDAgfHwgZGlyZWN0aW9uID09IFwibHRyXCIgJiYgIWJpZGlSRS50ZXN0KHN0cikpIHsgcmV0dXJuIGZhbHNlIH1cbiAgICAgIHZhciBsZW4gPSBzdHIubGVuZ3RoLCB0eXBlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgICAgeyB0eXBlcy5wdXNoKGNoYXJUeXBlKHN0ci5jaGFyQ29kZUF0KGkpKSk7IH1cblxuICAgICAgLy8gVzEuIEV4YW1pbmUgZWFjaCBub24tc3BhY2luZyBtYXJrIChOU00pIGluIHRoZSBsZXZlbCBydW4sIGFuZFxuICAgICAgLy8gY2hhbmdlIHRoZSB0eXBlIG9mIHRoZSBOU00gdG8gdGhlIHR5cGUgb2YgdGhlIHByZXZpb3VzXG4gICAgICAvLyBjaGFyYWN0ZXIuIElmIHRoZSBOU00gaXMgYXQgdGhlIHN0YXJ0IG9mIHRoZSBsZXZlbCBydW4sIGl0IHdpbGxcbiAgICAgIC8vIGdldCB0aGUgdHlwZSBvZiBzb3IuXG4gICAgICBmb3IgKHZhciBpJDEgPSAwLCBwcmV2ID0gb3V0ZXJUeXBlOyBpJDEgPCBsZW47ICsraSQxKSB7XG4gICAgICAgIHZhciB0eXBlID0gdHlwZXNbaSQxXTtcbiAgICAgICAgaWYgKHR5cGUgPT0gXCJtXCIpIHsgdHlwZXNbaSQxXSA9IHByZXY7IH1cbiAgICAgICAgZWxzZSB7IHByZXYgPSB0eXBlOyB9XG4gICAgICB9XG5cbiAgICAgIC8vIFcyLiBTZWFyY2ggYmFja3dhcmRzIGZyb20gZWFjaCBpbnN0YW5jZSBvZiBhIEV1cm9wZWFuIG51bWJlclxuICAgICAgLy8gdW50aWwgdGhlIGZpcnN0IHN0cm9uZyB0eXBlIChSLCBMLCBBTCwgb3Igc29yKSBpcyBmb3VuZC4gSWYgYW5cbiAgICAgIC8vIEFMIGlzIGZvdW5kLCBjaGFuZ2UgdGhlIHR5cGUgb2YgdGhlIEV1cm9wZWFuIG51bWJlciB0byBBcmFiaWNcbiAgICAgIC8vIG51bWJlci5cbiAgICAgIC8vIFczLiBDaGFuZ2UgYWxsIEFMcyB0byBSLlxuICAgICAgZm9yICh2YXIgaSQyID0gMCwgY3VyID0gb3V0ZXJUeXBlOyBpJDIgPCBsZW47ICsraSQyKSB7XG4gICAgICAgIHZhciB0eXBlJDEgPSB0eXBlc1tpJDJdO1xuICAgICAgICBpZiAodHlwZSQxID09IFwiMVwiICYmIGN1ciA9PSBcInJcIikgeyB0eXBlc1tpJDJdID0gXCJuXCI7IH1cbiAgICAgICAgZWxzZSBpZiAoaXNTdHJvbmcudGVzdCh0eXBlJDEpKSB7IGN1ciA9IHR5cGUkMTsgaWYgKHR5cGUkMSA9PSBcInJcIikgeyB0eXBlc1tpJDJdID0gXCJSXCI7IH0gfVxuICAgICAgfVxuXG4gICAgICAvLyBXNC4gQSBzaW5nbGUgRXVyb3BlYW4gc2VwYXJhdG9yIGJldHdlZW4gdHdvIEV1cm9wZWFuIG51bWJlcnNcbiAgICAgIC8vIGNoYW5nZXMgdG8gYSBFdXJvcGVhbiBudW1iZXIuIEEgc2luZ2xlIGNvbW1vbiBzZXBhcmF0b3IgYmV0d2VlblxuICAgICAgLy8gdHdvIG51bWJlcnMgb2YgdGhlIHNhbWUgdHlwZSBjaGFuZ2VzIHRvIHRoYXQgdHlwZS5cbiAgICAgIGZvciAodmFyIGkkMyA9IDEsIHByZXYkMSA9IHR5cGVzWzBdOyBpJDMgPCBsZW4gLSAxOyArK2kkMykge1xuICAgICAgICB2YXIgdHlwZSQyID0gdHlwZXNbaSQzXTtcbiAgICAgICAgaWYgKHR5cGUkMiA9PSBcIitcIiAmJiBwcmV2JDEgPT0gXCIxXCIgJiYgdHlwZXNbaSQzKzFdID09IFwiMVwiKSB7IHR5cGVzW2kkM10gPSBcIjFcIjsgfVxuICAgICAgICBlbHNlIGlmICh0eXBlJDIgPT0gXCIsXCIgJiYgcHJldiQxID09IHR5cGVzW2kkMysxXSAmJlxuICAgICAgICAgICAgICAgICAocHJldiQxID09IFwiMVwiIHx8IHByZXYkMSA9PSBcIm5cIikpIHsgdHlwZXNbaSQzXSA9IHByZXYkMTsgfVxuICAgICAgICBwcmV2JDEgPSB0eXBlJDI7XG4gICAgICB9XG5cbiAgICAgIC8vIFc1LiBBIHNlcXVlbmNlIG9mIEV1cm9wZWFuIHRlcm1pbmF0b3JzIGFkamFjZW50IHRvIEV1cm9wZWFuXG4gICAgICAvLyBudW1iZXJzIGNoYW5nZXMgdG8gYWxsIEV1cm9wZWFuIG51bWJlcnMuXG4gICAgICAvLyBXNi4gT3RoZXJ3aXNlLCBzZXBhcmF0b3JzIGFuZCB0ZXJtaW5hdG9ycyBjaGFuZ2UgdG8gT3RoZXJcbiAgICAgIC8vIE5ldXRyYWwuXG4gICAgICBmb3IgKHZhciBpJDQgPSAwOyBpJDQgPCBsZW47ICsraSQ0KSB7XG4gICAgICAgIHZhciB0eXBlJDMgPSB0eXBlc1tpJDRdO1xuICAgICAgICBpZiAodHlwZSQzID09IFwiLFwiKSB7IHR5cGVzW2kkNF0gPSBcIk5cIjsgfVxuICAgICAgICBlbHNlIGlmICh0eXBlJDMgPT0gXCIlXCIpIHtcbiAgICAgICAgICB2YXIgZW5kID0gKHZvaWQgMCk7XG4gICAgICAgICAgZm9yIChlbmQgPSBpJDQgKyAxOyBlbmQgPCBsZW4gJiYgdHlwZXNbZW5kXSA9PSBcIiVcIjsgKytlbmQpIHt9XG4gICAgICAgICAgdmFyIHJlcGxhY2UgPSAoaSQ0ICYmIHR5cGVzW2kkNC0xXSA9PSBcIiFcIikgfHwgKGVuZCA8IGxlbiAmJiB0eXBlc1tlbmRdID09IFwiMVwiKSA/IFwiMVwiIDogXCJOXCI7XG4gICAgICAgICAgZm9yICh2YXIgaiA9IGkkNDsgaiA8IGVuZDsgKytqKSB7IHR5cGVzW2pdID0gcmVwbGFjZTsgfVxuICAgICAgICAgIGkkNCA9IGVuZCAtIDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gVzcuIFNlYXJjaCBiYWNrd2FyZHMgZnJvbSBlYWNoIGluc3RhbmNlIG9mIGEgRXVyb3BlYW4gbnVtYmVyXG4gICAgICAvLyB1bnRpbCB0aGUgZmlyc3Qgc3Ryb25nIHR5cGUgKFIsIEwsIG9yIHNvcikgaXMgZm91bmQuIElmIGFuIEwgaXNcbiAgICAgIC8vIGZvdW5kLCB0aGVuIGNoYW5nZSB0aGUgdHlwZSBvZiB0aGUgRXVyb3BlYW4gbnVtYmVyIHRvIEwuXG4gICAgICBmb3IgKHZhciBpJDUgPSAwLCBjdXIkMSA9IG91dGVyVHlwZTsgaSQ1IDwgbGVuOyArK2kkNSkge1xuICAgICAgICB2YXIgdHlwZSQ0ID0gdHlwZXNbaSQ1XTtcbiAgICAgICAgaWYgKGN1ciQxID09IFwiTFwiICYmIHR5cGUkNCA9PSBcIjFcIikgeyB0eXBlc1tpJDVdID0gXCJMXCI7IH1cbiAgICAgICAgZWxzZSBpZiAoaXNTdHJvbmcudGVzdCh0eXBlJDQpKSB7IGN1ciQxID0gdHlwZSQ0OyB9XG4gICAgICB9XG5cbiAgICAgIC8vIE4xLiBBIHNlcXVlbmNlIG9mIG5ldXRyYWxzIHRha2VzIHRoZSBkaXJlY3Rpb24gb2YgdGhlXG4gICAgICAvLyBzdXJyb3VuZGluZyBzdHJvbmcgdGV4dCBpZiB0aGUgdGV4dCBvbiBib3RoIHNpZGVzIGhhcyB0aGUgc2FtZVxuICAgICAgLy8gZGlyZWN0aW9uLiBFdXJvcGVhbiBhbmQgQXJhYmljIG51bWJlcnMgYWN0IGFzIGlmIHRoZXkgd2VyZSBSIGluXG4gICAgICAvLyB0ZXJtcyBvZiB0aGVpciBpbmZsdWVuY2Ugb24gbmV1dHJhbHMuIFN0YXJ0LW9mLWxldmVsLXJ1biAoc29yKVxuICAgICAgLy8gYW5kIGVuZC1vZi1sZXZlbC1ydW4gKGVvcikgYXJlIHVzZWQgYXQgbGV2ZWwgcnVuIGJvdW5kYXJpZXMuXG4gICAgICAvLyBOMi4gQW55IHJlbWFpbmluZyBuZXV0cmFscyB0YWtlIHRoZSBlbWJlZGRpbmcgZGlyZWN0aW9uLlxuICAgICAgZm9yICh2YXIgaSQ2ID0gMDsgaSQ2IDwgbGVuOyArK2kkNikge1xuICAgICAgICBpZiAoaXNOZXV0cmFsLnRlc3QodHlwZXNbaSQ2XSkpIHtcbiAgICAgICAgICB2YXIgZW5kJDEgPSAodm9pZCAwKTtcbiAgICAgICAgICBmb3IgKGVuZCQxID0gaSQ2ICsgMTsgZW5kJDEgPCBsZW4gJiYgaXNOZXV0cmFsLnRlc3QodHlwZXNbZW5kJDFdKTsgKytlbmQkMSkge31cbiAgICAgICAgICB2YXIgYmVmb3JlID0gKGkkNiA/IHR5cGVzW2kkNi0xXSA6IG91dGVyVHlwZSkgPT0gXCJMXCI7XG4gICAgICAgICAgdmFyIGFmdGVyID0gKGVuZCQxIDwgbGVuID8gdHlwZXNbZW5kJDFdIDogb3V0ZXJUeXBlKSA9PSBcIkxcIjtcbiAgICAgICAgICB2YXIgcmVwbGFjZSQxID0gYmVmb3JlID09IGFmdGVyID8gKGJlZm9yZSA/IFwiTFwiIDogXCJSXCIpIDogb3V0ZXJUeXBlO1xuICAgICAgICAgIGZvciAodmFyIGokMSA9IGkkNjsgaiQxIDwgZW5kJDE7ICsraiQxKSB7IHR5cGVzW2okMV0gPSByZXBsYWNlJDE7IH1cbiAgICAgICAgICBpJDYgPSBlbmQkMSAtIDE7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gSGVyZSB3ZSBkZXBhcnQgZnJvbSB0aGUgZG9jdW1lbnRlZCBhbGdvcml0aG0sIGluIG9yZGVyIHRvIGF2b2lkXG4gICAgICAvLyBidWlsZGluZyB1cCBhbiBhY3R1YWwgbGV2ZWxzIGFycmF5LiBTaW5jZSB0aGVyZSBhcmUgb25seSB0aHJlZVxuICAgICAgLy8gbGV2ZWxzICgwLCAxLCAyKSBpbiBhbiBpbXBsZW1lbnRhdGlvbiB0aGF0IGRvZXNuJ3QgdGFrZVxuICAgICAgLy8gZXhwbGljaXQgZW1iZWRkaW5nIGludG8gYWNjb3VudCwgd2UgY2FuIGJ1aWxkIHVwIHRoZSBvcmRlciBvblxuICAgICAgLy8gdGhlIGZseSwgd2l0aG91dCBmb2xsb3dpbmcgdGhlIGxldmVsLWJhc2VkIGFsZ29yaXRobS5cbiAgICAgIHZhciBvcmRlciA9IFtdLCBtO1xuICAgICAgZm9yICh2YXIgaSQ3ID0gMDsgaSQ3IDwgbGVuOykge1xuICAgICAgICBpZiAoY291bnRzQXNMZWZ0LnRlc3QodHlwZXNbaSQ3XSkpIHtcbiAgICAgICAgICB2YXIgc3RhcnQgPSBpJDc7XG4gICAgICAgICAgZm9yICgrK2kkNzsgaSQ3IDwgbGVuICYmIGNvdW50c0FzTGVmdC50ZXN0KHR5cGVzW2kkN10pOyArK2kkNykge31cbiAgICAgICAgICBvcmRlci5wdXNoKG5ldyBCaWRpU3BhbigwLCBzdGFydCwgaSQ3KSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHBvcyA9IGkkNywgYXQgPSBvcmRlci5sZW5ndGgsIGlzUlRMID0gZGlyZWN0aW9uID09IFwicnRsXCIgPyAxIDogMDtcbiAgICAgICAgICBmb3IgKCsraSQ3OyBpJDcgPCBsZW4gJiYgdHlwZXNbaSQ3XSAhPSBcIkxcIjsgKytpJDcpIHt9XG4gICAgICAgICAgZm9yICh2YXIgaiQyID0gcG9zOyBqJDIgPCBpJDc7KSB7XG4gICAgICAgICAgICBpZiAoY291bnRzQXNOdW0udGVzdCh0eXBlc1tqJDJdKSkge1xuICAgICAgICAgICAgICBpZiAocG9zIDwgaiQyKSB7IG9yZGVyLnNwbGljZShhdCwgMCwgbmV3IEJpZGlTcGFuKDEsIHBvcywgaiQyKSk7IGF0ICs9IGlzUlRMOyB9XG4gICAgICAgICAgICAgIHZhciBuc3RhcnQgPSBqJDI7XG4gICAgICAgICAgICAgIGZvciAoKytqJDI7IGokMiA8IGkkNyAmJiBjb3VudHNBc051bS50ZXN0KHR5cGVzW2okMl0pOyArK2okMikge31cbiAgICAgICAgICAgICAgb3JkZXIuc3BsaWNlKGF0LCAwLCBuZXcgQmlkaVNwYW4oMiwgbnN0YXJ0LCBqJDIpKTtcbiAgICAgICAgICAgICAgYXQgKz0gaXNSVEw7XG4gICAgICAgICAgICAgIHBvcyA9IGokMjtcbiAgICAgICAgICAgIH0gZWxzZSB7ICsraiQyOyB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwb3MgPCBpJDcpIHsgb3JkZXIuc3BsaWNlKGF0LCAwLCBuZXcgQmlkaVNwYW4oMSwgcG9zLCBpJDcpKTsgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZGlyZWN0aW9uID09IFwibHRyXCIpIHtcbiAgICAgICAgaWYgKG9yZGVyWzBdLmxldmVsID09IDEgJiYgKG0gPSBzdHIubWF0Y2goL15cXHMrLykpKSB7XG4gICAgICAgICAgb3JkZXJbMF0uZnJvbSA9IG1bMF0ubGVuZ3RoO1xuICAgICAgICAgIG9yZGVyLnVuc2hpZnQobmV3IEJpZGlTcGFuKDAsIDAsIG1bMF0ubGVuZ3RoKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGxzdChvcmRlcikubGV2ZWwgPT0gMSAmJiAobSA9IHN0ci5tYXRjaCgvXFxzKyQvKSkpIHtcbiAgICAgICAgICBsc3Qob3JkZXIpLnRvIC09IG1bMF0ubGVuZ3RoO1xuICAgICAgICAgIG9yZGVyLnB1c2gobmV3IEJpZGlTcGFuKDAsIGxlbiAtIG1bMF0ubGVuZ3RoLCBsZW4pKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gZGlyZWN0aW9uID09IFwicnRsXCIgPyBvcmRlci5yZXZlcnNlKCkgOiBvcmRlclxuICAgIH1cbiAgfSkoKTtcblxuICAvLyBHZXQgdGhlIGJpZGkgb3JkZXJpbmcgZm9yIHRoZSBnaXZlbiBsaW5lIChhbmQgY2FjaGUgaXQpLiBSZXR1cm5zXG4gIC8vIGZhbHNlIGZvciBsaW5lcyB0aGF0IGFyZSBmdWxseSBsZWZ0LXRvLXJpZ2h0LCBhbmQgYW4gYXJyYXkgb2ZcbiAgLy8gQmlkaVNwYW4gb2JqZWN0cyBvdGhlcndpc2UuXG4gIGZ1bmN0aW9uIGdldE9yZGVyKGxpbmUsIGRpcmVjdGlvbikge1xuICAgIHZhciBvcmRlciA9IGxpbmUub3JkZXI7XG4gICAgaWYgKG9yZGVyID09IG51bGwpIHsgb3JkZXIgPSBsaW5lLm9yZGVyID0gYmlkaU9yZGVyaW5nKGxpbmUudGV4dCwgZGlyZWN0aW9uKTsgfVxuICAgIHJldHVybiBvcmRlclxuICB9XG5cbiAgLy8gRVZFTlQgSEFORExJTkdcblxuICAvLyBMaWdodHdlaWdodCBldmVudCBmcmFtZXdvcmsuIG9uL29mZiBhbHNvIHdvcmsgb24gRE9NIG5vZGVzLFxuICAvLyByZWdpc3RlcmluZyBuYXRpdmUgRE9NIGhhbmRsZXJzLlxuXG4gIHZhciBub0hhbmRsZXJzID0gW107XG5cbiAgdmFyIG9uID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSwgZikge1xuICAgIGlmIChlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmLCBmYWxzZSk7XG4gICAgfSBlbHNlIGlmIChlbWl0dGVyLmF0dGFjaEV2ZW50KSB7XG4gICAgICBlbWl0dGVyLmF0dGFjaEV2ZW50KFwib25cIiArIHR5cGUsIGYpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgbWFwID0gZW1pdHRlci5faGFuZGxlcnMgfHwgKGVtaXR0ZXIuX2hhbmRsZXJzID0ge30pO1xuICAgICAgbWFwW3R5cGVdID0gKG1hcFt0eXBlXSB8fCBub0hhbmRsZXJzKS5jb25jYXQoZik7XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIGdldEhhbmRsZXJzKGVtaXR0ZXIsIHR5cGUpIHtcbiAgICByZXR1cm4gZW1pdHRlci5faGFuZGxlcnMgJiYgZW1pdHRlci5faGFuZGxlcnNbdHlwZV0gfHwgbm9IYW5kbGVyc1xuICB9XG5cbiAgZnVuY3Rpb24gb2ZmKGVtaXR0ZXIsIHR5cGUsIGYpIHtcbiAgICBpZiAoZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKSB7XG4gICAgICBlbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgZiwgZmFsc2UpO1xuICAgIH0gZWxzZSBpZiAoZW1pdHRlci5kZXRhY2hFdmVudCkge1xuICAgICAgZW1pdHRlci5kZXRhY2hFdmVudChcIm9uXCIgKyB0eXBlLCBmKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG1hcCA9IGVtaXR0ZXIuX2hhbmRsZXJzLCBhcnIgPSBtYXAgJiYgbWFwW3R5cGVdO1xuICAgICAgaWYgKGFycikge1xuICAgICAgICB2YXIgaW5kZXggPSBpbmRleE9mKGFyciwgZik7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKVxuICAgICAgICAgIHsgbWFwW3R5cGVdID0gYXJyLnNsaWNlKDAsIGluZGV4KS5jb25jYXQoYXJyLnNsaWNlKGluZGV4ICsgMSkpOyB9XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2lnbmFsKGVtaXR0ZXIsIHR5cGUgLyosIHZhbHVlcy4uLiovKSB7XG4gICAgdmFyIGhhbmRsZXJzID0gZ2V0SGFuZGxlcnMoZW1pdHRlciwgdHlwZSk7XG4gICAgaWYgKCFoYW5kbGVycy5sZW5ndGgpIHsgcmV0dXJuIH1cbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoYW5kbGVycy5sZW5ndGg7ICsraSkgeyBoYW5kbGVyc1tpXS5hcHBseShudWxsLCBhcmdzKTsgfVxuICB9XG5cbiAgLy8gVGhlIERPTSBldmVudHMgdGhhdCBDb2RlTWlycm9yIGhhbmRsZXMgY2FuIGJlIG92ZXJyaWRkZW4gYnlcbiAgLy8gcmVnaXN0ZXJpbmcgYSAobm9uLURPTSkgaGFuZGxlciBvbiB0aGUgZWRpdG9yIGZvciB0aGUgZXZlbnQgbmFtZSxcbiAgLy8gYW5kIHByZXZlbnREZWZhdWx0LWluZyB0aGUgZXZlbnQgaW4gdGhhdCBoYW5kbGVyLlxuICBmdW5jdGlvbiBzaWduYWxET01FdmVudChjbSwgZSwgb3ZlcnJpZGUpIHtcbiAgICBpZiAodHlwZW9mIGUgPT0gXCJzdHJpbmdcIilcbiAgICAgIHsgZSA9IHt0eXBlOiBlLCBwcmV2ZW50RGVmYXVsdDogZnVuY3Rpb24oKSB7IHRoaXMuZGVmYXVsdFByZXZlbnRlZCA9IHRydWU7IH19OyB9XG4gICAgc2lnbmFsKGNtLCBvdmVycmlkZSB8fCBlLnR5cGUsIGNtLCBlKTtcbiAgICByZXR1cm4gZV9kZWZhdWx0UHJldmVudGVkKGUpIHx8IGUuY29kZW1pcnJvcklnbm9yZVxuICB9XG5cbiAgZnVuY3Rpb24gc2lnbmFsQ3Vyc29yQWN0aXZpdHkoY20pIHtcbiAgICB2YXIgYXJyID0gY20uX2hhbmRsZXJzICYmIGNtLl9oYW5kbGVycy5jdXJzb3JBY3Rpdml0eTtcbiAgICBpZiAoIWFycikgeyByZXR1cm4gfVxuICAgIHZhciBzZXQgPSBjbS5jdXJPcC5jdXJzb3JBY3Rpdml0eUhhbmRsZXJzIHx8IChjbS5jdXJPcC5jdXJzb3JBY3Rpdml0eUhhbmRsZXJzID0gW10pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgKytpKSB7IGlmIChpbmRleE9mKHNldCwgYXJyW2ldKSA9PSAtMSlcbiAgICAgIHsgc2V0LnB1c2goYXJyW2ldKTsgfSB9XG4gIH1cblxuICBmdW5jdGlvbiBoYXNIYW5kbGVyKGVtaXR0ZXIsIHR5cGUpIHtcbiAgICByZXR1cm4gZ2V0SGFuZGxlcnMoZW1pdHRlciwgdHlwZSkubGVuZ3RoID4gMFxuICB9XG5cbiAgLy8gQWRkIG9uIGFuZCBvZmYgbWV0aG9kcyB0byBhIGNvbnN0cnVjdG9yJ3MgcHJvdG90eXBlLCB0byBtYWtlXG4gIC8vIHJlZ2lzdGVyaW5nIGV2ZW50cyBvbiBzdWNoIG9iamVjdHMgbW9yZSBjb252ZW5pZW50LlxuICBmdW5jdGlvbiBldmVudE1peGluKGN0b3IpIHtcbiAgICBjdG9yLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKHR5cGUsIGYpIHtvbih0aGlzLCB0eXBlLCBmKTt9O1xuICAgIGN0b3IucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uKHR5cGUsIGYpIHtvZmYodGhpcywgdHlwZSwgZik7fTtcbiAgfVxuXG4gIC8vIER1ZSB0byB0aGUgZmFjdCB0aGF0IHdlIHN0aWxsIHN1cHBvcnQganVyYXNzaWMgSUUgdmVyc2lvbnMsIHNvbWVcbiAgLy8gY29tcGF0aWJpbGl0eSB3cmFwcGVycyBhcmUgbmVlZGVkLlxuXG4gIGZ1bmN0aW9uIGVfcHJldmVudERlZmF1bHQoZSkge1xuICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSB7IGUucHJldmVudERlZmF1bHQoKTsgfVxuICAgIGVsc2UgeyBlLnJldHVyblZhbHVlID0gZmFsc2U7IH1cbiAgfVxuICBmdW5jdGlvbiBlX3N0b3BQcm9wYWdhdGlvbihlKSB7XG4gICAgaWYgKGUuc3RvcFByb3BhZ2F0aW9uKSB7IGUuc3RvcFByb3BhZ2F0aW9uKCk7IH1cbiAgICBlbHNlIHsgZS5jYW5jZWxCdWJibGUgPSB0cnVlOyB9XG4gIH1cbiAgZnVuY3Rpb24gZV9kZWZhdWx0UHJldmVudGVkKGUpIHtcbiAgICByZXR1cm4gZS5kZWZhdWx0UHJldmVudGVkICE9IG51bGwgPyBlLmRlZmF1bHRQcmV2ZW50ZWQgOiBlLnJldHVyblZhbHVlID09IGZhbHNlXG4gIH1cbiAgZnVuY3Rpb24gZV9zdG9wKGUpIHtlX3ByZXZlbnREZWZhdWx0KGUpOyBlX3N0b3BQcm9wYWdhdGlvbihlKTt9XG5cbiAgZnVuY3Rpb24gZV90YXJnZXQoZSkge3JldHVybiBlLnRhcmdldCB8fCBlLnNyY0VsZW1lbnR9XG4gIGZ1bmN0aW9uIGVfYnV0dG9uKGUpIHtcbiAgICB2YXIgYiA9IGUud2hpY2g7XG4gICAgaWYgKGIgPT0gbnVsbCkge1xuICAgICAgaWYgKGUuYnV0dG9uICYgMSkgeyBiID0gMTsgfVxuICAgICAgZWxzZSBpZiAoZS5idXR0b24gJiAyKSB7IGIgPSAzOyB9XG4gICAgICBlbHNlIGlmIChlLmJ1dHRvbiAmIDQpIHsgYiA9IDI7IH1cbiAgICB9XG4gICAgaWYgKG1hYyAmJiBlLmN0cmxLZXkgJiYgYiA9PSAxKSB7IGIgPSAzOyB9XG4gICAgcmV0dXJuIGJcbiAgfVxuXG4gIC8vIERldGVjdCBkcmFnLWFuZC1kcm9wXG4gIHZhciBkcmFnQW5kRHJvcCA9IGZ1bmN0aW9uKCkge1xuICAgIC8vIFRoZXJlIGlzICpzb21lKiBraW5kIG9mIGRyYWctYW5kLWRyb3Agc3VwcG9ydCBpbiBJRTYtOCwgYnV0IElcbiAgICAvLyBjb3VsZG4ndCBnZXQgaXQgdG8gd29yayB5ZXQuXG4gICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA5KSB7IHJldHVybiBmYWxzZSB9XG4gICAgdmFyIGRpdiA9IGVsdCgnZGl2Jyk7XG4gICAgcmV0dXJuIFwiZHJhZ2dhYmxlXCIgaW4gZGl2IHx8IFwiZHJhZ0Ryb3BcIiBpbiBkaXZcbiAgfSgpO1xuXG4gIHZhciB6d3NwU3VwcG9ydGVkO1xuICBmdW5jdGlvbiB6ZXJvV2lkdGhFbGVtZW50KG1lYXN1cmUpIHtcbiAgICBpZiAoendzcFN1cHBvcnRlZCA9PSBudWxsKSB7XG4gICAgICB2YXIgdGVzdCA9IGVsdChcInNwYW5cIiwgXCJcXHUyMDBiXCIpO1xuICAgICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQobWVhc3VyZSwgZWx0KFwic3BhblwiLCBbdGVzdCwgZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJ4XCIpXSkpO1xuICAgICAgaWYgKG1lYXN1cmUuZmlyc3RDaGlsZC5vZmZzZXRIZWlnaHQgIT0gMClcbiAgICAgICAgeyB6d3NwU3VwcG9ydGVkID0gdGVzdC5vZmZzZXRXaWR0aCA8PSAxICYmIHRlc3Qub2Zmc2V0SGVpZ2h0ID4gMiAmJiAhKGllICYmIGllX3ZlcnNpb24gPCA4KTsgfVxuICAgIH1cbiAgICB2YXIgbm9kZSA9IHp3c3BTdXBwb3J0ZWQgPyBlbHQoXCJzcGFuXCIsIFwiXFx1MjAwYlwiKSA6XG4gICAgICBlbHQoXCJzcGFuXCIsIFwiXFx1MDBhMFwiLCBudWxsLCBcImRpc3BsYXk6IGlubGluZS1ibG9jazsgd2lkdGg6IDFweDsgbWFyZ2luLXJpZ2h0OiAtMXB4XCIpO1xuICAgIG5vZGUuc2V0QXR0cmlidXRlKFwiY20tdGV4dFwiLCBcIlwiKTtcbiAgICByZXR1cm4gbm9kZVxuICB9XG5cbiAgLy8gRmVhdHVyZS1kZXRlY3QgSUUncyBjcnVtbXkgY2xpZW50IHJlY3QgcmVwb3J0aW5nIGZvciBiaWRpIHRleHRcbiAgdmFyIGJhZEJpZGlSZWN0cztcbiAgZnVuY3Rpb24gaGFzQmFkQmlkaVJlY3RzKG1lYXN1cmUpIHtcbiAgICBpZiAoYmFkQmlkaVJlY3RzICE9IG51bGwpIHsgcmV0dXJuIGJhZEJpZGlSZWN0cyB9XG4gICAgdmFyIHR4dCA9IHJlbW92ZUNoaWxkcmVuQW5kQWRkKG1lYXN1cmUsIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiQVxcdTA2MmVBXCIpKTtcbiAgICB2YXIgcjAgPSByYW5nZSh0eHQsIDAsIDEpLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHZhciByMSA9IHJhbmdlKHR4dCwgMSwgMikuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmVtb3ZlQ2hpbGRyZW4obWVhc3VyZSk7XG4gICAgaWYgKCFyMCB8fCByMC5sZWZ0ID09IHIwLnJpZ2h0KSB7IHJldHVybiBmYWxzZSB9IC8vIFNhZmFyaSByZXR1cm5zIG51bGwgaW4gc29tZSBjYXNlcyAoIzI3ODApXG4gICAgcmV0dXJuIGJhZEJpZGlSZWN0cyA9IChyMS5yaWdodCAtIHIwLnJpZ2h0IDwgMylcbiAgfVxuXG4gIC8vIFNlZSBpZiBcIlwiLnNwbGl0IGlzIHRoZSBicm9rZW4gSUUgdmVyc2lvbiwgaWYgc28sIHByb3ZpZGUgYW5cbiAgLy8gYWx0ZXJuYXRpdmUgd2F5IHRvIHNwbGl0IGxpbmVzLlxuICB2YXIgc3BsaXRMaW5lc0F1dG8gPSBcIlxcblxcbmJcIi5zcGxpdCgvXFxuLykubGVuZ3RoICE9IDMgPyBmdW5jdGlvbiAoc3RyaW5nKSB7XG4gICAgdmFyIHBvcyA9IDAsIHJlc3VsdCA9IFtdLCBsID0gc3RyaW5nLmxlbmd0aDtcbiAgICB3aGlsZSAocG9zIDw9IGwpIHtcbiAgICAgIHZhciBubCA9IHN0cmluZy5pbmRleE9mKFwiXFxuXCIsIHBvcyk7XG4gICAgICBpZiAobmwgPT0gLTEpIHsgbmwgPSBzdHJpbmcubGVuZ3RoOyB9XG4gICAgICB2YXIgbGluZSA9IHN0cmluZy5zbGljZShwb3MsIHN0cmluZy5jaGFyQXQobmwgLSAxKSA9PSBcIlxcclwiID8gbmwgLSAxIDogbmwpO1xuICAgICAgdmFyIHJ0ID0gbGluZS5pbmRleE9mKFwiXFxyXCIpO1xuICAgICAgaWYgKHJ0ICE9IC0xKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGxpbmUuc2xpY2UoMCwgcnQpKTtcbiAgICAgICAgcG9zICs9IHJ0ICsgMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKGxpbmUpO1xuICAgICAgICBwb3MgPSBubCArIDE7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRcbiAgfSA6IGZ1bmN0aW9uIChzdHJpbmcpIHsgcmV0dXJuIHN0cmluZy5zcGxpdCgvXFxyXFxuP3xcXG4vKTsgfTtcblxuICB2YXIgaGFzU2VsZWN0aW9uID0gd2luZG93LmdldFNlbGVjdGlvbiA/IGZ1bmN0aW9uICh0ZSkge1xuICAgIHRyeSB7IHJldHVybiB0ZS5zZWxlY3Rpb25TdGFydCAhPSB0ZS5zZWxlY3Rpb25FbmQgfVxuICAgIGNhdGNoKGUpIHsgcmV0dXJuIGZhbHNlIH1cbiAgfSA6IGZ1bmN0aW9uICh0ZSkge1xuICAgIHZhciByYW5nZTtcbiAgICB0cnkge3JhbmdlID0gdGUub3duZXJEb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKTt9XG4gICAgY2F0Y2goZSkge31cbiAgICBpZiAoIXJhbmdlIHx8IHJhbmdlLnBhcmVudEVsZW1lbnQoKSAhPSB0ZSkgeyByZXR1cm4gZmFsc2UgfVxuICAgIHJldHVybiByYW5nZS5jb21wYXJlRW5kUG9pbnRzKFwiU3RhcnRUb0VuZFwiLCByYW5nZSkgIT0gMFxuICB9O1xuXG4gIHZhciBoYXNDb3B5RXZlbnQgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBlID0gZWx0KFwiZGl2XCIpO1xuICAgIGlmIChcIm9uY29weVwiIGluIGUpIHsgcmV0dXJuIHRydWUgfVxuICAgIGUuc2V0QXR0cmlidXRlKFwib25jb3B5XCIsIFwicmV0dXJuO1wiKTtcbiAgICByZXR1cm4gdHlwZW9mIGUub25jb3B5ID09IFwiZnVuY3Rpb25cIlxuICB9KSgpO1xuXG4gIHZhciBiYWRab29tZWRSZWN0cyA9IG51bGw7XG4gIGZ1bmN0aW9uIGhhc0JhZFpvb21lZFJlY3RzKG1lYXN1cmUpIHtcbiAgICBpZiAoYmFkWm9vbWVkUmVjdHMgIT0gbnVsbCkgeyByZXR1cm4gYmFkWm9vbWVkUmVjdHMgfVxuICAgIHZhciBub2RlID0gcmVtb3ZlQ2hpbGRyZW5BbmRBZGQobWVhc3VyZSwgZWx0KFwic3BhblwiLCBcInhcIikpO1xuICAgIHZhciBub3JtYWwgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIHZhciBmcm9tUmFuZ2UgPSByYW5nZShub2RlLCAwLCAxKS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICByZXR1cm4gYmFkWm9vbWVkUmVjdHMgPSBNYXRoLmFicyhub3JtYWwubGVmdCAtIGZyb21SYW5nZS5sZWZ0KSA+IDFcbiAgfVxuXG4gIC8vIEtub3duIG1vZGVzLCBieSBuYW1lIGFuZCBieSBNSU1FXG4gIHZhciBtb2RlcyA9IHt9LCBtaW1lTW9kZXMgPSB7fTtcblxuICAvLyBFeHRyYSBhcmd1bWVudHMgYXJlIHN0b3JlZCBhcyB0aGUgbW9kZSdzIGRlcGVuZGVuY2llcywgd2hpY2ggaXNcbiAgLy8gdXNlZCBieSAobGVnYWN5KSBtZWNoYW5pc21zIGxpa2UgbG9hZG1vZGUuanMgdG8gYXV0b21hdGljYWxseVxuICAvLyBsb2FkIGEgbW9kZS4gKFByZWZlcnJlZCBtZWNoYW5pc20gaXMgdGhlIHJlcXVpcmUvZGVmaW5lIGNhbGxzLilcbiAgZnVuY3Rpb24gZGVmaW5lTW9kZShuYW1lLCBtb2RlKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAyKVxuICAgICAgeyBtb2RlLmRlcGVuZGVuY2llcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMik7IH1cbiAgICBtb2Rlc1tuYW1lXSA9IG1vZGU7XG4gIH1cblxuICBmdW5jdGlvbiBkZWZpbmVNSU1FKG1pbWUsIHNwZWMpIHtcbiAgICBtaW1lTW9kZXNbbWltZV0gPSBzcGVjO1xuICB9XG5cbiAgLy8gR2l2ZW4gYSBNSU1FIHR5cGUsIGEge25hbWUsIC4uLm9wdGlvbnN9IGNvbmZpZyBvYmplY3QsIG9yIGEgbmFtZVxuICAvLyBzdHJpbmcsIHJldHVybiBhIG1vZGUgY29uZmlnIG9iamVjdC5cbiAgZnVuY3Rpb24gcmVzb2x2ZU1vZGUoc3BlYykge1xuICAgIGlmICh0eXBlb2Ygc3BlYyA9PSBcInN0cmluZ1wiICYmIG1pbWVNb2Rlcy5oYXNPd25Qcm9wZXJ0eShzcGVjKSkge1xuICAgICAgc3BlYyA9IG1pbWVNb2Rlc1tzcGVjXTtcbiAgICB9IGVsc2UgaWYgKHNwZWMgJiYgdHlwZW9mIHNwZWMubmFtZSA9PSBcInN0cmluZ1wiICYmIG1pbWVNb2Rlcy5oYXNPd25Qcm9wZXJ0eShzcGVjLm5hbWUpKSB7XG4gICAgICB2YXIgZm91bmQgPSBtaW1lTW9kZXNbc3BlYy5uYW1lXTtcbiAgICAgIGlmICh0eXBlb2YgZm91bmQgPT0gXCJzdHJpbmdcIikgeyBmb3VuZCA9IHtuYW1lOiBmb3VuZH07IH1cbiAgICAgIHNwZWMgPSBjcmVhdGVPYmooZm91bmQsIHNwZWMpO1xuICAgICAgc3BlYy5uYW1lID0gZm91bmQubmFtZTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBzcGVjID09IFwic3RyaW5nXCIgJiYgL15bXFx3XFwtXStcXC9bXFx3XFwtXStcXCt4bWwkLy50ZXN0KHNwZWMpKSB7XG4gICAgICByZXR1cm4gcmVzb2x2ZU1vZGUoXCJhcHBsaWNhdGlvbi94bWxcIilcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBzcGVjID09IFwic3RyaW5nXCIgJiYgL15bXFx3XFwtXStcXC9bXFx3XFwtXStcXCtqc29uJC8udGVzdChzcGVjKSkge1xuICAgICAgcmV0dXJuIHJlc29sdmVNb2RlKFwiYXBwbGljYXRpb24vanNvblwiKVxuICAgIH1cbiAgICBpZiAodHlwZW9mIHNwZWMgPT0gXCJzdHJpbmdcIikgeyByZXR1cm4ge25hbWU6IHNwZWN9IH1cbiAgICBlbHNlIHsgcmV0dXJuIHNwZWMgfHwge25hbWU6IFwibnVsbFwifSB9XG4gIH1cblxuICAvLyBHaXZlbiBhIG1vZGUgc3BlYyAoYW55dGhpbmcgdGhhdCByZXNvbHZlTW9kZSBhY2NlcHRzKSwgZmluZCBhbmRcbiAgLy8gaW5pdGlhbGl6ZSBhbiBhY3R1YWwgbW9kZSBvYmplY3QuXG4gIGZ1bmN0aW9uIGdldE1vZGUob3B0aW9ucywgc3BlYykge1xuICAgIHNwZWMgPSByZXNvbHZlTW9kZShzcGVjKTtcbiAgICB2YXIgbWZhY3RvcnkgPSBtb2Rlc1tzcGVjLm5hbWVdO1xuICAgIGlmICghbWZhY3RvcnkpIHsgcmV0dXJuIGdldE1vZGUob3B0aW9ucywgXCJ0ZXh0L3BsYWluXCIpIH1cbiAgICB2YXIgbW9kZU9iaiA9IG1mYWN0b3J5KG9wdGlvbnMsIHNwZWMpO1xuICAgIGlmIChtb2RlRXh0ZW5zaW9ucy5oYXNPd25Qcm9wZXJ0eShzcGVjLm5hbWUpKSB7XG4gICAgICB2YXIgZXh0cyA9IG1vZGVFeHRlbnNpb25zW3NwZWMubmFtZV07XG4gICAgICBmb3IgKHZhciBwcm9wIGluIGV4dHMpIHtcbiAgICAgICAgaWYgKCFleHRzLmhhc093blByb3BlcnR5KHByb3ApKSB7IGNvbnRpbnVlIH1cbiAgICAgICAgaWYgKG1vZGVPYmouaGFzT3duUHJvcGVydHkocHJvcCkpIHsgbW9kZU9ialtcIl9cIiArIHByb3BdID0gbW9kZU9ialtwcm9wXTsgfVxuICAgICAgICBtb2RlT2JqW3Byb3BdID0gZXh0c1twcm9wXTtcbiAgICAgIH1cbiAgICB9XG4gICAgbW9kZU9iai5uYW1lID0gc3BlYy5uYW1lO1xuICAgIGlmIChzcGVjLmhlbHBlclR5cGUpIHsgbW9kZU9iai5oZWxwZXJUeXBlID0gc3BlYy5oZWxwZXJUeXBlOyB9XG4gICAgaWYgKHNwZWMubW9kZVByb3BzKSB7IGZvciAodmFyIHByb3AkMSBpbiBzcGVjLm1vZGVQcm9wcylcbiAgICAgIHsgbW9kZU9ialtwcm9wJDFdID0gc3BlYy5tb2RlUHJvcHNbcHJvcCQxXTsgfSB9XG5cbiAgICByZXR1cm4gbW9kZU9ialxuICB9XG5cbiAgLy8gVGhpcyBjYW4gYmUgdXNlZCB0byBhdHRhY2ggcHJvcGVydGllcyB0byBtb2RlIG9iamVjdHMgZnJvbVxuICAvLyBvdXRzaWRlIHRoZSBhY3R1YWwgbW9kZSBkZWZpbml0aW9uLlxuICB2YXIgbW9kZUV4dGVuc2lvbnMgPSB7fTtcbiAgZnVuY3Rpb24gZXh0ZW5kTW9kZShtb2RlLCBwcm9wZXJ0aWVzKSB7XG4gICAgdmFyIGV4dHMgPSBtb2RlRXh0ZW5zaW9ucy5oYXNPd25Qcm9wZXJ0eShtb2RlKSA/IG1vZGVFeHRlbnNpb25zW21vZGVdIDogKG1vZGVFeHRlbnNpb25zW21vZGVdID0ge30pO1xuICAgIGNvcHlPYmoocHJvcGVydGllcywgZXh0cyk7XG4gIH1cblxuICBmdW5jdGlvbiBjb3B5U3RhdGUobW9kZSwgc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUgPT09IHRydWUpIHsgcmV0dXJuIHN0YXRlIH1cbiAgICBpZiAobW9kZS5jb3B5U3RhdGUpIHsgcmV0dXJuIG1vZGUuY29weVN0YXRlKHN0YXRlKSB9XG4gICAgdmFyIG5zdGF0ZSA9IHt9O1xuICAgIGZvciAodmFyIG4gaW4gc3RhdGUpIHtcbiAgICAgIHZhciB2YWwgPSBzdGF0ZVtuXTtcbiAgICAgIGlmICh2YWwgaW5zdGFuY2VvZiBBcnJheSkgeyB2YWwgPSB2YWwuY29uY2F0KFtdKTsgfVxuICAgICAgbnN0YXRlW25dID0gdmFsO1xuICAgIH1cbiAgICByZXR1cm4gbnN0YXRlXG4gIH1cblxuICAvLyBHaXZlbiBhIG1vZGUgYW5kIGEgc3RhdGUgKGZvciB0aGF0IG1vZGUpLCBmaW5kIHRoZSBpbm5lciBtb2RlIGFuZFxuICAvLyBzdGF0ZSBhdCB0aGUgcG9zaXRpb24gdGhhdCB0aGUgc3RhdGUgcmVmZXJzIHRvLlxuICBmdW5jdGlvbiBpbm5lck1vZGUobW9kZSwgc3RhdGUpIHtcbiAgICB2YXIgaW5mbztcbiAgICB3aGlsZSAobW9kZS5pbm5lck1vZGUpIHtcbiAgICAgIGluZm8gPSBtb2RlLmlubmVyTW9kZShzdGF0ZSk7XG4gICAgICBpZiAoIWluZm8gfHwgaW5mby5tb2RlID09IG1vZGUpIHsgYnJlYWsgfVxuICAgICAgc3RhdGUgPSBpbmZvLnN0YXRlO1xuICAgICAgbW9kZSA9IGluZm8ubW9kZTtcbiAgICB9XG4gICAgcmV0dXJuIGluZm8gfHwge21vZGU6IG1vZGUsIHN0YXRlOiBzdGF0ZX1cbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0U3RhdGUobW9kZSwgYTEsIGEyKSB7XG4gICAgcmV0dXJuIG1vZGUuc3RhcnRTdGF0ZSA/IG1vZGUuc3RhcnRTdGF0ZShhMSwgYTIpIDogdHJ1ZVxuICB9XG5cbiAgLy8gU1RSSU5HIFNUUkVBTVxuXG4gIC8vIEZlZCB0byB0aGUgbW9kZSBwYXJzZXJzLCBwcm92aWRlcyBoZWxwZXIgZnVuY3Rpb25zIHRvIG1ha2VcbiAgLy8gcGFyc2VycyBtb3JlIHN1Y2NpbmN0LlxuXG4gIHZhciBTdHJpbmdTdHJlYW0gPSBmdW5jdGlvbihzdHJpbmcsIHRhYlNpemUsIGxpbmVPcmFjbGUpIHtcbiAgICB0aGlzLnBvcyA9IHRoaXMuc3RhcnQgPSAwO1xuICAgIHRoaXMuc3RyaW5nID0gc3RyaW5nO1xuICAgIHRoaXMudGFiU2l6ZSA9IHRhYlNpemUgfHwgODtcbiAgICB0aGlzLmxhc3RDb2x1bW5Qb3MgPSB0aGlzLmxhc3RDb2x1bW5WYWx1ZSA9IDA7XG4gICAgdGhpcy5saW5lU3RhcnQgPSAwO1xuICAgIHRoaXMubGluZU9yYWNsZSA9IGxpbmVPcmFjbGU7XG4gIH07XG5cbiAgU3RyaW5nU3RyZWFtLnByb3RvdHlwZS5lb2wgPSBmdW5jdGlvbiAoKSB7cmV0dXJuIHRoaXMucG9zID49IHRoaXMuc3RyaW5nLmxlbmd0aH07XG4gIFN0cmluZ1N0cmVhbS5wcm90b3R5cGUuc29sID0gZnVuY3Rpb24gKCkge3JldHVybiB0aGlzLnBvcyA9PSB0aGlzLmxpbmVTdGFydH07XG4gIFN0cmluZ1N0cmVhbS5wcm90b3R5cGUucGVlayA9IGZ1bmN0aW9uICgpIHtyZXR1cm4gdGhpcy5zdHJpbmcuY2hhckF0KHRoaXMucG9zKSB8fCB1bmRlZmluZWR9O1xuICBTdHJpbmdTdHJlYW0ucHJvdG90eXBlLm5leHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMucG9zIDwgdGhpcy5zdHJpbmcubGVuZ3RoKVxuICAgICAgeyByZXR1cm4gdGhpcy5zdHJpbmcuY2hhckF0KHRoaXMucG9zKyspIH1cbiAgfTtcbiAgU3RyaW5nU3RyZWFtLnByb3RvdHlwZS5lYXQgPSBmdW5jdGlvbiAobWF0Y2gpIHtcbiAgICB2YXIgY2ggPSB0aGlzLnN0cmluZy5jaGFyQXQodGhpcy5wb3MpO1xuICAgIHZhciBvaztcbiAgICBpZiAodHlwZW9mIG1hdGNoID09IFwic3RyaW5nXCIpIHsgb2sgPSBjaCA9PSBtYXRjaDsgfVxuICAgIGVsc2UgeyBvayA9IGNoICYmIChtYXRjaC50ZXN0ID8gbWF0Y2gudGVzdChjaCkgOiBtYXRjaChjaCkpOyB9XG4gICAgaWYgKG9rKSB7Kyt0aGlzLnBvczsgcmV0dXJuIGNofVxuICB9O1xuICBTdHJpbmdTdHJlYW0ucHJvdG90eXBlLmVhdFdoaWxlID0gZnVuY3Rpb24gKG1hdGNoKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5wb3M7XG4gICAgd2hpbGUgKHRoaXMuZWF0KG1hdGNoKSl7fVxuICAgIHJldHVybiB0aGlzLnBvcyA+IHN0YXJ0XG4gIH07XG4gIFN0cmluZ1N0cmVhbS5wcm90b3R5cGUuZWF0U3BhY2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHN0YXJ0ID0gdGhpcy5wb3M7XG4gICAgd2hpbGUgKC9bXFxzXFx1MDBhMF0vLnRlc3QodGhpcy5zdHJpbmcuY2hhckF0KHRoaXMucG9zKSkpIHsgKyt0aGlzLnBvczsgfVxuICAgIHJldHVybiB0aGlzLnBvcyA+IHN0YXJ0XG4gIH07XG4gIFN0cmluZ1N0cmVhbS5wcm90b3R5cGUuc2tpcFRvRW5kID0gZnVuY3Rpb24gKCkge3RoaXMucG9zID0gdGhpcy5zdHJpbmcubGVuZ3RoO307XG4gIFN0cmluZ1N0cmVhbS5wcm90b3R5cGUuc2tpcFRvID0gZnVuY3Rpb24gKGNoKSB7XG4gICAgdmFyIGZvdW5kID0gdGhpcy5zdHJpbmcuaW5kZXhPZihjaCwgdGhpcy5wb3MpO1xuICAgIGlmIChmb3VuZCA+IC0xKSB7dGhpcy5wb3MgPSBmb3VuZDsgcmV0dXJuIHRydWV9XG4gIH07XG4gIFN0cmluZ1N0cmVhbS5wcm90b3R5cGUuYmFja1VwID0gZnVuY3Rpb24gKG4pIHt0aGlzLnBvcyAtPSBuO307XG4gIFN0cmluZ1N0cmVhbS5wcm90b3R5cGUuY29sdW1uID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmxhc3RDb2x1bW5Qb3MgPCB0aGlzLnN0YXJ0KSB7XG4gICAgICB0aGlzLmxhc3RDb2x1bW5WYWx1ZSA9IGNvdW50Q29sdW1uKHRoaXMuc3RyaW5nLCB0aGlzLnN0YXJ0LCB0aGlzLnRhYlNpemUsIHRoaXMubGFzdENvbHVtblBvcywgdGhpcy5sYXN0Q29sdW1uVmFsdWUpO1xuICAgICAgdGhpcy5sYXN0Q29sdW1uUG9zID0gdGhpcy5zdGFydDtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMubGFzdENvbHVtblZhbHVlIC0gKHRoaXMubGluZVN0YXJ0ID8gY291bnRDb2x1bW4odGhpcy5zdHJpbmcsIHRoaXMubGluZVN0YXJ0LCB0aGlzLnRhYlNpemUpIDogMClcbiAgfTtcbiAgU3RyaW5nU3RyZWFtLnByb3RvdHlwZS5pbmRlbnRhdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gY291bnRDb2x1bW4odGhpcy5zdHJpbmcsIG51bGwsIHRoaXMudGFiU2l6ZSkgLVxuICAgICAgKHRoaXMubGluZVN0YXJ0ID8gY291bnRDb2x1bW4odGhpcy5zdHJpbmcsIHRoaXMubGluZVN0YXJ0LCB0aGlzLnRhYlNpemUpIDogMClcbiAgfTtcbiAgU3RyaW5nU3RyZWFtLnByb3RvdHlwZS5tYXRjaCA9IGZ1bmN0aW9uIChwYXR0ZXJuLCBjb25zdW1lLCBjYXNlSW5zZW5zaXRpdmUpIHtcbiAgICBpZiAodHlwZW9mIHBhdHRlcm4gPT0gXCJzdHJpbmdcIikge1xuICAgICAgdmFyIGNhc2VkID0gZnVuY3Rpb24gKHN0cikgeyByZXR1cm4gY2FzZUluc2Vuc2l0aXZlID8gc3RyLnRvTG93ZXJDYXNlKCkgOiBzdHI7IH07XG4gICAgICB2YXIgc3Vic3RyID0gdGhpcy5zdHJpbmcuc3Vic3RyKHRoaXMucG9zLCBwYXR0ZXJuLmxlbmd0aCk7XG4gICAgICBpZiAoY2FzZWQoc3Vic3RyKSA9PSBjYXNlZChwYXR0ZXJuKSkge1xuICAgICAgICBpZiAoY29uc3VtZSAhPT0gZmFsc2UpIHsgdGhpcy5wb3MgKz0gcGF0dGVybi5sZW5ndGg7IH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIG1hdGNoID0gdGhpcy5zdHJpbmcuc2xpY2UodGhpcy5wb3MpLm1hdGNoKHBhdHRlcm4pO1xuICAgICAgaWYgKG1hdGNoICYmIG1hdGNoLmluZGV4ID4gMCkgeyByZXR1cm4gbnVsbCB9XG4gICAgICBpZiAobWF0Y2ggJiYgY29uc3VtZSAhPT0gZmFsc2UpIHsgdGhpcy5wb3MgKz0gbWF0Y2hbMF0ubGVuZ3RoOyB9XG4gICAgICByZXR1cm4gbWF0Y2hcbiAgICB9XG4gIH07XG4gIFN0cmluZ1N0cmVhbS5wcm90b3R5cGUuY3VycmVudCA9IGZ1bmN0aW9uICgpe3JldHVybiB0aGlzLnN0cmluZy5zbGljZSh0aGlzLnN0YXJ0LCB0aGlzLnBvcyl9O1xuICBTdHJpbmdTdHJlYW0ucHJvdG90eXBlLmhpZGVGaXJzdENoYXJzID0gZnVuY3Rpb24gKG4sIGlubmVyKSB7XG4gICAgdGhpcy5saW5lU3RhcnQgKz0gbjtcbiAgICB0cnkgeyByZXR1cm4gaW5uZXIoKSB9XG4gICAgZmluYWxseSB7IHRoaXMubGluZVN0YXJ0IC09IG47IH1cbiAgfTtcbiAgU3RyaW5nU3RyZWFtLnByb3RvdHlwZS5sb29rQWhlYWQgPSBmdW5jdGlvbiAobikge1xuICAgIHZhciBvcmFjbGUgPSB0aGlzLmxpbmVPcmFjbGU7XG4gICAgcmV0dXJuIG9yYWNsZSAmJiBvcmFjbGUubG9va0FoZWFkKG4pXG4gIH07XG4gIFN0cmluZ1N0cmVhbS5wcm90b3R5cGUuYmFzZVRva2VuID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBvcmFjbGUgPSB0aGlzLmxpbmVPcmFjbGU7XG4gICAgcmV0dXJuIG9yYWNsZSAmJiBvcmFjbGUuYmFzZVRva2VuKHRoaXMucG9zKVxuICB9O1xuXG4gIC8vIEZpbmQgdGhlIGxpbmUgb2JqZWN0IGNvcnJlc3BvbmRpbmcgdG8gdGhlIGdpdmVuIGxpbmUgbnVtYmVyLlxuICBmdW5jdGlvbiBnZXRMaW5lKGRvYywgbikge1xuICAgIG4gLT0gZG9jLmZpcnN0O1xuICAgIGlmIChuIDwgMCB8fCBuID49IGRvYy5zaXplKSB7IHRocm93IG5ldyBFcnJvcihcIlRoZXJlIGlzIG5vIGxpbmUgXCIgKyAobiArIGRvYy5maXJzdCkgKyBcIiBpbiB0aGUgZG9jdW1lbnQuXCIpIH1cbiAgICB2YXIgY2h1bmsgPSBkb2M7XG4gICAgd2hpbGUgKCFjaHVuay5saW5lcykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7OyArK2kpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gY2h1bmsuY2hpbGRyZW5baV0sIHN6ID0gY2hpbGQuY2h1bmtTaXplKCk7XG4gICAgICAgIGlmIChuIDwgc3opIHsgY2h1bmsgPSBjaGlsZDsgYnJlYWsgfVxuICAgICAgICBuIC09IHN6O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2h1bmsubGluZXNbbl1cbiAgfVxuXG4gIC8vIEdldCB0aGUgcGFydCBvZiBhIGRvY3VtZW50IGJldHdlZW4gdHdvIHBvc2l0aW9ucywgYXMgYW4gYXJyYXkgb2ZcbiAgLy8gc3RyaW5ncy5cbiAgZnVuY3Rpb24gZ2V0QmV0d2Vlbihkb2MsIHN0YXJ0LCBlbmQpIHtcbiAgICB2YXIgb3V0ID0gW10sIG4gPSBzdGFydC5saW5lO1xuICAgIGRvYy5pdGVyKHN0YXJ0LmxpbmUsIGVuZC5saW5lICsgMSwgZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgIHZhciB0ZXh0ID0gbGluZS50ZXh0O1xuICAgICAgaWYgKG4gPT0gZW5kLmxpbmUpIHsgdGV4dCA9IHRleHQuc2xpY2UoMCwgZW5kLmNoKTsgfVxuICAgICAgaWYgKG4gPT0gc3RhcnQubGluZSkgeyB0ZXh0ID0gdGV4dC5zbGljZShzdGFydC5jaCk7IH1cbiAgICAgIG91dC5wdXNoKHRleHQpO1xuICAgICAgKytuO1xuICAgIH0pO1xuICAgIHJldHVybiBvdXRcbiAgfVxuICAvLyBHZXQgdGhlIGxpbmVzIGJldHdlZW4gZnJvbSBhbmQgdG8sIGFzIGFycmF5IG9mIHN0cmluZ3MuXG4gIGZ1bmN0aW9uIGdldExpbmVzKGRvYywgZnJvbSwgdG8pIHtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgZG9jLml0ZXIoZnJvbSwgdG8sIGZ1bmN0aW9uIChsaW5lKSB7IG91dC5wdXNoKGxpbmUudGV4dCk7IH0pOyAvLyBpdGVyIGFib3J0cyB3aGVuIGNhbGxiYWNrIHJldHVybnMgdHJ1dGh5IHZhbHVlXG4gICAgcmV0dXJuIG91dFxuICB9XG5cbiAgLy8gVXBkYXRlIHRoZSBoZWlnaHQgb2YgYSBsaW5lLCBwcm9wYWdhdGluZyB0aGUgaGVpZ2h0IGNoYW5nZVxuICAvLyB1cHdhcmRzIHRvIHBhcmVudCBub2Rlcy5cbiAgZnVuY3Rpb24gdXBkYXRlTGluZUhlaWdodChsaW5lLCBoZWlnaHQpIHtcbiAgICB2YXIgZGlmZiA9IGhlaWdodCAtIGxpbmUuaGVpZ2h0O1xuICAgIGlmIChkaWZmKSB7IGZvciAodmFyIG4gPSBsaW5lOyBuOyBuID0gbi5wYXJlbnQpIHsgbi5oZWlnaHQgKz0gZGlmZjsgfSB9XG4gIH1cblxuICAvLyBHaXZlbiBhIGxpbmUgb2JqZWN0LCBmaW5kIGl0cyBsaW5lIG51bWJlciBieSB3YWxraW5nIHVwIHRocm91Z2hcbiAgLy8gaXRzIHBhcmVudCBsaW5rcy5cbiAgZnVuY3Rpb24gbGluZU5vKGxpbmUpIHtcbiAgICBpZiAobGluZS5wYXJlbnQgPT0gbnVsbCkgeyByZXR1cm4gbnVsbCB9XG4gICAgdmFyIGN1ciA9IGxpbmUucGFyZW50LCBubyA9IGluZGV4T2YoY3VyLmxpbmVzLCBsaW5lKTtcbiAgICBmb3IgKHZhciBjaHVuayA9IGN1ci5wYXJlbnQ7IGNodW5rOyBjdXIgPSBjaHVuaywgY2h1bmsgPSBjaHVuay5wYXJlbnQpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOzsgKytpKSB7XG4gICAgICAgIGlmIChjaHVuay5jaGlsZHJlbltpXSA9PSBjdXIpIHsgYnJlYWsgfVxuICAgICAgICBubyArPSBjaHVuay5jaGlsZHJlbltpXS5jaHVua1NpemUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5vICsgY3VyLmZpcnN0XG4gIH1cblxuICAvLyBGaW5kIHRoZSBsaW5lIGF0IHRoZSBnaXZlbiB2ZXJ0aWNhbCBwb3NpdGlvbiwgdXNpbmcgdGhlIGhlaWdodFxuICAvLyBpbmZvcm1hdGlvbiBpbiB0aGUgZG9jdW1lbnQgdHJlZS5cbiAgZnVuY3Rpb24gbGluZUF0SGVpZ2h0KGNodW5rLCBoKSB7XG4gICAgdmFyIG4gPSBjaHVuay5maXJzdDtcbiAgICBvdXRlcjogZG8ge1xuICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgY2h1bmsuY2hpbGRyZW4ubGVuZ3RoOyArK2kkMSkge1xuICAgICAgICB2YXIgY2hpbGQgPSBjaHVuay5jaGlsZHJlbltpJDFdLCBjaCA9IGNoaWxkLmhlaWdodDtcbiAgICAgICAgaWYgKGggPCBjaCkgeyBjaHVuayA9IGNoaWxkOyBjb250aW51ZSBvdXRlciB9XG4gICAgICAgIGggLT0gY2g7XG4gICAgICAgIG4gKz0gY2hpbGQuY2h1bmtTaXplKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gblxuICAgIH0gd2hpbGUgKCFjaHVuay5saW5lcylcbiAgICB2YXIgaSA9IDA7XG4gICAgZm9yICg7IGkgPCBjaHVuay5saW5lcy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIGxpbmUgPSBjaHVuay5saW5lc1tpXSwgbGggPSBsaW5lLmhlaWdodDtcbiAgICAgIGlmIChoIDwgbGgpIHsgYnJlYWsgfVxuICAgICAgaCAtPSBsaDtcbiAgICB9XG4gICAgcmV0dXJuIG4gKyBpXG4gIH1cblxuICBmdW5jdGlvbiBpc0xpbmUoZG9jLCBsKSB7cmV0dXJuIGwgPj0gZG9jLmZpcnN0ICYmIGwgPCBkb2MuZmlyc3QgKyBkb2Muc2l6ZX1cblxuICBmdW5jdGlvbiBsaW5lTnVtYmVyRm9yKG9wdGlvbnMsIGkpIHtcbiAgICByZXR1cm4gU3RyaW5nKG9wdGlvbnMubGluZU51bWJlckZvcm1hdHRlcihpICsgb3B0aW9ucy5maXJzdExpbmVOdW1iZXIpKVxuICB9XG5cbiAgLy8gQSBQb3MgaW5zdGFuY2UgcmVwcmVzZW50cyBhIHBvc2l0aW9uIHdpdGhpbiB0aGUgdGV4dC5cbiAgZnVuY3Rpb24gUG9zKGxpbmUsIGNoLCBzdGlja3kpIHtcbiAgICBpZiAoIHN0aWNreSA9PT0gdm9pZCAwICkgc3RpY2t5ID0gbnVsbDtcblxuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQb3MpKSB7IHJldHVybiBuZXcgUG9zKGxpbmUsIGNoLCBzdGlja3kpIH1cbiAgICB0aGlzLmxpbmUgPSBsaW5lO1xuICAgIHRoaXMuY2ggPSBjaDtcbiAgICB0aGlzLnN0aWNreSA9IHN0aWNreTtcbiAgfVxuXG4gIC8vIENvbXBhcmUgdHdvIHBvc2l0aW9ucywgcmV0dXJuIDAgaWYgdGhleSBhcmUgdGhlIHNhbWUsIGEgbmVnYXRpdmVcbiAgLy8gbnVtYmVyIHdoZW4gYSBpcyBsZXNzLCBhbmQgYSBwb3NpdGl2ZSBudW1iZXIgb3RoZXJ3aXNlLlxuICBmdW5jdGlvbiBjbXAoYSwgYikgeyByZXR1cm4gYS5saW5lIC0gYi5saW5lIHx8IGEuY2ggLSBiLmNoIH1cblxuICBmdW5jdGlvbiBlcXVhbEN1cnNvclBvcyhhLCBiKSB7IHJldHVybiBhLnN0aWNreSA9PSBiLnN0aWNreSAmJiBjbXAoYSwgYikgPT0gMCB9XG5cbiAgZnVuY3Rpb24gY29weVBvcyh4KSB7cmV0dXJuIFBvcyh4LmxpbmUsIHguY2gpfVxuICBmdW5jdGlvbiBtYXhQb3MoYSwgYikgeyByZXR1cm4gY21wKGEsIGIpIDwgMCA/IGIgOiBhIH1cbiAgZnVuY3Rpb24gbWluUG9zKGEsIGIpIHsgcmV0dXJuIGNtcChhLCBiKSA8IDAgPyBhIDogYiB9XG5cbiAgLy8gTW9zdCBvZiB0aGUgZXh0ZXJuYWwgQVBJIGNsaXBzIGdpdmVuIHBvc2l0aW9ucyB0byBtYWtlIHN1cmUgdGhleVxuICAvLyBhY3R1YWxseSBleGlzdCB3aXRoaW4gdGhlIGRvY3VtZW50LlxuICBmdW5jdGlvbiBjbGlwTGluZShkb2MsIG4pIHtyZXR1cm4gTWF0aC5tYXgoZG9jLmZpcnN0LCBNYXRoLm1pbihuLCBkb2MuZmlyc3QgKyBkb2Muc2l6ZSAtIDEpKX1cbiAgZnVuY3Rpb24gY2xpcFBvcyhkb2MsIHBvcykge1xuICAgIGlmIChwb3MubGluZSA8IGRvYy5maXJzdCkgeyByZXR1cm4gUG9zKGRvYy5maXJzdCwgMCkgfVxuICAgIHZhciBsYXN0ID0gZG9jLmZpcnN0ICsgZG9jLnNpemUgLSAxO1xuICAgIGlmIChwb3MubGluZSA+IGxhc3QpIHsgcmV0dXJuIFBvcyhsYXN0LCBnZXRMaW5lKGRvYywgbGFzdCkudGV4dC5sZW5ndGgpIH1cbiAgICByZXR1cm4gY2xpcFRvTGVuKHBvcywgZ2V0TGluZShkb2MsIHBvcy5saW5lKS50ZXh0Lmxlbmd0aClcbiAgfVxuICBmdW5jdGlvbiBjbGlwVG9MZW4ocG9zLCBsaW5lbGVuKSB7XG4gICAgdmFyIGNoID0gcG9zLmNoO1xuICAgIGlmIChjaCA9PSBudWxsIHx8IGNoID4gbGluZWxlbikgeyByZXR1cm4gUG9zKHBvcy5saW5lLCBsaW5lbGVuKSB9XG4gICAgZWxzZSBpZiAoY2ggPCAwKSB7IHJldHVybiBQb3MocG9zLmxpbmUsIDApIH1cbiAgICBlbHNlIHsgcmV0dXJuIHBvcyB9XG4gIH1cbiAgZnVuY3Rpb24gY2xpcFBvc0FycmF5KGRvYywgYXJyYXkpIHtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykgeyBvdXRbaV0gPSBjbGlwUG9zKGRvYywgYXJyYXlbaV0pOyB9XG4gICAgcmV0dXJuIG91dFxuICB9XG5cbiAgdmFyIFNhdmVkQ29udGV4dCA9IGZ1bmN0aW9uKHN0YXRlLCBsb29rQWhlYWQpIHtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5sb29rQWhlYWQgPSBsb29rQWhlYWQ7XG4gIH07XG5cbiAgdmFyIENvbnRleHQgPSBmdW5jdGlvbihkb2MsIHN0YXRlLCBsaW5lLCBsb29rQWhlYWQpIHtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5kb2MgPSBkb2M7XG4gICAgdGhpcy5saW5lID0gbGluZTtcbiAgICB0aGlzLm1heExvb2tBaGVhZCA9IGxvb2tBaGVhZCB8fCAwO1xuICAgIHRoaXMuYmFzZVRva2VucyA9IG51bGw7XG4gICAgdGhpcy5iYXNlVG9rZW5Qb3MgPSAxO1xuICB9O1xuXG4gIENvbnRleHQucHJvdG90eXBlLmxvb2tBaGVhZCA9IGZ1bmN0aW9uIChuKSB7XG4gICAgdmFyIGxpbmUgPSB0aGlzLmRvYy5nZXRMaW5lKHRoaXMubGluZSArIG4pO1xuICAgIGlmIChsaW5lICE9IG51bGwgJiYgbiA+IHRoaXMubWF4TG9va0FoZWFkKSB7IHRoaXMubWF4TG9va0FoZWFkID0gbjsgfVxuICAgIHJldHVybiBsaW5lXG4gIH07XG5cbiAgQ29udGV4dC5wcm90b3R5cGUuYmFzZVRva2VuID0gZnVuY3Rpb24gKG4pIHtcbiAgICBpZiAoIXRoaXMuYmFzZVRva2VucykgeyByZXR1cm4gbnVsbCB9XG4gICAgd2hpbGUgKHRoaXMuYmFzZVRva2Vuc1t0aGlzLmJhc2VUb2tlblBvc10gPD0gbilcbiAgICAgIHsgdGhpcy5iYXNlVG9rZW5Qb3MgKz0gMjsgfVxuICAgIHZhciB0eXBlID0gdGhpcy5iYXNlVG9rZW5zW3RoaXMuYmFzZVRva2VuUG9zICsgMV07XG4gICAgcmV0dXJuIHt0eXBlOiB0eXBlICYmIHR5cGUucmVwbGFjZSgvKCB8XilvdmVybGF5IC4qLywgXCJcIiksXG4gICAgICAgICAgICBzaXplOiB0aGlzLmJhc2VUb2tlbnNbdGhpcy5iYXNlVG9rZW5Qb3NdIC0gbn1cbiAgfTtcblxuICBDb250ZXh0LnByb3RvdHlwZS5uZXh0TGluZSA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmxpbmUrKztcbiAgICBpZiAodGhpcy5tYXhMb29rQWhlYWQgPiAwKSB7IHRoaXMubWF4TG9va0FoZWFkLS07IH1cbiAgfTtcblxuICBDb250ZXh0LmZyb21TYXZlZCA9IGZ1bmN0aW9uIChkb2MsIHNhdmVkLCBsaW5lKSB7XG4gICAgaWYgKHNhdmVkIGluc3RhbmNlb2YgU2F2ZWRDb250ZXh0KVxuICAgICAgeyByZXR1cm4gbmV3IENvbnRleHQoZG9jLCBjb3B5U3RhdGUoZG9jLm1vZGUsIHNhdmVkLnN0YXRlKSwgbGluZSwgc2F2ZWQubG9va0FoZWFkKSB9XG4gICAgZWxzZVxuICAgICAgeyByZXR1cm4gbmV3IENvbnRleHQoZG9jLCBjb3B5U3RhdGUoZG9jLm1vZGUsIHNhdmVkKSwgbGluZSkgfVxuICB9O1xuXG4gIENvbnRleHQucHJvdG90eXBlLnNhdmUgPSBmdW5jdGlvbiAoY29weSkge1xuICAgIHZhciBzdGF0ZSA9IGNvcHkgIT09IGZhbHNlID8gY29weVN0YXRlKHRoaXMuZG9jLm1vZGUsIHRoaXMuc3RhdGUpIDogdGhpcy5zdGF0ZTtcbiAgICByZXR1cm4gdGhpcy5tYXhMb29rQWhlYWQgPiAwID8gbmV3IFNhdmVkQ29udGV4dChzdGF0ZSwgdGhpcy5tYXhMb29rQWhlYWQpIDogc3RhdGVcbiAgfTtcblxuXG4gIC8vIENvbXB1dGUgYSBzdHlsZSBhcnJheSAoYW4gYXJyYXkgc3RhcnRpbmcgd2l0aCBhIG1vZGUgZ2VuZXJhdGlvblxuICAvLyAtLSBmb3IgaW52YWxpZGF0aW9uIC0tIGZvbGxvd2VkIGJ5IHBhaXJzIG9mIGVuZCBwb3NpdGlvbnMgYW5kXG4gIC8vIHN0eWxlIHN0cmluZ3MpLCB3aGljaCBpcyB1c2VkIHRvIGhpZ2hsaWdodCB0aGUgdG9rZW5zIG9uIHRoZVxuICAvLyBsaW5lLlxuICBmdW5jdGlvbiBoaWdobGlnaHRMaW5lKGNtLCBsaW5lLCBjb250ZXh0LCBmb3JjZVRvRW5kKSB7XG4gICAgLy8gQSBzdHlsZXMgYXJyYXkgYWx3YXlzIHN0YXJ0cyB3aXRoIGEgbnVtYmVyIGlkZW50aWZ5aW5nIHRoZVxuICAgIC8vIG1vZGUvb3ZlcmxheXMgdGhhdCBpdCBpcyBiYXNlZCBvbiAoZm9yIGVhc3kgaW52YWxpZGF0aW9uKS5cbiAgICB2YXIgc3QgPSBbY20uc3RhdGUubW9kZUdlbl0sIGxpbmVDbGFzc2VzID0ge307XG4gICAgLy8gQ29tcHV0ZSB0aGUgYmFzZSBhcnJheSBvZiBzdHlsZXNcbiAgICBydW5Nb2RlKGNtLCBsaW5lLnRleHQsIGNtLmRvYy5tb2RlLCBjb250ZXh0LCBmdW5jdGlvbiAoZW5kLCBzdHlsZSkgeyByZXR1cm4gc3QucHVzaChlbmQsIHN0eWxlKTsgfSxcbiAgICAgICAgICAgIGxpbmVDbGFzc2VzLCBmb3JjZVRvRW5kKTtcbiAgICB2YXIgc3RhdGUgPSBjb250ZXh0LnN0YXRlO1xuXG4gICAgLy8gUnVuIG92ZXJsYXlzLCBhZGp1c3Qgc3R5bGUgYXJyYXkuXG4gICAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIG8gKSB7XG4gICAgICBjb250ZXh0LmJhc2VUb2tlbnMgPSBzdDtcbiAgICAgIHZhciBvdmVybGF5ID0gY20uc3RhdGUub3ZlcmxheXNbb10sIGkgPSAxLCBhdCA9IDA7XG4gICAgICBjb250ZXh0LnN0YXRlID0gdHJ1ZTtcbiAgICAgIHJ1bk1vZGUoY20sIGxpbmUudGV4dCwgb3ZlcmxheS5tb2RlLCBjb250ZXh0LCBmdW5jdGlvbiAoZW5kLCBzdHlsZSkge1xuICAgICAgICB2YXIgc3RhcnQgPSBpO1xuICAgICAgICAvLyBFbnN1cmUgdGhlcmUncyBhIHRva2VuIGVuZCBhdCB0aGUgY3VycmVudCBwb3NpdGlvbiwgYW5kIHRoYXQgaSBwb2ludHMgYXQgaXRcbiAgICAgICAgd2hpbGUgKGF0IDwgZW5kKSB7XG4gICAgICAgICAgdmFyIGlfZW5kID0gc3RbaV07XG4gICAgICAgICAgaWYgKGlfZW5kID4gZW5kKVxuICAgICAgICAgICAgeyBzdC5zcGxpY2UoaSwgMSwgZW5kLCBzdFtpKzFdLCBpX2VuZCk7IH1cbiAgICAgICAgICBpICs9IDI7XG4gICAgICAgICAgYXQgPSBNYXRoLm1pbihlbmQsIGlfZW5kKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXN0eWxlKSB7IHJldHVybiB9XG4gICAgICAgIGlmIChvdmVybGF5Lm9wYXF1ZSkge1xuICAgICAgICAgIHN0LnNwbGljZShzdGFydCwgaSAtIHN0YXJ0LCBlbmQsIFwib3ZlcmxheSBcIiArIHN0eWxlKTtcbiAgICAgICAgICBpID0gc3RhcnQgKyAyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGZvciAoOyBzdGFydCA8IGk7IHN0YXJ0ICs9IDIpIHtcbiAgICAgICAgICAgIHZhciBjdXIgPSBzdFtzdGFydCsxXTtcbiAgICAgICAgICAgIHN0W3N0YXJ0KzFdID0gKGN1ciA/IGN1ciArIFwiIFwiIDogXCJcIikgKyBcIm92ZXJsYXkgXCIgKyBzdHlsZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0sIGxpbmVDbGFzc2VzKTtcbiAgICAgIGNvbnRleHQuc3RhdGUgPSBzdGF0ZTtcbiAgICAgIGNvbnRleHQuYmFzZVRva2VucyA9IG51bGw7XG4gICAgICBjb250ZXh0LmJhc2VUb2tlblBvcyA9IDE7XG4gICAgfTtcblxuICAgIGZvciAodmFyIG8gPSAwOyBvIDwgY20uc3RhdGUub3ZlcmxheXMubGVuZ3RoOyArK28pIGxvb3AoIG8gKTtcblxuICAgIHJldHVybiB7c3R5bGVzOiBzdCwgY2xhc3NlczogbGluZUNsYXNzZXMuYmdDbGFzcyB8fCBsaW5lQ2xhc3Nlcy50ZXh0Q2xhc3MgPyBsaW5lQ2xhc3NlcyA6IG51bGx9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRMaW5lU3R5bGVzKGNtLCBsaW5lLCB1cGRhdGVGcm9udGllcikge1xuICAgIGlmICghbGluZS5zdHlsZXMgfHwgbGluZS5zdHlsZXNbMF0gIT0gY20uc3RhdGUubW9kZUdlbikge1xuICAgICAgdmFyIGNvbnRleHQgPSBnZXRDb250ZXh0QmVmb3JlKGNtLCBsaW5lTm8obGluZSkpO1xuICAgICAgdmFyIHJlc2V0U3RhdGUgPSBsaW5lLnRleHQubGVuZ3RoID4gY20ub3B0aW9ucy5tYXhIaWdobGlnaHRMZW5ndGggJiYgY29weVN0YXRlKGNtLmRvYy5tb2RlLCBjb250ZXh0LnN0YXRlKTtcbiAgICAgIHZhciByZXN1bHQgPSBoaWdobGlnaHRMaW5lKGNtLCBsaW5lLCBjb250ZXh0KTtcbiAgICAgIGlmIChyZXNldFN0YXRlKSB7IGNvbnRleHQuc3RhdGUgPSByZXNldFN0YXRlOyB9XG4gICAgICBsaW5lLnN0YXRlQWZ0ZXIgPSBjb250ZXh0LnNhdmUoIXJlc2V0U3RhdGUpO1xuICAgICAgbGluZS5zdHlsZXMgPSByZXN1bHQuc3R5bGVzO1xuICAgICAgaWYgKHJlc3VsdC5jbGFzc2VzKSB7IGxpbmUuc3R5bGVDbGFzc2VzID0gcmVzdWx0LmNsYXNzZXM7IH1cbiAgICAgIGVsc2UgaWYgKGxpbmUuc3R5bGVDbGFzc2VzKSB7IGxpbmUuc3R5bGVDbGFzc2VzID0gbnVsbDsgfVxuICAgICAgaWYgKHVwZGF0ZUZyb250aWVyID09PSBjbS5kb2MuaGlnaGxpZ2h0RnJvbnRpZXIpXG4gICAgICAgIHsgY20uZG9jLm1vZGVGcm9udGllciA9IE1hdGgubWF4KGNtLmRvYy5tb2RlRnJvbnRpZXIsICsrY20uZG9jLmhpZ2hsaWdodEZyb250aWVyKTsgfVxuICAgIH1cbiAgICByZXR1cm4gbGluZS5zdHlsZXNcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldENvbnRleHRCZWZvcmUoY20sIG4sIHByZWNpc2UpIHtcbiAgICB2YXIgZG9jID0gY20uZG9jLCBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBpZiAoIWRvYy5tb2RlLnN0YXJ0U3RhdGUpIHsgcmV0dXJuIG5ldyBDb250ZXh0KGRvYywgdHJ1ZSwgbikgfVxuICAgIHZhciBzdGFydCA9IGZpbmRTdGFydExpbmUoY20sIG4sIHByZWNpc2UpO1xuICAgIHZhciBzYXZlZCA9IHN0YXJ0ID4gZG9jLmZpcnN0ICYmIGdldExpbmUoZG9jLCBzdGFydCAtIDEpLnN0YXRlQWZ0ZXI7XG4gICAgdmFyIGNvbnRleHQgPSBzYXZlZCA/IENvbnRleHQuZnJvbVNhdmVkKGRvYywgc2F2ZWQsIHN0YXJ0KSA6IG5ldyBDb250ZXh0KGRvYywgc3RhcnRTdGF0ZShkb2MubW9kZSksIHN0YXJ0KTtcblxuICAgIGRvYy5pdGVyKHN0YXJ0LCBuLCBmdW5jdGlvbiAobGluZSkge1xuICAgICAgcHJvY2Vzc0xpbmUoY20sIGxpbmUudGV4dCwgY29udGV4dCk7XG4gICAgICB2YXIgcG9zID0gY29udGV4dC5saW5lO1xuICAgICAgbGluZS5zdGF0ZUFmdGVyID0gcG9zID09IG4gLSAxIHx8IHBvcyAlIDUgPT0gMCB8fCBwb3MgPj0gZGlzcGxheS52aWV3RnJvbSAmJiBwb3MgPCBkaXNwbGF5LnZpZXdUbyA/IGNvbnRleHQuc2F2ZSgpIDogbnVsbDtcbiAgICAgIGNvbnRleHQubmV4dExpbmUoKTtcbiAgICB9KTtcbiAgICBpZiAocHJlY2lzZSkgeyBkb2MubW9kZUZyb250aWVyID0gY29udGV4dC5saW5lOyB9XG4gICAgcmV0dXJuIGNvbnRleHRcbiAgfVxuXG4gIC8vIExpZ2h0d2VpZ2h0IGZvcm0gb2YgaGlnaGxpZ2h0IC0tIHByb2NlZWQgb3ZlciB0aGlzIGxpbmUgYW5kXG4gIC8vIHVwZGF0ZSBzdGF0ZSwgYnV0IGRvbid0IHNhdmUgYSBzdHlsZSBhcnJheS4gVXNlZCBmb3IgbGluZXMgdGhhdFxuICAvLyBhcmVuJ3QgY3VycmVudGx5IHZpc2libGUuXG4gIGZ1bmN0aW9uIHByb2Nlc3NMaW5lKGNtLCB0ZXh0LCBjb250ZXh0LCBzdGFydEF0KSB7XG4gICAgdmFyIG1vZGUgPSBjbS5kb2MubW9kZTtcbiAgICB2YXIgc3RyZWFtID0gbmV3IFN0cmluZ1N0cmVhbSh0ZXh0LCBjbS5vcHRpb25zLnRhYlNpemUsIGNvbnRleHQpO1xuICAgIHN0cmVhbS5zdGFydCA9IHN0cmVhbS5wb3MgPSBzdGFydEF0IHx8IDA7XG4gICAgaWYgKHRleHQgPT0gXCJcIikgeyBjYWxsQmxhbmtMaW5lKG1vZGUsIGNvbnRleHQuc3RhdGUpOyB9XG4gICAgd2hpbGUgKCFzdHJlYW0uZW9sKCkpIHtcbiAgICAgIHJlYWRUb2tlbihtb2RlLCBzdHJlYW0sIGNvbnRleHQuc3RhdGUpO1xuICAgICAgc3RyZWFtLnN0YXJ0ID0gc3RyZWFtLnBvcztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjYWxsQmxhbmtMaW5lKG1vZGUsIHN0YXRlKSB7XG4gICAgaWYgKG1vZGUuYmxhbmtMaW5lKSB7IHJldHVybiBtb2RlLmJsYW5rTGluZShzdGF0ZSkgfVxuICAgIGlmICghbW9kZS5pbm5lck1vZGUpIHsgcmV0dXJuIH1cbiAgICB2YXIgaW5uZXIgPSBpbm5lck1vZGUobW9kZSwgc3RhdGUpO1xuICAgIGlmIChpbm5lci5tb2RlLmJsYW5rTGluZSkgeyByZXR1cm4gaW5uZXIubW9kZS5ibGFua0xpbmUoaW5uZXIuc3RhdGUpIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRUb2tlbihtb2RlLCBzdHJlYW0sIHN0YXRlLCBpbm5lcikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykge1xuICAgICAgaWYgKGlubmVyKSB7IGlubmVyWzBdID0gaW5uZXJNb2RlKG1vZGUsIHN0YXRlKS5tb2RlOyB9XG4gICAgICB2YXIgc3R5bGUgPSBtb2RlLnRva2VuKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgaWYgKHN0cmVhbS5wb3MgPiBzdHJlYW0uc3RhcnQpIHsgcmV0dXJuIHN0eWxlIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTW9kZSBcIiArIG1vZGUubmFtZSArIFwiIGZhaWxlZCB0byBhZHZhbmNlIHN0cmVhbS5cIilcbiAgfVxuXG4gIHZhciBUb2tlbiA9IGZ1bmN0aW9uKHN0cmVhbSwgdHlwZSwgc3RhdGUpIHtcbiAgICB0aGlzLnN0YXJ0ID0gc3RyZWFtLnN0YXJ0OyB0aGlzLmVuZCA9IHN0cmVhbS5wb3M7XG4gICAgdGhpcy5zdHJpbmcgPSBzdHJlYW0uY3VycmVudCgpO1xuICAgIHRoaXMudHlwZSA9IHR5cGUgfHwgbnVsbDtcbiAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gIH07XG5cbiAgLy8gVXRpbGl0eSBmb3IgZ2V0VG9rZW5BdCBhbmQgZ2V0TGluZVRva2Vuc1xuICBmdW5jdGlvbiB0YWtlVG9rZW4oY20sIHBvcywgcHJlY2lzZSwgYXNBcnJheSkge1xuICAgIHZhciBkb2MgPSBjbS5kb2MsIG1vZGUgPSBkb2MubW9kZSwgc3R5bGU7XG4gICAgcG9zID0gY2xpcFBvcyhkb2MsIHBvcyk7XG4gICAgdmFyIGxpbmUgPSBnZXRMaW5lKGRvYywgcG9zLmxpbmUpLCBjb250ZXh0ID0gZ2V0Q29udGV4dEJlZm9yZShjbSwgcG9zLmxpbmUsIHByZWNpc2UpO1xuICAgIHZhciBzdHJlYW0gPSBuZXcgU3RyaW5nU3RyZWFtKGxpbmUudGV4dCwgY20ub3B0aW9ucy50YWJTaXplLCBjb250ZXh0KSwgdG9rZW5zO1xuICAgIGlmIChhc0FycmF5KSB7IHRva2VucyA9IFtdOyB9XG4gICAgd2hpbGUgKChhc0FycmF5IHx8IHN0cmVhbS5wb3MgPCBwb3MuY2gpICYmICFzdHJlYW0uZW9sKCkpIHtcbiAgICAgIHN0cmVhbS5zdGFydCA9IHN0cmVhbS5wb3M7XG4gICAgICBzdHlsZSA9IHJlYWRUb2tlbihtb2RlLCBzdHJlYW0sIGNvbnRleHQuc3RhdGUpO1xuICAgICAgaWYgKGFzQXJyYXkpIHsgdG9rZW5zLnB1c2gobmV3IFRva2VuKHN0cmVhbSwgc3R5bGUsIGNvcHlTdGF0ZShkb2MubW9kZSwgY29udGV4dC5zdGF0ZSkpKTsgfVxuICAgIH1cbiAgICByZXR1cm4gYXNBcnJheSA/IHRva2VucyA6IG5ldyBUb2tlbihzdHJlYW0sIHN0eWxlLCBjb250ZXh0LnN0YXRlKVxuICB9XG5cbiAgZnVuY3Rpb24gZXh0cmFjdExpbmVDbGFzc2VzKHR5cGUsIG91dHB1dCkge1xuICAgIGlmICh0eXBlKSB7IGZvciAoOzspIHtcbiAgICAgIHZhciBsaW5lQ2xhc3MgPSB0eXBlLm1hdGNoKC8oPzpefFxccyspbGluZS0oYmFja2dyb3VuZC0pPyhcXFMrKS8pO1xuICAgICAgaWYgKCFsaW5lQ2xhc3MpIHsgYnJlYWsgfVxuICAgICAgdHlwZSA9IHR5cGUuc2xpY2UoMCwgbGluZUNsYXNzLmluZGV4KSArIHR5cGUuc2xpY2UobGluZUNsYXNzLmluZGV4ICsgbGluZUNsYXNzWzBdLmxlbmd0aCk7XG4gICAgICB2YXIgcHJvcCA9IGxpbmVDbGFzc1sxXSA/IFwiYmdDbGFzc1wiIDogXCJ0ZXh0Q2xhc3NcIjtcbiAgICAgIGlmIChvdXRwdXRbcHJvcF0gPT0gbnVsbClcbiAgICAgICAgeyBvdXRwdXRbcHJvcF0gPSBsaW5lQ2xhc3NbMl07IH1cbiAgICAgIGVsc2UgaWYgKCEobmV3IFJlZ0V4cChcIig/Ol58XFxcXHMpXCIgKyBsaW5lQ2xhc3NbMl0gKyBcIig/OiR8XFxcXHMpXCIpKS50ZXN0KG91dHB1dFtwcm9wXSkpXG4gICAgICAgIHsgb3V0cHV0W3Byb3BdICs9IFwiIFwiICsgbGluZUNsYXNzWzJdOyB9XG4gICAgfSB9XG4gICAgcmV0dXJuIHR5cGVcbiAgfVxuXG4gIC8vIFJ1biB0aGUgZ2l2ZW4gbW9kZSdzIHBhcnNlciBvdmVyIGEgbGluZSwgY2FsbGluZyBmIGZvciBlYWNoIHRva2VuLlxuICBmdW5jdGlvbiBydW5Nb2RlKGNtLCB0ZXh0LCBtb2RlLCBjb250ZXh0LCBmLCBsaW5lQ2xhc3NlcywgZm9yY2VUb0VuZCkge1xuICAgIHZhciBmbGF0dGVuU3BhbnMgPSBtb2RlLmZsYXR0ZW5TcGFucztcbiAgICBpZiAoZmxhdHRlblNwYW5zID09IG51bGwpIHsgZmxhdHRlblNwYW5zID0gY20ub3B0aW9ucy5mbGF0dGVuU3BhbnM7IH1cbiAgICB2YXIgY3VyU3RhcnQgPSAwLCBjdXJTdHlsZSA9IG51bGw7XG4gICAgdmFyIHN0cmVhbSA9IG5ldyBTdHJpbmdTdHJlYW0odGV4dCwgY20ub3B0aW9ucy50YWJTaXplLCBjb250ZXh0KSwgc3R5bGU7XG4gICAgdmFyIGlubmVyID0gY20ub3B0aW9ucy5hZGRNb2RlQ2xhc3MgJiYgW251bGxdO1xuICAgIGlmICh0ZXh0ID09IFwiXCIpIHsgZXh0cmFjdExpbmVDbGFzc2VzKGNhbGxCbGFua0xpbmUobW9kZSwgY29udGV4dC5zdGF0ZSksIGxpbmVDbGFzc2VzKTsgfVxuICAgIHdoaWxlICghc3RyZWFtLmVvbCgpKSB7XG4gICAgICBpZiAoc3RyZWFtLnBvcyA+IGNtLm9wdGlvbnMubWF4SGlnaGxpZ2h0TGVuZ3RoKSB7XG4gICAgICAgIGZsYXR0ZW5TcGFucyA9IGZhbHNlO1xuICAgICAgICBpZiAoZm9yY2VUb0VuZCkgeyBwcm9jZXNzTGluZShjbSwgdGV4dCwgY29udGV4dCwgc3RyZWFtLnBvcyk7IH1cbiAgICAgICAgc3RyZWFtLnBvcyA9IHRleHQubGVuZ3RoO1xuICAgICAgICBzdHlsZSA9IG51bGw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHlsZSA9IGV4dHJhY3RMaW5lQ2xhc3NlcyhyZWFkVG9rZW4obW9kZSwgc3RyZWFtLCBjb250ZXh0LnN0YXRlLCBpbm5lciksIGxpbmVDbGFzc2VzKTtcbiAgICAgIH1cbiAgICAgIGlmIChpbm5lcikge1xuICAgICAgICB2YXIgbU5hbWUgPSBpbm5lclswXS5uYW1lO1xuICAgICAgICBpZiAobU5hbWUpIHsgc3R5bGUgPSBcIm0tXCIgKyAoc3R5bGUgPyBtTmFtZSArIFwiIFwiICsgc3R5bGUgOiBtTmFtZSk7IH1cbiAgICAgIH1cbiAgICAgIGlmICghZmxhdHRlblNwYW5zIHx8IGN1clN0eWxlICE9IHN0eWxlKSB7XG4gICAgICAgIHdoaWxlIChjdXJTdGFydCA8IHN0cmVhbS5zdGFydCkge1xuICAgICAgICAgIGN1clN0YXJ0ID0gTWF0aC5taW4oc3RyZWFtLnN0YXJ0LCBjdXJTdGFydCArIDUwMDApO1xuICAgICAgICAgIGYoY3VyU3RhcnQsIGN1clN0eWxlKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJTdHlsZSA9IHN0eWxlO1xuICAgICAgfVxuICAgICAgc3RyZWFtLnN0YXJ0ID0gc3RyZWFtLnBvcztcbiAgICB9XG4gICAgd2hpbGUgKGN1clN0YXJ0IDwgc3RyZWFtLnBvcykge1xuICAgICAgLy8gV2Via2l0IHNlZW1zIHRvIHJlZnVzZSB0byByZW5kZXIgdGV4dCBub2RlcyBsb25nZXIgdGhhbiA1NzQ0NFxuICAgICAgLy8gY2hhcmFjdGVycywgYW5kIHJldHVybnMgaW5hY2N1cmF0ZSBtZWFzdXJlbWVudHMgaW4gbm9kZXNcbiAgICAgIC8vIHN0YXJ0aW5nIGFyb3VuZCA1MDAwIGNoYXJzLlxuICAgICAgdmFyIHBvcyA9IE1hdGgubWluKHN0cmVhbS5wb3MsIGN1clN0YXJ0ICsgNTAwMCk7XG4gICAgICBmKHBvcywgY3VyU3R5bGUpO1xuICAgICAgY3VyU3RhcnQgPSBwb3M7XG4gICAgfVxuICB9XG5cbiAgLy8gRmluZHMgdGhlIGxpbmUgdG8gc3RhcnQgd2l0aCB3aGVuIHN0YXJ0aW5nIGEgcGFyc2UuIFRyaWVzIHRvXG4gIC8vIGZpbmQgYSBsaW5lIHdpdGggYSBzdGF0ZUFmdGVyLCBzbyB0aGF0IGl0IGNhbiBzdGFydCB3aXRoIGFcbiAgLy8gdmFsaWQgc3RhdGUuIElmIHRoYXQgZmFpbHMsIGl0IHJldHVybnMgdGhlIGxpbmUgd2l0aCB0aGVcbiAgLy8gc21hbGxlc3QgaW5kZW50YXRpb24sIHdoaWNoIHRlbmRzIHRvIG5lZWQgdGhlIGxlYXN0IGNvbnRleHQgdG9cbiAgLy8gcGFyc2UgY29ycmVjdGx5LlxuICBmdW5jdGlvbiBmaW5kU3RhcnRMaW5lKGNtLCBuLCBwcmVjaXNlKSB7XG4gICAgdmFyIG1pbmluZGVudCwgbWlubGluZSwgZG9jID0gY20uZG9jO1xuICAgIHZhciBsaW0gPSBwcmVjaXNlID8gLTEgOiBuIC0gKGNtLmRvYy5tb2RlLmlubmVyTW9kZSA/IDEwMDAgOiAxMDApO1xuICAgIGZvciAodmFyIHNlYXJjaCA9IG47IHNlYXJjaCA+IGxpbTsgLS1zZWFyY2gpIHtcbiAgICAgIGlmIChzZWFyY2ggPD0gZG9jLmZpcnN0KSB7IHJldHVybiBkb2MuZmlyc3QgfVxuICAgICAgdmFyIGxpbmUgPSBnZXRMaW5lKGRvYywgc2VhcmNoIC0gMSksIGFmdGVyID0gbGluZS5zdGF0ZUFmdGVyO1xuICAgICAgaWYgKGFmdGVyICYmICghcHJlY2lzZSB8fCBzZWFyY2ggKyAoYWZ0ZXIgaW5zdGFuY2VvZiBTYXZlZENvbnRleHQgPyBhZnRlci5sb29rQWhlYWQgOiAwKSA8PSBkb2MubW9kZUZyb250aWVyKSlcbiAgICAgICAgeyByZXR1cm4gc2VhcmNoIH1cbiAgICAgIHZhciBpbmRlbnRlZCA9IGNvdW50Q29sdW1uKGxpbmUudGV4dCwgbnVsbCwgY20ub3B0aW9ucy50YWJTaXplKTtcbiAgICAgIGlmIChtaW5saW5lID09IG51bGwgfHwgbWluaW5kZW50ID4gaW5kZW50ZWQpIHtcbiAgICAgICAgbWlubGluZSA9IHNlYXJjaCAtIDE7XG4gICAgICAgIG1pbmluZGVudCA9IGluZGVudGVkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWlubGluZVxuICB9XG5cbiAgZnVuY3Rpb24gcmV0cmVhdEZyb250aWVyKGRvYywgbikge1xuICAgIGRvYy5tb2RlRnJvbnRpZXIgPSBNYXRoLm1pbihkb2MubW9kZUZyb250aWVyLCBuKTtcbiAgICBpZiAoZG9jLmhpZ2hsaWdodEZyb250aWVyIDwgbiAtIDEwKSB7IHJldHVybiB9XG4gICAgdmFyIHN0YXJ0ID0gZG9jLmZpcnN0O1xuICAgIGZvciAodmFyIGxpbmUgPSBuIC0gMTsgbGluZSA+IHN0YXJ0OyBsaW5lLS0pIHtcbiAgICAgIHZhciBzYXZlZCA9IGdldExpbmUoZG9jLCBsaW5lKS5zdGF0ZUFmdGVyO1xuICAgICAgLy8gY2hhbmdlIGlzIG9uIDNcbiAgICAgIC8vIHN0YXRlIG9uIGxpbmUgMSBsb29rZWQgYWhlYWQgMiAtLSBzbyBzYXcgM1xuICAgICAgLy8gdGVzdCAxICsgMiA8IDMgc2hvdWxkIGNvdmVyIHRoaXNcbiAgICAgIGlmIChzYXZlZCAmJiAoIShzYXZlZCBpbnN0YW5jZW9mIFNhdmVkQ29udGV4dCkgfHwgbGluZSArIHNhdmVkLmxvb2tBaGVhZCA8IG4pKSB7XG4gICAgICAgIHN0YXJ0ID0gbGluZSArIDE7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfVxuICAgIGRvYy5oaWdobGlnaHRGcm9udGllciA9IE1hdGgubWluKGRvYy5oaWdobGlnaHRGcm9udGllciwgc3RhcnQpO1xuICB9XG5cbiAgLy8gT3B0aW1pemUgc29tZSBjb2RlIHdoZW4gdGhlc2UgZmVhdHVyZXMgYXJlIG5vdCB1c2VkLlxuICB2YXIgc2F3UmVhZE9ubHlTcGFucyA9IGZhbHNlLCBzYXdDb2xsYXBzZWRTcGFucyA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIHNlZVJlYWRPbmx5U3BhbnMoKSB7XG4gICAgc2F3UmVhZE9ubHlTcGFucyA9IHRydWU7XG4gIH1cblxuICBmdW5jdGlvbiBzZWVDb2xsYXBzZWRTcGFucygpIHtcbiAgICBzYXdDb2xsYXBzZWRTcGFucyA9IHRydWU7XG4gIH1cblxuICAvLyBURVhUTUFSS0VSIFNQQU5TXG5cbiAgZnVuY3Rpb24gTWFya2VkU3BhbihtYXJrZXIsIGZyb20sIHRvKSB7XG4gICAgdGhpcy5tYXJrZXIgPSBtYXJrZXI7XG4gICAgdGhpcy5mcm9tID0gZnJvbTsgdGhpcy50byA9IHRvO1xuICB9XG5cbiAgLy8gU2VhcmNoIGFuIGFycmF5IG9mIHNwYW5zIGZvciBhIHNwYW4gbWF0Y2hpbmcgdGhlIGdpdmVuIG1hcmtlci5cbiAgZnVuY3Rpb24gZ2V0TWFya2VkU3BhbkZvcihzcGFucywgbWFya2VyKSB7XG4gICAgaWYgKHNwYW5zKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBzcGFuID0gc3BhbnNbaV07XG4gICAgICBpZiAoc3Bhbi5tYXJrZXIgPT0gbWFya2VyKSB7IHJldHVybiBzcGFuIH1cbiAgICB9IH1cbiAgfVxuXG4gIC8vIFJlbW92ZSBhIHNwYW4gZnJvbSBhbiBhcnJheSwgcmV0dXJuaW5nIHVuZGVmaW5lZCBpZiBubyBzcGFucyBhcmVcbiAgLy8gbGVmdCAod2UgZG9uJ3Qgc3RvcmUgYXJyYXlzIGZvciBsaW5lcyB3aXRob3V0IHNwYW5zKS5cbiAgZnVuY3Rpb24gcmVtb3ZlTWFya2VkU3BhbihzcGFucywgc3Bhbikge1xuICAgIHZhciByO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BhbnMubGVuZ3RoOyArK2kpXG4gICAgICB7IGlmIChzcGFuc1tpXSAhPSBzcGFuKSB7IChyIHx8IChyID0gW10pKS5wdXNoKHNwYW5zW2ldKTsgfSB9XG4gICAgcmV0dXJuIHJcbiAgfVxuXG4gIC8vIEFkZCBhIHNwYW4gdG8gYSBsaW5lLlxuICBmdW5jdGlvbiBhZGRNYXJrZWRTcGFuKGxpbmUsIHNwYW4sIG9wKSB7XG4gICAgdmFyIGluVGhpc09wID0gb3AgJiYgd2luZG93LldlYWtTZXQgJiYgKG9wLm1hcmtlZFNwYW5zIHx8IChvcC5tYXJrZWRTcGFucyA9IG5ldyBXZWFrU2V0KSk7XG4gICAgaWYgKGluVGhpc09wICYmIGxpbmUubWFya2VkU3BhbnMgJiYgaW5UaGlzT3AuaGFzKGxpbmUubWFya2VkU3BhbnMpKSB7XG4gICAgICBsaW5lLm1hcmtlZFNwYW5zLnB1c2goc3Bhbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGxpbmUubWFya2VkU3BhbnMgPSBsaW5lLm1hcmtlZFNwYW5zID8gbGluZS5tYXJrZWRTcGFucy5jb25jYXQoW3NwYW5dKSA6IFtzcGFuXTtcbiAgICAgIGlmIChpblRoaXNPcCkgeyBpblRoaXNPcC5hZGQobGluZS5tYXJrZWRTcGFucyk7IH1cbiAgICB9XG4gICAgc3Bhbi5tYXJrZXIuYXR0YWNoTGluZShsaW5lKTtcbiAgfVxuXG4gIC8vIFVzZWQgZm9yIHRoZSBhbGdvcml0aG0gdGhhdCBhZGp1c3RzIG1hcmtlcnMgZm9yIGEgY2hhbmdlIGluIHRoZVxuICAvLyBkb2N1bWVudC4gVGhlc2UgZnVuY3Rpb25zIGN1dCBhbiBhcnJheSBvZiBzcGFucyBhdCBhIGdpdmVuXG4gIC8vIGNoYXJhY3RlciBwb3NpdGlvbiwgcmV0dXJuaW5nIGFuIGFycmF5IG9mIHJlbWFpbmluZyBjaHVua3MgKG9yXG4gIC8vIHVuZGVmaW5lZCBpZiBub3RoaW5nIHJlbWFpbnMpLlxuICBmdW5jdGlvbiBtYXJrZWRTcGFuc0JlZm9yZShvbGQsIHN0YXJ0Q2gsIGlzSW5zZXJ0KSB7XG4gICAgdmFyIG53O1xuICAgIGlmIChvbGQpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBzcGFuID0gb2xkW2ldLCBtYXJrZXIgPSBzcGFuLm1hcmtlcjtcbiAgICAgIHZhciBzdGFydHNCZWZvcmUgPSBzcGFuLmZyb20gPT0gbnVsbCB8fCAobWFya2VyLmluY2x1c2l2ZUxlZnQgPyBzcGFuLmZyb20gPD0gc3RhcnRDaCA6IHNwYW4uZnJvbSA8IHN0YXJ0Q2gpO1xuICAgICAgaWYgKHN0YXJ0c0JlZm9yZSB8fCBzcGFuLmZyb20gPT0gc3RhcnRDaCAmJiBtYXJrZXIudHlwZSA9PSBcImJvb2ttYXJrXCIgJiYgKCFpc0luc2VydCB8fCAhc3Bhbi5tYXJrZXIuaW5zZXJ0TGVmdCkpIHtcbiAgICAgICAgdmFyIGVuZHNBZnRlciA9IHNwYW4udG8gPT0gbnVsbCB8fCAobWFya2VyLmluY2x1c2l2ZVJpZ2h0ID8gc3Bhbi50byA+PSBzdGFydENoIDogc3Bhbi50byA+IHN0YXJ0Q2gpXG4gICAgICAgIDsobncgfHwgKG53ID0gW10pKS5wdXNoKG5ldyBNYXJrZWRTcGFuKG1hcmtlciwgc3Bhbi5mcm9tLCBlbmRzQWZ0ZXIgPyBudWxsIDogc3Bhbi50bykpO1xuICAgICAgfVxuICAgIH0gfVxuICAgIHJldHVybiBud1xuICB9XG4gIGZ1bmN0aW9uIG1hcmtlZFNwYW5zQWZ0ZXIob2xkLCBlbmRDaCwgaXNJbnNlcnQpIHtcbiAgICB2YXIgbnc7XG4gICAgaWYgKG9sZCkgeyBmb3IgKHZhciBpID0gMDsgaSA8IG9sZC5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHNwYW4gPSBvbGRbaV0sIG1hcmtlciA9IHNwYW4ubWFya2VyO1xuICAgICAgdmFyIGVuZHNBZnRlciA9IHNwYW4udG8gPT0gbnVsbCB8fCAobWFya2VyLmluY2x1c2l2ZVJpZ2h0ID8gc3Bhbi50byA+PSBlbmRDaCA6IHNwYW4udG8gPiBlbmRDaCk7XG4gICAgICBpZiAoZW5kc0FmdGVyIHx8IHNwYW4uZnJvbSA9PSBlbmRDaCAmJiBtYXJrZXIudHlwZSA9PSBcImJvb2ttYXJrXCIgJiYgKCFpc0luc2VydCB8fCBzcGFuLm1hcmtlci5pbnNlcnRMZWZ0KSkge1xuICAgICAgICB2YXIgc3RhcnRzQmVmb3JlID0gc3Bhbi5mcm9tID09IG51bGwgfHwgKG1hcmtlci5pbmNsdXNpdmVMZWZ0ID8gc3Bhbi5mcm9tIDw9IGVuZENoIDogc3Bhbi5mcm9tIDwgZW5kQ2gpXG4gICAgICAgIDsobncgfHwgKG53ID0gW10pKS5wdXNoKG5ldyBNYXJrZWRTcGFuKG1hcmtlciwgc3RhcnRzQmVmb3JlID8gbnVsbCA6IHNwYW4uZnJvbSAtIGVuZENoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW4udG8gPT0gbnVsbCA/IG51bGwgOiBzcGFuLnRvIC0gZW5kQ2gpKTtcbiAgICAgIH1cbiAgICB9IH1cbiAgICByZXR1cm4gbndcbiAgfVxuXG4gIC8vIEdpdmVuIGEgY2hhbmdlIG9iamVjdCwgY29tcHV0ZSB0aGUgbmV3IHNldCBvZiBtYXJrZXIgc3BhbnMgdGhhdFxuICAvLyBjb3ZlciB0aGUgbGluZSBpbiB3aGljaCB0aGUgY2hhbmdlIHRvb2sgcGxhY2UuIFJlbW92ZXMgc3BhbnNcbiAgLy8gZW50aXJlbHkgd2l0aGluIHRoZSBjaGFuZ2UsIHJlY29ubmVjdHMgc3BhbnMgYmVsb25naW5nIHRvIHRoZVxuICAvLyBzYW1lIG1hcmtlciB0aGF0IGFwcGVhciBvbiBib3RoIHNpZGVzIG9mIHRoZSBjaGFuZ2UsIGFuZCBjdXRzIG9mZlxuICAvLyBzcGFucyBwYXJ0aWFsbHkgd2l0aGluIHRoZSBjaGFuZ2UuIFJldHVybnMgYW4gYXJyYXkgb2Ygc3BhblxuICAvLyBhcnJheXMgd2l0aCBvbmUgZWxlbWVudCBmb3IgZWFjaCBsaW5lIGluIChhZnRlcikgdGhlIGNoYW5nZS5cbiAgZnVuY3Rpb24gc3RyZXRjaFNwYW5zT3ZlckNoYW5nZShkb2MsIGNoYW5nZSkge1xuICAgIGlmIChjaGFuZ2UuZnVsbCkgeyByZXR1cm4gbnVsbCB9XG4gICAgdmFyIG9sZEZpcnN0ID0gaXNMaW5lKGRvYywgY2hhbmdlLmZyb20ubGluZSkgJiYgZ2V0TGluZShkb2MsIGNoYW5nZS5mcm9tLmxpbmUpLm1hcmtlZFNwYW5zO1xuICAgIHZhciBvbGRMYXN0ID0gaXNMaW5lKGRvYywgY2hhbmdlLnRvLmxpbmUpICYmIGdldExpbmUoZG9jLCBjaGFuZ2UudG8ubGluZSkubWFya2VkU3BhbnM7XG4gICAgaWYgKCFvbGRGaXJzdCAmJiAhb2xkTGFzdCkgeyByZXR1cm4gbnVsbCB9XG5cbiAgICB2YXIgc3RhcnRDaCA9IGNoYW5nZS5mcm9tLmNoLCBlbmRDaCA9IGNoYW5nZS50by5jaCwgaXNJbnNlcnQgPSBjbXAoY2hhbmdlLmZyb20sIGNoYW5nZS50bykgPT0gMDtcbiAgICAvLyBHZXQgdGhlIHNwYW5zIHRoYXQgJ3N0aWNrIG91dCcgb24gYm90aCBzaWRlc1xuICAgIHZhciBmaXJzdCA9IG1hcmtlZFNwYW5zQmVmb3JlKG9sZEZpcnN0LCBzdGFydENoLCBpc0luc2VydCk7XG4gICAgdmFyIGxhc3QgPSBtYXJrZWRTcGFuc0FmdGVyKG9sZExhc3QsIGVuZENoLCBpc0luc2VydCk7XG5cbiAgICAvLyBOZXh0LCBtZXJnZSB0aG9zZSB0d28gZW5kc1xuICAgIHZhciBzYW1lTGluZSA9IGNoYW5nZS50ZXh0Lmxlbmd0aCA9PSAxLCBvZmZzZXQgPSBsc3QoY2hhbmdlLnRleHQpLmxlbmd0aCArIChzYW1lTGluZSA/IHN0YXJ0Q2ggOiAwKTtcbiAgICBpZiAoZmlyc3QpIHtcbiAgICAgIC8vIEZpeCB1cCAudG8gcHJvcGVydGllcyBvZiBmaXJzdFxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaXJzdC5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgc3BhbiA9IGZpcnN0W2ldO1xuICAgICAgICBpZiAoc3Bhbi50byA9PSBudWxsKSB7XG4gICAgICAgICAgdmFyIGZvdW5kID0gZ2V0TWFya2VkU3BhbkZvcihsYXN0LCBzcGFuLm1hcmtlcik7XG4gICAgICAgICAgaWYgKCFmb3VuZCkgeyBzcGFuLnRvID0gc3RhcnRDaDsgfVxuICAgICAgICAgIGVsc2UgaWYgKHNhbWVMaW5lKSB7IHNwYW4udG8gPSBmb3VuZC50byA9PSBudWxsID8gbnVsbCA6IGZvdW5kLnRvICsgb2Zmc2V0OyB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGxhc3QpIHtcbiAgICAgIC8vIEZpeCB1cCAuZnJvbSBpbiBsYXN0IChvciBtb3ZlIHRoZW0gaW50byBmaXJzdCBpbiBjYXNlIG9mIHNhbWVMaW5lKVxuICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgbGFzdC5sZW5ndGg7ICsraSQxKSB7XG4gICAgICAgIHZhciBzcGFuJDEgPSBsYXN0W2kkMV07XG4gICAgICAgIGlmIChzcGFuJDEudG8gIT0gbnVsbCkgeyBzcGFuJDEudG8gKz0gb2Zmc2V0OyB9XG4gICAgICAgIGlmIChzcGFuJDEuZnJvbSA9PSBudWxsKSB7XG4gICAgICAgICAgdmFyIGZvdW5kJDEgPSBnZXRNYXJrZWRTcGFuRm9yKGZpcnN0LCBzcGFuJDEubWFya2VyKTtcbiAgICAgICAgICBpZiAoIWZvdW5kJDEpIHtcbiAgICAgICAgICAgIHNwYW4kMS5mcm9tID0gb2Zmc2V0O1xuICAgICAgICAgICAgaWYgKHNhbWVMaW5lKSB7IChmaXJzdCB8fCAoZmlyc3QgPSBbXSkpLnB1c2goc3BhbiQxKTsgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzcGFuJDEuZnJvbSArPSBvZmZzZXQ7XG4gICAgICAgICAgaWYgKHNhbWVMaW5lKSB7IChmaXJzdCB8fCAoZmlyc3QgPSBbXSkpLnB1c2goc3BhbiQxKTsgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIC8vIE1ha2Ugc3VyZSB3ZSBkaWRuJ3QgY3JlYXRlIGFueSB6ZXJvLWxlbmd0aCBzcGFuc1xuICAgIGlmIChmaXJzdCkgeyBmaXJzdCA9IGNsZWFyRW1wdHlTcGFucyhmaXJzdCk7IH1cbiAgICBpZiAobGFzdCAmJiBsYXN0ICE9IGZpcnN0KSB7IGxhc3QgPSBjbGVhckVtcHR5U3BhbnMobGFzdCk7IH1cblxuICAgIHZhciBuZXdNYXJrZXJzID0gW2ZpcnN0XTtcbiAgICBpZiAoIXNhbWVMaW5lKSB7XG4gICAgICAvLyBGaWxsIGdhcCB3aXRoIHdob2xlLWxpbmUtc3BhbnNcbiAgICAgIHZhciBnYXAgPSBjaGFuZ2UudGV4dC5sZW5ndGggLSAyLCBnYXBNYXJrZXJzO1xuICAgICAgaWYgKGdhcCA+IDAgJiYgZmlyc3QpXG4gICAgICAgIHsgZm9yICh2YXIgaSQyID0gMDsgaSQyIDwgZmlyc3QubGVuZ3RoOyArK2kkMilcbiAgICAgICAgICB7IGlmIChmaXJzdFtpJDJdLnRvID09IG51bGwpXG4gICAgICAgICAgICB7IChnYXBNYXJrZXJzIHx8IChnYXBNYXJrZXJzID0gW10pKS5wdXNoKG5ldyBNYXJrZWRTcGFuKGZpcnN0W2kkMl0ubWFya2VyLCBudWxsLCBudWxsKSk7IH0gfSB9XG4gICAgICBmb3IgKHZhciBpJDMgPSAwOyBpJDMgPCBnYXA7ICsraSQzKVxuICAgICAgICB7IG5ld01hcmtlcnMucHVzaChnYXBNYXJrZXJzKTsgfVxuICAgICAgbmV3TWFya2Vycy5wdXNoKGxhc3QpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3TWFya2Vyc1xuICB9XG5cbiAgLy8gUmVtb3ZlIHNwYW5zIHRoYXQgYXJlIGVtcHR5IGFuZCBkb24ndCBoYXZlIGEgY2xlYXJXaGVuRW1wdHlcbiAgLy8gb3B0aW9uIG9mIGZhbHNlLlxuICBmdW5jdGlvbiBjbGVhckVtcHR5U3BhbnMoc3BhbnMpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgc3BhbiA9IHNwYW5zW2ldO1xuICAgICAgaWYgKHNwYW4uZnJvbSAhPSBudWxsICYmIHNwYW4uZnJvbSA9PSBzcGFuLnRvICYmIHNwYW4ubWFya2VyLmNsZWFyV2hlbkVtcHR5ICE9PSBmYWxzZSlcbiAgICAgICAgeyBzcGFucy5zcGxpY2UoaS0tLCAxKTsgfVxuICAgIH1cbiAgICBpZiAoIXNwYW5zLmxlbmd0aCkgeyByZXR1cm4gbnVsbCB9XG4gICAgcmV0dXJuIHNwYW5zXG4gIH1cblxuICAvLyBVc2VkIHRvICdjbGlwJyBvdXQgcmVhZE9ubHkgcmFuZ2VzIHdoZW4gbWFraW5nIGEgY2hhbmdlLlxuICBmdW5jdGlvbiByZW1vdmVSZWFkT25seVJhbmdlcyhkb2MsIGZyb20sIHRvKSB7XG4gICAgdmFyIG1hcmtlcnMgPSBudWxsO1xuICAgIGRvYy5pdGVyKGZyb20ubGluZSwgdG8ubGluZSArIDEsIGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICBpZiAobGluZS5tYXJrZWRTcGFucykgeyBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmUubWFya2VkU3BhbnMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIG1hcmsgPSBsaW5lLm1hcmtlZFNwYW5zW2ldLm1hcmtlcjtcbiAgICAgICAgaWYgKG1hcmsucmVhZE9ubHkgJiYgKCFtYXJrZXJzIHx8IGluZGV4T2YobWFya2VycywgbWFyaykgPT0gLTEpKVxuICAgICAgICAgIHsgKG1hcmtlcnMgfHwgKG1hcmtlcnMgPSBbXSkpLnB1c2gobWFyayk7IH1cbiAgICAgIH0gfVxuICAgIH0pO1xuICAgIGlmICghbWFya2VycykgeyByZXR1cm4gbnVsbCB9XG4gICAgdmFyIHBhcnRzID0gW3tmcm9tOiBmcm9tLCB0bzogdG99XTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcmtlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBtayA9IG1hcmtlcnNbaV0sIG0gPSBtay5maW5kKDApO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBwYXJ0cy5sZW5ndGg7ICsraikge1xuICAgICAgICB2YXIgcCA9IHBhcnRzW2pdO1xuICAgICAgICBpZiAoY21wKHAudG8sIG0uZnJvbSkgPCAwIHx8IGNtcChwLmZyb20sIG0udG8pID4gMCkgeyBjb250aW51ZSB9XG4gICAgICAgIHZhciBuZXdQYXJ0cyA9IFtqLCAxXSwgZGZyb20gPSBjbXAocC5mcm9tLCBtLmZyb20pLCBkdG8gPSBjbXAocC50bywgbS50byk7XG4gICAgICAgIGlmIChkZnJvbSA8IDAgfHwgIW1rLmluY2x1c2l2ZUxlZnQgJiYgIWRmcm9tKVxuICAgICAgICAgIHsgbmV3UGFydHMucHVzaCh7ZnJvbTogcC5mcm9tLCB0bzogbS5mcm9tfSk7IH1cbiAgICAgICAgaWYgKGR0byA+IDAgfHwgIW1rLmluY2x1c2l2ZVJpZ2h0ICYmICFkdG8pXG4gICAgICAgICAgeyBuZXdQYXJ0cy5wdXNoKHtmcm9tOiBtLnRvLCB0bzogcC50b30pOyB9XG4gICAgICAgIHBhcnRzLnNwbGljZS5hcHBseShwYXJ0cywgbmV3UGFydHMpO1xuICAgICAgICBqICs9IG5ld1BhcnRzLmxlbmd0aCAtIDM7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXJ0c1xuICB9XG5cbiAgLy8gQ29ubmVjdCBvciBkaXNjb25uZWN0IHNwYW5zIGZyb20gYSBsaW5lLlxuICBmdW5jdGlvbiBkZXRhY2hNYXJrZWRTcGFucyhsaW5lKSB7XG4gICAgdmFyIHNwYW5zID0gbGluZS5tYXJrZWRTcGFucztcbiAgICBpZiAoIXNwYW5zKSB7IHJldHVybiB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7ICsraSlcbiAgICAgIHsgc3BhbnNbaV0ubWFya2VyLmRldGFjaExpbmUobGluZSk7IH1cbiAgICBsaW5lLm1hcmtlZFNwYW5zID0gbnVsbDtcbiAgfVxuICBmdW5jdGlvbiBhdHRhY2hNYXJrZWRTcGFucyhsaW5lLCBzcGFucykge1xuICAgIGlmICghc3BhbnMpIHsgcmV0dXJuIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNwYW5zLmxlbmd0aDsgKytpKVxuICAgICAgeyBzcGFuc1tpXS5tYXJrZXIuYXR0YWNoTGluZShsaW5lKTsgfVxuICAgIGxpbmUubWFya2VkU3BhbnMgPSBzcGFucztcbiAgfVxuXG4gIC8vIEhlbHBlcnMgdXNlZCB3aGVuIGNvbXB1dGluZyB3aGljaCBvdmVybGFwcGluZyBjb2xsYXBzZWQgc3BhblxuICAvLyBjb3VudHMgYXMgdGhlIGxhcmdlciBvbmUuXG4gIGZ1bmN0aW9uIGV4dHJhTGVmdChtYXJrZXIpIHsgcmV0dXJuIG1hcmtlci5pbmNsdXNpdmVMZWZ0ID8gLTEgOiAwIH1cbiAgZnVuY3Rpb24gZXh0cmFSaWdodChtYXJrZXIpIHsgcmV0dXJuIG1hcmtlci5pbmNsdXNpdmVSaWdodCA/IDEgOiAwIH1cblxuICAvLyBSZXR1cm5zIGEgbnVtYmVyIGluZGljYXRpbmcgd2hpY2ggb2YgdHdvIG92ZXJsYXBwaW5nIGNvbGxhcHNlZFxuICAvLyBzcGFucyBpcyBsYXJnZXIgKGFuZCB0aHVzIGluY2x1ZGVzIHRoZSBvdGhlcikuIEZhbGxzIGJhY2sgdG9cbiAgLy8gY29tcGFyaW5nIGlkcyB3aGVuIHRoZSBzcGFucyBjb3ZlciBleGFjdGx5IHRoZSBzYW1lIHJhbmdlLlxuICBmdW5jdGlvbiBjb21wYXJlQ29sbGFwc2VkTWFya2VycyhhLCBiKSB7XG4gICAgdmFyIGxlbkRpZmYgPSBhLmxpbmVzLmxlbmd0aCAtIGIubGluZXMubGVuZ3RoO1xuICAgIGlmIChsZW5EaWZmICE9IDApIHsgcmV0dXJuIGxlbkRpZmYgfVxuICAgIHZhciBhUG9zID0gYS5maW5kKCksIGJQb3MgPSBiLmZpbmQoKTtcbiAgICB2YXIgZnJvbUNtcCA9IGNtcChhUG9zLmZyb20sIGJQb3MuZnJvbSkgfHwgZXh0cmFMZWZ0KGEpIC0gZXh0cmFMZWZ0KGIpO1xuICAgIGlmIChmcm9tQ21wKSB7IHJldHVybiAtZnJvbUNtcCB9XG4gICAgdmFyIHRvQ21wID0gY21wKGFQb3MudG8sIGJQb3MudG8pIHx8IGV4dHJhUmlnaHQoYSkgLSBleHRyYVJpZ2h0KGIpO1xuICAgIGlmICh0b0NtcCkgeyByZXR1cm4gdG9DbXAgfVxuICAgIHJldHVybiBiLmlkIC0gYS5pZFxuICB9XG5cbiAgLy8gRmluZCBvdXQgd2hldGhlciBhIGxpbmUgZW5kcyBvciBzdGFydHMgaW4gYSBjb2xsYXBzZWQgc3Bhbi4gSWZcbiAgLy8gc28sIHJldHVybiB0aGUgbWFya2VyIGZvciB0aGF0IHNwYW4uXG4gIGZ1bmN0aW9uIGNvbGxhcHNlZFNwYW5BdFNpZGUobGluZSwgc3RhcnQpIHtcbiAgICB2YXIgc3BzID0gc2F3Q29sbGFwc2VkU3BhbnMgJiYgbGluZS5tYXJrZWRTcGFucywgZm91bmQ7XG4gICAgaWYgKHNwcykgeyBmb3IgKHZhciBzcCA9ICh2b2lkIDApLCBpID0gMDsgaSA8IHNwcy5sZW5ndGg7ICsraSkge1xuICAgICAgc3AgPSBzcHNbaV07XG4gICAgICBpZiAoc3AubWFya2VyLmNvbGxhcHNlZCAmJiAoc3RhcnQgPyBzcC5mcm9tIDogc3AudG8pID09IG51bGwgJiZcbiAgICAgICAgICAoIWZvdW5kIHx8IGNvbXBhcmVDb2xsYXBzZWRNYXJrZXJzKGZvdW5kLCBzcC5tYXJrZXIpIDwgMCkpXG4gICAgICAgIHsgZm91bmQgPSBzcC5tYXJrZXI7IH1cbiAgICB9IH1cbiAgICByZXR1cm4gZm91bmRcbiAgfVxuICBmdW5jdGlvbiBjb2xsYXBzZWRTcGFuQXRTdGFydChsaW5lKSB7IHJldHVybiBjb2xsYXBzZWRTcGFuQXRTaWRlKGxpbmUsIHRydWUpIH1cbiAgZnVuY3Rpb24gY29sbGFwc2VkU3BhbkF0RW5kKGxpbmUpIHsgcmV0dXJuIGNvbGxhcHNlZFNwYW5BdFNpZGUobGluZSwgZmFsc2UpIH1cblxuICBmdW5jdGlvbiBjb2xsYXBzZWRTcGFuQXJvdW5kKGxpbmUsIGNoKSB7XG4gICAgdmFyIHNwcyA9IHNhd0NvbGxhcHNlZFNwYW5zICYmIGxpbmUubWFya2VkU3BhbnMsIGZvdW5kO1xuICAgIGlmIChzcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBzcHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBzcCA9IHNwc1tpXTtcbiAgICAgIGlmIChzcC5tYXJrZXIuY29sbGFwc2VkICYmIChzcC5mcm9tID09IG51bGwgfHwgc3AuZnJvbSA8IGNoKSAmJiAoc3AudG8gPT0gbnVsbCB8fCBzcC50byA+IGNoKSAmJlxuICAgICAgICAgICghZm91bmQgfHwgY29tcGFyZUNvbGxhcHNlZE1hcmtlcnMoZm91bmQsIHNwLm1hcmtlcikgPCAwKSkgeyBmb3VuZCA9IHNwLm1hcmtlcjsgfVxuICAgIH0gfVxuICAgIHJldHVybiBmb3VuZFxuICB9XG5cbiAgLy8gVGVzdCB3aGV0aGVyIHRoZXJlIGV4aXN0cyBhIGNvbGxhcHNlZCBzcGFuIHRoYXQgcGFydGlhbGx5XG4gIC8vIG92ZXJsYXBzIChjb3ZlcnMgdGhlIHN0YXJ0IG9yIGVuZCwgYnV0IG5vdCBib3RoKSBvZiBhIG5ldyBzcGFuLlxuICAvLyBTdWNoIG92ZXJsYXAgaXMgbm90IGFsbG93ZWQuXG4gIGZ1bmN0aW9uIGNvbmZsaWN0aW5nQ29sbGFwc2VkUmFuZ2UoZG9jLCBsaW5lTm8sIGZyb20sIHRvLCBtYXJrZXIpIHtcbiAgICB2YXIgbGluZSA9IGdldExpbmUoZG9jLCBsaW5lTm8pO1xuICAgIHZhciBzcHMgPSBzYXdDb2xsYXBzZWRTcGFucyAmJiBsaW5lLm1hcmtlZFNwYW5zO1xuICAgIGlmIChzcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBzcHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBzcCA9IHNwc1tpXTtcbiAgICAgIGlmICghc3AubWFya2VyLmNvbGxhcHNlZCkgeyBjb250aW51ZSB9XG4gICAgICB2YXIgZm91bmQgPSBzcC5tYXJrZXIuZmluZCgwKTtcbiAgICAgIHZhciBmcm9tQ21wID0gY21wKGZvdW5kLmZyb20sIGZyb20pIHx8IGV4dHJhTGVmdChzcC5tYXJrZXIpIC0gZXh0cmFMZWZ0KG1hcmtlcik7XG4gICAgICB2YXIgdG9DbXAgPSBjbXAoZm91bmQudG8sIHRvKSB8fCBleHRyYVJpZ2h0KHNwLm1hcmtlcikgLSBleHRyYVJpZ2h0KG1hcmtlcik7XG4gICAgICBpZiAoZnJvbUNtcCA+PSAwICYmIHRvQ21wIDw9IDAgfHwgZnJvbUNtcCA8PSAwICYmIHRvQ21wID49IDApIHsgY29udGludWUgfVxuICAgICAgaWYgKGZyb21DbXAgPD0gMCAmJiAoc3AubWFya2VyLmluY2x1c2l2ZVJpZ2h0ICYmIG1hcmtlci5pbmNsdXNpdmVMZWZ0ID8gY21wKGZvdW5kLnRvLCBmcm9tKSA+PSAwIDogY21wKGZvdW5kLnRvLCBmcm9tKSA+IDApIHx8XG4gICAgICAgICAgZnJvbUNtcCA+PSAwICYmIChzcC5tYXJrZXIuaW5jbHVzaXZlUmlnaHQgJiYgbWFya2VyLmluY2x1c2l2ZUxlZnQgPyBjbXAoZm91bmQuZnJvbSwgdG8pIDw9IDAgOiBjbXAoZm91bmQuZnJvbSwgdG8pIDwgMCkpXG4gICAgICAgIHsgcmV0dXJuIHRydWUgfVxuICAgIH0gfVxuICB9XG5cbiAgLy8gQSB2aXN1YWwgbGluZSBpcyBhIGxpbmUgYXMgZHJhd24gb24gdGhlIHNjcmVlbi4gRm9sZGluZywgZm9yXG4gIC8vIGV4YW1wbGUsIGNhbiBjYXVzZSBtdWx0aXBsZSBsb2dpY2FsIGxpbmVzIHRvIGFwcGVhciBvbiB0aGUgc2FtZVxuICAvLyB2aXN1YWwgbGluZS4gVGhpcyBmaW5kcyB0aGUgc3RhcnQgb2YgdGhlIHZpc3VhbCBsaW5lIHRoYXQgdGhlXG4gIC8vIGdpdmVuIGxpbmUgaXMgcGFydCBvZiAodXN1YWxseSB0aGF0IGlzIHRoZSBsaW5lIGl0c2VsZikuXG4gIGZ1bmN0aW9uIHZpc3VhbExpbmUobGluZSkge1xuICAgIHZhciBtZXJnZWQ7XG4gICAgd2hpbGUgKG1lcmdlZCA9IGNvbGxhcHNlZFNwYW5BdFN0YXJ0KGxpbmUpKVxuICAgICAgeyBsaW5lID0gbWVyZ2VkLmZpbmQoLTEsIHRydWUpLmxpbmU7IH1cbiAgICByZXR1cm4gbGluZVxuICB9XG5cbiAgZnVuY3Rpb24gdmlzdWFsTGluZUVuZChsaW5lKSB7XG4gICAgdmFyIG1lcmdlZDtcbiAgICB3aGlsZSAobWVyZ2VkID0gY29sbGFwc2VkU3BhbkF0RW5kKGxpbmUpKVxuICAgICAgeyBsaW5lID0gbWVyZ2VkLmZpbmQoMSwgdHJ1ZSkubGluZTsgfVxuICAgIHJldHVybiBsaW5lXG4gIH1cblxuICAvLyBSZXR1cm5zIGFuIGFycmF5IG9mIGxvZ2ljYWwgbGluZXMgdGhhdCBjb250aW51ZSB0aGUgdmlzdWFsIGxpbmVcbiAgLy8gc3RhcnRlZCBieSB0aGUgYXJndW1lbnQsIG9yIHVuZGVmaW5lZCBpZiB0aGVyZSBhcmUgbm8gc3VjaCBsaW5lcy5cbiAgZnVuY3Rpb24gdmlzdWFsTGluZUNvbnRpbnVlZChsaW5lKSB7XG4gICAgdmFyIG1lcmdlZCwgbGluZXM7XG4gICAgd2hpbGUgKG1lcmdlZCA9IGNvbGxhcHNlZFNwYW5BdEVuZChsaW5lKSkge1xuICAgICAgbGluZSA9IG1lcmdlZC5maW5kKDEsIHRydWUpLmxpbmVcbiAgICAgIDsobGluZXMgfHwgKGxpbmVzID0gW10pKS5wdXNoKGxpbmUpO1xuICAgIH1cbiAgICByZXR1cm4gbGluZXNcbiAgfVxuXG4gIC8vIEdldCB0aGUgbGluZSBudW1iZXIgb2YgdGhlIHN0YXJ0IG9mIHRoZSB2aXN1YWwgbGluZSB0aGF0IHRoZVxuICAvLyBnaXZlbiBsaW5lIG51bWJlciBpcyBwYXJ0IG9mLlxuICBmdW5jdGlvbiB2aXN1YWxMaW5lTm8oZG9jLCBsaW5lTikge1xuICAgIHZhciBsaW5lID0gZ2V0TGluZShkb2MsIGxpbmVOKSwgdmlzID0gdmlzdWFsTGluZShsaW5lKTtcbiAgICBpZiAobGluZSA9PSB2aXMpIHsgcmV0dXJuIGxpbmVOIH1cbiAgICByZXR1cm4gbGluZU5vKHZpcylcbiAgfVxuXG4gIC8vIEdldCB0aGUgbGluZSBudW1iZXIgb2YgdGhlIHN0YXJ0IG9mIHRoZSBuZXh0IHZpc3VhbCBsaW5lIGFmdGVyXG4gIC8vIHRoZSBnaXZlbiBsaW5lLlxuICBmdW5jdGlvbiB2aXN1YWxMaW5lRW5kTm8oZG9jLCBsaW5lTikge1xuICAgIGlmIChsaW5lTiA+IGRvYy5sYXN0TGluZSgpKSB7IHJldHVybiBsaW5lTiB9XG4gICAgdmFyIGxpbmUgPSBnZXRMaW5lKGRvYywgbGluZU4pLCBtZXJnZWQ7XG4gICAgaWYgKCFsaW5lSXNIaWRkZW4oZG9jLCBsaW5lKSkgeyByZXR1cm4gbGluZU4gfVxuICAgIHdoaWxlIChtZXJnZWQgPSBjb2xsYXBzZWRTcGFuQXRFbmQobGluZSkpXG4gICAgICB7IGxpbmUgPSBtZXJnZWQuZmluZCgxLCB0cnVlKS5saW5lOyB9XG4gICAgcmV0dXJuIGxpbmVObyhsaW5lKSArIDFcbiAgfVxuXG4gIC8vIENvbXB1dGUgd2hldGhlciBhIGxpbmUgaXMgaGlkZGVuLiBMaW5lcyBjb3VudCBhcyBoaWRkZW4gd2hlbiB0aGV5XG4gIC8vIGFyZSBwYXJ0IG9mIGEgdmlzdWFsIGxpbmUgdGhhdCBzdGFydHMgd2l0aCBhbm90aGVyIGxpbmUsIG9yIHdoZW5cbiAgLy8gdGhleSBhcmUgZW50aXJlbHkgY292ZXJlZCBieSBjb2xsYXBzZWQsIG5vbi13aWRnZXQgc3Bhbi5cbiAgZnVuY3Rpb24gbGluZUlzSGlkZGVuKGRvYywgbGluZSkge1xuICAgIHZhciBzcHMgPSBzYXdDb2xsYXBzZWRTcGFucyAmJiBsaW5lLm1hcmtlZFNwYW5zO1xuICAgIGlmIChzcHMpIHsgZm9yICh2YXIgc3AgPSAodm9pZCAwKSwgaSA9IDA7IGkgPCBzcHMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHNwID0gc3BzW2ldO1xuICAgICAgaWYgKCFzcC5tYXJrZXIuY29sbGFwc2VkKSB7IGNvbnRpbnVlIH1cbiAgICAgIGlmIChzcC5mcm9tID09IG51bGwpIHsgcmV0dXJuIHRydWUgfVxuICAgICAgaWYgKHNwLm1hcmtlci53aWRnZXROb2RlKSB7IGNvbnRpbnVlIH1cbiAgICAgIGlmIChzcC5mcm9tID09IDAgJiYgc3AubWFya2VyLmluY2x1c2l2ZUxlZnQgJiYgbGluZUlzSGlkZGVuSW5uZXIoZG9jLCBsaW5lLCBzcCkpXG4gICAgICAgIHsgcmV0dXJuIHRydWUgfVxuICAgIH0gfVxuICB9XG4gIGZ1bmN0aW9uIGxpbmVJc0hpZGRlbklubmVyKGRvYywgbGluZSwgc3Bhbikge1xuICAgIGlmIChzcGFuLnRvID09IG51bGwpIHtcbiAgICAgIHZhciBlbmQgPSBzcGFuLm1hcmtlci5maW5kKDEsIHRydWUpO1xuICAgICAgcmV0dXJuIGxpbmVJc0hpZGRlbklubmVyKGRvYywgZW5kLmxpbmUsIGdldE1hcmtlZFNwYW5Gb3IoZW5kLmxpbmUubWFya2VkU3BhbnMsIHNwYW4ubWFya2VyKSlcbiAgICB9XG4gICAgaWYgKHNwYW4ubWFya2VyLmluY2x1c2l2ZVJpZ2h0ICYmIHNwYW4udG8gPT0gbGluZS50ZXh0Lmxlbmd0aClcbiAgICAgIHsgcmV0dXJuIHRydWUgfVxuICAgIGZvciAodmFyIHNwID0gKHZvaWQgMCksIGkgPSAwOyBpIDwgbGluZS5tYXJrZWRTcGFucy5sZW5ndGg7ICsraSkge1xuICAgICAgc3AgPSBsaW5lLm1hcmtlZFNwYW5zW2ldO1xuICAgICAgaWYgKHNwLm1hcmtlci5jb2xsYXBzZWQgJiYgIXNwLm1hcmtlci53aWRnZXROb2RlICYmIHNwLmZyb20gPT0gc3Bhbi50byAmJlxuICAgICAgICAgIChzcC50byA9PSBudWxsIHx8IHNwLnRvICE9IHNwYW4uZnJvbSkgJiZcbiAgICAgICAgICAoc3AubWFya2VyLmluY2x1c2l2ZUxlZnQgfHwgc3Bhbi5tYXJrZXIuaW5jbHVzaXZlUmlnaHQpICYmXG4gICAgICAgICAgbGluZUlzSGlkZGVuSW5uZXIoZG9jLCBsaW5lLCBzcCkpIHsgcmV0dXJuIHRydWUgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEZpbmQgdGhlIGhlaWdodCBhYm92ZSB0aGUgZ2l2ZW4gbGluZS5cbiAgZnVuY3Rpb24gaGVpZ2h0QXRMaW5lKGxpbmVPYmopIHtcbiAgICBsaW5lT2JqID0gdmlzdWFsTGluZShsaW5lT2JqKTtcblxuICAgIHZhciBoID0gMCwgY2h1bmsgPSBsaW5lT2JqLnBhcmVudDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNodW5rLmxpbmVzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgbGluZSA9IGNodW5rLmxpbmVzW2ldO1xuICAgICAgaWYgKGxpbmUgPT0gbGluZU9iaikgeyBicmVhayB9XG4gICAgICBlbHNlIHsgaCArPSBsaW5lLmhlaWdodDsgfVxuICAgIH1cbiAgICBmb3IgKHZhciBwID0gY2h1bmsucGFyZW50OyBwOyBjaHVuayA9IHAsIHAgPSBjaHVuay5wYXJlbnQpIHtcbiAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHAuY2hpbGRyZW4ubGVuZ3RoOyArK2kkMSkge1xuICAgICAgICB2YXIgY3VyID0gcC5jaGlsZHJlbltpJDFdO1xuICAgICAgICBpZiAoY3VyID09IGNodW5rKSB7IGJyZWFrIH1cbiAgICAgICAgZWxzZSB7IGggKz0gY3VyLmhlaWdodDsgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaFxuICB9XG5cbiAgLy8gQ29tcHV0ZSB0aGUgY2hhcmFjdGVyIGxlbmd0aCBvZiBhIGxpbmUsIHRha2luZyBpbnRvIGFjY291bnRcbiAgLy8gY29sbGFwc2VkIHJhbmdlcyAoc2VlIG1hcmtUZXh0KSB0aGF0IG1pZ2h0IGhpZGUgcGFydHMsIGFuZCBqb2luXG4gIC8vIG90aGVyIGxpbmVzIG9udG8gaXQuXG4gIGZ1bmN0aW9uIGxpbmVMZW5ndGgobGluZSkge1xuICAgIGlmIChsaW5lLmhlaWdodCA9PSAwKSB7IHJldHVybiAwIH1cbiAgICB2YXIgbGVuID0gbGluZS50ZXh0Lmxlbmd0aCwgbWVyZ2VkLCBjdXIgPSBsaW5lO1xuICAgIHdoaWxlIChtZXJnZWQgPSBjb2xsYXBzZWRTcGFuQXRTdGFydChjdXIpKSB7XG4gICAgICB2YXIgZm91bmQgPSBtZXJnZWQuZmluZCgwLCB0cnVlKTtcbiAgICAgIGN1ciA9IGZvdW5kLmZyb20ubGluZTtcbiAgICAgIGxlbiArPSBmb3VuZC5mcm9tLmNoIC0gZm91bmQudG8uY2g7XG4gICAgfVxuICAgIGN1ciA9IGxpbmU7XG4gICAgd2hpbGUgKG1lcmdlZCA9IGNvbGxhcHNlZFNwYW5BdEVuZChjdXIpKSB7XG4gICAgICB2YXIgZm91bmQkMSA9IG1lcmdlZC5maW5kKDAsIHRydWUpO1xuICAgICAgbGVuIC09IGN1ci50ZXh0Lmxlbmd0aCAtIGZvdW5kJDEuZnJvbS5jaDtcbiAgICAgIGN1ciA9IGZvdW5kJDEudG8ubGluZTtcbiAgICAgIGxlbiArPSBjdXIudGV4dC5sZW5ndGggLSBmb3VuZCQxLnRvLmNoO1xuICAgIH1cbiAgICByZXR1cm4gbGVuXG4gIH1cblxuICAvLyBGaW5kIHRoZSBsb25nZXN0IGxpbmUgaW4gdGhlIGRvY3VtZW50LlxuICBmdW5jdGlvbiBmaW5kTWF4TGluZShjbSkge1xuICAgIHZhciBkID0gY20uZGlzcGxheSwgZG9jID0gY20uZG9jO1xuICAgIGQubWF4TGluZSA9IGdldExpbmUoZG9jLCBkb2MuZmlyc3QpO1xuICAgIGQubWF4TGluZUxlbmd0aCA9IGxpbmVMZW5ndGgoZC5tYXhMaW5lKTtcbiAgICBkLm1heExpbmVDaGFuZ2VkID0gdHJ1ZTtcbiAgICBkb2MuaXRlcihmdW5jdGlvbiAobGluZSkge1xuICAgICAgdmFyIGxlbiA9IGxpbmVMZW5ndGgobGluZSk7XG4gICAgICBpZiAobGVuID4gZC5tYXhMaW5lTGVuZ3RoKSB7XG4gICAgICAgIGQubWF4TGluZUxlbmd0aCA9IGxlbjtcbiAgICAgICAgZC5tYXhMaW5lID0gbGluZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIExJTkUgREFUQSBTVFJVQ1RVUkVcblxuICAvLyBMaW5lIG9iamVjdHMuIFRoZXNlIGhvbGQgc3RhdGUgcmVsYXRlZCB0byBhIGxpbmUsIGluY2x1ZGluZ1xuICAvLyBoaWdobGlnaHRpbmcgaW5mbyAodGhlIHN0eWxlcyBhcnJheSkuXG4gIHZhciBMaW5lID0gZnVuY3Rpb24odGV4dCwgbWFya2VkU3BhbnMsIGVzdGltYXRlSGVpZ2h0KSB7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDtcbiAgICBhdHRhY2hNYXJrZWRTcGFucyh0aGlzLCBtYXJrZWRTcGFucyk7XG4gICAgdGhpcy5oZWlnaHQgPSBlc3RpbWF0ZUhlaWdodCA/IGVzdGltYXRlSGVpZ2h0KHRoaXMpIDogMTtcbiAgfTtcblxuICBMaW5lLnByb3RvdHlwZS5saW5lTm8gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBsaW5lTm8odGhpcykgfTtcbiAgZXZlbnRNaXhpbihMaW5lKTtcblxuICAvLyBDaGFuZ2UgdGhlIGNvbnRlbnQgKHRleHQsIG1hcmtlcnMpIG9mIGEgbGluZS4gQXV0b21hdGljYWxseVxuICAvLyBpbnZhbGlkYXRlcyBjYWNoZWQgaW5mb3JtYXRpb24gYW5kIHRyaWVzIHRvIHJlLWVzdGltYXRlIHRoZVxuICAvLyBsaW5lJ3MgaGVpZ2h0LlxuICBmdW5jdGlvbiB1cGRhdGVMaW5lKGxpbmUsIHRleHQsIG1hcmtlZFNwYW5zLCBlc3RpbWF0ZUhlaWdodCkge1xuICAgIGxpbmUudGV4dCA9IHRleHQ7XG4gICAgaWYgKGxpbmUuc3RhdGVBZnRlcikgeyBsaW5lLnN0YXRlQWZ0ZXIgPSBudWxsOyB9XG4gICAgaWYgKGxpbmUuc3R5bGVzKSB7IGxpbmUuc3R5bGVzID0gbnVsbDsgfVxuICAgIGlmIChsaW5lLm9yZGVyICE9IG51bGwpIHsgbGluZS5vcmRlciA9IG51bGw7IH1cbiAgICBkZXRhY2hNYXJrZWRTcGFucyhsaW5lKTtcbiAgICBhdHRhY2hNYXJrZWRTcGFucyhsaW5lLCBtYXJrZWRTcGFucyk7XG4gICAgdmFyIGVzdEhlaWdodCA9IGVzdGltYXRlSGVpZ2h0ID8gZXN0aW1hdGVIZWlnaHQobGluZSkgOiAxO1xuICAgIGlmIChlc3RIZWlnaHQgIT0gbGluZS5oZWlnaHQpIHsgdXBkYXRlTGluZUhlaWdodChsaW5lLCBlc3RIZWlnaHQpOyB9XG4gIH1cblxuICAvLyBEZXRhY2ggYSBsaW5lIGZyb20gdGhlIGRvY3VtZW50IHRyZWUgYW5kIGl0cyBtYXJrZXJzLlxuICBmdW5jdGlvbiBjbGVhblVwTGluZShsaW5lKSB7XG4gICAgbGluZS5wYXJlbnQgPSBudWxsO1xuICAgIGRldGFjaE1hcmtlZFNwYW5zKGxpbmUpO1xuICB9XG5cbiAgLy8gQ29udmVydCBhIHN0eWxlIGFzIHJldHVybmVkIGJ5IGEgbW9kZSAoZWl0aGVyIG51bGwsIG9yIGEgc3RyaW5nXG4gIC8vIGNvbnRhaW5pbmcgb25lIG9yIG1vcmUgc3R5bGVzKSB0byBhIENTUyBzdHlsZS4gVGhpcyBpcyBjYWNoZWQsXG4gIC8vIGFuZCBhbHNvIGxvb2tzIGZvciBsaW5lLXdpZGUgc3R5bGVzLlxuICB2YXIgc3R5bGVUb0NsYXNzQ2FjaGUgPSB7fSwgc3R5bGVUb0NsYXNzQ2FjaGVXaXRoTW9kZSA9IHt9O1xuICBmdW5jdGlvbiBpbnRlcnByZXRUb2tlblN0eWxlKHN0eWxlLCBvcHRpb25zKSB7XG4gICAgaWYgKCFzdHlsZSB8fCAvXlxccyokLy50ZXN0KHN0eWxlKSkgeyByZXR1cm4gbnVsbCB9XG4gICAgdmFyIGNhY2hlID0gb3B0aW9ucy5hZGRNb2RlQ2xhc3MgPyBzdHlsZVRvQ2xhc3NDYWNoZVdpdGhNb2RlIDogc3R5bGVUb0NsYXNzQ2FjaGU7XG4gICAgcmV0dXJuIGNhY2hlW3N0eWxlXSB8fFxuICAgICAgKGNhY2hlW3N0eWxlXSA9IHN0eWxlLnJlcGxhY2UoL1xcUysvZywgXCJjbS0kJlwiKSlcbiAgfVxuXG4gIC8vIFJlbmRlciB0aGUgRE9NIHJlcHJlc2VudGF0aW9uIG9mIHRoZSB0ZXh0IG9mIGEgbGluZS4gQWxzbyBidWlsZHNcbiAgLy8gdXAgYSAnbGluZSBtYXAnLCB3aGljaCBwb2ludHMgYXQgdGhlIERPTSBub2RlcyB0aGF0IHJlcHJlc2VudFxuICAvLyBzcGVjaWZpYyBzdHJldGNoZXMgb2YgdGV4dCwgYW5kIGlzIHVzZWQgYnkgdGhlIG1lYXN1cmluZyBjb2RlLlxuICAvLyBUaGUgcmV0dXJuZWQgb2JqZWN0IGNvbnRhaW5zIHRoZSBET00gbm9kZSwgdGhpcyBtYXAsIGFuZFxuICAvLyBpbmZvcm1hdGlvbiBhYm91dCBsaW5lLXdpZGUgc3R5bGVzIHRoYXQgd2VyZSBzZXQgYnkgdGhlIG1vZGUuXG4gIGZ1bmN0aW9uIGJ1aWxkTGluZUNvbnRlbnQoY20sIGxpbmVWaWV3KSB7XG4gICAgLy8gVGhlIHBhZGRpbmctcmlnaHQgZm9yY2VzIHRoZSBlbGVtZW50IHRvIGhhdmUgYSAnYm9yZGVyJywgd2hpY2hcbiAgICAvLyBpcyBuZWVkZWQgb24gV2Via2l0IHRvIGJlIGFibGUgdG8gZ2V0IGxpbmUtbGV2ZWwgYm91bmRpbmdcbiAgICAvLyByZWN0YW5nbGVzIGZvciBpdCAoaW4gbWVhc3VyZUNoYXIpLlxuICAgIHZhciBjb250ZW50ID0gZWx0UChcInNwYW5cIiwgbnVsbCwgbnVsbCwgd2Via2l0ID8gXCJwYWRkaW5nLXJpZ2h0OiAuMXB4XCIgOiBudWxsKTtcbiAgICB2YXIgYnVpbGRlciA9IHtwcmU6IGVsdFAoXCJwcmVcIiwgW2NvbnRlbnRdLCBcIkNvZGVNaXJyb3ItbGluZVwiKSwgY29udGVudDogY29udGVudCxcbiAgICAgICAgICAgICAgICAgICBjb2w6IDAsIHBvczogMCwgY206IGNtLFxuICAgICAgICAgICAgICAgICAgIHRyYWlsaW5nU3BhY2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgIHNwbGl0U3BhY2VzOiBjbS5nZXRPcHRpb24oXCJsaW5lV3JhcHBpbmdcIil9O1xuICAgIGxpbmVWaWV3Lm1lYXN1cmUgPSB7fTtcblxuICAgIC8vIEl0ZXJhdGUgb3ZlciB0aGUgbG9naWNhbCBsaW5lcyB0aGF0IG1ha2UgdXAgdGhpcyB2aXN1YWwgbGluZS5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8PSAobGluZVZpZXcucmVzdCA/IGxpbmVWaWV3LnJlc3QubGVuZ3RoIDogMCk7IGkrKykge1xuICAgICAgdmFyIGxpbmUgPSBpID8gbGluZVZpZXcucmVzdFtpIC0gMV0gOiBsaW5lVmlldy5saW5lLCBvcmRlciA9ICh2b2lkIDApO1xuICAgICAgYnVpbGRlci5wb3MgPSAwO1xuICAgICAgYnVpbGRlci5hZGRUb2tlbiA9IGJ1aWxkVG9rZW47XG4gICAgICAvLyBPcHRpb25hbGx5IHdpcmUgaW4gc29tZSBoYWNrcyBpbnRvIHRoZSB0b2tlbi1yZW5kZXJpbmdcbiAgICAgIC8vIGFsZ29yaXRobSwgdG8gZGVhbCB3aXRoIGJyb3dzZXIgcXVpcmtzLlxuICAgICAgaWYgKGhhc0JhZEJpZGlSZWN0cyhjbS5kaXNwbGF5Lm1lYXN1cmUpICYmIChvcmRlciA9IGdldE9yZGVyKGxpbmUsIGNtLmRvYy5kaXJlY3Rpb24pKSlcbiAgICAgICAgeyBidWlsZGVyLmFkZFRva2VuID0gYnVpbGRUb2tlbkJhZEJpZGkoYnVpbGRlci5hZGRUb2tlbiwgb3JkZXIpOyB9XG4gICAgICBidWlsZGVyLm1hcCA9IFtdO1xuICAgICAgdmFyIGFsbG93RnJvbnRpZXJVcGRhdGUgPSBsaW5lVmlldyAhPSBjbS5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZWQgJiYgbGluZU5vKGxpbmUpO1xuICAgICAgaW5zZXJ0TGluZUNvbnRlbnQobGluZSwgYnVpbGRlciwgZ2V0TGluZVN0eWxlcyhjbSwgbGluZSwgYWxsb3dGcm9udGllclVwZGF0ZSkpO1xuICAgICAgaWYgKGxpbmUuc3R5bGVDbGFzc2VzKSB7XG4gICAgICAgIGlmIChsaW5lLnN0eWxlQ2xhc3Nlcy5iZ0NsYXNzKVxuICAgICAgICAgIHsgYnVpbGRlci5iZ0NsYXNzID0gam9pbkNsYXNzZXMobGluZS5zdHlsZUNsYXNzZXMuYmdDbGFzcywgYnVpbGRlci5iZ0NsYXNzIHx8IFwiXCIpOyB9XG4gICAgICAgIGlmIChsaW5lLnN0eWxlQ2xhc3Nlcy50ZXh0Q2xhc3MpXG4gICAgICAgICAgeyBidWlsZGVyLnRleHRDbGFzcyA9IGpvaW5DbGFzc2VzKGxpbmUuc3R5bGVDbGFzc2VzLnRleHRDbGFzcywgYnVpbGRlci50ZXh0Q2xhc3MgfHwgXCJcIik7IH1cbiAgICAgIH1cblxuICAgICAgLy8gRW5zdXJlIGF0IGxlYXN0IGEgc2luZ2xlIG5vZGUgaXMgcHJlc2VudCwgZm9yIG1lYXN1cmluZy5cbiAgICAgIGlmIChidWlsZGVyLm1hcC5sZW5ndGggPT0gMClcbiAgICAgICAgeyBidWlsZGVyLm1hcC5wdXNoKDAsIDAsIGJ1aWxkZXIuY29udGVudC5hcHBlbmRDaGlsZCh6ZXJvV2lkdGhFbGVtZW50KGNtLmRpc3BsYXkubWVhc3VyZSkpKTsgfVxuXG4gICAgICAvLyBTdG9yZSB0aGUgbWFwIGFuZCBhIGNhY2hlIG9iamVjdCBmb3IgdGhlIGN1cnJlbnQgbG9naWNhbCBsaW5lXG4gICAgICBpZiAoaSA9PSAwKSB7XG4gICAgICAgIGxpbmVWaWV3Lm1lYXN1cmUubWFwID0gYnVpbGRlci5tYXA7XG4gICAgICAgIGxpbmVWaWV3Lm1lYXN1cmUuY2FjaGUgPSB7fTtcbiAgICAgIH0gZWxzZSB7XG4gIChsaW5lVmlldy5tZWFzdXJlLm1hcHMgfHwgKGxpbmVWaWV3Lm1lYXN1cmUubWFwcyA9IFtdKSkucHVzaChidWlsZGVyLm1hcClcbiAgICAgICAgOyhsaW5lVmlldy5tZWFzdXJlLmNhY2hlcyB8fCAobGluZVZpZXcubWVhc3VyZS5jYWNoZXMgPSBbXSkpLnB1c2goe30pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFNlZSBpc3N1ZSAjMjkwMVxuICAgIGlmICh3ZWJraXQpIHtcbiAgICAgIHZhciBsYXN0ID0gYnVpbGRlci5jb250ZW50Lmxhc3RDaGlsZDtcbiAgICAgIGlmICgvXFxiY20tdGFiXFxiLy50ZXN0KGxhc3QuY2xhc3NOYW1lKSB8fCAobGFzdC5xdWVyeVNlbGVjdG9yICYmIGxhc3QucXVlcnlTZWxlY3RvcihcIi5jbS10YWJcIikpKVxuICAgICAgICB7IGJ1aWxkZXIuY29udGVudC5jbGFzc05hbWUgPSBcImNtLXRhYi13cmFwLWhhY2tcIjsgfVxuICAgIH1cblxuICAgIHNpZ25hbChjbSwgXCJyZW5kZXJMaW5lXCIsIGNtLCBsaW5lVmlldy5saW5lLCBidWlsZGVyLnByZSk7XG4gICAgaWYgKGJ1aWxkZXIucHJlLmNsYXNzTmFtZSlcbiAgICAgIHsgYnVpbGRlci50ZXh0Q2xhc3MgPSBqb2luQ2xhc3NlcyhidWlsZGVyLnByZS5jbGFzc05hbWUsIGJ1aWxkZXIudGV4dENsYXNzIHx8IFwiXCIpOyB9XG5cbiAgICByZXR1cm4gYnVpbGRlclxuICB9XG5cbiAgZnVuY3Rpb24gZGVmYXVsdFNwZWNpYWxDaGFyUGxhY2Vob2xkZXIoY2gpIHtcbiAgICB2YXIgdG9rZW4gPSBlbHQoXCJzcGFuXCIsIFwiXFx1MjAyMlwiLCBcImNtLWludmFsaWRjaGFyXCIpO1xuICAgIHRva2VuLnRpdGxlID0gXCJcXFxcdVwiICsgY2guY2hhckNvZGVBdCgwKS50b1N0cmluZygxNik7XG4gICAgdG9rZW4uc2V0QXR0cmlidXRlKFwiYXJpYS1sYWJlbFwiLCB0b2tlbi50aXRsZSk7XG4gICAgcmV0dXJuIHRva2VuXG4gIH1cblxuICAvLyBCdWlsZCB1cCB0aGUgRE9NIHJlcHJlc2VudGF0aW9uIGZvciBhIHNpbmdsZSB0b2tlbiwgYW5kIGFkZCBpdCB0b1xuICAvLyB0aGUgbGluZSBtYXAuIFRha2VzIGNhcmUgdG8gcmVuZGVyIHNwZWNpYWwgY2hhcmFjdGVycyBzZXBhcmF0ZWx5LlxuICBmdW5jdGlvbiBidWlsZFRva2VuKGJ1aWxkZXIsIHRleHQsIHN0eWxlLCBzdGFydFN0eWxlLCBlbmRTdHlsZSwgY3NzLCBhdHRyaWJ1dGVzKSB7XG4gICAgaWYgKCF0ZXh0KSB7IHJldHVybiB9XG4gICAgdmFyIGRpc3BsYXlUZXh0ID0gYnVpbGRlci5zcGxpdFNwYWNlcyA/IHNwbGl0U3BhY2VzKHRleHQsIGJ1aWxkZXIudHJhaWxpbmdTcGFjZSkgOiB0ZXh0O1xuICAgIHZhciBzcGVjaWFsID0gYnVpbGRlci5jbS5zdGF0ZS5zcGVjaWFsQ2hhcnMsIG11c3RXcmFwID0gZmFsc2U7XG4gICAgdmFyIGNvbnRlbnQ7XG4gICAgaWYgKCFzcGVjaWFsLnRlc3QodGV4dCkpIHtcbiAgICAgIGJ1aWxkZXIuY29sICs9IHRleHQubGVuZ3RoO1xuICAgICAgY29udGVudCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRpc3BsYXlUZXh0KTtcbiAgICAgIGJ1aWxkZXIubWFwLnB1c2goYnVpbGRlci5wb3MsIGJ1aWxkZXIucG9zICsgdGV4dC5sZW5ndGgsIGNvbnRlbnQpO1xuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA5KSB7IG11c3RXcmFwID0gdHJ1ZTsgfVxuICAgICAgYnVpbGRlci5wb3MgKz0gdGV4dC5sZW5ndGg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRlbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgICB2YXIgcG9zID0gMDtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIHNwZWNpYWwubGFzdEluZGV4ID0gcG9zO1xuICAgICAgICB2YXIgbSA9IHNwZWNpYWwuZXhlYyh0ZXh0KTtcbiAgICAgICAgdmFyIHNraXBwZWQgPSBtID8gbS5pbmRleCAtIHBvcyA6IHRleHQubGVuZ3RoIC0gcG9zO1xuICAgICAgICBpZiAoc2tpcHBlZCkge1xuICAgICAgICAgIHZhciB0eHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShkaXNwbGF5VGV4dC5zbGljZShwb3MsIHBvcyArIHNraXBwZWQpKTtcbiAgICAgICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDkpIHsgY29udGVudC5hcHBlbmRDaGlsZChlbHQoXCJzcGFuXCIsIFt0eHRdKSk7IH1cbiAgICAgICAgICBlbHNlIHsgY29udGVudC5hcHBlbmRDaGlsZCh0eHQpOyB9XG4gICAgICAgICAgYnVpbGRlci5tYXAucHVzaChidWlsZGVyLnBvcywgYnVpbGRlci5wb3MgKyBza2lwcGVkLCB0eHQpO1xuICAgICAgICAgIGJ1aWxkZXIuY29sICs9IHNraXBwZWQ7XG4gICAgICAgICAgYnVpbGRlci5wb3MgKz0gc2tpcHBlZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIW0pIHsgYnJlYWsgfVxuICAgICAgICBwb3MgKz0gc2tpcHBlZCArIDE7XG4gICAgICAgIHZhciB0eHQkMSA9ICh2b2lkIDApO1xuICAgICAgICBpZiAobVswXSA9PSBcIlxcdFwiKSB7XG4gICAgICAgICAgdmFyIHRhYlNpemUgPSBidWlsZGVyLmNtLm9wdGlvbnMudGFiU2l6ZSwgdGFiV2lkdGggPSB0YWJTaXplIC0gYnVpbGRlci5jb2wgJSB0YWJTaXplO1xuICAgICAgICAgIHR4dCQxID0gY29udGVudC5hcHBlbmRDaGlsZChlbHQoXCJzcGFuXCIsIHNwYWNlU3RyKHRhYldpZHRoKSwgXCJjbS10YWJcIikpO1xuICAgICAgICAgIHR4dCQxLnNldEF0dHJpYnV0ZShcInJvbGVcIiwgXCJwcmVzZW50YXRpb25cIik7XG4gICAgICAgICAgdHh0JDEuc2V0QXR0cmlidXRlKFwiY20tdGV4dFwiLCBcIlxcdFwiKTtcbiAgICAgICAgICBidWlsZGVyLmNvbCArPSB0YWJXaWR0aDtcbiAgICAgICAgfSBlbHNlIGlmIChtWzBdID09IFwiXFxyXCIgfHwgbVswXSA9PSBcIlxcblwiKSB7XG4gICAgICAgICAgdHh0JDEgPSBjb250ZW50LmFwcGVuZENoaWxkKGVsdChcInNwYW5cIiwgbVswXSA9PSBcIlxcclwiID8gXCJcXHUyNDBkXCIgOiBcIlxcdTI0MjRcIiwgXCJjbS1pbnZhbGlkY2hhclwiKSk7XG4gICAgICAgICAgdHh0JDEuc2V0QXR0cmlidXRlKFwiY20tdGV4dFwiLCBtWzBdKTtcbiAgICAgICAgICBidWlsZGVyLmNvbCArPSAxO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHR4dCQxID0gYnVpbGRlci5jbS5vcHRpb25zLnNwZWNpYWxDaGFyUGxhY2Vob2xkZXIobVswXSk7XG4gICAgICAgICAgdHh0JDEuc2V0QXR0cmlidXRlKFwiY20tdGV4dFwiLCBtWzBdKTtcbiAgICAgICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDkpIHsgY29udGVudC5hcHBlbmRDaGlsZChlbHQoXCJzcGFuXCIsIFt0eHQkMV0pKTsgfVxuICAgICAgICAgIGVsc2UgeyBjb250ZW50LmFwcGVuZENoaWxkKHR4dCQxKTsgfVxuICAgICAgICAgIGJ1aWxkZXIuY29sICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgYnVpbGRlci5tYXAucHVzaChidWlsZGVyLnBvcywgYnVpbGRlci5wb3MgKyAxLCB0eHQkMSk7XG4gICAgICAgIGJ1aWxkZXIucG9zKys7XG4gICAgICB9XG4gICAgfVxuICAgIGJ1aWxkZXIudHJhaWxpbmdTcGFjZSA9IGRpc3BsYXlUZXh0LmNoYXJDb2RlQXQodGV4dC5sZW5ndGggLSAxKSA9PSAzMjtcbiAgICBpZiAoc3R5bGUgfHwgc3RhcnRTdHlsZSB8fCBlbmRTdHlsZSB8fCBtdXN0V3JhcCB8fCBjc3MgfHwgYXR0cmlidXRlcykge1xuICAgICAgdmFyIGZ1bGxTdHlsZSA9IHN0eWxlIHx8IFwiXCI7XG4gICAgICBpZiAoc3RhcnRTdHlsZSkgeyBmdWxsU3R5bGUgKz0gc3RhcnRTdHlsZTsgfVxuICAgICAgaWYgKGVuZFN0eWxlKSB7IGZ1bGxTdHlsZSArPSBlbmRTdHlsZTsgfVxuICAgICAgdmFyIHRva2VuID0gZWx0KFwic3BhblwiLCBbY29udGVudF0sIGZ1bGxTdHlsZSwgY3NzKTtcbiAgICAgIGlmIChhdHRyaWJ1dGVzKSB7XG4gICAgICAgIGZvciAodmFyIGF0dHIgaW4gYXR0cmlidXRlcykgeyBpZiAoYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShhdHRyKSAmJiBhdHRyICE9IFwic3R5bGVcIiAmJiBhdHRyICE9IFwiY2xhc3NcIilcbiAgICAgICAgICB7IHRva2VuLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyaWJ1dGVzW2F0dHJdKTsgfSB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYnVpbGRlci5jb250ZW50LmFwcGVuZENoaWxkKHRva2VuKVxuICAgIH1cbiAgICBidWlsZGVyLmNvbnRlbnQuYXBwZW5kQ2hpbGQoY29udGVudCk7XG4gIH1cblxuICAvLyBDaGFuZ2Ugc29tZSBzcGFjZXMgdG8gTkJTUCB0byBwcmV2ZW50IHRoZSBicm93c2VyIGZyb20gY29sbGFwc2luZ1xuICAvLyB0cmFpbGluZyBzcGFjZXMgYXQgdGhlIGVuZCBvZiBhIGxpbmUgd2hlbiByZW5kZXJpbmcgdGV4dCAoaXNzdWUgIzEzNjIpLlxuICBmdW5jdGlvbiBzcGxpdFNwYWNlcyh0ZXh0LCB0cmFpbGluZ0JlZm9yZSkge1xuICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDEgJiYgIS8gIC8udGVzdCh0ZXh0KSkgeyByZXR1cm4gdGV4dCB9XG4gICAgdmFyIHNwYWNlQmVmb3JlID0gdHJhaWxpbmdCZWZvcmUsIHJlc3VsdCA9IFwiXCI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0ZXh0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY2ggPSB0ZXh0LmNoYXJBdChpKTtcbiAgICAgIGlmIChjaCA9PSBcIiBcIiAmJiBzcGFjZUJlZm9yZSAmJiAoaSA9PSB0ZXh0Lmxlbmd0aCAtIDEgfHwgdGV4dC5jaGFyQ29kZUF0KGkgKyAxKSA9PSAzMikpXG4gICAgICAgIHsgY2ggPSBcIlxcdTAwYTBcIjsgfVxuICAgICAgcmVzdWx0ICs9IGNoO1xuICAgICAgc3BhY2VCZWZvcmUgPSBjaCA9PSBcIiBcIjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLy8gV29yayBhcm91bmQgbm9uc2Vuc2UgZGltZW5zaW9ucyBiZWluZyByZXBvcnRlZCBmb3Igc3RyZXRjaGVzIG9mXG4gIC8vIHJpZ2h0LXRvLWxlZnQgdGV4dC5cbiAgZnVuY3Rpb24gYnVpbGRUb2tlbkJhZEJpZGkoaW5uZXIsIG9yZGVyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChidWlsZGVyLCB0ZXh0LCBzdHlsZSwgc3RhcnRTdHlsZSwgZW5kU3R5bGUsIGNzcywgYXR0cmlidXRlcykge1xuICAgICAgc3R5bGUgPSBzdHlsZSA/IHN0eWxlICsgXCIgY20tZm9yY2UtYm9yZGVyXCIgOiBcImNtLWZvcmNlLWJvcmRlclwiO1xuICAgICAgdmFyIHN0YXJ0ID0gYnVpbGRlci5wb3MsIGVuZCA9IHN0YXJ0ICsgdGV4dC5sZW5ndGg7XG4gICAgICBmb3IgKDs7KSB7XG4gICAgICAgIC8vIEZpbmQgdGhlIHBhcnQgdGhhdCBvdmVybGFwcyB3aXRoIHRoZSBzdGFydCBvZiB0aGlzIHRleHRcbiAgICAgICAgdmFyIHBhcnQgPSAodm9pZCAwKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvcmRlci5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHBhcnQgPSBvcmRlcltpXTtcbiAgICAgICAgICBpZiAocGFydC50byA+IHN0YXJ0ICYmIHBhcnQuZnJvbSA8PSBzdGFydCkgeyBicmVhayB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnQudG8gPj0gZW5kKSB7IHJldHVybiBpbm5lcihidWlsZGVyLCB0ZXh0LCBzdHlsZSwgc3RhcnRTdHlsZSwgZW5kU3R5bGUsIGNzcywgYXR0cmlidXRlcykgfVxuICAgICAgICBpbm5lcihidWlsZGVyLCB0ZXh0LnNsaWNlKDAsIHBhcnQudG8gLSBzdGFydCksIHN0eWxlLCBzdGFydFN0eWxlLCBudWxsLCBjc3MsIGF0dHJpYnV0ZXMpO1xuICAgICAgICBzdGFydFN0eWxlID0gbnVsbDtcbiAgICAgICAgdGV4dCA9IHRleHQuc2xpY2UocGFydC50byAtIHN0YXJ0KTtcbiAgICAgICAgc3RhcnQgPSBwYXJ0LnRvO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGJ1aWxkQ29sbGFwc2VkU3BhbihidWlsZGVyLCBzaXplLCBtYXJrZXIsIGlnbm9yZVdpZGdldCkge1xuICAgIHZhciB3aWRnZXQgPSAhaWdub3JlV2lkZ2V0ICYmIG1hcmtlci53aWRnZXROb2RlO1xuICAgIGlmICh3aWRnZXQpIHsgYnVpbGRlci5tYXAucHVzaChidWlsZGVyLnBvcywgYnVpbGRlci5wb3MgKyBzaXplLCB3aWRnZXQpOyB9XG4gICAgaWYgKCFpZ25vcmVXaWRnZXQgJiYgYnVpbGRlci5jbS5kaXNwbGF5LmlucHV0Lm5lZWRzQ29udGVudEF0dHJpYnV0ZSkge1xuICAgICAgaWYgKCF3aWRnZXQpXG4gICAgICAgIHsgd2lkZ2V0ID0gYnVpbGRlci5jb250ZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpKTsgfVxuICAgICAgd2lkZ2V0LnNldEF0dHJpYnV0ZShcImNtLW1hcmtlclwiLCBtYXJrZXIuaWQpO1xuICAgIH1cbiAgICBpZiAod2lkZ2V0KSB7XG4gICAgICBidWlsZGVyLmNtLmRpc3BsYXkuaW5wdXQuc2V0VW5lZGl0YWJsZSh3aWRnZXQpO1xuICAgICAgYnVpbGRlci5jb250ZW50LmFwcGVuZENoaWxkKHdpZGdldCk7XG4gICAgfVxuICAgIGJ1aWxkZXIucG9zICs9IHNpemU7XG4gICAgYnVpbGRlci50cmFpbGluZ1NwYWNlID0gZmFsc2U7XG4gIH1cblxuICAvLyBPdXRwdXRzIGEgbnVtYmVyIG9mIHNwYW5zIHRvIG1ha2UgdXAgYSBsaW5lLCB0YWtpbmcgaGlnaGxpZ2h0aW5nXG4gIC8vIGFuZCBtYXJrZWQgdGV4dCBpbnRvIGFjY291bnQuXG4gIGZ1bmN0aW9uIGluc2VydExpbmVDb250ZW50KGxpbmUsIGJ1aWxkZXIsIHN0eWxlcykge1xuICAgIHZhciBzcGFucyA9IGxpbmUubWFya2VkU3BhbnMsIGFsbFRleHQgPSBsaW5lLnRleHQsIGF0ID0gMDtcbiAgICBpZiAoIXNwYW5zKSB7XG4gICAgICBmb3IgKHZhciBpJDEgPSAxOyBpJDEgPCBzdHlsZXMubGVuZ3RoOyBpJDErPTIpXG4gICAgICAgIHsgYnVpbGRlci5hZGRUb2tlbihidWlsZGVyLCBhbGxUZXh0LnNsaWNlKGF0LCBhdCA9IHN0eWxlc1tpJDFdKSwgaW50ZXJwcmV0VG9rZW5TdHlsZShzdHlsZXNbaSQxKzFdLCBidWlsZGVyLmNtLm9wdGlvbnMpKTsgfVxuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIGxlbiA9IGFsbFRleHQubGVuZ3RoLCBwb3MgPSAwLCBpID0gMSwgdGV4dCA9IFwiXCIsIHN0eWxlLCBjc3M7XG4gICAgdmFyIG5leHRDaGFuZ2UgPSAwLCBzcGFuU3R5bGUsIHNwYW5FbmRTdHlsZSwgc3BhblN0YXJ0U3R5bGUsIGNvbGxhcHNlZCwgYXR0cmlidXRlcztcbiAgICBmb3IgKDs7KSB7XG4gICAgICBpZiAobmV4dENoYW5nZSA9PSBwb3MpIHsgLy8gVXBkYXRlIGN1cnJlbnQgbWFya2VyIHNldFxuICAgICAgICBzcGFuU3R5bGUgPSBzcGFuRW5kU3R5bGUgPSBzcGFuU3RhcnRTdHlsZSA9IGNzcyA9IFwiXCI7XG4gICAgICAgIGF0dHJpYnV0ZXMgPSBudWxsO1xuICAgICAgICBjb2xsYXBzZWQgPSBudWxsOyBuZXh0Q2hhbmdlID0gSW5maW5pdHk7XG4gICAgICAgIHZhciBmb3VuZEJvb2ttYXJrcyA9IFtdLCBlbmRTdHlsZXMgPSAodm9pZCAwKTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzcGFucy5sZW5ndGg7ICsraikge1xuICAgICAgICAgIHZhciBzcCA9IHNwYW5zW2pdLCBtID0gc3AubWFya2VyO1xuICAgICAgICAgIGlmIChtLnR5cGUgPT0gXCJib29rbWFya1wiICYmIHNwLmZyb20gPT0gcG9zICYmIG0ud2lkZ2V0Tm9kZSkge1xuICAgICAgICAgICAgZm91bmRCb29rbWFya3MucHVzaChtKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHNwLmZyb20gPD0gcG9zICYmIChzcC50byA9PSBudWxsIHx8IHNwLnRvID4gcG9zIHx8IG0uY29sbGFwc2VkICYmIHNwLnRvID09IHBvcyAmJiBzcC5mcm9tID09IHBvcykpIHtcbiAgICAgICAgICAgIGlmIChzcC50byAhPSBudWxsICYmIHNwLnRvICE9IHBvcyAmJiBuZXh0Q2hhbmdlID4gc3AudG8pIHtcbiAgICAgICAgICAgICAgbmV4dENoYW5nZSA9IHNwLnRvO1xuICAgICAgICAgICAgICBzcGFuRW5kU3R5bGUgPSBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG0uY2xhc3NOYW1lKSB7IHNwYW5TdHlsZSArPSBcIiBcIiArIG0uY2xhc3NOYW1lOyB9XG4gICAgICAgICAgICBpZiAobS5jc3MpIHsgY3NzID0gKGNzcyA/IGNzcyArIFwiO1wiIDogXCJcIikgKyBtLmNzczsgfVxuICAgICAgICAgICAgaWYgKG0uc3RhcnRTdHlsZSAmJiBzcC5mcm9tID09IHBvcykgeyBzcGFuU3RhcnRTdHlsZSArPSBcIiBcIiArIG0uc3RhcnRTdHlsZTsgfVxuICAgICAgICAgICAgaWYgKG0uZW5kU3R5bGUgJiYgc3AudG8gPT0gbmV4dENoYW5nZSkgeyAoZW5kU3R5bGVzIHx8IChlbmRTdHlsZXMgPSBbXSkpLnB1c2gobS5lbmRTdHlsZSwgc3AudG8pOyB9XG4gICAgICAgICAgICAvLyBzdXBwb3J0IGZvciB0aGUgb2xkIHRpdGxlIHByb3BlcnR5XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vY29kZW1pcnJvci9Db2RlTWlycm9yL3B1bGwvNTY3M1xuICAgICAgICAgICAgaWYgKG0udGl0bGUpIHsgKGF0dHJpYnV0ZXMgfHwgKGF0dHJpYnV0ZXMgPSB7fSkpLnRpdGxlID0gbS50aXRsZTsgfVxuICAgICAgICAgICAgaWYgKG0uYXR0cmlidXRlcykge1xuICAgICAgICAgICAgICBmb3IgKHZhciBhdHRyIGluIG0uYXR0cmlidXRlcylcbiAgICAgICAgICAgICAgICB7IChhdHRyaWJ1dGVzIHx8IChhdHRyaWJ1dGVzID0ge30pKVthdHRyXSA9IG0uYXR0cmlidXRlc1thdHRyXTsgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG0uY29sbGFwc2VkICYmICghY29sbGFwc2VkIHx8IGNvbXBhcmVDb2xsYXBzZWRNYXJrZXJzKGNvbGxhcHNlZC5tYXJrZXIsIG0pIDwgMCkpXG4gICAgICAgICAgICAgIHsgY29sbGFwc2VkID0gc3A7IH1cbiAgICAgICAgICB9IGVsc2UgaWYgKHNwLmZyb20gPiBwb3MgJiYgbmV4dENoYW5nZSA+IHNwLmZyb20pIHtcbiAgICAgICAgICAgIG5leHRDaGFuZ2UgPSBzcC5mcm9tO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZW5kU3R5bGVzKSB7IGZvciAodmFyIGokMSA9IDA7IGokMSA8IGVuZFN0eWxlcy5sZW5ndGg7IGokMSArPSAyKVxuICAgICAgICAgIHsgaWYgKGVuZFN0eWxlc1tqJDEgKyAxXSA9PSBuZXh0Q2hhbmdlKSB7IHNwYW5FbmRTdHlsZSArPSBcIiBcIiArIGVuZFN0eWxlc1tqJDFdOyB9IH0gfVxuXG4gICAgICAgIGlmICghY29sbGFwc2VkIHx8IGNvbGxhcHNlZC5mcm9tID09IHBvcykgeyBmb3IgKHZhciBqJDIgPSAwOyBqJDIgPCBmb3VuZEJvb2ttYXJrcy5sZW5ndGg7ICsraiQyKVxuICAgICAgICAgIHsgYnVpbGRDb2xsYXBzZWRTcGFuKGJ1aWxkZXIsIDAsIGZvdW5kQm9va21hcmtzW2okMl0pOyB9IH1cbiAgICAgICAgaWYgKGNvbGxhcHNlZCAmJiAoY29sbGFwc2VkLmZyb20gfHwgMCkgPT0gcG9zKSB7XG4gICAgICAgICAgYnVpbGRDb2xsYXBzZWRTcGFuKGJ1aWxkZXIsIChjb2xsYXBzZWQudG8gPT0gbnVsbCA/IGxlbiArIDEgOiBjb2xsYXBzZWQudG8pIC0gcG9zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsYXBzZWQubWFya2VyLCBjb2xsYXBzZWQuZnJvbSA9PSBudWxsKTtcbiAgICAgICAgICBpZiAoY29sbGFwc2VkLnRvID09IG51bGwpIHsgcmV0dXJuIH1cbiAgICAgICAgICBpZiAoY29sbGFwc2VkLnRvID09IHBvcykgeyBjb2xsYXBzZWQgPSBmYWxzZTsgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAocG9zID49IGxlbikgeyBicmVhayB9XG5cbiAgICAgIHZhciB1cHRvID0gTWF0aC5taW4obGVuLCBuZXh0Q2hhbmdlKTtcbiAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgIGlmICh0ZXh0KSB7XG4gICAgICAgICAgdmFyIGVuZCA9IHBvcyArIHRleHQubGVuZ3RoO1xuICAgICAgICAgIGlmICghY29sbGFwc2VkKSB7XG4gICAgICAgICAgICB2YXIgdG9rZW5UZXh0ID0gZW5kID4gdXB0byA/IHRleHQuc2xpY2UoMCwgdXB0byAtIHBvcykgOiB0ZXh0O1xuICAgICAgICAgICAgYnVpbGRlci5hZGRUb2tlbihidWlsZGVyLCB0b2tlblRleHQsIHN0eWxlID8gc3R5bGUgKyBzcGFuU3R5bGUgOiBzcGFuU3R5bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwYW5TdGFydFN0eWxlLCBwb3MgKyB0b2tlblRleHQubGVuZ3RoID09IG5leHRDaGFuZ2UgPyBzcGFuRW5kU3R5bGUgOiBcIlwiLCBjc3MsIGF0dHJpYnV0ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZW5kID49IHVwdG8pIHt0ZXh0ID0gdGV4dC5zbGljZSh1cHRvIC0gcG9zKTsgcG9zID0gdXB0bzsgYnJlYWt9XG4gICAgICAgICAgcG9zID0gZW5kO1xuICAgICAgICAgIHNwYW5TdGFydFN0eWxlID0gXCJcIjtcbiAgICAgICAgfVxuICAgICAgICB0ZXh0ID0gYWxsVGV4dC5zbGljZShhdCwgYXQgPSBzdHlsZXNbaSsrXSk7XG4gICAgICAgIHN0eWxlID0gaW50ZXJwcmV0VG9rZW5TdHlsZShzdHlsZXNbaSsrXSwgYnVpbGRlci5jbS5vcHRpb25zKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIC8vIFRoZXNlIG9iamVjdHMgYXJlIHVzZWQgdG8gcmVwcmVzZW50IHRoZSB2aXNpYmxlIChjdXJyZW50bHkgZHJhd24pXG4gIC8vIHBhcnQgb2YgdGhlIGRvY3VtZW50LiBBIExpbmVWaWV3IG1heSBjb3JyZXNwb25kIHRvIG11bHRpcGxlXG4gIC8vIGxvZ2ljYWwgbGluZXMsIGlmIHRob3NlIGFyZSBjb25uZWN0ZWQgYnkgY29sbGFwc2VkIHJhbmdlcy5cbiAgZnVuY3Rpb24gTGluZVZpZXcoZG9jLCBsaW5lLCBsaW5lTikge1xuICAgIC8vIFRoZSBzdGFydGluZyBsaW5lXG4gICAgdGhpcy5saW5lID0gbGluZTtcbiAgICAvLyBDb250aW51aW5nIGxpbmVzLCBpZiBhbnlcbiAgICB0aGlzLnJlc3QgPSB2aXN1YWxMaW5lQ29udGludWVkKGxpbmUpO1xuICAgIC8vIE51bWJlciBvZiBsb2dpY2FsIGxpbmVzIGluIHRoaXMgdmlzdWFsIGxpbmVcbiAgICB0aGlzLnNpemUgPSB0aGlzLnJlc3QgPyBsaW5lTm8obHN0KHRoaXMucmVzdCkpIC0gbGluZU4gKyAxIDogMTtcbiAgICB0aGlzLm5vZGUgPSB0aGlzLnRleHQgPSBudWxsO1xuICAgIHRoaXMuaGlkZGVuID0gbGluZUlzSGlkZGVuKGRvYywgbGluZSk7XG4gIH1cblxuICAvLyBDcmVhdGUgYSByYW5nZSBvZiBMaW5lVmlldyBvYmplY3RzIGZvciB0aGUgZ2l2ZW4gbGluZXMuXG4gIGZ1bmN0aW9uIGJ1aWxkVmlld0FycmF5KGNtLCBmcm9tLCB0bykge1xuICAgIHZhciBhcnJheSA9IFtdLCBuZXh0UG9zO1xuICAgIGZvciAodmFyIHBvcyA9IGZyb207IHBvcyA8IHRvOyBwb3MgPSBuZXh0UG9zKSB7XG4gICAgICB2YXIgdmlldyA9IG5ldyBMaW5lVmlldyhjbS5kb2MsIGdldExpbmUoY20uZG9jLCBwb3MpLCBwb3MpO1xuICAgICAgbmV4dFBvcyA9IHBvcyArIHZpZXcuc2l6ZTtcbiAgICAgIGFycmF5LnB1c2godmlldyk7XG4gICAgfVxuICAgIHJldHVybiBhcnJheVxuICB9XG5cbiAgdmFyIG9wZXJhdGlvbkdyb3VwID0gbnVsbDtcblxuICBmdW5jdGlvbiBwdXNoT3BlcmF0aW9uKG9wKSB7XG4gICAgaWYgKG9wZXJhdGlvbkdyb3VwKSB7XG4gICAgICBvcGVyYXRpb25Hcm91cC5vcHMucHVzaChvcCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wLm93bnNHcm91cCA9IG9wZXJhdGlvbkdyb3VwID0ge1xuICAgICAgICBvcHM6IFtvcF0sXG4gICAgICAgIGRlbGF5ZWRDYWxsYmFja3M6IFtdXG4gICAgICB9O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZpcmVDYWxsYmFja3NGb3JPcHMoZ3JvdXApIHtcbiAgICAvLyBDYWxscyBkZWxheWVkIGNhbGxiYWNrcyBhbmQgY3Vyc29yQWN0aXZpdHkgaGFuZGxlcnMgdW50aWwgbm9cbiAgICAvLyBuZXcgb25lcyBhcHBlYXJcbiAgICB2YXIgY2FsbGJhY2tzID0gZ3JvdXAuZGVsYXllZENhbGxiYWNrcywgaSA9IDA7XG4gICAgZG8ge1xuICAgICAgZm9yICg7IGkgPCBjYWxsYmFja3MubGVuZ3RoOyBpKyspXG4gICAgICAgIHsgY2FsbGJhY2tzW2ldLmNhbGwobnVsbCk7IH1cbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZ3JvdXAub3BzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBvcCA9IGdyb3VwLm9wc1tqXTtcbiAgICAgICAgaWYgKG9wLmN1cnNvckFjdGl2aXR5SGFuZGxlcnMpXG4gICAgICAgICAgeyB3aGlsZSAob3AuY3Vyc29yQWN0aXZpdHlDYWxsZWQgPCBvcC5jdXJzb3JBY3Rpdml0eUhhbmRsZXJzLmxlbmd0aClcbiAgICAgICAgICAgIHsgb3AuY3Vyc29yQWN0aXZpdHlIYW5kbGVyc1tvcC5jdXJzb3JBY3Rpdml0eUNhbGxlZCsrXS5jYWxsKG51bGwsIG9wLmNtKTsgfSB9XG4gICAgICB9XG4gICAgfSB3aGlsZSAoaSA8IGNhbGxiYWNrcy5sZW5ndGgpXG4gIH1cblxuICBmdW5jdGlvbiBmaW5pc2hPcGVyYXRpb24ob3AsIGVuZENiKSB7XG4gICAgdmFyIGdyb3VwID0gb3Aub3duc0dyb3VwO1xuICAgIGlmICghZ3JvdXApIHsgcmV0dXJuIH1cblxuICAgIHRyeSB7IGZpcmVDYWxsYmFja3NGb3JPcHMoZ3JvdXApOyB9XG4gICAgZmluYWxseSB7XG4gICAgICBvcGVyYXRpb25Hcm91cCA9IG51bGw7XG4gICAgICBlbmRDYihncm91cCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIG9ycGhhbkRlbGF5ZWRDYWxsYmFja3MgPSBudWxsO1xuXG4gIC8vIE9mdGVuLCB3ZSB3YW50IHRvIHNpZ25hbCBldmVudHMgYXQgYSBwb2ludCB3aGVyZSB3ZSBhcmUgaW4gdGhlXG4gIC8vIG1pZGRsZSBvZiBzb21lIHdvcmssIGJ1dCBkb24ndCB3YW50IHRoZSBoYW5kbGVyIHRvIHN0YXJ0IGNhbGxpbmdcbiAgLy8gb3RoZXIgbWV0aG9kcyBvbiB0aGUgZWRpdG9yLCB3aGljaCBtaWdodCBiZSBpbiBhbiBpbmNvbnNpc3RlbnRcbiAgLy8gc3RhdGUgb3Igc2ltcGx5IG5vdCBleHBlY3QgYW55IG90aGVyIGV2ZW50cyB0byBoYXBwZW4uXG4gIC8vIHNpZ25hbExhdGVyIGxvb2tzIHdoZXRoZXIgdGhlcmUgYXJlIGFueSBoYW5kbGVycywgYW5kIHNjaGVkdWxlc1xuICAvLyB0aGVtIHRvIGJlIGV4ZWN1dGVkIHdoZW4gdGhlIGxhc3Qgb3BlcmF0aW9uIGVuZHMsIG9yLCBpZiBub1xuICAvLyBvcGVyYXRpb24gaXMgYWN0aXZlLCB3aGVuIGEgdGltZW91dCBmaXJlcy5cbiAgZnVuY3Rpb24gc2lnbmFsTGF0ZXIoZW1pdHRlciwgdHlwZSAvKiwgdmFsdWVzLi4uKi8pIHtcbiAgICB2YXIgYXJyID0gZ2V0SGFuZGxlcnMoZW1pdHRlciwgdHlwZSk7XG4gICAgaWYgKCFhcnIubGVuZ3RoKSB7IHJldHVybiB9XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpLCBsaXN0O1xuICAgIGlmIChvcGVyYXRpb25Hcm91cCkge1xuICAgICAgbGlzdCA9IG9wZXJhdGlvbkdyb3VwLmRlbGF5ZWRDYWxsYmFja3M7XG4gICAgfSBlbHNlIGlmIChvcnBoYW5EZWxheWVkQ2FsbGJhY2tzKSB7XG4gICAgICBsaXN0ID0gb3JwaGFuRGVsYXllZENhbGxiYWNrcztcbiAgICB9IGVsc2Uge1xuICAgICAgbGlzdCA9IG9ycGhhbkRlbGF5ZWRDYWxsYmFja3MgPSBbXTtcbiAgICAgIHNldFRpbWVvdXQoZmlyZU9ycGhhbkRlbGF5ZWQsIDApO1xuICAgIH1cbiAgICB2YXIgbG9vcCA9IGZ1bmN0aW9uICggaSApIHtcbiAgICAgIGxpc3QucHVzaChmdW5jdGlvbiAoKSB7IHJldHVybiBhcnJbaV0uYXBwbHkobnVsbCwgYXJncyk7IH0pO1xuICAgIH07XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7ICsraSlcbiAgICAgIGxvb3AoIGkgKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpcmVPcnBoYW5EZWxheWVkKCkge1xuICAgIHZhciBkZWxheWVkID0gb3JwaGFuRGVsYXllZENhbGxiYWNrcztcbiAgICBvcnBoYW5EZWxheWVkQ2FsbGJhY2tzID0gbnVsbDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRlbGF5ZWQubGVuZ3RoOyArK2kpIHsgZGVsYXllZFtpXSgpOyB9XG4gIH1cblxuICAvLyBXaGVuIGFuIGFzcGVjdCBvZiBhIGxpbmUgY2hhbmdlcywgYSBzdHJpbmcgaXMgYWRkZWQgdG9cbiAgLy8gbGluZVZpZXcuY2hhbmdlcy4gVGhpcyB1cGRhdGVzIHRoZSByZWxldmFudCBwYXJ0IG9mIHRoZSBsaW5lJ3NcbiAgLy8gRE9NIHN0cnVjdHVyZS5cbiAgZnVuY3Rpb24gdXBkYXRlTGluZUZvckNoYW5nZXMoY20sIGxpbmVWaWV3LCBsaW5lTiwgZGltcykge1xuICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGluZVZpZXcuY2hhbmdlcy5sZW5ndGg7IGorKykge1xuICAgICAgdmFyIHR5cGUgPSBsaW5lVmlldy5jaGFuZ2VzW2pdO1xuICAgICAgaWYgKHR5cGUgPT0gXCJ0ZXh0XCIpIHsgdXBkYXRlTGluZVRleHQoY20sIGxpbmVWaWV3KTsgfVxuICAgICAgZWxzZSBpZiAodHlwZSA9PSBcImd1dHRlclwiKSB7IHVwZGF0ZUxpbmVHdXR0ZXIoY20sIGxpbmVWaWV3LCBsaW5lTiwgZGltcyk7IH1cbiAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCJjbGFzc1wiKSB7IHVwZGF0ZUxpbmVDbGFzc2VzKGNtLCBsaW5lVmlldyk7IH1cbiAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCJ3aWRnZXRcIikgeyB1cGRhdGVMaW5lV2lkZ2V0cyhjbSwgbGluZVZpZXcsIGRpbXMpOyB9XG4gICAgfVxuICAgIGxpbmVWaWV3LmNoYW5nZXMgPSBudWxsO1xuICB9XG5cbiAgLy8gTGluZXMgd2l0aCBndXR0ZXIgZWxlbWVudHMsIHdpZGdldHMgb3IgYSBiYWNrZ3JvdW5kIGNsYXNzIG5lZWQgdG9cbiAgLy8gYmUgd3JhcHBlZCwgYW5kIGhhdmUgdGhlIGV4dHJhIGVsZW1lbnRzIGFkZGVkIHRvIHRoZSB3cmFwcGVyIGRpdlxuICBmdW5jdGlvbiBlbnN1cmVMaW5lV3JhcHBlZChsaW5lVmlldykge1xuICAgIGlmIChsaW5lVmlldy5ub2RlID09IGxpbmVWaWV3LnRleHQpIHtcbiAgICAgIGxpbmVWaWV3Lm5vZGUgPSBlbHQoXCJkaXZcIiwgbnVsbCwgbnVsbCwgXCJwb3NpdGlvbjogcmVsYXRpdmVcIik7XG4gICAgICBpZiAobGluZVZpZXcudGV4dC5wYXJlbnROb2RlKVxuICAgICAgICB7IGxpbmVWaWV3LnRleHQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQobGluZVZpZXcubm9kZSwgbGluZVZpZXcudGV4dCk7IH1cbiAgICAgIGxpbmVWaWV3Lm5vZGUuYXBwZW5kQ2hpbGQobGluZVZpZXcudGV4dCk7XG4gICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDgpIHsgbGluZVZpZXcubm9kZS5zdHlsZS56SW5kZXggPSAyOyB9XG4gICAgfVxuICAgIHJldHVybiBsaW5lVmlldy5ub2RlXG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVMaW5lQmFja2dyb3VuZChjbSwgbGluZVZpZXcpIHtcbiAgICB2YXIgY2xzID0gbGluZVZpZXcuYmdDbGFzcyA/IGxpbmVWaWV3LmJnQ2xhc3MgKyBcIiBcIiArIChsaW5lVmlldy5saW5lLmJnQ2xhc3MgfHwgXCJcIikgOiBsaW5lVmlldy5saW5lLmJnQ2xhc3M7XG4gICAgaWYgKGNscykgeyBjbHMgKz0gXCIgQ29kZU1pcnJvci1saW5lYmFja2dyb3VuZFwiOyB9XG4gICAgaWYgKGxpbmVWaWV3LmJhY2tncm91bmQpIHtcbiAgICAgIGlmIChjbHMpIHsgbGluZVZpZXcuYmFja2dyb3VuZC5jbGFzc05hbWUgPSBjbHM7IH1cbiAgICAgIGVsc2UgeyBsaW5lVmlldy5iYWNrZ3JvdW5kLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobGluZVZpZXcuYmFja2dyb3VuZCk7IGxpbmVWaWV3LmJhY2tncm91bmQgPSBudWxsOyB9XG4gICAgfSBlbHNlIGlmIChjbHMpIHtcbiAgICAgIHZhciB3cmFwID0gZW5zdXJlTGluZVdyYXBwZWQobGluZVZpZXcpO1xuICAgICAgbGluZVZpZXcuYmFja2dyb3VuZCA9IHdyYXAuaW5zZXJ0QmVmb3JlKGVsdChcImRpdlwiLCBudWxsLCBjbHMpLCB3cmFwLmZpcnN0Q2hpbGQpO1xuICAgICAgY20uZGlzcGxheS5pbnB1dC5zZXRVbmVkaXRhYmxlKGxpbmVWaWV3LmJhY2tncm91bmQpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFdyYXBwZXIgYXJvdW5kIGJ1aWxkTGluZUNvbnRlbnQgd2hpY2ggd2lsbCByZXVzZSB0aGUgc3RydWN0dXJlXG4gIC8vIGluIGRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZCB3aGVuIHBvc3NpYmxlLlxuICBmdW5jdGlvbiBnZXRMaW5lQ29udGVudChjbSwgbGluZVZpZXcpIHtcbiAgICB2YXIgZXh0ID0gY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkO1xuICAgIGlmIChleHQgJiYgZXh0LmxpbmUgPT0gbGluZVZpZXcubGluZSkge1xuICAgICAgY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkID0gbnVsbDtcbiAgICAgIGxpbmVWaWV3Lm1lYXN1cmUgPSBleHQubWVhc3VyZTtcbiAgICAgIHJldHVybiBleHQuYnVpbHRcbiAgICB9XG4gICAgcmV0dXJuIGJ1aWxkTGluZUNvbnRlbnQoY20sIGxpbmVWaWV3KVxuICB9XG5cbiAgLy8gUmVkcmF3IHRoZSBsaW5lJ3MgdGV4dC4gSW50ZXJhY3RzIHdpdGggdGhlIGJhY2tncm91bmQgYW5kIHRleHRcbiAgLy8gY2xhc3NlcyBiZWNhdXNlIHRoZSBtb2RlIG1heSBvdXRwdXQgdG9rZW5zIHRoYXQgaW5mbHVlbmNlIHRoZXNlXG4gIC8vIGNsYXNzZXMuXG4gIGZ1bmN0aW9uIHVwZGF0ZUxpbmVUZXh0KGNtLCBsaW5lVmlldykge1xuICAgIHZhciBjbHMgPSBsaW5lVmlldy50ZXh0LmNsYXNzTmFtZTtcbiAgICB2YXIgYnVpbHQgPSBnZXRMaW5lQ29udGVudChjbSwgbGluZVZpZXcpO1xuICAgIGlmIChsaW5lVmlldy50ZXh0ID09IGxpbmVWaWV3Lm5vZGUpIHsgbGluZVZpZXcubm9kZSA9IGJ1aWx0LnByZTsgfVxuICAgIGxpbmVWaWV3LnRleHQucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoYnVpbHQucHJlLCBsaW5lVmlldy50ZXh0KTtcbiAgICBsaW5lVmlldy50ZXh0ID0gYnVpbHQucHJlO1xuICAgIGlmIChidWlsdC5iZ0NsYXNzICE9IGxpbmVWaWV3LmJnQ2xhc3MgfHwgYnVpbHQudGV4dENsYXNzICE9IGxpbmVWaWV3LnRleHRDbGFzcykge1xuICAgICAgbGluZVZpZXcuYmdDbGFzcyA9IGJ1aWx0LmJnQ2xhc3M7XG4gICAgICBsaW5lVmlldy50ZXh0Q2xhc3MgPSBidWlsdC50ZXh0Q2xhc3M7XG4gICAgICB1cGRhdGVMaW5lQ2xhc3NlcyhjbSwgbGluZVZpZXcpO1xuICAgIH0gZWxzZSBpZiAoY2xzKSB7XG4gICAgICBsaW5lVmlldy50ZXh0LmNsYXNzTmFtZSA9IGNscztcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVMaW5lQ2xhc3NlcyhjbSwgbGluZVZpZXcpIHtcbiAgICB1cGRhdGVMaW5lQmFja2dyb3VuZChjbSwgbGluZVZpZXcpO1xuICAgIGlmIChsaW5lVmlldy5saW5lLndyYXBDbGFzcylcbiAgICAgIHsgZW5zdXJlTGluZVdyYXBwZWQobGluZVZpZXcpLmNsYXNzTmFtZSA9IGxpbmVWaWV3LmxpbmUud3JhcENsYXNzOyB9XG4gICAgZWxzZSBpZiAobGluZVZpZXcubm9kZSAhPSBsaW5lVmlldy50ZXh0KVxuICAgICAgeyBsaW5lVmlldy5ub2RlLmNsYXNzTmFtZSA9IFwiXCI7IH1cbiAgICB2YXIgdGV4dENsYXNzID0gbGluZVZpZXcudGV4dENsYXNzID8gbGluZVZpZXcudGV4dENsYXNzICsgXCIgXCIgKyAobGluZVZpZXcubGluZS50ZXh0Q2xhc3MgfHwgXCJcIikgOiBsaW5lVmlldy5saW5lLnRleHRDbGFzcztcbiAgICBsaW5lVmlldy50ZXh0LmNsYXNzTmFtZSA9IHRleHRDbGFzcyB8fCBcIlwiO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlTGluZUd1dHRlcihjbSwgbGluZVZpZXcsIGxpbmVOLCBkaW1zKSB7XG4gICAgaWYgKGxpbmVWaWV3Lmd1dHRlcikge1xuICAgICAgbGluZVZpZXcubm9kZS5yZW1vdmVDaGlsZChsaW5lVmlldy5ndXR0ZXIpO1xuICAgICAgbGluZVZpZXcuZ3V0dGVyID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGxpbmVWaWV3Lmd1dHRlckJhY2tncm91bmQpIHtcbiAgICAgIGxpbmVWaWV3Lm5vZGUucmVtb3ZlQ2hpbGQobGluZVZpZXcuZ3V0dGVyQmFja2dyb3VuZCk7XG4gICAgICBsaW5lVmlldy5ndXR0ZXJCYWNrZ3JvdW5kID0gbnVsbDtcbiAgICB9XG4gICAgaWYgKGxpbmVWaWV3LmxpbmUuZ3V0dGVyQ2xhc3MpIHtcbiAgICAgIHZhciB3cmFwID0gZW5zdXJlTGluZVdyYXBwZWQobGluZVZpZXcpO1xuICAgICAgbGluZVZpZXcuZ3V0dGVyQmFja2dyb3VuZCA9IGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3ItZ3V0dGVyLWJhY2tncm91bmQgXCIgKyBsaW5lVmlldy5saW5lLmd1dHRlckNsYXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXCJsZWZ0OiBcIiArIChjbS5vcHRpb25zLmZpeGVkR3V0dGVyID8gZGltcy5maXhlZFBvcyA6IC1kaW1zLmd1dHRlclRvdGFsV2lkdGgpICsgXCJweDsgd2lkdGg6IFwiICsgKGRpbXMuZ3V0dGVyVG90YWxXaWR0aCkgKyBcInB4XCIpKTtcbiAgICAgIGNtLmRpc3BsYXkuaW5wdXQuc2V0VW5lZGl0YWJsZShsaW5lVmlldy5ndXR0ZXJCYWNrZ3JvdW5kKTtcbiAgICAgIHdyYXAuaW5zZXJ0QmVmb3JlKGxpbmVWaWV3Lmd1dHRlckJhY2tncm91bmQsIGxpbmVWaWV3LnRleHQpO1xuICAgIH1cbiAgICB2YXIgbWFya2VycyA9IGxpbmVWaWV3LmxpbmUuZ3V0dGVyTWFya2VycztcbiAgICBpZiAoY20ub3B0aW9ucy5saW5lTnVtYmVycyB8fCBtYXJrZXJzKSB7XG4gICAgICB2YXIgd3JhcCQxID0gZW5zdXJlTGluZVdyYXBwZWQobGluZVZpZXcpO1xuICAgICAgdmFyIGd1dHRlcldyYXAgPSBsaW5lVmlldy5ndXR0ZXIgPSBlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLWd1dHRlci13cmFwcGVyXCIsIChcImxlZnQ6IFwiICsgKGNtLm9wdGlvbnMuZml4ZWRHdXR0ZXIgPyBkaW1zLmZpeGVkUG9zIDogLWRpbXMuZ3V0dGVyVG90YWxXaWR0aCkgKyBcInB4XCIpKTtcbiAgICAgIGd1dHRlcldyYXAuc2V0QXR0cmlidXRlKFwiYXJpYS1oaWRkZW5cIiwgXCJ0cnVlXCIpO1xuICAgICAgY20uZGlzcGxheS5pbnB1dC5zZXRVbmVkaXRhYmxlKGd1dHRlcldyYXApO1xuICAgICAgd3JhcCQxLmluc2VydEJlZm9yZShndXR0ZXJXcmFwLCBsaW5lVmlldy50ZXh0KTtcbiAgICAgIGlmIChsaW5lVmlldy5saW5lLmd1dHRlckNsYXNzKVxuICAgICAgICB7IGd1dHRlcldyYXAuY2xhc3NOYW1lICs9IFwiIFwiICsgbGluZVZpZXcubGluZS5ndXR0ZXJDbGFzczsgfVxuICAgICAgaWYgKGNtLm9wdGlvbnMubGluZU51bWJlcnMgJiYgKCFtYXJrZXJzIHx8ICFtYXJrZXJzW1wiQ29kZU1pcnJvci1saW5lbnVtYmVyc1wiXSkpXG4gICAgICAgIHsgbGluZVZpZXcubGluZU51bWJlciA9IGd1dHRlcldyYXAuYXBwZW5kQ2hpbGQoXG4gICAgICAgICAgZWx0KFwiZGl2XCIsIGxpbmVOdW1iZXJGb3IoY20ub3B0aW9ucywgbGluZU4pLFxuICAgICAgICAgICAgICBcIkNvZGVNaXJyb3ItbGluZW51bWJlciBDb2RlTWlycm9yLWd1dHRlci1lbHRcIixcbiAgICAgICAgICAgICAgKFwibGVmdDogXCIgKyAoZGltcy5ndXR0ZXJMZWZ0W1wiQ29kZU1pcnJvci1saW5lbnVtYmVyc1wiXSkgKyBcInB4OyB3aWR0aDogXCIgKyAoY20uZGlzcGxheS5saW5lTnVtSW5uZXJXaWR0aCkgKyBcInB4XCIpKSk7IH1cbiAgICAgIGlmIChtYXJrZXJzKSB7IGZvciAodmFyIGsgPSAwOyBrIDwgY20uZGlzcGxheS5ndXR0ZXJTcGVjcy5sZW5ndGg7ICsraykge1xuICAgICAgICB2YXIgaWQgPSBjbS5kaXNwbGF5Lmd1dHRlclNwZWNzW2tdLmNsYXNzTmFtZSwgZm91bmQgPSBtYXJrZXJzLmhhc093blByb3BlcnR5KGlkKSAmJiBtYXJrZXJzW2lkXTtcbiAgICAgICAgaWYgKGZvdW5kKVxuICAgICAgICAgIHsgZ3V0dGVyV3JhcC5hcHBlbmRDaGlsZChlbHQoXCJkaXZcIiwgW2ZvdW5kXSwgXCJDb2RlTWlycm9yLWd1dHRlci1lbHRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoXCJsZWZ0OiBcIiArIChkaW1zLmd1dHRlckxlZnRbaWRdKSArIFwicHg7IHdpZHRoOiBcIiArIChkaW1zLmd1dHRlcldpZHRoW2lkXSkgKyBcInB4XCIpKSk7IH1cbiAgICAgIH0gfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUxpbmVXaWRnZXRzKGNtLCBsaW5lVmlldywgZGltcykge1xuICAgIGlmIChsaW5lVmlldy5hbGlnbmFibGUpIHsgbGluZVZpZXcuYWxpZ25hYmxlID0gbnVsbDsgfVxuICAgIHZhciBpc1dpZGdldCA9IGNsYXNzVGVzdChcIkNvZGVNaXJyb3ItbGluZXdpZGdldFwiKTtcbiAgICBmb3IgKHZhciBub2RlID0gbGluZVZpZXcubm9kZS5maXJzdENoaWxkLCBuZXh0ID0gKHZvaWQgMCk7IG5vZGU7IG5vZGUgPSBuZXh0KSB7XG4gICAgICBuZXh0ID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgIGlmIChpc1dpZGdldC50ZXN0KG5vZGUuY2xhc3NOYW1lKSkgeyBsaW5lVmlldy5ub2RlLnJlbW92ZUNoaWxkKG5vZGUpOyB9XG4gICAgfVxuICAgIGluc2VydExpbmVXaWRnZXRzKGNtLCBsaW5lVmlldywgZGltcyk7XG4gIH1cblxuICAvLyBCdWlsZCBhIGxpbmUncyBET00gcmVwcmVzZW50YXRpb24gZnJvbSBzY3JhdGNoXG4gIGZ1bmN0aW9uIGJ1aWxkTGluZUVsZW1lbnQoY20sIGxpbmVWaWV3LCBsaW5lTiwgZGltcykge1xuICAgIHZhciBidWlsdCA9IGdldExpbmVDb250ZW50KGNtLCBsaW5lVmlldyk7XG4gICAgbGluZVZpZXcudGV4dCA9IGxpbmVWaWV3Lm5vZGUgPSBidWlsdC5wcmU7XG4gICAgaWYgKGJ1aWx0LmJnQ2xhc3MpIHsgbGluZVZpZXcuYmdDbGFzcyA9IGJ1aWx0LmJnQ2xhc3M7IH1cbiAgICBpZiAoYnVpbHQudGV4dENsYXNzKSB7IGxpbmVWaWV3LnRleHRDbGFzcyA9IGJ1aWx0LnRleHRDbGFzczsgfVxuXG4gICAgdXBkYXRlTGluZUNsYXNzZXMoY20sIGxpbmVWaWV3KTtcbiAgICB1cGRhdGVMaW5lR3V0dGVyKGNtLCBsaW5lVmlldywgbGluZU4sIGRpbXMpO1xuICAgIGluc2VydExpbmVXaWRnZXRzKGNtLCBsaW5lVmlldywgZGltcyk7XG4gICAgcmV0dXJuIGxpbmVWaWV3Lm5vZGVcbiAgfVxuXG4gIC8vIEEgbGluZVZpZXcgbWF5IGNvbnRhaW4gbXVsdGlwbGUgbG9naWNhbCBsaW5lcyAod2hlbiBtZXJnZWQgYnlcbiAgLy8gY29sbGFwc2VkIHNwYW5zKS4gVGhlIHdpZGdldHMgZm9yIGFsbCBvZiB0aGVtIG5lZWQgdG8gYmUgZHJhd24uXG4gIGZ1bmN0aW9uIGluc2VydExpbmVXaWRnZXRzKGNtLCBsaW5lVmlldywgZGltcykge1xuICAgIGluc2VydExpbmVXaWRnZXRzRm9yKGNtLCBsaW5lVmlldy5saW5lLCBsaW5lVmlldywgZGltcywgdHJ1ZSk7XG4gICAgaWYgKGxpbmVWaWV3LnJlc3QpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lVmlldy5yZXN0Lmxlbmd0aDsgaSsrKVxuICAgICAgeyBpbnNlcnRMaW5lV2lkZ2V0c0ZvcihjbSwgbGluZVZpZXcucmVzdFtpXSwgbGluZVZpZXcsIGRpbXMsIGZhbHNlKTsgfSB9XG4gIH1cblxuICBmdW5jdGlvbiBpbnNlcnRMaW5lV2lkZ2V0c0ZvcihjbSwgbGluZSwgbGluZVZpZXcsIGRpbXMsIGFsbG93QWJvdmUpIHtcbiAgICBpZiAoIWxpbmUud2lkZ2V0cykgeyByZXR1cm4gfVxuICAgIHZhciB3cmFwID0gZW5zdXJlTGluZVdyYXBwZWQobGluZVZpZXcpO1xuICAgIGZvciAodmFyIGkgPSAwLCB3cyA9IGxpbmUud2lkZ2V0czsgaSA8IHdzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgd2lkZ2V0ID0gd3NbaV0sIG5vZGUgPSBlbHQoXCJkaXZcIiwgW3dpZGdldC5ub2RlXSwgXCJDb2RlTWlycm9yLWxpbmV3aWRnZXRcIiArICh3aWRnZXQuY2xhc3NOYW1lID8gXCIgXCIgKyB3aWRnZXQuY2xhc3NOYW1lIDogXCJcIikpO1xuICAgICAgaWYgKCF3aWRnZXQuaGFuZGxlTW91c2VFdmVudHMpIHsgbm9kZS5zZXRBdHRyaWJ1dGUoXCJjbS1pZ25vcmUtZXZlbnRzXCIsIFwidHJ1ZVwiKTsgfVxuICAgICAgcG9zaXRpb25MaW5lV2lkZ2V0KHdpZGdldCwgbm9kZSwgbGluZVZpZXcsIGRpbXMpO1xuICAgICAgY20uZGlzcGxheS5pbnB1dC5zZXRVbmVkaXRhYmxlKG5vZGUpO1xuICAgICAgaWYgKGFsbG93QWJvdmUgJiYgd2lkZ2V0LmFib3ZlKVxuICAgICAgICB7IHdyYXAuaW5zZXJ0QmVmb3JlKG5vZGUsIGxpbmVWaWV3Lmd1dHRlciB8fCBsaW5lVmlldy50ZXh0KTsgfVxuICAgICAgZWxzZVxuICAgICAgICB7IHdyYXAuYXBwZW5kQ2hpbGQobm9kZSk7IH1cbiAgICAgIHNpZ25hbExhdGVyKHdpZGdldCwgXCJyZWRyYXdcIik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcG9zaXRpb25MaW5lV2lkZ2V0KHdpZGdldCwgbm9kZSwgbGluZVZpZXcsIGRpbXMpIHtcbiAgICBpZiAod2lkZ2V0Lm5vSFNjcm9sbCkge1xuICAobGluZVZpZXcuYWxpZ25hYmxlIHx8IChsaW5lVmlldy5hbGlnbmFibGUgPSBbXSkpLnB1c2gobm9kZSk7XG4gICAgICB2YXIgd2lkdGggPSBkaW1zLndyYXBwZXJXaWR0aDtcbiAgICAgIG5vZGUuc3R5bGUubGVmdCA9IGRpbXMuZml4ZWRQb3MgKyBcInB4XCI7XG4gICAgICBpZiAoIXdpZGdldC5jb3Zlckd1dHRlcikge1xuICAgICAgICB3aWR0aCAtPSBkaW1zLmd1dHRlclRvdGFsV2lkdGg7XG4gICAgICAgIG5vZGUuc3R5bGUucGFkZGluZ0xlZnQgPSBkaW1zLmd1dHRlclRvdGFsV2lkdGggKyBcInB4XCI7XG4gICAgICB9XG4gICAgICBub2RlLnN0eWxlLndpZHRoID0gd2lkdGggKyBcInB4XCI7XG4gICAgfVxuICAgIGlmICh3aWRnZXQuY292ZXJHdXR0ZXIpIHtcbiAgICAgIG5vZGUuc3R5bGUuekluZGV4ID0gNTtcbiAgICAgIG5vZGUuc3R5bGUucG9zaXRpb24gPSBcInJlbGF0aXZlXCI7XG4gICAgICBpZiAoIXdpZGdldC5ub0hTY3JvbGwpIHsgbm9kZS5zdHlsZS5tYXJnaW5MZWZ0ID0gLWRpbXMuZ3V0dGVyVG90YWxXaWR0aCArIFwicHhcIjsgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHdpZGdldEhlaWdodCh3aWRnZXQpIHtcbiAgICBpZiAod2lkZ2V0LmhlaWdodCAhPSBudWxsKSB7IHJldHVybiB3aWRnZXQuaGVpZ2h0IH1cbiAgICB2YXIgY20gPSB3aWRnZXQuZG9jLmNtO1xuICAgIGlmICghY20pIHsgcmV0dXJuIDAgfVxuICAgIGlmICghY29udGFpbnMoZG9jdW1lbnQuYm9keSwgd2lkZ2V0Lm5vZGUpKSB7XG4gICAgICB2YXIgcGFyZW50U3R5bGUgPSBcInBvc2l0aW9uOiByZWxhdGl2ZTtcIjtcbiAgICAgIGlmICh3aWRnZXQuY292ZXJHdXR0ZXIpXG4gICAgICAgIHsgcGFyZW50U3R5bGUgKz0gXCJtYXJnaW4tbGVmdDogLVwiICsgY20uZGlzcGxheS5ndXR0ZXJzLm9mZnNldFdpZHRoICsgXCJweDtcIjsgfVxuICAgICAgaWYgKHdpZGdldC5ub0hTY3JvbGwpXG4gICAgICAgIHsgcGFyZW50U3R5bGUgKz0gXCJ3aWR0aDogXCIgKyBjbS5kaXNwbGF5LndyYXBwZXIuY2xpZW50V2lkdGggKyBcInB4O1wiOyB9XG4gICAgICByZW1vdmVDaGlsZHJlbkFuZEFkZChjbS5kaXNwbGF5Lm1lYXN1cmUsIGVsdChcImRpdlwiLCBbd2lkZ2V0Lm5vZGVdLCBudWxsLCBwYXJlbnRTdHlsZSkpO1xuICAgIH1cbiAgICByZXR1cm4gd2lkZ2V0LmhlaWdodCA9IHdpZGdldC5ub2RlLnBhcmVudE5vZGUub2Zmc2V0SGVpZ2h0XG4gIH1cblxuICAvLyBSZXR1cm4gdHJ1ZSB3aGVuIHRoZSBnaXZlbiBtb3VzZSBldmVudCBoYXBwZW5lZCBpbiBhIHdpZGdldFxuICBmdW5jdGlvbiBldmVudEluV2lkZ2V0KGRpc3BsYXksIGUpIHtcbiAgICBmb3IgKHZhciBuID0gZV90YXJnZXQoZSk7IG4gIT0gZGlzcGxheS53cmFwcGVyOyBuID0gbi5wYXJlbnROb2RlKSB7XG4gICAgICBpZiAoIW4gfHwgKG4ubm9kZVR5cGUgPT0gMSAmJiBuLmdldEF0dHJpYnV0ZShcImNtLWlnbm9yZS1ldmVudHNcIikgPT0gXCJ0cnVlXCIpIHx8XG4gICAgICAgICAgKG4ucGFyZW50Tm9kZSA9PSBkaXNwbGF5LnNpemVyICYmIG4gIT0gZGlzcGxheS5tb3ZlcikpXG4gICAgICAgIHsgcmV0dXJuIHRydWUgfVxuICAgIH1cbiAgfVxuXG4gIC8vIFBPU0lUSU9OIE1FQVNVUkVNRU5UXG5cbiAgZnVuY3Rpb24gcGFkZGluZ1RvcChkaXNwbGF5KSB7cmV0dXJuIGRpc3BsYXkubGluZVNwYWNlLm9mZnNldFRvcH1cbiAgZnVuY3Rpb24gcGFkZGluZ1ZlcnQoZGlzcGxheSkge3JldHVybiBkaXNwbGF5Lm1vdmVyLm9mZnNldEhlaWdodCAtIGRpc3BsYXkubGluZVNwYWNlLm9mZnNldEhlaWdodH1cbiAgZnVuY3Rpb24gcGFkZGluZ0goZGlzcGxheSkge1xuICAgIGlmIChkaXNwbGF5LmNhY2hlZFBhZGRpbmdIKSB7IHJldHVybiBkaXNwbGF5LmNhY2hlZFBhZGRpbmdIIH1cbiAgICB2YXIgZSA9IHJlbW92ZUNoaWxkcmVuQW5kQWRkKGRpc3BsYXkubWVhc3VyZSwgZWx0KFwicHJlXCIsIFwieFwiLCBcIkNvZGVNaXJyb3ItbGluZS1saWtlXCIpKTtcbiAgICB2YXIgc3R5bGUgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSA/IHdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGUpIDogZS5jdXJyZW50U3R5bGU7XG4gICAgdmFyIGRhdGEgPSB7bGVmdDogcGFyc2VJbnQoc3R5bGUucGFkZGluZ0xlZnQpLCByaWdodDogcGFyc2VJbnQoc3R5bGUucGFkZGluZ1JpZ2h0KX07XG4gICAgaWYgKCFpc05hTihkYXRhLmxlZnQpICYmICFpc05hTihkYXRhLnJpZ2h0KSkgeyBkaXNwbGF5LmNhY2hlZFBhZGRpbmdIID0gZGF0YTsgfVxuICAgIHJldHVybiBkYXRhXG4gIH1cblxuICBmdW5jdGlvbiBzY3JvbGxHYXAoY20pIHsgcmV0dXJuIHNjcm9sbGVyR2FwIC0gY20uZGlzcGxheS5uYXRpdmVCYXJXaWR0aCB9XG4gIGZ1bmN0aW9uIGRpc3BsYXlXaWR0aChjbSkge1xuICAgIHJldHVybiBjbS5kaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoIC0gc2Nyb2xsR2FwKGNtKSAtIGNtLmRpc3BsYXkuYmFyV2lkdGhcbiAgfVxuICBmdW5jdGlvbiBkaXNwbGF5SGVpZ2h0KGNtKSB7XG4gICAgcmV0dXJuIGNtLmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50SGVpZ2h0IC0gc2Nyb2xsR2FwKGNtKSAtIGNtLmRpc3BsYXkuYmFySGVpZ2h0XG4gIH1cblxuICAvLyBFbnN1cmUgdGhlIGxpbmVWaWV3LndyYXBwaW5nLmhlaWdodHMgYXJyYXkgaXMgcG9wdWxhdGVkLiBUaGlzIGlzXG4gIC8vIGFuIGFycmF5IG9mIGJvdHRvbSBvZmZzZXRzIGZvciB0aGUgbGluZXMgdGhhdCBtYWtlIHVwIGEgZHJhd25cbiAgLy8gbGluZS4gV2hlbiBsaW5lV3JhcHBpbmcgaXMgb24sIHRoZXJlIG1pZ2h0IGJlIG1vcmUgdGhhbiBvbmVcbiAgLy8gaGVpZ2h0LlxuICBmdW5jdGlvbiBlbnN1cmVMaW5lSGVpZ2h0cyhjbSwgbGluZVZpZXcsIHJlY3QpIHtcbiAgICB2YXIgd3JhcHBpbmcgPSBjbS5vcHRpb25zLmxpbmVXcmFwcGluZztcbiAgICB2YXIgY3VyV2lkdGggPSB3cmFwcGluZyAmJiBkaXNwbGF5V2lkdGgoY20pO1xuICAgIGlmICghbGluZVZpZXcubWVhc3VyZS5oZWlnaHRzIHx8IHdyYXBwaW5nICYmIGxpbmVWaWV3Lm1lYXN1cmUud2lkdGggIT0gY3VyV2lkdGgpIHtcbiAgICAgIHZhciBoZWlnaHRzID0gbGluZVZpZXcubWVhc3VyZS5oZWlnaHRzID0gW107XG4gICAgICBpZiAod3JhcHBpbmcpIHtcbiAgICAgICAgbGluZVZpZXcubWVhc3VyZS53aWR0aCA9IGN1cldpZHRoO1xuICAgICAgICB2YXIgcmVjdHMgPSBsaW5lVmlldy50ZXh0LmZpcnN0Q2hpbGQuZ2V0Q2xpZW50UmVjdHMoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByZWN0cy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgICAgICB2YXIgY3VyID0gcmVjdHNbaV0sIG5leHQgPSByZWN0c1tpICsgMV07XG4gICAgICAgICAgaWYgKE1hdGguYWJzKGN1ci5ib3R0b20gLSBuZXh0LmJvdHRvbSkgPiAyKVxuICAgICAgICAgICAgeyBoZWlnaHRzLnB1c2goKGN1ci5ib3R0b20gKyBuZXh0LnRvcCkgLyAyIC0gcmVjdC50b3ApOyB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGhlaWdodHMucHVzaChyZWN0LmJvdHRvbSAtIHJlY3QudG9wKTtcbiAgICB9XG4gIH1cblxuICAvLyBGaW5kIGEgbGluZSBtYXAgKG1hcHBpbmcgY2hhcmFjdGVyIG9mZnNldHMgdG8gdGV4dCBub2RlcykgYW5kIGFcbiAgLy8gbWVhc3VyZW1lbnQgY2FjaGUgZm9yIHRoZSBnaXZlbiBsaW5lIG51bWJlci4gKEEgbGluZSB2aWV3IG1pZ2h0XG4gIC8vIGNvbnRhaW4gbXVsdGlwbGUgbGluZXMgd2hlbiBjb2xsYXBzZWQgcmFuZ2VzIGFyZSBwcmVzZW50LilcbiAgZnVuY3Rpb24gbWFwRnJvbUxpbmVWaWV3KGxpbmVWaWV3LCBsaW5lLCBsaW5lTikge1xuICAgIGlmIChsaW5lVmlldy5saW5lID09IGxpbmUpXG4gICAgICB7IHJldHVybiB7bWFwOiBsaW5lVmlldy5tZWFzdXJlLm1hcCwgY2FjaGU6IGxpbmVWaWV3Lm1lYXN1cmUuY2FjaGV9IH1cbiAgICBpZiAobGluZVZpZXcucmVzdCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lVmlldy5yZXN0Lmxlbmd0aDsgaSsrKVxuICAgICAgICB7IGlmIChsaW5lVmlldy5yZXN0W2ldID09IGxpbmUpXG4gICAgICAgICAgeyByZXR1cm4ge21hcDogbGluZVZpZXcubWVhc3VyZS5tYXBzW2ldLCBjYWNoZTogbGluZVZpZXcubWVhc3VyZS5jYWNoZXNbaV19IH0gfVxuICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgbGluZVZpZXcucmVzdC5sZW5ndGg7IGkkMSsrKVxuICAgICAgICB7IGlmIChsaW5lTm8obGluZVZpZXcucmVzdFtpJDFdKSA+IGxpbmVOKVxuICAgICAgICAgIHsgcmV0dXJuIHttYXA6IGxpbmVWaWV3Lm1lYXN1cmUubWFwc1tpJDFdLCBjYWNoZTogbGluZVZpZXcubWVhc3VyZS5jYWNoZXNbaSQxXSwgYmVmb3JlOiB0cnVlfSB9IH1cbiAgICB9XG4gIH1cblxuICAvLyBSZW5kZXIgYSBsaW5lIGludG8gdGhlIGhpZGRlbiBub2RlIGRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZC4gVXNlZFxuICAvLyB3aGVuIG1lYXN1cmVtZW50IGlzIG5lZWRlZCBmb3IgYSBsaW5lIHRoYXQncyBub3QgaW4gdGhlIHZpZXdwb3J0LlxuICBmdW5jdGlvbiB1cGRhdGVFeHRlcm5hbE1lYXN1cmVtZW50KGNtLCBsaW5lKSB7XG4gICAgbGluZSA9IHZpc3VhbExpbmUobGluZSk7XG4gICAgdmFyIGxpbmVOID0gbGluZU5vKGxpbmUpO1xuICAgIHZhciB2aWV3ID0gY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkID0gbmV3IExpbmVWaWV3KGNtLmRvYywgbGluZSwgbGluZU4pO1xuICAgIHZpZXcubGluZU4gPSBsaW5lTjtcbiAgICB2YXIgYnVpbHQgPSB2aWV3LmJ1aWx0ID0gYnVpbGRMaW5lQ29udGVudChjbSwgdmlldyk7XG4gICAgdmlldy50ZXh0ID0gYnVpbHQucHJlO1xuICAgIHJlbW92ZUNoaWxkcmVuQW5kQWRkKGNtLmRpc3BsYXkubGluZU1lYXN1cmUsIGJ1aWx0LnByZSk7XG4gICAgcmV0dXJuIHZpZXdcbiAgfVxuXG4gIC8vIEdldCBhIHt0b3AsIGJvdHRvbSwgbGVmdCwgcmlnaHR9IGJveCAoaW4gbGluZS1sb2NhbCBjb29yZGluYXRlcylcbiAgLy8gZm9yIGEgZ2l2ZW4gY2hhcmFjdGVyLlxuICBmdW5jdGlvbiBtZWFzdXJlQ2hhcihjbSwgbGluZSwgY2gsIGJpYXMpIHtcbiAgICByZXR1cm4gbWVhc3VyZUNoYXJQcmVwYXJlZChjbSwgcHJlcGFyZU1lYXN1cmVGb3JMaW5lKGNtLCBsaW5lKSwgY2gsIGJpYXMpXG4gIH1cblxuICAvLyBGaW5kIGEgbGluZSB2aWV3IHRoYXQgY29ycmVzcG9uZHMgdG8gdGhlIGdpdmVuIGxpbmUgbnVtYmVyLlxuICBmdW5jdGlvbiBmaW5kVmlld0ZvckxpbmUoY20sIGxpbmVOKSB7XG4gICAgaWYgKGxpbmVOID49IGNtLmRpc3BsYXkudmlld0Zyb20gJiYgbGluZU4gPCBjbS5kaXNwbGF5LnZpZXdUbylcbiAgICAgIHsgcmV0dXJuIGNtLmRpc3BsYXkudmlld1tmaW5kVmlld0luZGV4KGNtLCBsaW5lTildIH1cbiAgICB2YXIgZXh0ID0gY20uZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkO1xuICAgIGlmIChleHQgJiYgbGluZU4gPj0gZXh0LmxpbmVOICYmIGxpbmVOIDwgZXh0LmxpbmVOICsgZXh0LnNpemUpXG4gICAgICB7IHJldHVybiBleHQgfVxuICB9XG5cbiAgLy8gTWVhc3VyZW1lbnQgY2FuIGJlIHNwbGl0IGluIHR3byBzdGVwcywgdGhlIHNldC11cCB3b3JrIHRoYXRcbiAgLy8gYXBwbGllcyB0byB0aGUgd2hvbGUgbGluZSwgYW5kIHRoZSBtZWFzdXJlbWVudCBvZiB0aGUgYWN0dWFsXG4gIC8vIGNoYXJhY3Rlci4gRnVuY3Rpb25zIGxpa2UgY29vcmRzQ2hhciwgdGhhdCBuZWVkIHRvIGRvIGEgbG90IG9mXG4gIC8vIG1lYXN1cmVtZW50cyBpbiBhIHJvdywgY2FuIHRodXMgZW5zdXJlIHRoYXQgdGhlIHNldC11cCB3b3JrIGlzXG4gIC8vIG9ubHkgZG9uZSBvbmNlLlxuICBmdW5jdGlvbiBwcmVwYXJlTWVhc3VyZUZvckxpbmUoY20sIGxpbmUpIHtcbiAgICB2YXIgbGluZU4gPSBsaW5lTm8obGluZSk7XG4gICAgdmFyIHZpZXcgPSBmaW5kVmlld0ZvckxpbmUoY20sIGxpbmVOKTtcbiAgICBpZiAodmlldyAmJiAhdmlldy50ZXh0KSB7XG4gICAgICB2aWV3ID0gbnVsbDtcbiAgICB9IGVsc2UgaWYgKHZpZXcgJiYgdmlldy5jaGFuZ2VzKSB7XG4gICAgICB1cGRhdGVMaW5lRm9yQ2hhbmdlcyhjbSwgdmlldywgbGluZU4sIGdldERpbWVuc2lvbnMoY20pKTtcbiAgICAgIGNtLmN1ck9wLmZvcmNlVXBkYXRlID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKCF2aWV3KVxuICAgICAgeyB2aWV3ID0gdXBkYXRlRXh0ZXJuYWxNZWFzdXJlbWVudChjbSwgbGluZSk7IH1cblxuICAgIHZhciBpbmZvID0gbWFwRnJvbUxpbmVWaWV3KHZpZXcsIGxpbmUsIGxpbmVOKTtcbiAgICByZXR1cm4ge1xuICAgICAgbGluZTogbGluZSwgdmlldzogdmlldywgcmVjdDogbnVsbCxcbiAgICAgIG1hcDogaW5mby5tYXAsIGNhY2hlOiBpbmZvLmNhY2hlLCBiZWZvcmU6IGluZm8uYmVmb3JlLFxuICAgICAgaGFzSGVpZ2h0czogZmFsc2VcbiAgICB9XG4gIH1cblxuICAvLyBHaXZlbiBhIHByZXBhcmVkIG1lYXN1cmVtZW50IG9iamVjdCwgbWVhc3VyZXMgdGhlIHBvc2l0aW9uIG9mIGFuXG4gIC8vIGFjdHVhbCBjaGFyYWN0ZXIgKG9yIGZldGNoZXMgaXQgZnJvbSB0aGUgY2FjaGUpLlxuICBmdW5jdGlvbiBtZWFzdXJlQ2hhclByZXBhcmVkKGNtLCBwcmVwYXJlZCwgY2gsIGJpYXMsIHZhckhlaWdodCkge1xuICAgIGlmIChwcmVwYXJlZC5iZWZvcmUpIHsgY2ggPSAtMTsgfVxuICAgIHZhciBrZXkgPSBjaCArIChiaWFzIHx8IFwiXCIpLCBmb3VuZDtcbiAgICBpZiAocHJlcGFyZWQuY2FjaGUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgZm91bmQgPSBwcmVwYXJlZC5jYWNoZVtrZXldO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIXByZXBhcmVkLnJlY3QpXG4gICAgICAgIHsgcHJlcGFyZWQucmVjdCA9IHByZXBhcmVkLnZpZXcudGV4dC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsgfVxuICAgICAgaWYgKCFwcmVwYXJlZC5oYXNIZWlnaHRzKSB7XG4gICAgICAgIGVuc3VyZUxpbmVIZWlnaHRzKGNtLCBwcmVwYXJlZC52aWV3LCBwcmVwYXJlZC5yZWN0KTtcbiAgICAgICAgcHJlcGFyZWQuaGFzSGVpZ2h0cyA9IHRydWU7XG4gICAgICB9XG4gICAgICBmb3VuZCA9IG1lYXN1cmVDaGFySW5uZXIoY20sIHByZXBhcmVkLCBjaCwgYmlhcyk7XG4gICAgICBpZiAoIWZvdW5kLmJvZ3VzKSB7IHByZXBhcmVkLmNhY2hlW2tleV0gPSBmb3VuZDsgfVxuICAgIH1cbiAgICByZXR1cm4ge2xlZnQ6IGZvdW5kLmxlZnQsIHJpZ2h0OiBmb3VuZC5yaWdodCxcbiAgICAgICAgICAgIHRvcDogdmFySGVpZ2h0ID8gZm91bmQucnRvcCA6IGZvdW5kLnRvcCxcbiAgICAgICAgICAgIGJvdHRvbTogdmFySGVpZ2h0ID8gZm91bmQucmJvdHRvbSA6IGZvdW5kLmJvdHRvbX1cbiAgfVxuXG4gIHZhciBudWxsUmVjdCA9IHtsZWZ0OiAwLCByaWdodDogMCwgdG9wOiAwLCBib3R0b206IDB9O1xuXG4gIGZ1bmN0aW9uIG5vZGVBbmRPZmZzZXRJbkxpbmVNYXAobWFwLCBjaCwgYmlhcykge1xuICAgIHZhciBub2RlLCBzdGFydCwgZW5kLCBjb2xsYXBzZSwgbVN0YXJ0LCBtRW5kO1xuICAgIC8vIEZpcnN0LCBzZWFyY2ggdGhlIGxpbmUgbWFwIGZvciB0aGUgdGV4dCBub2RlIGNvcnJlc3BvbmRpbmcgdG8sXG4gICAgLy8gb3IgY2xvc2VzdCB0bywgdGhlIHRhcmdldCBjaGFyYWN0ZXIuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXAubGVuZ3RoOyBpICs9IDMpIHtcbiAgICAgIG1TdGFydCA9IG1hcFtpXTtcbiAgICAgIG1FbmQgPSBtYXBbaSArIDFdO1xuICAgICAgaWYgKGNoIDwgbVN0YXJ0KSB7XG4gICAgICAgIHN0YXJ0ID0gMDsgZW5kID0gMTtcbiAgICAgICAgY29sbGFwc2UgPSBcImxlZnRcIjtcbiAgICAgIH0gZWxzZSBpZiAoY2ggPCBtRW5kKSB7XG4gICAgICAgIHN0YXJ0ID0gY2ggLSBtU3RhcnQ7XG4gICAgICAgIGVuZCA9IHN0YXJ0ICsgMTtcbiAgICAgIH0gZWxzZSBpZiAoaSA9PSBtYXAubGVuZ3RoIC0gMyB8fCBjaCA9PSBtRW5kICYmIG1hcFtpICsgM10gPiBjaCkge1xuICAgICAgICBlbmQgPSBtRW5kIC0gbVN0YXJ0O1xuICAgICAgICBzdGFydCA9IGVuZCAtIDE7XG4gICAgICAgIGlmIChjaCA+PSBtRW5kKSB7IGNvbGxhcHNlID0gXCJyaWdodFwiOyB9XG4gICAgICB9XG4gICAgICBpZiAoc3RhcnQgIT0gbnVsbCkge1xuICAgICAgICBub2RlID0gbWFwW2kgKyAyXTtcbiAgICAgICAgaWYgKG1TdGFydCA9PSBtRW5kICYmIGJpYXMgPT0gKG5vZGUuaW5zZXJ0TGVmdCA/IFwibGVmdFwiIDogXCJyaWdodFwiKSlcbiAgICAgICAgICB7IGNvbGxhcHNlID0gYmlhczsgfVxuICAgICAgICBpZiAoYmlhcyA9PSBcImxlZnRcIiAmJiBzdGFydCA9PSAwKVxuICAgICAgICAgIHsgd2hpbGUgKGkgJiYgbWFwW2kgLSAyXSA9PSBtYXBbaSAtIDNdICYmIG1hcFtpIC0gMV0uaW5zZXJ0TGVmdCkge1xuICAgICAgICAgICAgbm9kZSA9IG1hcFsoaSAtPSAzKSArIDJdO1xuICAgICAgICAgICAgY29sbGFwc2UgPSBcImxlZnRcIjtcbiAgICAgICAgICB9IH1cbiAgICAgICAgaWYgKGJpYXMgPT0gXCJyaWdodFwiICYmIHN0YXJ0ID09IG1FbmQgLSBtU3RhcnQpXG4gICAgICAgICAgeyB3aGlsZSAoaSA8IG1hcC5sZW5ndGggLSAzICYmIG1hcFtpICsgM10gPT0gbWFwW2kgKyA0XSAmJiAhbWFwW2kgKyA1XS5pbnNlcnRMZWZ0KSB7XG4gICAgICAgICAgICBub2RlID0gbWFwWyhpICs9IDMpICsgMl07XG4gICAgICAgICAgICBjb2xsYXBzZSA9IFwicmlnaHRcIjtcbiAgICAgICAgICB9IH1cbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtub2RlOiBub2RlLCBzdGFydDogc3RhcnQsIGVuZDogZW5kLCBjb2xsYXBzZTogY29sbGFwc2UsIGNvdmVyU3RhcnQ6IG1TdGFydCwgY292ZXJFbmQ6IG1FbmR9XG4gIH1cblxuICBmdW5jdGlvbiBnZXRVc2VmdWxSZWN0KHJlY3RzLCBiaWFzKSB7XG4gICAgdmFyIHJlY3QgPSBudWxsUmVjdDtcbiAgICBpZiAoYmlhcyA9PSBcImxlZnRcIikgeyBmb3IgKHZhciBpID0gMDsgaSA8IHJlY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoKHJlY3QgPSByZWN0c1tpXSkubGVmdCAhPSByZWN0LnJpZ2h0KSB7IGJyZWFrIH1cbiAgICB9IH0gZWxzZSB7IGZvciAodmFyIGkkMSA9IHJlY3RzLmxlbmd0aCAtIDE7IGkkMSA+PSAwOyBpJDEtLSkge1xuICAgICAgaWYgKChyZWN0ID0gcmVjdHNbaSQxXSkubGVmdCAhPSByZWN0LnJpZ2h0KSB7IGJyZWFrIH1cbiAgICB9IH1cbiAgICByZXR1cm4gcmVjdFxuICB9XG5cbiAgZnVuY3Rpb24gbWVhc3VyZUNoYXJJbm5lcihjbSwgcHJlcGFyZWQsIGNoLCBiaWFzKSB7XG4gICAgdmFyIHBsYWNlID0gbm9kZUFuZE9mZnNldEluTGluZU1hcChwcmVwYXJlZC5tYXAsIGNoLCBiaWFzKTtcbiAgICB2YXIgbm9kZSA9IHBsYWNlLm5vZGUsIHN0YXJ0ID0gcGxhY2Uuc3RhcnQsIGVuZCA9IHBsYWNlLmVuZCwgY29sbGFwc2UgPSBwbGFjZS5jb2xsYXBzZTtcblxuICAgIHZhciByZWN0O1xuICAgIGlmIChub2RlLm5vZGVUeXBlID09IDMpIHsgLy8gSWYgaXQgaXMgYSB0ZXh0IG5vZGUsIHVzZSBhIHJhbmdlIHRvIHJldHJpZXZlIHRoZSBjb29yZGluYXRlcy5cbiAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IDQ7IGkkMSsrKSB7IC8vIFJldHJ5IGEgbWF4aW11bSBvZiA0IHRpbWVzIHdoZW4gbm9uc2Vuc2UgcmVjdGFuZ2xlcyBhcmUgcmV0dXJuZWRcbiAgICAgICAgd2hpbGUgKHN0YXJ0ICYmIGlzRXh0ZW5kaW5nQ2hhcihwcmVwYXJlZC5saW5lLnRleHQuY2hhckF0KHBsYWNlLmNvdmVyU3RhcnQgKyBzdGFydCkpKSB7IC0tc3RhcnQ7IH1cbiAgICAgICAgd2hpbGUgKHBsYWNlLmNvdmVyU3RhcnQgKyBlbmQgPCBwbGFjZS5jb3ZlckVuZCAmJiBpc0V4dGVuZGluZ0NoYXIocHJlcGFyZWQubGluZS50ZXh0LmNoYXJBdChwbGFjZS5jb3ZlclN0YXJ0ICsgZW5kKSkpIHsgKytlbmQ7IH1cbiAgICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA5ICYmIHN0YXJ0ID09IDAgJiYgZW5kID09IHBsYWNlLmNvdmVyRW5kIC0gcGxhY2UuY292ZXJTdGFydClcbiAgICAgICAgICB7IHJlY3QgPSBub2RlLnBhcmVudE5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7IH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgIHsgcmVjdCA9IGdldFVzZWZ1bFJlY3QocmFuZ2Uobm9kZSwgc3RhcnQsIGVuZCkuZ2V0Q2xpZW50UmVjdHMoKSwgYmlhcyk7IH1cbiAgICAgICAgaWYgKHJlY3QubGVmdCB8fCByZWN0LnJpZ2h0IHx8IHN0YXJ0ID09IDApIHsgYnJlYWsgfVxuICAgICAgICBlbmQgPSBzdGFydDtcbiAgICAgICAgc3RhcnQgPSBzdGFydCAtIDE7XG4gICAgICAgIGNvbGxhcHNlID0gXCJyaWdodFwiO1xuICAgICAgfVxuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCAxMSkgeyByZWN0ID0gbWF5YmVVcGRhdGVSZWN0Rm9yWm9vbWluZyhjbS5kaXNwbGF5Lm1lYXN1cmUsIHJlY3QpOyB9XG4gICAgfSBlbHNlIHsgLy8gSWYgaXQgaXMgYSB3aWRnZXQsIHNpbXBseSBnZXQgdGhlIGJveCBmb3IgdGhlIHdob2xlIHdpZGdldC5cbiAgICAgIGlmIChzdGFydCA+IDApIHsgY29sbGFwc2UgPSBiaWFzID0gXCJyaWdodFwiOyB9XG4gICAgICB2YXIgcmVjdHM7XG4gICAgICBpZiAoY20ub3B0aW9ucy5saW5lV3JhcHBpbmcgJiYgKHJlY3RzID0gbm9kZS5nZXRDbGllbnRSZWN0cygpKS5sZW5ndGggPiAxKVxuICAgICAgICB7IHJlY3QgPSByZWN0c1tiaWFzID09IFwicmlnaHRcIiA/IHJlY3RzLmxlbmd0aCAtIDEgOiAwXTsgfVxuICAgICAgZWxzZVxuICAgICAgICB7IHJlY3QgPSBub2RlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOyB9XG4gICAgfVxuICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOSAmJiAhc3RhcnQgJiYgKCFyZWN0IHx8ICFyZWN0LmxlZnQgJiYgIXJlY3QucmlnaHQpKSB7XG4gICAgICB2YXIgclNwYW4gPSBub2RlLnBhcmVudE5vZGUuZ2V0Q2xpZW50UmVjdHMoKVswXTtcbiAgICAgIGlmIChyU3BhbilcbiAgICAgICAgeyByZWN0ID0ge2xlZnQ6IHJTcGFuLmxlZnQsIHJpZ2h0OiByU3Bhbi5sZWZ0ICsgY2hhcldpZHRoKGNtLmRpc3BsYXkpLCB0b3A6IHJTcGFuLnRvcCwgYm90dG9tOiByU3Bhbi5ib3R0b219OyB9XG4gICAgICBlbHNlXG4gICAgICAgIHsgcmVjdCA9IG51bGxSZWN0OyB9XG4gICAgfVxuXG4gICAgdmFyIHJ0b3AgPSByZWN0LnRvcCAtIHByZXBhcmVkLnJlY3QudG9wLCByYm90ID0gcmVjdC5ib3R0b20gLSBwcmVwYXJlZC5yZWN0LnRvcDtcbiAgICB2YXIgbWlkID0gKHJ0b3AgKyByYm90KSAvIDI7XG4gICAgdmFyIGhlaWdodHMgPSBwcmVwYXJlZC52aWV3Lm1lYXN1cmUuaGVpZ2h0cztcbiAgICB2YXIgaSA9IDA7XG4gICAgZm9yICg7IGkgPCBoZWlnaHRzLmxlbmd0aCAtIDE7IGkrKylcbiAgICAgIHsgaWYgKG1pZCA8IGhlaWdodHNbaV0pIHsgYnJlYWsgfSB9XG4gICAgdmFyIHRvcCA9IGkgPyBoZWlnaHRzW2kgLSAxXSA6IDAsIGJvdCA9IGhlaWdodHNbaV07XG4gICAgdmFyIHJlc3VsdCA9IHtsZWZ0OiAoY29sbGFwc2UgPT0gXCJyaWdodFwiID8gcmVjdC5yaWdodCA6IHJlY3QubGVmdCkgLSBwcmVwYXJlZC5yZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgICByaWdodDogKGNvbGxhcHNlID09IFwibGVmdFwiID8gcmVjdC5sZWZ0IDogcmVjdC5yaWdodCkgLSBwcmVwYXJlZC5yZWN0LmxlZnQsXG4gICAgICAgICAgICAgICAgICB0b3A6IHRvcCwgYm90dG9tOiBib3R9O1xuICAgIGlmICghcmVjdC5sZWZ0ICYmICFyZWN0LnJpZ2h0KSB7IHJlc3VsdC5ib2d1cyA9IHRydWU7IH1cbiAgICBpZiAoIWNtLm9wdGlvbnMuc2luZ2xlQ3Vyc29ySGVpZ2h0UGVyTGluZSkgeyByZXN1bHQucnRvcCA9IHJ0b3A7IHJlc3VsdC5yYm90dG9tID0gcmJvdDsgfVxuXG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLy8gV29yayBhcm91bmQgcHJvYmxlbSB3aXRoIGJvdW5kaW5nIGNsaWVudCByZWN0cyBvbiByYW5nZXMgYmVpbmdcbiAgLy8gcmV0dXJuZWQgaW5jb3JyZWN0bHkgd2hlbiB6b29tZWQgb24gSUUxMCBhbmQgYmVsb3cuXG4gIGZ1bmN0aW9uIG1heWJlVXBkYXRlUmVjdEZvclpvb21pbmcobWVhc3VyZSwgcmVjdCkge1xuICAgIGlmICghd2luZG93LnNjcmVlbiB8fCBzY3JlZW4ubG9naWNhbFhEUEkgPT0gbnVsbCB8fFxuICAgICAgICBzY3JlZW4ubG9naWNhbFhEUEkgPT0gc2NyZWVuLmRldmljZVhEUEkgfHwgIWhhc0JhZFpvb21lZFJlY3RzKG1lYXN1cmUpKVxuICAgICAgeyByZXR1cm4gcmVjdCB9XG4gICAgdmFyIHNjYWxlWCA9IHNjcmVlbi5sb2dpY2FsWERQSSAvIHNjcmVlbi5kZXZpY2VYRFBJO1xuICAgIHZhciBzY2FsZVkgPSBzY3JlZW4ubG9naWNhbFlEUEkgLyBzY3JlZW4uZGV2aWNlWURQSTtcbiAgICByZXR1cm4ge2xlZnQ6IHJlY3QubGVmdCAqIHNjYWxlWCwgcmlnaHQ6IHJlY3QucmlnaHQgKiBzY2FsZVgsXG4gICAgICAgICAgICB0b3A6IHJlY3QudG9wICogc2NhbGVZLCBib3R0b206IHJlY3QuYm90dG9tICogc2NhbGVZfVxuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJMaW5lTWVhc3VyZW1lbnRDYWNoZUZvcihsaW5lVmlldykge1xuICAgIGlmIChsaW5lVmlldy5tZWFzdXJlKSB7XG4gICAgICBsaW5lVmlldy5tZWFzdXJlLmNhY2hlID0ge307XG4gICAgICBsaW5lVmlldy5tZWFzdXJlLmhlaWdodHMgPSBudWxsO1xuICAgICAgaWYgKGxpbmVWaWV3LnJlc3QpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lVmlldy5yZXN0Lmxlbmd0aDsgaSsrKVxuICAgICAgICB7IGxpbmVWaWV3Lm1lYXN1cmUuY2FjaGVzW2ldID0ge307IH0gfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyTGluZU1lYXN1cmVtZW50Q2FjaGUoY20pIHtcbiAgICBjbS5kaXNwbGF5LmV4dGVybmFsTWVhc3VyZSA9IG51bGw7XG4gICAgcmVtb3ZlQ2hpbGRyZW4oY20uZGlzcGxheS5saW5lTWVhc3VyZSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbS5kaXNwbGF5LnZpZXcubGVuZ3RoOyBpKyspXG4gICAgICB7IGNsZWFyTGluZU1lYXN1cmVtZW50Q2FjaGVGb3IoY20uZGlzcGxheS52aWV3W2ldKTsgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2xlYXJDYWNoZXMoY20pIHtcbiAgICBjbGVhckxpbmVNZWFzdXJlbWVudENhY2hlKGNtKTtcbiAgICBjbS5kaXNwbGF5LmNhY2hlZENoYXJXaWR0aCA9IGNtLmRpc3BsYXkuY2FjaGVkVGV4dEhlaWdodCA9IGNtLmRpc3BsYXkuY2FjaGVkUGFkZGluZ0ggPSBudWxsO1xuICAgIGlmICghY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIHsgY20uZGlzcGxheS5tYXhMaW5lQ2hhbmdlZCA9IHRydWU7IH1cbiAgICBjbS5kaXNwbGF5LmxpbmVOdW1DaGFycyA9IG51bGw7XG4gIH1cblxuICBmdW5jdGlvbiBwYWdlU2Nyb2xsWChkb2MpIHtcbiAgICAvLyBXb3JrIGFyb3VuZCBodHRwczovL2J1Z3MuY2hyb21pdW0ub3JnL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00ODkyMDZcbiAgICAvLyB3aGljaCBjYXVzZXMgcGFnZV9PZmZzZXQgYW5kIGJvdW5kaW5nIGNsaWVudCByZWN0cyB0byB1c2VcbiAgICAvLyBkaWZmZXJlbnQgcmVmZXJlbmNlIHZpZXdwb3J0cyBhbmQgaW52YWxpZGF0ZSBvdXIgY2FsY3VsYXRpb25zLlxuICAgIGlmIChjaHJvbWUgJiYgYW5kcm9pZCkgeyByZXR1cm4gLShkb2MuYm9keS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC0gcGFyc2VJbnQoZ2V0Q29tcHV0ZWRTdHlsZShkb2MuYm9keSkubWFyZ2luTGVmdCkpIH1cbiAgICByZXR1cm4gZG9jLmRlZmF1bHRWaWV3LnBhZ2VYT2Zmc2V0IHx8IChkb2MuZG9jdW1lbnRFbGVtZW50IHx8IGRvYy5ib2R5KS5zY3JvbGxMZWZ0XG4gIH1cbiAgZnVuY3Rpb24gcGFnZVNjcm9sbFkoZG9jKSB7XG4gICAgaWYgKGNocm9tZSAmJiBhbmRyb2lkKSB7IHJldHVybiAtKGRvYy5ib2R5LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCAtIHBhcnNlSW50KGdldENvbXB1dGVkU3R5bGUoZG9jLmJvZHkpLm1hcmdpblRvcCkpIH1cbiAgICByZXR1cm4gZG9jLmRlZmF1bHRWaWV3LnBhZ2VZT2Zmc2V0IHx8IChkb2MuZG9jdW1lbnRFbGVtZW50IHx8IGRvYy5ib2R5KS5zY3JvbGxUb3BcbiAgfVxuXG4gIGZ1bmN0aW9uIHdpZGdldFRvcEhlaWdodChsaW5lT2JqKSB7XG4gICAgdmFyIHJlZiA9IHZpc3VhbExpbmUobGluZU9iaik7XG4gICAgdmFyIHdpZGdldHMgPSByZWYud2lkZ2V0cztcbiAgICB2YXIgaGVpZ2h0ID0gMDtcbiAgICBpZiAod2lkZ2V0cykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHdpZGdldHMubGVuZ3RoOyArK2kpIHsgaWYgKHdpZGdldHNbaV0uYWJvdmUpXG4gICAgICB7IGhlaWdodCArPSB3aWRnZXRIZWlnaHQod2lkZ2V0c1tpXSk7IH0gfSB9XG4gICAgcmV0dXJuIGhlaWdodFxuICB9XG5cbiAgLy8gQ29udmVydHMgYSB7dG9wLCBib3R0b20sIGxlZnQsIHJpZ2h0fSBib3ggZnJvbSBsaW5lLWxvY2FsXG4gIC8vIGNvb3JkaW5hdGVzIGludG8gYW5vdGhlciBjb29yZGluYXRlIHN5c3RlbS4gQ29udGV4dCBtYXkgYmUgb25lIG9mXG4gIC8vIFwibGluZVwiLCBcImRpdlwiIChkaXNwbGF5LmxpbmVEaXYpLCBcImxvY2FsXCIuL251bGwgKGVkaXRvciksIFwid2luZG93XCIsXG4gIC8vIG9yIFwicGFnZVwiLlxuICBmdW5jdGlvbiBpbnRvQ29vcmRTeXN0ZW0oY20sIGxpbmVPYmosIHJlY3QsIGNvbnRleHQsIGluY2x1ZGVXaWRnZXRzKSB7XG4gICAgaWYgKCFpbmNsdWRlV2lkZ2V0cykge1xuICAgICAgdmFyIGhlaWdodCA9IHdpZGdldFRvcEhlaWdodChsaW5lT2JqKTtcbiAgICAgIHJlY3QudG9wICs9IGhlaWdodDsgcmVjdC5ib3R0b20gKz0gaGVpZ2h0O1xuICAgIH1cbiAgICBpZiAoY29udGV4dCA9PSBcImxpbmVcIikgeyByZXR1cm4gcmVjdCB9XG4gICAgaWYgKCFjb250ZXh0KSB7IGNvbnRleHQgPSBcImxvY2FsXCI7IH1cbiAgICB2YXIgeU9mZiA9IGhlaWdodEF0TGluZShsaW5lT2JqKTtcbiAgICBpZiAoY29udGV4dCA9PSBcImxvY2FsXCIpIHsgeU9mZiArPSBwYWRkaW5nVG9wKGNtLmRpc3BsYXkpOyB9XG4gICAgZWxzZSB7IHlPZmYgLT0gY20uZGlzcGxheS52aWV3T2Zmc2V0OyB9XG4gICAgaWYgKGNvbnRleHQgPT0gXCJwYWdlXCIgfHwgY29udGV4dCA9PSBcIndpbmRvd1wiKSB7XG4gICAgICB2YXIgbE9mZiA9IGNtLmRpc3BsYXkubGluZVNwYWNlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgeU9mZiArPSBsT2ZmLnRvcCArIChjb250ZXh0ID09IFwid2luZG93XCIgPyAwIDogcGFnZVNjcm9sbFkoZG9jKGNtKSkpO1xuICAgICAgdmFyIHhPZmYgPSBsT2ZmLmxlZnQgKyAoY29udGV4dCA9PSBcIndpbmRvd1wiID8gMCA6IHBhZ2VTY3JvbGxYKGRvYyhjbSkpKTtcbiAgICAgIHJlY3QubGVmdCArPSB4T2ZmOyByZWN0LnJpZ2h0ICs9IHhPZmY7XG4gICAgfVxuICAgIHJlY3QudG9wICs9IHlPZmY7IHJlY3QuYm90dG9tICs9IHlPZmY7XG4gICAgcmV0dXJuIHJlY3RcbiAgfVxuXG4gIC8vIENvdmVydHMgYSBib3ggZnJvbSBcImRpdlwiIGNvb3JkcyB0byBhbm90aGVyIGNvb3JkaW5hdGUgc3lzdGVtLlxuICAvLyBDb250ZXh0IG1heSBiZSBcIndpbmRvd1wiLCBcInBhZ2VcIiwgXCJkaXZcIiwgb3IgXCJsb2NhbFwiLi9udWxsLlxuICBmdW5jdGlvbiBmcm9tQ29vcmRTeXN0ZW0oY20sIGNvb3JkcywgY29udGV4dCkge1xuICAgIGlmIChjb250ZXh0ID09IFwiZGl2XCIpIHsgcmV0dXJuIGNvb3JkcyB9XG4gICAgdmFyIGxlZnQgPSBjb29yZHMubGVmdCwgdG9wID0gY29vcmRzLnRvcDtcbiAgICAvLyBGaXJzdCBtb3ZlIGludG8gXCJwYWdlXCIgY29vcmRpbmF0ZSBzeXN0ZW1cbiAgICBpZiAoY29udGV4dCA9PSBcInBhZ2VcIikge1xuICAgICAgbGVmdCAtPSBwYWdlU2Nyb2xsWChkb2MoY20pKTtcbiAgICAgIHRvcCAtPSBwYWdlU2Nyb2xsWShkb2MoY20pKTtcbiAgICB9IGVsc2UgaWYgKGNvbnRleHQgPT0gXCJsb2NhbFwiIHx8ICFjb250ZXh0KSB7XG4gICAgICB2YXIgbG9jYWxCb3ggPSBjbS5kaXNwbGF5LnNpemVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgbGVmdCArPSBsb2NhbEJveC5sZWZ0O1xuICAgICAgdG9wICs9IGxvY2FsQm94LnRvcDtcbiAgICB9XG5cbiAgICB2YXIgbGluZVNwYWNlQm94ID0gY20uZGlzcGxheS5saW5lU3BhY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgcmV0dXJuIHtsZWZ0OiBsZWZ0IC0gbGluZVNwYWNlQm94LmxlZnQsIHRvcDogdG9wIC0gbGluZVNwYWNlQm94LnRvcH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNoYXJDb29yZHMoY20sIHBvcywgY29udGV4dCwgbGluZU9iaiwgYmlhcykge1xuICAgIGlmICghbGluZU9iaikgeyBsaW5lT2JqID0gZ2V0TGluZShjbS5kb2MsIHBvcy5saW5lKTsgfVxuICAgIHJldHVybiBpbnRvQ29vcmRTeXN0ZW0oY20sIGxpbmVPYmosIG1lYXN1cmVDaGFyKGNtLCBsaW5lT2JqLCBwb3MuY2gsIGJpYXMpLCBjb250ZXh0KVxuICB9XG5cbiAgLy8gUmV0dXJucyBhIGJveCBmb3IgYSBnaXZlbiBjdXJzb3IgcG9zaXRpb24sIHdoaWNoIG1heSBoYXZlIGFuXG4gIC8vICdvdGhlcicgcHJvcGVydHkgY29udGFpbmluZyB0aGUgcG9zaXRpb24gb2YgdGhlIHNlY29uZGFyeSBjdXJzb3JcbiAgLy8gb24gYSBiaWRpIGJvdW5kYXJ5LlxuICAvLyBBIGN1cnNvciBQb3MobGluZSwgY2hhciwgXCJiZWZvcmVcIikgaXMgb24gdGhlIHNhbWUgdmlzdWFsIGxpbmUgYXMgYGNoYXIgLSAxYFxuICAvLyBhbmQgYWZ0ZXIgYGNoYXIgLSAxYCBpbiB3cml0aW5nIG9yZGVyIG9mIGBjaGFyIC0gMWBcbiAgLy8gQSBjdXJzb3IgUG9zKGxpbmUsIGNoYXIsIFwiYWZ0ZXJcIikgaXMgb24gdGhlIHNhbWUgdmlzdWFsIGxpbmUgYXMgYGNoYXJgXG4gIC8vIGFuZCBiZWZvcmUgYGNoYXJgIGluIHdyaXRpbmcgb3JkZXIgb2YgYGNoYXJgXG4gIC8vIEV4YW1wbGVzICh1cHBlci1jYXNlIGxldHRlcnMgYXJlIFJUTCwgbG93ZXItY2FzZSBhcmUgTFRSKTpcbiAgLy8gICAgIFBvcygwLCAxLCAuLi4pXG4gIC8vICAgICBiZWZvcmUgICBhZnRlclxuICAvLyBhYiAgICAgYXxiICAgICBhfGJcbiAgLy8gYUIgICAgIGF8QiAgICAgYUJ8XG4gIC8vIEFiICAgICB8QWIgICAgIEF8YlxuICAvLyBBQiAgICAgQnxBICAgICBCfEFcbiAgLy8gRXZlcnkgcG9zaXRpb24gYWZ0ZXIgdGhlIGxhc3QgY2hhcmFjdGVyIG9uIGEgbGluZSBpcyBjb25zaWRlcmVkIHRvIHN0aWNrXG4gIC8vIHRvIHRoZSBsYXN0IGNoYXJhY3RlciBvbiB0aGUgbGluZS5cbiAgZnVuY3Rpb24gY3Vyc29yQ29vcmRzKGNtLCBwb3MsIGNvbnRleHQsIGxpbmVPYmosIHByZXBhcmVkTWVhc3VyZSwgdmFySGVpZ2h0KSB7XG4gICAgbGluZU9iaiA9IGxpbmVPYmogfHwgZ2V0TGluZShjbS5kb2MsIHBvcy5saW5lKTtcbiAgICBpZiAoIXByZXBhcmVkTWVhc3VyZSkgeyBwcmVwYXJlZE1lYXN1cmUgPSBwcmVwYXJlTWVhc3VyZUZvckxpbmUoY20sIGxpbmVPYmopOyB9XG4gICAgZnVuY3Rpb24gZ2V0KGNoLCByaWdodCkge1xuICAgICAgdmFyIG0gPSBtZWFzdXJlQ2hhclByZXBhcmVkKGNtLCBwcmVwYXJlZE1lYXN1cmUsIGNoLCByaWdodCA/IFwicmlnaHRcIiA6IFwibGVmdFwiLCB2YXJIZWlnaHQpO1xuICAgICAgaWYgKHJpZ2h0KSB7IG0ubGVmdCA9IG0ucmlnaHQ7IH0gZWxzZSB7IG0ucmlnaHQgPSBtLmxlZnQ7IH1cbiAgICAgIHJldHVybiBpbnRvQ29vcmRTeXN0ZW0oY20sIGxpbmVPYmosIG0sIGNvbnRleHQpXG4gICAgfVxuICAgIHZhciBvcmRlciA9IGdldE9yZGVyKGxpbmVPYmosIGNtLmRvYy5kaXJlY3Rpb24pLCBjaCA9IHBvcy5jaCwgc3RpY2t5ID0gcG9zLnN0aWNreTtcbiAgICBpZiAoY2ggPj0gbGluZU9iai50ZXh0Lmxlbmd0aCkge1xuICAgICAgY2ggPSBsaW5lT2JqLnRleHQubGVuZ3RoO1xuICAgICAgc3RpY2t5ID0gXCJiZWZvcmVcIjtcbiAgICB9IGVsc2UgaWYgKGNoIDw9IDApIHtcbiAgICAgIGNoID0gMDtcbiAgICAgIHN0aWNreSA9IFwiYWZ0ZXJcIjtcbiAgICB9XG4gICAgaWYgKCFvcmRlcikgeyByZXR1cm4gZ2V0KHN0aWNreSA9PSBcImJlZm9yZVwiID8gY2ggLSAxIDogY2gsIHN0aWNreSA9PSBcImJlZm9yZVwiKSB9XG5cbiAgICBmdW5jdGlvbiBnZXRCaWRpKGNoLCBwYXJ0UG9zLCBpbnZlcnQpIHtcbiAgICAgIHZhciBwYXJ0ID0gb3JkZXJbcGFydFBvc10sIHJpZ2h0ID0gcGFydC5sZXZlbCA9PSAxO1xuICAgICAgcmV0dXJuIGdldChpbnZlcnQgPyBjaCAtIDEgOiBjaCwgcmlnaHQgIT0gaW52ZXJ0KVxuICAgIH1cbiAgICB2YXIgcGFydFBvcyA9IGdldEJpZGlQYXJ0QXQob3JkZXIsIGNoLCBzdGlja3kpO1xuICAgIHZhciBvdGhlciA9IGJpZGlPdGhlcjtcbiAgICB2YXIgdmFsID0gZ2V0QmlkaShjaCwgcGFydFBvcywgc3RpY2t5ID09IFwiYmVmb3JlXCIpO1xuICAgIGlmIChvdGhlciAhPSBudWxsKSB7IHZhbC5vdGhlciA9IGdldEJpZGkoY2gsIG90aGVyLCBzdGlja3kgIT0gXCJiZWZvcmVcIik7IH1cbiAgICByZXR1cm4gdmFsXG4gIH1cblxuICAvLyBVc2VkIHRvIGNoZWFwbHkgZXN0aW1hdGUgdGhlIGNvb3JkaW5hdGVzIGZvciBhIHBvc2l0aW9uLiBVc2VkIGZvclxuICAvLyBpbnRlcm1lZGlhdGUgc2Nyb2xsIHVwZGF0ZXMuXG4gIGZ1bmN0aW9uIGVzdGltYXRlQ29vcmRzKGNtLCBwb3MpIHtcbiAgICB2YXIgbGVmdCA9IDA7XG4gICAgcG9zID0gY2xpcFBvcyhjbS5kb2MsIHBvcyk7XG4gICAgaWYgKCFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykgeyBsZWZ0ID0gY2hhcldpZHRoKGNtLmRpc3BsYXkpICogcG9zLmNoOyB9XG4gICAgdmFyIGxpbmVPYmogPSBnZXRMaW5lKGNtLmRvYywgcG9zLmxpbmUpO1xuICAgIHZhciB0b3AgPSBoZWlnaHRBdExpbmUobGluZU9iaikgKyBwYWRkaW5nVG9wKGNtLmRpc3BsYXkpO1xuICAgIHJldHVybiB7bGVmdDogbGVmdCwgcmlnaHQ6IGxlZnQsIHRvcDogdG9wLCBib3R0b206IHRvcCArIGxpbmVPYmouaGVpZ2h0fVxuICB9XG5cbiAgLy8gUG9zaXRpb25zIHJldHVybmVkIGJ5IGNvb3Jkc0NoYXIgY29udGFpbiBzb21lIGV4dHJhIGluZm9ybWF0aW9uLlxuICAvLyB4UmVsIGlzIHRoZSByZWxhdGl2ZSB4IHBvc2l0aW9uIG9mIHRoZSBpbnB1dCBjb29yZGluYXRlcyBjb21wYXJlZFxuICAvLyB0byB0aGUgZm91bmQgcG9zaXRpb24gKHNvIHhSZWwgPiAwIG1lYW5zIHRoZSBjb29yZGluYXRlcyBhcmUgdG9cbiAgLy8gdGhlIHJpZ2h0IG9mIHRoZSBjaGFyYWN0ZXIgcG9zaXRpb24sIGZvciBleGFtcGxlKS4gV2hlbiBvdXRzaWRlXG4gIC8vIGlzIHRydWUsIHRoYXQgbWVhbnMgdGhlIGNvb3JkaW5hdGVzIGxpZSBvdXRzaWRlIHRoZSBsaW5lJ3NcbiAgLy8gdmVydGljYWwgcmFuZ2UuXG4gIGZ1bmN0aW9uIFBvc1dpdGhJbmZvKGxpbmUsIGNoLCBzdGlja3ksIG91dHNpZGUsIHhSZWwpIHtcbiAgICB2YXIgcG9zID0gUG9zKGxpbmUsIGNoLCBzdGlja3kpO1xuICAgIHBvcy54UmVsID0geFJlbDtcbiAgICBpZiAob3V0c2lkZSkgeyBwb3Mub3V0c2lkZSA9IG91dHNpZGU7IH1cbiAgICByZXR1cm4gcG9zXG4gIH1cblxuICAvLyBDb21wdXRlIHRoZSBjaGFyYWN0ZXIgcG9zaXRpb24gY2xvc2VzdCB0byB0aGUgZ2l2ZW4gY29vcmRpbmF0ZXMuXG4gIC8vIElucHV0IG11c3QgYmUgbGluZVNwYWNlLWxvY2FsIChcImRpdlwiIGNvb3JkaW5hdGUgc3lzdGVtKS5cbiAgZnVuY3Rpb24gY29vcmRzQ2hhcihjbSwgeCwgeSkge1xuICAgIHZhciBkb2MgPSBjbS5kb2M7XG4gICAgeSArPSBjbS5kaXNwbGF5LnZpZXdPZmZzZXQ7XG4gICAgaWYgKHkgPCAwKSB7IHJldHVybiBQb3NXaXRoSW5mbyhkb2MuZmlyc3QsIDAsIG51bGwsIC0xLCAtMSkgfVxuICAgIHZhciBsaW5lTiA9IGxpbmVBdEhlaWdodChkb2MsIHkpLCBsYXN0ID0gZG9jLmZpcnN0ICsgZG9jLnNpemUgLSAxO1xuICAgIGlmIChsaW5lTiA+IGxhc3QpXG4gICAgICB7IHJldHVybiBQb3NXaXRoSW5mbyhkb2MuZmlyc3QgKyBkb2Muc2l6ZSAtIDEsIGdldExpbmUoZG9jLCBsYXN0KS50ZXh0Lmxlbmd0aCwgbnVsbCwgMSwgMSkgfVxuICAgIGlmICh4IDwgMCkgeyB4ID0gMDsgfVxuXG4gICAgdmFyIGxpbmVPYmogPSBnZXRMaW5lKGRvYywgbGluZU4pO1xuICAgIGZvciAoOzspIHtcbiAgICAgIHZhciBmb3VuZCA9IGNvb3Jkc0NoYXJJbm5lcihjbSwgbGluZU9iaiwgbGluZU4sIHgsIHkpO1xuICAgICAgdmFyIGNvbGxhcHNlZCA9IGNvbGxhcHNlZFNwYW5Bcm91bmQobGluZU9iaiwgZm91bmQuY2ggKyAoZm91bmQueFJlbCA+IDAgfHwgZm91bmQub3V0c2lkZSA+IDAgPyAxIDogMCkpO1xuICAgICAgaWYgKCFjb2xsYXBzZWQpIHsgcmV0dXJuIGZvdW5kIH1cbiAgICAgIHZhciByYW5nZUVuZCA9IGNvbGxhcHNlZC5maW5kKDEpO1xuICAgICAgaWYgKHJhbmdlRW5kLmxpbmUgPT0gbGluZU4pIHsgcmV0dXJuIHJhbmdlRW5kIH1cbiAgICAgIGxpbmVPYmogPSBnZXRMaW5lKGRvYywgbGluZU4gPSByYW5nZUVuZC5saW5lKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB3cmFwcGVkTGluZUV4dGVudChjbSwgbGluZU9iaiwgcHJlcGFyZWRNZWFzdXJlLCB5KSB7XG4gICAgeSAtPSB3aWRnZXRUb3BIZWlnaHQobGluZU9iaik7XG4gICAgdmFyIGVuZCA9IGxpbmVPYmoudGV4dC5sZW5ndGg7XG4gICAgdmFyIGJlZ2luID0gZmluZEZpcnN0KGZ1bmN0aW9uIChjaCkgeyByZXR1cm4gbWVhc3VyZUNoYXJQcmVwYXJlZChjbSwgcHJlcGFyZWRNZWFzdXJlLCBjaCAtIDEpLmJvdHRvbSA8PSB5OyB9LCBlbmQsIDApO1xuICAgIGVuZCA9IGZpbmRGaXJzdChmdW5jdGlvbiAoY2gpIHsgcmV0dXJuIG1lYXN1cmVDaGFyUHJlcGFyZWQoY20sIHByZXBhcmVkTWVhc3VyZSwgY2gpLnRvcCA+IHk7IH0sIGJlZ2luLCBlbmQpO1xuICAgIHJldHVybiB7YmVnaW46IGJlZ2luLCBlbmQ6IGVuZH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHdyYXBwZWRMaW5lRXh0ZW50Q2hhcihjbSwgbGluZU9iaiwgcHJlcGFyZWRNZWFzdXJlLCB0YXJnZXQpIHtcbiAgICBpZiAoIXByZXBhcmVkTWVhc3VyZSkgeyBwcmVwYXJlZE1lYXN1cmUgPSBwcmVwYXJlTWVhc3VyZUZvckxpbmUoY20sIGxpbmVPYmopOyB9XG4gICAgdmFyIHRhcmdldFRvcCA9IGludG9Db29yZFN5c3RlbShjbSwgbGluZU9iaiwgbWVhc3VyZUNoYXJQcmVwYXJlZChjbSwgcHJlcGFyZWRNZWFzdXJlLCB0YXJnZXQpLCBcImxpbmVcIikudG9wO1xuICAgIHJldHVybiB3cmFwcGVkTGluZUV4dGVudChjbSwgbGluZU9iaiwgcHJlcGFyZWRNZWFzdXJlLCB0YXJnZXRUb3ApXG4gIH1cblxuICAvLyBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIHNpZGUgb2YgYSBib3ggaXMgYWZ0ZXIgdGhlIGdpdmVuXG4gIC8vIGNvb3JkaW5hdGVzLCBpbiB0b3AtdG8tYm90dG9tLCBsZWZ0LXRvLXJpZ2h0IG9yZGVyLlxuICBmdW5jdGlvbiBib3hJc0FmdGVyKGJveCwgeCwgeSwgbGVmdCkge1xuICAgIHJldHVybiBib3guYm90dG9tIDw9IHkgPyBmYWxzZSA6IGJveC50b3AgPiB5ID8gdHJ1ZSA6IChsZWZ0ID8gYm94LmxlZnQgOiBib3gucmlnaHQpID4geFxuICB9XG5cbiAgZnVuY3Rpb24gY29vcmRzQ2hhcklubmVyKGNtLCBsaW5lT2JqLCBsaW5lTm8sIHgsIHkpIHtcbiAgICAvLyBNb3ZlIHkgaW50byBsaW5lLWxvY2FsIGNvb3JkaW5hdGUgc3BhY2VcbiAgICB5IC09IGhlaWdodEF0TGluZShsaW5lT2JqKTtcbiAgICB2YXIgcHJlcGFyZWRNZWFzdXJlID0gcHJlcGFyZU1lYXN1cmVGb3JMaW5lKGNtLCBsaW5lT2JqKTtcbiAgICAvLyBXaGVuIGRpcmVjdGx5IGNhbGxpbmcgYG1lYXN1cmVDaGFyUHJlcGFyZWRgLCB3ZSBoYXZlIHRvIGFkanVzdFxuICAgIC8vIGZvciB0aGUgd2lkZ2V0cyBhdCB0aGlzIGxpbmUuXG4gICAgdmFyIHdpZGdldEhlaWdodCA9IHdpZGdldFRvcEhlaWdodChsaW5lT2JqKTtcbiAgICB2YXIgYmVnaW4gPSAwLCBlbmQgPSBsaW5lT2JqLnRleHQubGVuZ3RoLCBsdHIgPSB0cnVlO1xuXG4gICAgdmFyIG9yZGVyID0gZ2V0T3JkZXIobGluZU9iaiwgY20uZG9jLmRpcmVjdGlvbik7XG4gICAgLy8gSWYgdGhlIGxpbmUgaXNuJ3QgcGxhaW4gbGVmdC10by1yaWdodCB0ZXh0LCBmaXJzdCBmaWd1cmUgb3V0XG4gICAgLy8gd2hpY2ggYmlkaSBzZWN0aW9uIHRoZSBjb29yZGluYXRlcyBmYWxsIGludG8uXG4gICAgaWYgKG9yZGVyKSB7XG4gICAgICB2YXIgcGFydCA9IChjbS5vcHRpb25zLmxpbmVXcmFwcGluZyA/IGNvb3Jkc0JpZGlQYXJ0V3JhcHBlZCA6IGNvb3Jkc0JpZGlQYXJ0KVxuICAgICAgICAgICAgICAgICAgIChjbSwgbGluZU9iaiwgbGluZU5vLCBwcmVwYXJlZE1lYXN1cmUsIG9yZGVyLCB4LCB5KTtcbiAgICAgIGx0ciA9IHBhcnQubGV2ZWwgIT0gMTtcbiAgICAgIC8vIFRoZSBhd2t3YXJkIC0xIG9mZnNldHMgYXJlIG5lZWRlZCBiZWNhdXNlIGZpbmRGaXJzdCAoY2FsbGVkXG4gICAgICAvLyBvbiB0aGVzZSBiZWxvdykgd2lsbCB0cmVhdCBpdHMgZmlyc3QgYm91bmQgYXMgaW5jbHVzaXZlLFxuICAgICAgLy8gc2Vjb25kIGFzIGV4Y2x1c2l2ZSwgYnV0IHdlIHdhbnQgdG8gYWN0dWFsbHkgYWRkcmVzcyB0aGVcbiAgICAgIC8vIGNoYXJhY3RlcnMgaW4gdGhlIHBhcnQncyByYW5nZVxuICAgICAgYmVnaW4gPSBsdHIgPyBwYXJ0LmZyb20gOiBwYXJ0LnRvIC0gMTtcbiAgICAgIGVuZCA9IGx0ciA/IHBhcnQudG8gOiBwYXJ0LmZyb20gLSAxO1xuICAgIH1cblxuICAgIC8vIEEgYmluYXJ5IHNlYXJjaCB0byBmaW5kIHRoZSBmaXJzdCBjaGFyYWN0ZXIgd2hvc2UgYm91bmRpbmcgYm94XG4gICAgLy8gc3RhcnRzIGFmdGVyIHRoZSBjb29yZGluYXRlcy4gSWYgd2UgcnVuIGFjcm9zcyBhbnkgd2hvc2UgYm94IHdyYXBcbiAgICAvLyB0aGUgY29vcmRpbmF0ZXMsIHN0b3JlIHRoYXQuXG4gICAgdmFyIGNoQXJvdW5kID0gbnVsbCwgYm94QXJvdW5kID0gbnVsbDtcbiAgICB2YXIgY2ggPSBmaW5kRmlyc3QoZnVuY3Rpb24gKGNoKSB7XG4gICAgICB2YXIgYm94ID0gbWVhc3VyZUNoYXJQcmVwYXJlZChjbSwgcHJlcGFyZWRNZWFzdXJlLCBjaCk7XG4gICAgICBib3gudG9wICs9IHdpZGdldEhlaWdodDsgYm94LmJvdHRvbSArPSB3aWRnZXRIZWlnaHQ7XG4gICAgICBpZiAoIWJveElzQWZ0ZXIoYm94LCB4LCB5LCBmYWxzZSkpIHsgcmV0dXJuIGZhbHNlIH1cbiAgICAgIGlmIChib3gudG9wIDw9IHkgJiYgYm94LmxlZnQgPD0geCkge1xuICAgICAgICBjaEFyb3VuZCA9IGNoO1xuICAgICAgICBib3hBcm91bmQgPSBib3g7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0sIGJlZ2luLCBlbmQpO1xuXG4gICAgdmFyIGJhc2VYLCBzdGlja3ksIG91dHNpZGUgPSBmYWxzZTtcbiAgICAvLyBJZiBhIGJveCBhcm91bmQgdGhlIGNvb3JkaW5hdGVzIHdhcyBmb3VuZCwgdXNlIHRoYXRcbiAgICBpZiAoYm94QXJvdW5kKSB7XG4gICAgICAvLyBEaXN0aW5ndWlzaCBjb29yZGluYXRlcyBuZWFyZXIgdG8gdGhlIGxlZnQgb3IgcmlnaHQgc2lkZSBvZiB0aGUgYm94XG4gICAgICB2YXIgYXRMZWZ0ID0geCAtIGJveEFyb3VuZC5sZWZ0IDwgYm94QXJvdW5kLnJpZ2h0IC0geCwgYXRTdGFydCA9IGF0TGVmdCA9PSBsdHI7XG4gICAgICBjaCA9IGNoQXJvdW5kICsgKGF0U3RhcnQgPyAwIDogMSk7XG4gICAgICBzdGlja3kgPSBhdFN0YXJ0ID8gXCJhZnRlclwiIDogXCJiZWZvcmVcIjtcbiAgICAgIGJhc2VYID0gYXRMZWZ0ID8gYm94QXJvdW5kLmxlZnQgOiBib3hBcm91bmQucmlnaHQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIChBZGp1c3QgZm9yIGV4dGVuZGVkIGJvdW5kLCBpZiBuZWNlc3NhcnkuKVxuICAgICAgaWYgKCFsdHIgJiYgKGNoID09IGVuZCB8fCBjaCA9PSBiZWdpbikpIHsgY2grKzsgfVxuICAgICAgLy8gVG8gZGV0ZXJtaW5lIHdoaWNoIHNpZGUgdG8gYXNzb2NpYXRlIHdpdGgsIGdldCB0aGUgYm94IHRvIHRoZVxuICAgICAgLy8gbGVmdCBvZiB0aGUgY2hhcmFjdGVyIGFuZCBjb21wYXJlIGl0J3MgdmVydGljYWwgcG9zaXRpb24gdG8gdGhlXG4gICAgICAvLyBjb29yZGluYXRlc1xuICAgICAgc3RpY2t5ID0gY2ggPT0gMCA/IFwiYWZ0ZXJcIiA6IGNoID09IGxpbmVPYmoudGV4dC5sZW5ndGggPyBcImJlZm9yZVwiIDpcbiAgICAgICAgKG1lYXN1cmVDaGFyUHJlcGFyZWQoY20sIHByZXBhcmVkTWVhc3VyZSwgY2ggLSAobHRyID8gMSA6IDApKS5ib3R0b20gKyB3aWRnZXRIZWlnaHQgPD0geSkgPT0gbHRyID9cbiAgICAgICAgXCJhZnRlclwiIDogXCJiZWZvcmVcIjtcbiAgICAgIC8vIE5vdyBnZXQgYWNjdXJhdGUgY29vcmRpbmF0ZXMgZm9yIHRoaXMgcGxhY2UsIGluIG9yZGVyIHRvIGdldCBhXG4gICAgICAvLyBiYXNlIFggcG9zaXRpb25cbiAgICAgIHZhciBjb29yZHMgPSBjdXJzb3JDb29yZHMoY20sIFBvcyhsaW5lTm8sIGNoLCBzdGlja3kpLCBcImxpbmVcIiwgbGluZU9iaiwgcHJlcGFyZWRNZWFzdXJlKTtcbiAgICAgIGJhc2VYID0gY29vcmRzLmxlZnQ7XG4gICAgICBvdXRzaWRlID0geSA8IGNvb3Jkcy50b3AgPyAtMSA6IHkgPj0gY29vcmRzLmJvdHRvbSA/IDEgOiAwO1xuICAgIH1cblxuICAgIGNoID0gc2tpcEV4dGVuZGluZ0NoYXJzKGxpbmVPYmoudGV4dCwgY2gsIDEpO1xuICAgIHJldHVybiBQb3NXaXRoSW5mbyhsaW5lTm8sIGNoLCBzdGlja3ksIG91dHNpZGUsIHggLSBiYXNlWClcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvb3Jkc0JpZGlQYXJ0KGNtLCBsaW5lT2JqLCBsaW5lTm8sIHByZXBhcmVkTWVhc3VyZSwgb3JkZXIsIHgsIHkpIHtcbiAgICAvLyBCaWRpIHBhcnRzIGFyZSBzb3J0ZWQgbGVmdC10by1yaWdodCwgYW5kIGluIGEgbm9uLWxpbmUtd3JhcHBpbmdcbiAgICAvLyBzaXR1YXRpb24sIHdlIGNhbiB0YWtlIHRoaXMgb3JkZXJpbmcgdG8gY29ycmVzcG9uZCB0byB0aGUgdmlzdWFsXG4gICAgLy8gb3JkZXJpbmcuIFRoaXMgZmluZHMgdGhlIGZpcnN0IHBhcnQgd2hvc2UgZW5kIGlzIGFmdGVyIHRoZSBnaXZlblxuICAgIC8vIGNvb3JkaW5hdGVzLlxuICAgIHZhciBpbmRleCA9IGZpbmRGaXJzdChmdW5jdGlvbiAoaSkge1xuICAgICAgdmFyIHBhcnQgPSBvcmRlcltpXSwgbHRyID0gcGFydC5sZXZlbCAhPSAxO1xuICAgICAgcmV0dXJuIGJveElzQWZ0ZXIoY3Vyc29yQ29vcmRzKGNtLCBQb3MobGluZU5vLCBsdHIgPyBwYXJ0LnRvIDogcGFydC5mcm9tLCBsdHIgPyBcImJlZm9yZVwiIDogXCJhZnRlclwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImxpbmVcIiwgbGluZU9iaiwgcHJlcGFyZWRNZWFzdXJlKSwgeCwgeSwgdHJ1ZSlcbiAgICB9LCAwLCBvcmRlci5sZW5ndGggLSAxKTtcbiAgICB2YXIgcGFydCA9IG9yZGVyW2luZGV4XTtcbiAgICAvLyBJZiB0aGlzIGlzbid0IHRoZSBmaXJzdCBwYXJ0LCB0aGUgcGFydCdzIHN0YXJ0IGlzIGFsc28gYWZ0ZXJcbiAgICAvLyB0aGUgY29vcmRpbmF0ZXMsIGFuZCB0aGUgY29vcmRpbmF0ZXMgYXJlbid0IG9uIHRoZSBzYW1lIGxpbmUgYXNcbiAgICAvLyB0aGF0IHN0YXJ0LCBtb3ZlIG9uZSBwYXJ0IGJhY2suXG4gICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgdmFyIGx0ciA9IHBhcnQubGV2ZWwgIT0gMTtcbiAgICAgIHZhciBzdGFydCA9IGN1cnNvckNvb3JkcyhjbSwgUG9zKGxpbmVObywgbHRyID8gcGFydC5mcm9tIDogcGFydC50bywgbHRyID8gXCJhZnRlclwiIDogXCJiZWZvcmVcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJsaW5lXCIsIGxpbmVPYmosIHByZXBhcmVkTWVhc3VyZSk7XG4gICAgICBpZiAoYm94SXNBZnRlcihzdGFydCwgeCwgeSwgdHJ1ZSkgJiYgc3RhcnQudG9wID4geSlcbiAgICAgICAgeyBwYXJ0ID0gb3JkZXJbaW5kZXggLSAxXTsgfVxuICAgIH1cbiAgICByZXR1cm4gcGFydFxuICB9XG5cbiAgZnVuY3Rpb24gY29vcmRzQmlkaVBhcnRXcmFwcGVkKGNtLCBsaW5lT2JqLCBfbGluZU5vLCBwcmVwYXJlZE1lYXN1cmUsIG9yZGVyLCB4LCB5KSB7XG4gICAgLy8gSW4gYSB3cmFwcGVkIGxpbmUsIHJ0bCB0ZXh0IG9uIHdyYXBwaW5nIGJvdW5kYXJpZXMgY2FuIGRvIHRoaW5nc1xuICAgIC8vIHRoYXQgZG9uJ3QgY29ycmVzcG9uZCB0byB0aGUgb3JkZXJpbmcgaW4gb3VyIGBvcmRlcmAgYXJyYXkgYXRcbiAgICAvLyBhbGwsIHNvIGEgYmluYXJ5IHNlYXJjaCBkb2Vzbid0IHdvcmssIGFuZCB3ZSB3YW50IHRvIHJldHVybiBhXG4gICAgLy8gcGFydCB0aGF0IG9ubHkgc3BhbnMgb25lIGxpbmUgc28gdGhhdCB0aGUgYmluYXJ5IHNlYXJjaCBpblxuICAgIC8vIGNvb3Jkc0NoYXJJbm5lciBpcyBzYWZlLiBBcyBzdWNoLCB3ZSBmaXJzdCBmaW5kIHRoZSBleHRlbnQgb2YgdGhlXG4gICAgLy8gd3JhcHBlZCBsaW5lLCBhbmQgdGhlbiBkbyBhIGZsYXQgc2VhcmNoIGluIHdoaWNoIHdlIGRpc2NhcmQgYW55XG4gICAgLy8gc3BhbnMgdGhhdCBhcmVuJ3Qgb24gdGhlIGxpbmUuXG4gICAgdmFyIHJlZiA9IHdyYXBwZWRMaW5lRXh0ZW50KGNtLCBsaW5lT2JqLCBwcmVwYXJlZE1lYXN1cmUsIHkpO1xuICAgIHZhciBiZWdpbiA9IHJlZi5iZWdpbjtcbiAgICB2YXIgZW5kID0gcmVmLmVuZDtcbiAgICBpZiAoL1xccy8udGVzdChsaW5lT2JqLnRleHQuY2hhckF0KGVuZCAtIDEpKSkgeyBlbmQtLTsgfVxuICAgIHZhciBwYXJ0ID0gbnVsbCwgY2xvc2VzdERpc3QgPSBudWxsO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3JkZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBwID0gb3JkZXJbaV07XG4gICAgICBpZiAocC5mcm9tID49IGVuZCB8fCBwLnRvIDw9IGJlZ2luKSB7IGNvbnRpbnVlIH1cbiAgICAgIHZhciBsdHIgPSBwLmxldmVsICE9IDE7XG4gICAgICB2YXIgZW5kWCA9IG1lYXN1cmVDaGFyUHJlcGFyZWQoY20sIHByZXBhcmVkTWVhc3VyZSwgbHRyID8gTWF0aC5taW4oZW5kLCBwLnRvKSAtIDEgOiBNYXRoLm1heChiZWdpbiwgcC5mcm9tKSkucmlnaHQ7XG4gICAgICAvLyBXZWlnaCBhZ2FpbnN0IHNwYW5zIGVuZGluZyBiZWZvcmUgdGhpcywgc28gdGhhdCB0aGV5IGFyZSBvbmx5XG4gICAgICAvLyBwaWNrZWQgaWYgbm90aGluZyBlbmRzIGFmdGVyXG4gICAgICB2YXIgZGlzdCA9IGVuZFggPCB4ID8geCAtIGVuZFggKyAxZTkgOiBlbmRYIC0geDtcbiAgICAgIGlmICghcGFydCB8fCBjbG9zZXN0RGlzdCA+IGRpc3QpIHtcbiAgICAgICAgcGFydCA9IHA7XG4gICAgICAgIGNsb3Nlc3REaXN0ID0gZGlzdDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFwYXJ0KSB7IHBhcnQgPSBvcmRlcltvcmRlci5sZW5ndGggLSAxXTsgfVxuICAgIC8vIENsaXAgdGhlIHBhcnQgdG8gdGhlIHdyYXBwZWQgbGluZS5cbiAgICBpZiAocGFydC5mcm9tIDwgYmVnaW4pIHsgcGFydCA9IHtmcm9tOiBiZWdpbiwgdG86IHBhcnQudG8sIGxldmVsOiBwYXJ0LmxldmVsfTsgfVxuICAgIGlmIChwYXJ0LnRvID4gZW5kKSB7IHBhcnQgPSB7ZnJvbTogcGFydC5mcm9tLCB0bzogZW5kLCBsZXZlbDogcGFydC5sZXZlbH07IH1cbiAgICByZXR1cm4gcGFydFxuICB9XG5cbiAgdmFyIG1lYXN1cmVUZXh0O1xuICAvLyBDb21wdXRlIHRoZSBkZWZhdWx0IHRleHQgaGVpZ2h0LlxuICBmdW5jdGlvbiB0ZXh0SGVpZ2h0KGRpc3BsYXkpIHtcbiAgICBpZiAoZGlzcGxheS5jYWNoZWRUZXh0SGVpZ2h0ICE9IG51bGwpIHsgcmV0dXJuIGRpc3BsYXkuY2FjaGVkVGV4dEhlaWdodCB9XG4gICAgaWYgKG1lYXN1cmVUZXh0ID09IG51bGwpIHtcbiAgICAgIG1lYXN1cmVUZXh0ID0gZWx0KFwicHJlXCIsIG51bGwsIFwiQ29kZU1pcnJvci1saW5lLWxpa2VcIik7XG4gICAgICAvLyBNZWFzdXJlIGEgYnVuY2ggb2YgbGluZXMsIGZvciBicm93c2VycyB0aGF0IGNvbXB1dGVcbiAgICAgIC8vIGZyYWN0aW9uYWwgaGVpZ2h0cy5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNDk7ICsraSkge1xuICAgICAgICBtZWFzdXJlVGV4dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcInhcIikpO1xuICAgICAgICBtZWFzdXJlVGV4dC5hcHBlbmRDaGlsZChlbHQoXCJiclwiKSk7XG4gICAgICB9XG4gICAgICBtZWFzdXJlVGV4dC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcInhcIikpO1xuICAgIH1cbiAgICByZW1vdmVDaGlsZHJlbkFuZEFkZChkaXNwbGF5Lm1lYXN1cmUsIG1lYXN1cmVUZXh0KTtcbiAgICB2YXIgaGVpZ2h0ID0gbWVhc3VyZVRleHQub2Zmc2V0SGVpZ2h0IC8gNTA7XG4gICAgaWYgKGhlaWdodCA+IDMpIHsgZGlzcGxheS5jYWNoZWRUZXh0SGVpZ2h0ID0gaGVpZ2h0OyB9XG4gICAgcmVtb3ZlQ2hpbGRyZW4oZGlzcGxheS5tZWFzdXJlKTtcbiAgICByZXR1cm4gaGVpZ2h0IHx8IDFcbiAgfVxuXG4gIC8vIENvbXB1dGUgdGhlIGRlZmF1bHQgY2hhcmFjdGVyIHdpZHRoLlxuICBmdW5jdGlvbiBjaGFyV2lkdGgoZGlzcGxheSkge1xuICAgIGlmIChkaXNwbGF5LmNhY2hlZENoYXJXaWR0aCAhPSBudWxsKSB7IHJldHVybiBkaXNwbGF5LmNhY2hlZENoYXJXaWR0aCB9XG4gICAgdmFyIGFuY2hvciA9IGVsdChcInNwYW5cIiwgXCJ4eHh4eHh4eHh4XCIpO1xuICAgIHZhciBwcmUgPSBlbHQoXCJwcmVcIiwgW2FuY2hvcl0sIFwiQ29kZU1pcnJvci1saW5lLWxpa2VcIik7XG4gICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQoZGlzcGxheS5tZWFzdXJlLCBwcmUpO1xuICAgIHZhciByZWN0ID0gYW5jaG9yLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLCB3aWR0aCA9IChyZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0KSAvIDEwO1xuICAgIGlmICh3aWR0aCA+IDIpIHsgZGlzcGxheS5jYWNoZWRDaGFyV2lkdGggPSB3aWR0aDsgfVxuICAgIHJldHVybiB3aWR0aCB8fCAxMFxuICB9XG5cbiAgLy8gRG8gYSBidWxrLXJlYWQgb2YgdGhlIERPTSBwb3NpdGlvbnMgYW5kIHNpemVzIG5lZWRlZCB0byBkcmF3IHRoZVxuICAvLyB2aWV3LCBzbyB0aGF0IHdlIGRvbid0IGludGVybGVhdmUgcmVhZGluZyBhbmQgd3JpdGluZyB0byB0aGUgRE9NLlxuICBmdW5jdGlvbiBnZXREaW1lbnNpb25zKGNtKSB7XG4gICAgdmFyIGQgPSBjbS5kaXNwbGF5LCBsZWZ0ID0ge30sIHdpZHRoID0ge307XG4gICAgdmFyIGd1dHRlckxlZnQgPSBkLmd1dHRlcnMuY2xpZW50TGVmdDtcbiAgICBmb3IgKHZhciBuID0gZC5ndXR0ZXJzLmZpcnN0Q2hpbGQsIGkgPSAwOyBuOyBuID0gbi5uZXh0U2libGluZywgKytpKSB7XG4gICAgICB2YXIgaWQgPSBjbS5kaXNwbGF5Lmd1dHRlclNwZWNzW2ldLmNsYXNzTmFtZTtcbiAgICAgIGxlZnRbaWRdID0gbi5vZmZzZXRMZWZ0ICsgbi5jbGllbnRMZWZ0ICsgZ3V0dGVyTGVmdDtcbiAgICAgIHdpZHRoW2lkXSA9IG4uY2xpZW50V2lkdGg7XG4gICAgfVxuICAgIHJldHVybiB7Zml4ZWRQb3M6IGNvbXBlbnNhdGVGb3JIU2Nyb2xsKGQpLFxuICAgICAgICAgICAgZ3V0dGVyVG90YWxXaWR0aDogZC5ndXR0ZXJzLm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgZ3V0dGVyTGVmdDogbGVmdCxcbiAgICAgICAgICAgIGd1dHRlcldpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIHdyYXBwZXJXaWR0aDogZC53cmFwcGVyLmNsaWVudFdpZHRofVxuICB9XG5cbiAgLy8gQ29tcHV0ZXMgZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0ICsgZGlzcGxheS5ndXR0ZXJzLm9mZnNldFdpZHRoLFxuICAvLyBidXQgdXNpbmcgZ2V0Qm91bmRpbmdDbGllbnRSZWN0IHRvIGdldCBhIHN1Yi1waXhlbC1hY2N1cmF0ZVxuICAvLyByZXN1bHQuXG4gIGZ1bmN0aW9uIGNvbXBlbnNhdGVGb3JIU2Nyb2xsKGRpc3BsYXkpIHtcbiAgICByZXR1cm4gZGlzcGxheS5zY3JvbGxlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0IC0gZGlzcGxheS5zaXplci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0XG4gIH1cblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBlc3RpbWF0ZXMgdGhlIGhlaWdodCBvZiBhIGxpbmUsIHRvIHVzZSBhc1xuICAvLyBmaXJzdCBhcHByb3hpbWF0aW9uIHVudGlsIHRoZSBsaW5lIGJlY29tZXMgdmlzaWJsZSAoYW5kIGlzIHRodXNcbiAgLy8gcHJvcGVybHkgbWVhc3VyYWJsZSkuXG4gIGZ1bmN0aW9uIGVzdGltYXRlSGVpZ2h0KGNtKSB7XG4gICAgdmFyIHRoID0gdGV4dEhlaWdodChjbS5kaXNwbGF5KSwgd3JhcHBpbmcgPSBjbS5vcHRpb25zLmxpbmVXcmFwcGluZztcbiAgICB2YXIgcGVyTGluZSA9IHdyYXBwaW5nICYmIE1hdGgubWF4KDUsIGNtLmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50V2lkdGggLyBjaGFyV2lkdGgoY20uZGlzcGxheSkgLSAzKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgIGlmIChsaW5lSXNIaWRkZW4oY20uZG9jLCBsaW5lKSkgeyByZXR1cm4gMCB9XG5cbiAgICAgIHZhciB3aWRnZXRzSGVpZ2h0ID0gMDtcbiAgICAgIGlmIChsaW5lLndpZGdldHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lLndpZGdldHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGxpbmUud2lkZ2V0c1tpXS5oZWlnaHQpIHsgd2lkZ2V0c0hlaWdodCArPSBsaW5lLndpZGdldHNbaV0uaGVpZ2h0OyB9XG4gICAgICB9IH1cblxuICAgICAgaWYgKHdyYXBwaW5nKVxuICAgICAgICB7IHJldHVybiB3aWRnZXRzSGVpZ2h0ICsgKE1hdGguY2VpbChsaW5lLnRleHQubGVuZ3RoIC8gcGVyTGluZSkgfHwgMSkgKiB0aCB9XG4gICAgICBlbHNlXG4gICAgICAgIHsgcmV0dXJuIHdpZGdldHNIZWlnaHQgKyB0aCB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZXN0aW1hdGVMaW5lSGVpZ2h0cyhjbSkge1xuICAgIHZhciBkb2MgPSBjbS5kb2MsIGVzdCA9IGVzdGltYXRlSGVpZ2h0KGNtKTtcbiAgICBkb2MuaXRlcihmdW5jdGlvbiAobGluZSkge1xuICAgICAgdmFyIGVzdEhlaWdodCA9IGVzdChsaW5lKTtcbiAgICAgIGlmIChlc3RIZWlnaHQgIT0gbGluZS5oZWlnaHQpIHsgdXBkYXRlTGluZUhlaWdodChsaW5lLCBlc3RIZWlnaHQpOyB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBHaXZlbiBhIG1vdXNlIGV2ZW50LCBmaW5kIHRoZSBjb3JyZXNwb25kaW5nIHBvc2l0aW9uLiBJZiBsaWJlcmFsXG4gIC8vIGlzIGZhbHNlLCBpdCBjaGVja3Mgd2hldGhlciBhIGd1dHRlciBvciBzY3JvbGxiYXIgd2FzIGNsaWNrZWQsXG4gIC8vIGFuZCByZXR1cm5zIG51bGwgaWYgaXQgd2FzLiBmb3JSZWN0IGlzIHVzZWQgYnkgcmVjdGFuZ3VsYXJcbiAgLy8gc2VsZWN0aW9ucywgYW5kIHRyaWVzIHRvIGVzdGltYXRlIGEgY2hhcmFjdGVyIHBvc2l0aW9uIGV2ZW4gZm9yXG4gIC8vIGNvb3JkaW5hdGVzIGJleW9uZCB0aGUgcmlnaHQgb2YgdGhlIHRleHQuXG4gIGZ1bmN0aW9uIHBvc0Zyb21Nb3VzZShjbSwgZSwgbGliZXJhbCwgZm9yUmVjdCkge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBpZiAoIWxpYmVyYWwgJiYgZV90YXJnZXQoZSkuZ2V0QXR0cmlidXRlKFwiY20tbm90LWNvbnRlbnRcIikgPT0gXCJ0cnVlXCIpIHsgcmV0dXJuIG51bGwgfVxuXG4gICAgdmFyIHgsIHksIHNwYWNlID0gZGlzcGxheS5saW5lU3BhY2UuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgLy8gRmFpbHMgdW5wcmVkaWN0YWJseSBvbiBJRVs2N10gd2hlbiBtb3VzZSBpcyBkcmFnZ2VkIGFyb3VuZCBxdWlja2x5LlxuICAgIHRyeSB7IHggPSBlLmNsaWVudFggLSBzcGFjZS5sZWZ0OyB5ID0gZS5jbGllbnRZIC0gc3BhY2UudG9wOyB9XG4gICAgY2F0Y2ggKGUkMSkgeyByZXR1cm4gbnVsbCB9XG4gICAgdmFyIGNvb3JkcyA9IGNvb3Jkc0NoYXIoY20sIHgsIHkpLCBsaW5lO1xuICAgIGlmIChmb3JSZWN0ICYmIGNvb3Jkcy54UmVsID4gMCAmJiAobGluZSA9IGdldExpbmUoY20uZG9jLCBjb29yZHMubGluZSkudGV4dCkubGVuZ3RoID09IGNvb3Jkcy5jaCkge1xuICAgICAgdmFyIGNvbERpZmYgPSBjb3VudENvbHVtbihsaW5lLCBsaW5lLmxlbmd0aCwgY20ub3B0aW9ucy50YWJTaXplKSAtIGxpbmUubGVuZ3RoO1xuICAgICAgY29vcmRzID0gUG9zKGNvb3Jkcy5saW5lLCBNYXRoLm1heCgwLCBNYXRoLnJvdW5kKCh4IC0gcGFkZGluZ0goY20uZGlzcGxheSkubGVmdCkgLyBjaGFyV2lkdGgoY20uZGlzcGxheSkpIC0gY29sRGlmZikpO1xuICAgIH1cbiAgICByZXR1cm4gY29vcmRzXG4gIH1cblxuICAvLyBGaW5kIHRoZSB2aWV3IGVsZW1lbnQgY29ycmVzcG9uZGluZyB0byBhIGdpdmVuIGxpbmUuIFJldHVybiBudWxsXG4gIC8vIHdoZW4gdGhlIGxpbmUgaXNuJ3QgdmlzaWJsZS5cbiAgZnVuY3Rpb24gZmluZFZpZXdJbmRleChjbSwgbikge1xuICAgIGlmIChuID49IGNtLmRpc3BsYXkudmlld1RvKSB7IHJldHVybiBudWxsIH1cbiAgICBuIC09IGNtLmRpc3BsYXkudmlld0Zyb207XG4gICAgaWYgKG4gPCAwKSB7IHJldHVybiBudWxsIH1cbiAgICB2YXIgdmlldyA9IGNtLmRpc3BsYXkudmlldztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIG4gLT0gdmlld1tpXS5zaXplO1xuICAgICAgaWYgKG4gPCAwKSB7IHJldHVybiBpIH1cbiAgICB9XG4gIH1cblxuICAvLyBVcGRhdGVzIHRoZSBkaXNwbGF5LnZpZXcgZGF0YSBzdHJ1Y3R1cmUgZm9yIGEgZ2l2ZW4gY2hhbmdlIHRvIHRoZVxuICAvLyBkb2N1bWVudC4gRnJvbSBhbmQgdG8gYXJlIGluIHByZS1jaGFuZ2UgY29vcmRpbmF0ZXMuIExlbmRpZmYgaXNcbiAgLy8gdGhlIGFtb3VudCBvZiBsaW5lcyBhZGRlZCBvciBzdWJ0cmFjdGVkIGJ5IHRoZSBjaGFuZ2UuIFRoaXMgaXNcbiAgLy8gdXNlZCBmb3IgY2hhbmdlcyB0aGF0IHNwYW4gbXVsdGlwbGUgbGluZXMsIG9yIGNoYW5nZSB0aGUgd2F5XG4gIC8vIGxpbmVzIGFyZSBkaXZpZGVkIGludG8gdmlzdWFsIGxpbmVzLiByZWdMaW5lQ2hhbmdlIChiZWxvdylcbiAgLy8gcmVnaXN0ZXJzIHNpbmdsZS1saW5lIGNoYW5nZXMuXG4gIGZ1bmN0aW9uIHJlZ0NoYW5nZShjbSwgZnJvbSwgdG8sIGxlbmRpZmYpIHtcbiAgICBpZiAoZnJvbSA9PSBudWxsKSB7IGZyb20gPSBjbS5kb2MuZmlyc3Q7IH1cbiAgICBpZiAodG8gPT0gbnVsbCkgeyB0byA9IGNtLmRvYy5maXJzdCArIGNtLmRvYy5zaXplOyB9XG4gICAgaWYgKCFsZW5kaWZmKSB7IGxlbmRpZmYgPSAwOyB9XG5cbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXk7XG4gICAgaWYgKGxlbmRpZmYgJiYgdG8gPCBkaXNwbGF5LnZpZXdUbyAmJlxuICAgICAgICAoZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA9PSBudWxsIHx8IGRpc3BsYXkudXBkYXRlTGluZU51bWJlcnMgPiBmcm9tKSlcbiAgICAgIHsgZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA9IGZyb207IH1cblxuICAgIGNtLmN1ck9wLnZpZXdDaGFuZ2VkID0gdHJ1ZTtcblxuICAgIGlmIChmcm9tID49IGRpc3BsYXkudmlld1RvKSB7IC8vIENoYW5nZSBhZnRlclxuICAgICAgaWYgKHNhd0NvbGxhcHNlZFNwYW5zICYmIHZpc3VhbExpbmVObyhjbS5kb2MsIGZyb20pIDwgZGlzcGxheS52aWV3VG8pXG4gICAgICAgIHsgcmVzZXRWaWV3KGNtKTsgfVxuICAgIH0gZWxzZSBpZiAodG8gPD0gZGlzcGxheS52aWV3RnJvbSkgeyAvLyBDaGFuZ2UgYmVmb3JlXG4gICAgICBpZiAoc2F3Q29sbGFwc2VkU3BhbnMgJiYgdmlzdWFsTGluZUVuZE5vKGNtLmRvYywgdG8gKyBsZW5kaWZmKSA+IGRpc3BsYXkudmlld0Zyb20pIHtcbiAgICAgICAgcmVzZXRWaWV3KGNtKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpc3BsYXkudmlld0Zyb20gKz0gbGVuZGlmZjtcbiAgICAgICAgZGlzcGxheS52aWV3VG8gKz0gbGVuZGlmZjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGZyb20gPD0gZGlzcGxheS52aWV3RnJvbSAmJiB0byA+PSBkaXNwbGF5LnZpZXdUbykgeyAvLyBGdWxsIG92ZXJsYXBcbiAgICAgIHJlc2V0VmlldyhjbSk7XG4gICAgfSBlbHNlIGlmIChmcm9tIDw9IGRpc3BsYXkudmlld0Zyb20pIHsgLy8gVG9wIG92ZXJsYXBcbiAgICAgIHZhciBjdXQgPSB2aWV3Q3V0dGluZ1BvaW50KGNtLCB0bywgdG8gKyBsZW5kaWZmLCAxKTtcbiAgICAgIGlmIChjdXQpIHtcbiAgICAgICAgZGlzcGxheS52aWV3ID0gZGlzcGxheS52aWV3LnNsaWNlKGN1dC5pbmRleCk7XG4gICAgICAgIGRpc3BsYXkudmlld0Zyb20gPSBjdXQubGluZU47XG4gICAgICAgIGRpc3BsYXkudmlld1RvICs9IGxlbmRpZmY7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXNldFZpZXcoY20pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodG8gPj0gZGlzcGxheS52aWV3VG8pIHsgLy8gQm90dG9tIG92ZXJsYXBcbiAgICAgIHZhciBjdXQkMSA9IHZpZXdDdXR0aW5nUG9pbnQoY20sIGZyb20sIGZyb20sIC0xKTtcbiAgICAgIGlmIChjdXQkMSkge1xuICAgICAgICBkaXNwbGF5LnZpZXcgPSBkaXNwbGF5LnZpZXcuc2xpY2UoMCwgY3V0JDEuaW5kZXgpO1xuICAgICAgICBkaXNwbGF5LnZpZXdUbyA9IGN1dCQxLmxpbmVOO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzZXRWaWV3KGNtKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBHYXAgaW4gdGhlIG1pZGRsZVxuICAgICAgdmFyIGN1dFRvcCA9IHZpZXdDdXR0aW5nUG9pbnQoY20sIGZyb20sIGZyb20sIC0xKTtcbiAgICAgIHZhciBjdXRCb3QgPSB2aWV3Q3V0dGluZ1BvaW50KGNtLCB0bywgdG8gKyBsZW5kaWZmLCAxKTtcbiAgICAgIGlmIChjdXRUb3AgJiYgY3V0Qm90KSB7XG4gICAgICAgIGRpc3BsYXkudmlldyA9IGRpc3BsYXkudmlldy5zbGljZSgwLCBjdXRUb3AuaW5kZXgpXG4gICAgICAgICAgLmNvbmNhdChidWlsZFZpZXdBcnJheShjbSwgY3V0VG9wLmxpbmVOLCBjdXRCb3QubGluZU4pKVxuICAgICAgICAgIC5jb25jYXQoZGlzcGxheS52aWV3LnNsaWNlKGN1dEJvdC5pbmRleCkpO1xuICAgICAgICBkaXNwbGF5LnZpZXdUbyArPSBsZW5kaWZmO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzZXRWaWV3KGNtKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgZXh0ID0gZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkO1xuICAgIGlmIChleHQpIHtcbiAgICAgIGlmICh0byA8IGV4dC5saW5lTilcbiAgICAgICAgeyBleHQubGluZU4gKz0gbGVuZGlmZjsgfVxuICAgICAgZWxzZSBpZiAoZnJvbSA8IGV4dC5saW5lTiArIGV4dC5zaXplKVxuICAgICAgICB7IGRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZCA9IG51bGw7IH1cbiAgICB9XG4gIH1cblxuICAvLyBSZWdpc3RlciBhIGNoYW5nZSB0byBhIHNpbmdsZSBsaW5lLiBUeXBlIG11c3QgYmUgb25lIG9mIFwidGV4dFwiLFxuICAvLyBcImd1dHRlclwiLCBcImNsYXNzXCIsIFwid2lkZ2V0XCJcbiAgZnVuY3Rpb24gcmVnTGluZUNoYW5nZShjbSwgbGluZSwgdHlwZSkge1xuICAgIGNtLmN1ck9wLnZpZXdDaGFuZ2VkID0gdHJ1ZTtcbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIGV4dCA9IGNtLmRpc3BsYXkuZXh0ZXJuYWxNZWFzdXJlZDtcbiAgICBpZiAoZXh0ICYmIGxpbmUgPj0gZXh0LmxpbmVOICYmIGxpbmUgPCBleHQubGluZU4gKyBleHQuc2l6ZSlcbiAgICAgIHsgZGlzcGxheS5leHRlcm5hbE1lYXN1cmVkID0gbnVsbDsgfVxuXG4gICAgaWYgKGxpbmUgPCBkaXNwbGF5LnZpZXdGcm9tIHx8IGxpbmUgPj0gZGlzcGxheS52aWV3VG8pIHsgcmV0dXJuIH1cbiAgICB2YXIgbGluZVZpZXcgPSBkaXNwbGF5LnZpZXdbZmluZFZpZXdJbmRleChjbSwgbGluZSldO1xuICAgIGlmIChsaW5lVmlldy5ub2RlID09IG51bGwpIHsgcmV0dXJuIH1cbiAgICB2YXIgYXJyID0gbGluZVZpZXcuY2hhbmdlcyB8fCAobGluZVZpZXcuY2hhbmdlcyA9IFtdKTtcbiAgICBpZiAoaW5kZXhPZihhcnIsIHR5cGUpID09IC0xKSB7IGFyci5wdXNoKHR5cGUpOyB9XG4gIH1cblxuICAvLyBDbGVhciB0aGUgdmlldy5cbiAgZnVuY3Rpb24gcmVzZXRWaWV3KGNtKSB7XG4gICAgY20uZGlzcGxheS52aWV3RnJvbSA9IGNtLmRpc3BsYXkudmlld1RvID0gY20uZG9jLmZpcnN0O1xuICAgIGNtLmRpc3BsYXkudmlldyA9IFtdO1xuICAgIGNtLmRpc3BsYXkudmlld09mZnNldCA9IDA7XG4gIH1cblxuICBmdW5jdGlvbiB2aWV3Q3V0dGluZ1BvaW50KGNtLCBvbGROLCBuZXdOLCBkaXIpIHtcbiAgICB2YXIgaW5kZXggPSBmaW5kVmlld0luZGV4KGNtLCBvbGROKSwgZGlmZiwgdmlldyA9IGNtLmRpc3BsYXkudmlldztcbiAgICBpZiAoIXNhd0NvbGxhcHNlZFNwYW5zIHx8IG5ld04gPT0gY20uZG9jLmZpcnN0ICsgY20uZG9jLnNpemUpXG4gICAgICB7IHJldHVybiB7aW5kZXg6IGluZGV4LCBsaW5lTjogbmV3Tn0gfVxuICAgIHZhciBuID0gY20uZGlzcGxheS52aWV3RnJvbTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluZGV4OyBpKyspXG4gICAgICB7IG4gKz0gdmlld1tpXS5zaXplOyB9XG4gICAgaWYgKG4gIT0gb2xkTikge1xuICAgICAgaWYgKGRpciA+IDApIHtcbiAgICAgICAgaWYgKGluZGV4ID09IHZpZXcubGVuZ3RoIC0gMSkgeyByZXR1cm4gbnVsbCB9XG4gICAgICAgIGRpZmYgPSAobiArIHZpZXdbaW5kZXhdLnNpemUpIC0gb2xkTjtcbiAgICAgICAgaW5kZXgrKztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRpZmYgPSBuIC0gb2xkTjtcbiAgICAgIH1cbiAgICAgIG9sZE4gKz0gZGlmZjsgbmV3TiArPSBkaWZmO1xuICAgIH1cbiAgICB3aGlsZSAodmlzdWFsTGluZU5vKGNtLmRvYywgbmV3TikgIT0gbmV3Tikge1xuICAgICAgaWYgKGluZGV4ID09IChkaXIgPCAwID8gMCA6IHZpZXcubGVuZ3RoIC0gMSkpIHsgcmV0dXJuIG51bGwgfVxuICAgICAgbmV3TiArPSBkaXIgKiB2aWV3W2luZGV4IC0gKGRpciA8IDAgPyAxIDogMCldLnNpemU7XG4gICAgICBpbmRleCArPSBkaXI7XG4gICAgfVxuICAgIHJldHVybiB7aW5kZXg6IGluZGV4LCBsaW5lTjogbmV3Tn1cbiAgfVxuXG4gIC8vIEZvcmNlIHRoZSB2aWV3IHRvIGNvdmVyIGEgZ2l2ZW4gcmFuZ2UsIGFkZGluZyBlbXB0eSB2aWV3IGVsZW1lbnRcbiAgLy8gb3IgY2xpcHBpbmcgb2ZmIGV4aXN0aW5nIG9uZXMgYXMgbmVlZGVkLlxuICBmdW5jdGlvbiBhZGp1c3RWaWV3KGNtLCBmcm9tLCB0bykge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgdmlldyA9IGRpc3BsYXkudmlldztcbiAgICBpZiAodmlldy5sZW5ndGggPT0gMCB8fCBmcm9tID49IGRpc3BsYXkudmlld1RvIHx8IHRvIDw9IGRpc3BsYXkudmlld0Zyb20pIHtcbiAgICAgIGRpc3BsYXkudmlldyA9IGJ1aWxkVmlld0FycmF5KGNtLCBmcm9tLCB0byk7XG4gICAgICBkaXNwbGF5LnZpZXdGcm9tID0gZnJvbTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRpc3BsYXkudmlld0Zyb20gPiBmcm9tKVxuICAgICAgICB7IGRpc3BsYXkudmlldyA9IGJ1aWxkVmlld0FycmF5KGNtLCBmcm9tLCBkaXNwbGF5LnZpZXdGcm9tKS5jb25jYXQoZGlzcGxheS52aWV3KTsgfVxuICAgICAgZWxzZSBpZiAoZGlzcGxheS52aWV3RnJvbSA8IGZyb20pXG4gICAgICAgIHsgZGlzcGxheS52aWV3ID0gZGlzcGxheS52aWV3LnNsaWNlKGZpbmRWaWV3SW5kZXgoY20sIGZyb20pKTsgfVxuICAgICAgZGlzcGxheS52aWV3RnJvbSA9IGZyb207XG4gICAgICBpZiAoZGlzcGxheS52aWV3VG8gPCB0bylcbiAgICAgICAgeyBkaXNwbGF5LnZpZXcgPSBkaXNwbGF5LnZpZXcuY29uY2F0KGJ1aWxkVmlld0FycmF5KGNtLCBkaXNwbGF5LnZpZXdUbywgdG8pKTsgfVxuICAgICAgZWxzZSBpZiAoZGlzcGxheS52aWV3VG8gPiB0bylcbiAgICAgICAgeyBkaXNwbGF5LnZpZXcgPSBkaXNwbGF5LnZpZXcuc2xpY2UoMCwgZmluZFZpZXdJbmRleChjbSwgdG8pKTsgfVxuICAgIH1cbiAgICBkaXNwbGF5LnZpZXdUbyA9IHRvO1xuICB9XG5cbiAgLy8gQ291bnQgdGhlIG51bWJlciBvZiBsaW5lcyBpbiB0aGUgdmlldyB3aG9zZSBET00gcmVwcmVzZW50YXRpb24gaXNcbiAgLy8gb3V0IG9mIGRhdGUgKG9yIG5vbmV4aXN0ZW50KS5cbiAgZnVuY3Rpb24gY291bnREaXJ0eVZpZXcoY20pIHtcbiAgICB2YXIgdmlldyA9IGNtLmRpc3BsYXkudmlldywgZGlydHkgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGxpbmVWaWV3ID0gdmlld1tpXTtcbiAgICAgIGlmICghbGluZVZpZXcuaGlkZGVuICYmICghbGluZVZpZXcubm9kZSB8fCBsaW5lVmlldy5jaGFuZ2VzKSkgeyArK2RpcnR5OyB9XG4gICAgfVxuICAgIHJldHVybiBkaXJ0eVxuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlU2VsZWN0aW9uKGNtKSB7XG4gICAgY20uZGlzcGxheS5pbnB1dC5zaG93U2VsZWN0aW9uKGNtLmRpc3BsYXkuaW5wdXQucHJlcGFyZVNlbGVjdGlvbigpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByZXBhcmVTZWxlY3Rpb24oY20sIHByaW1hcnkpIHtcbiAgICBpZiAoIHByaW1hcnkgPT09IHZvaWQgMCApIHByaW1hcnkgPSB0cnVlO1xuXG4gICAgdmFyIGRvYyA9IGNtLmRvYywgcmVzdWx0ID0ge307XG4gICAgdmFyIGN1ckZyYWdtZW50ID0gcmVzdWx0LmN1cnNvcnMgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgdmFyIHNlbEZyYWdtZW50ID0gcmVzdWx0LnNlbGVjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcblxuICAgIHZhciBjdXN0b21DdXJzb3IgPSBjbS5vcHRpb25zLiRjdXN0b21DdXJzb3I7XG4gICAgaWYgKGN1c3RvbUN1cnNvcikgeyBwcmltYXJ5ID0gdHJ1ZTsgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jLnNlbC5yYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghcHJpbWFyeSAmJiBpID09IGRvYy5zZWwucHJpbUluZGV4KSB7IGNvbnRpbnVlIH1cbiAgICAgIHZhciByYW5nZSA9IGRvYy5zZWwucmFuZ2VzW2ldO1xuICAgICAgaWYgKHJhbmdlLmZyb20oKS5saW5lID49IGNtLmRpc3BsYXkudmlld1RvIHx8IHJhbmdlLnRvKCkubGluZSA8IGNtLmRpc3BsYXkudmlld0Zyb20pIHsgY29udGludWUgfVxuICAgICAgdmFyIGNvbGxhcHNlZCA9IHJhbmdlLmVtcHR5KCk7XG4gICAgICBpZiAoY3VzdG9tQ3Vyc29yKSB7XG4gICAgICAgIHZhciBoZWFkID0gY3VzdG9tQ3Vyc29yKGNtLCByYW5nZSk7XG4gICAgICAgIGlmIChoZWFkKSB7IGRyYXdTZWxlY3Rpb25DdXJzb3IoY20sIGhlYWQsIGN1ckZyYWdtZW50KTsgfVxuICAgICAgfSBlbHNlIGlmIChjb2xsYXBzZWQgfHwgY20ub3B0aW9ucy5zaG93Q3Vyc29yV2hlblNlbGVjdGluZykge1xuICAgICAgICBkcmF3U2VsZWN0aW9uQ3Vyc29yKGNtLCByYW5nZS5oZWFkLCBjdXJGcmFnbWVudCk7XG4gICAgICB9XG4gICAgICBpZiAoIWNvbGxhcHNlZClcbiAgICAgICAgeyBkcmF3U2VsZWN0aW9uUmFuZ2UoY20sIHJhbmdlLCBzZWxGcmFnbWVudCk7IH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLy8gRHJhd3MgYSBjdXJzb3IgZm9yIHRoZSBnaXZlbiByYW5nZVxuICBmdW5jdGlvbiBkcmF3U2VsZWN0aW9uQ3Vyc29yKGNtLCBoZWFkLCBvdXRwdXQpIHtcbiAgICB2YXIgcG9zID0gY3Vyc29yQ29vcmRzKGNtLCBoZWFkLCBcImRpdlwiLCBudWxsLCBudWxsLCAhY20ub3B0aW9ucy5zaW5nbGVDdXJzb3JIZWlnaHRQZXJMaW5lKTtcblxuICAgIHZhciBjdXJzb3IgPSBvdXRwdXQuYXBwZW5kQ2hpbGQoZWx0KFwiZGl2XCIsIFwiXFx1MDBhMFwiLCBcIkNvZGVNaXJyb3ItY3Vyc29yXCIpKTtcbiAgICBjdXJzb3Iuc3R5bGUubGVmdCA9IHBvcy5sZWZ0ICsgXCJweFwiO1xuICAgIGN1cnNvci5zdHlsZS50b3AgPSBwb3MudG9wICsgXCJweFwiO1xuICAgIGN1cnNvci5zdHlsZS5oZWlnaHQgPSBNYXRoLm1heCgwLCBwb3MuYm90dG9tIC0gcG9zLnRvcCkgKiBjbS5vcHRpb25zLmN1cnNvckhlaWdodCArIFwicHhcIjtcblxuICAgIGlmICgvXFxiY20tZmF0LWN1cnNvclxcYi8udGVzdChjbS5nZXRXcmFwcGVyRWxlbWVudCgpLmNsYXNzTmFtZSkpIHtcbiAgICAgIHZhciBjaGFyUG9zID0gY2hhckNvb3JkcyhjbSwgaGVhZCwgXCJkaXZcIiwgbnVsbCwgbnVsbCk7XG4gICAgICB2YXIgd2lkdGggPSBjaGFyUG9zLnJpZ2h0IC0gY2hhclBvcy5sZWZ0O1xuICAgICAgY3Vyc29yLnN0eWxlLndpZHRoID0gKHdpZHRoID4gMCA/IHdpZHRoIDogY20uZGVmYXVsdENoYXJXaWR0aCgpKSArIFwicHhcIjtcbiAgICB9XG5cbiAgICBpZiAocG9zLm90aGVyKSB7XG4gICAgICAvLyBTZWNvbmRhcnkgY3Vyc29yLCBzaG93biB3aGVuIG9uIGEgJ2p1bXAnIGluIGJpLWRpcmVjdGlvbmFsIHRleHRcbiAgICAgIHZhciBvdGhlckN1cnNvciA9IG91dHB1dC5hcHBlbmRDaGlsZChlbHQoXCJkaXZcIiwgXCJcXHUwMGEwXCIsIFwiQ29kZU1pcnJvci1jdXJzb3IgQ29kZU1pcnJvci1zZWNvbmRhcnljdXJzb3JcIikpO1xuICAgICAgb3RoZXJDdXJzb3Iuc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICBvdGhlckN1cnNvci5zdHlsZS5sZWZ0ID0gcG9zLm90aGVyLmxlZnQgKyBcInB4XCI7XG4gICAgICBvdGhlckN1cnNvci5zdHlsZS50b3AgPSBwb3Mub3RoZXIudG9wICsgXCJweFwiO1xuICAgICAgb3RoZXJDdXJzb3Iuc3R5bGUuaGVpZ2h0ID0gKHBvcy5vdGhlci5ib3R0b20gLSBwb3Mub3RoZXIudG9wKSAqIC44NSArIFwicHhcIjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjbXBDb29yZHMoYSwgYikgeyByZXR1cm4gYS50b3AgLSBiLnRvcCB8fCBhLmxlZnQgLSBiLmxlZnQgfVxuXG4gIC8vIERyYXdzIHRoZSBnaXZlbiByYW5nZSBhcyBhIGhpZ2hsaWdodGVkIHNlbGVjdGlvblxuICBmdW5jdGlvbiBkcmF3U2VsZWN0aW9uUmFuZ2UoY20sIHJhbmdlLCBvdXRwdXQpIHtcbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIGRvYyA9IGNtLmRvYztcbiAgICB2YXIgZnJhZ21lbnQgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG4gICAgdmFyIHBhZGRpbmcgPSBwYWRkaW5nSChjbS5kaXNwbGF5KSwgbGVmdFNpZGUgPSBwYWRkaW5nLmxlZnQ7XG4gICAgdmFyIHJpZ2h0U2lkZSA9IE1hdGgubWF4KGRpc3BsYXkuc2l6ZXJXaWR0aCwgZGlzcGxheVdpZHRoKGNtKSAtIGRpc3BsYXkuc2l6ZXIub2Zmc2V0TGVmdCkgLSBwYWRkaW5nLnJpZ2h0O1xuICAgIHZhciBkb2NMVFIgPSBkb2MuZGlyZWN0aW9uID09IFwibHRyXCI7XG5cbiAgICBmdW5jdGlvbiBhZGQobGVmdCwgdG9wLCB3aWR0aCwgYm90dG9tKSB7XG4gICAgICBpZiAodG9wIDwgMCkgeyB0b3AgPSAwOyB9XG4gICAgICB0b3AgPSBNYXRoLnJvdW5kKHRvcCk7XG4gICAgICBib3R0b20gPSBNYXRoLnJvdW5kKGJvdHRvbSk7XG4gICAgICBmcmFnbWVudC5hcHBlbmRDaGlsZChlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLXNlbGVjdGVkXCIsIChcInBvc2l0aW9uOiBhYnNvbHV0ZTsgbGVmdDogXCIgKyBsZWZ0ICsgXCJweDtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogXCIgKyB0b3AgKyBcInB4OyB3aWR0aDogXCIgKyAod2lkdGggPT0gbnVsbCA/IHJpZ2h0U2lkZSAtIGxlZnQgOiB3aWR0aCkgKyBcInB4O1xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0OiBcIiArIChib3R0b20gLSB0b3ApICsgXCJweFwiKSkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRyYXdGb3JMaW5lKGxpbmUsIGZyb21BcmcsIHRvQXJnKSB7XG4gICAgICB2YXIgbGluZU9iaiA9IGdldExpbmUoZG9jLCBsaW5lKTtcbiAgICAgIHZhciBsaW5lTGVuID0gbGluZU9iai50ZXh0Lmxlbmd0aDtcbiAgICAgIHZhciBzdGFydCwgZW5kO1xuICAgICAgZnVuY3Rpb24gY29vcmRzKGNoLCBiaWFzKSB7XG4gICAgICAgIHJldHVybiBjaGFyQ29vcmRzKGNtLCBQb3MobGluZSwgY2gpLCBcImRpdlwiLCBsaW5lT2JqLCBiaWFzKVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB3cmFwWChwb3MsIGRpciwgc2lkZSkge1xuICAgICAgICB2YXIgZXh0ZW50ID0gd3JhcHBlZExpbmVFeHRlbnRDaGFyKGNtLCBsaW5lT2JqLCBudWxsLCBwb3MpO1xuICAgICAgICB2YXIgcHJvcCA9IChkaXIgPT0gXCJsdHJcIikgPT0gKHNpZGUgPT0gXCJhZnRlclwiKSA/IFwibGVmdFwiIDogXCJyaWdodFwiO1xuICAgICAgICB2YXIgY2ggPSBzaWRlID09IFwiYWZ0ZXJcIiA/IGV4dGVudC5iZWdpbiA6IGV4dGVudC5lbmQgLSAoL1xccy8udGVzdChsaW5lT2JqLnRleHQuY2hhckF0KGV4dGVudC5lbmQgLSAxKSkgPyAyIDogMSk7XG4gICAgICAgIHJldHVybiBjb29yZHMoY2gsIHByb3ApW3Byb3BdXG4gICAgICB9XG5cbiAgICAgIHZhciBvcmRlciA9IGdldE9yZGVyKGxpbmVPYmosIGRvYy5kaXJlY3Rpb24pO1xuICAgICAgaXRlcmF0ZUJpZGlTZWN0aW9ucyhvcmRlciwgZnJvbUFyZyB8fCAwLCB0b0FyZyA9PSBudWxsID8gbGluZUxlbiA6IHRvQXJnLCBmdW5jdGlvbiAoZnJvbSwgdG8sIGRpciwgaSkge1xuICAgICAgICB2YXIgbHRyID0gZGlyID09IFwibHRyXCI7XG4gICAgICAgIHZhciBmcm9tUG9zID0gY29vcmRzKGZyb20sIGx0ciA/IFwibGVmdFwiIDogXCJyaWdodFwiKTtcbiAgICAgICAgdmFyIHRvUG9zID0gY29vcmRzKHRvIC0gMSwgbHRyID8gXCJyaWdodFwiIDogXCJsZWZ0XCIpO1xuXG4gICAgICAgIHZhciBvcGVuU3RhcnQgPSBmcm9tQXJnID09IG51bGwgJiYgZnJvbSA9PSAwLCBvcGVuRW5kID0gdG9BcmcgPT0gbnVsbCAmJiB0byA9PSBsaW5lTGVuO1xuICAgICAgICB2YXIgZmlyc3QgPSBpID09IDAsIGxhc3QgPSAhb3JkZXIgfHwgaSA9PSBvcmRlci5sZW5ndGggLSAxO1xuICAgICAgICBpZiAodG9Qb3MudG9wIC0gZnJvbVBvcy50b3AgPD0gMykgeyAvLyBTaW5nbGUgbGluZVxuICAgICAgICAgIHZhciBvcGVuTGVmdCA9IChkb2NMVFIgPyBvcGVuU3RhcnQgOiBvcGVuRW5kKSAmJiBmaXJzdDtcbiAgICAgICAgICB2YXIgb3BlblJpZ2h0ID0gKGRvY0xUUiA/IG9wZW5FbmQgOiBvcGVuU3RhcnQpICYmIGxhc3Q7XG4gICAgICAgICAgdmFyIGxlZnQgPSBvcGVuTGVmdCA/IGxlZnRTaWRlIDogKGx0ciA/IGZyb21Qb3MgOiB0b1BvcykubGVmdDtcbiAgICAgICAgICB2YXIgcmlnaHQgPSBvcGVuUmlnaHQgPyByaWdodFNpZGUgOiAobHRyID8gdG9Qb3MgOiBmcm9tUG9zKS5yaWdodDtcbiAgICAgICAgICBhZGQobGVmdCwgZnJvbVBvcy50b3AsIHJpZ2h0IC0gbGVmdCwgZnJvbVBvcy5ib3R0b20pO1xuICAgICAgICB9IGVsc2UgeyAvLyBNdWx0aXBsZSBsaW5lc1xuICAgICAgICAgIHZhciB0b3BMZWZ0LCB0b3BSaWdodCwgYm90TGVmdCwgYm90UmlnaHQ7XG4gICAgICAgICAgaWYgKGx0cikge1xuICAgICAgICAgICAgdG9wTGVmdCA9IGRvY0xUUiAmJiBvcGVuU3RhcnQgJiYgZmlyc3QgPyBsZWZ0U2lkZSA6IGZyb21Qb3MubGVmdDtcbiAgICAgICAgICAgIHRvcFJpZ2h0ID0gZG9jTFRSID8gcmlnaHRTaWRlIDogd3JhcFgoZnJvbSwgZGlyLCBcImJlZm9yZVwiKTtcbiAgICAgICAgICAgIGJvdExlZnQgPSBkb2NMVFIgPyBsZWZ0U2lkZSA6IHdyYXBYKHRvLCBkaXIsIFwiYWZ0ZXJcIik7XG4gICAgICAgICAgICBib3RSaWdodCA9IGRvY0xUUiAmJiBvcGVuRW5kICYmIGxhc3QgPyByaWdodFNpZGUgOiB0b1Bvcy5yaWdodDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdG9wTGVmdCA9ICFkb2NMVFIgPyBsZWZ0U2lkZSA6IHdyYXBYKGZyb20sIGRpciwgXCJiZWZvcmVcIik7XG4gICAgICAgICAgICB0b3BSaWdodCA9ICFkb2NMVFIgJiYgb3BlblN0YXJ0ICYmIGZpcnN0ID8gcmlnaHRTaWRlIDogZnJvbVBvcy5yaWdodDtcbiAgICAgICAgICAgIGJvdExlZnQgPSAhZG9jTFRSICYmIG9wZW5FbmQgJiYgbGFzdCA/IGxlZnRTaWRlIDogdG9Qb3MubGVmdDtcbiAgICAgICAgICAgIGJvdFJpZ2h0ID0gIWRvY0xUUiA/IHJpZ2h0U2lkZSA6IHdyYXBYKHRvLCBkaXIsIFwiYWZ0ZXJcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFkZCh0b3BMZWZ0LCBmcm9tUG9zLnRvcCwgdG9wUmlnaHQgLSB0b3BMZWZ0LCBmcm9tUG9zLmJvdHRvbSk7XG4gICAgICAgICAgaWYgKGZyb21Qb3MuYm90dG9tIDwgdG9Qb3MudG9wKSB7IGFkZChsZWZ0U2lkZSwgZnJvbVBvcy5ib3R0b20sIG51bGwsIHRvUG9zLnRvcCk7IH1cbiAgICAgICAgICBhZGQoYm90TGVmdCwgdG9Qb3MudG9wLCBib3RSaWdodCAtIGJvdExlZnQsIHRvUG9zLmJvdHRvbSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXN0YXJ0IHx8IGNtcENvb3Jkcyhmcm9tUG9zLCBzdGFydCkgPCAwKSB7IHN0YXJ0ID0gZnJvbVBvczsgfVxuICAgICAgICBpZiAoY21wQ29vcmRzKHRvUG9zLCBzdGFydCkgPCAwKSB7IHN0YXJ0ID0gdG9Qb3M7IH1cbiAgICAgICAgaWYgKCFlbmQgfHwgY21wQ29vcmRzKGZyb21Qb3MsIGVuZCkgPCAwKSB7IGVuZCA9IGZyb21Qb3M7IH1cbiAgICAgICAgaWYgKGNtcENvb3Jkcyh0b1BvcywgZW5kKSA8IDApIHsgZW5kID0gdG9Qb3M7IH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtzdGFydDogc3RhcnQsIGVuZDogZW5kfVxuICAgIH1cblxuICAgIHZhciBzRnJvbSA9IHJhbmdlLmZyb20oKSwgc1RvID0gcmFuZ2UudG8oKTtcbiAgICBpZiAoc0Zyb20ubGluZSA9PSBzVG8ubGluZSkge1xuICAgICAgZHJhd0ZvckxpbmUoc0Zyb20ubGluZSwgc0Zyb20uY2gsIHNUby5jaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBmcm9tTGluZSA9IGdldExpbmUoZG9jLCBzRnJvbS5saW5lKSwgdG9MaW5lID0gZ2V0TGluZShkb2MsIHNUby5saW5lKTtcbiAgICAgIHZhciBzaW5nbGVWTGluZSA9IHZpc3VhbExpbmUoZnJvbUxpbmUpID09IHZpc3VhbExpbmUodG9MaW5lKTtcbiAgICAgIHZhciBsZWZ0RW5kID0gZHJhd0ZvckxpbmUoc0Zyb20ubGluZSwgc0Zyb20uY2gsIHNpbmdsZVZMaW5lID8gZnJvbUxpbmUudGV4dC5sZW5ndGggKyAxIDogbnVsbCkuZW5kO1xuICAgICAgdmFyIHJpZ2h0U3RhcnQgPSBkcmF3Rm9yTGluZShzVG8ubGluZSwgc2luZ2xlVkxpbmUgPyAwIDogbnVsbCwgc1RvLmNoKS5zdGFydDtcbiAgICAgIGlmIChzaW5nbGVWTGluZSkge1xuICAgICAgICBpZiAobGVmdEVuZC50b3AgPCByaWdodFN0YXJ0LnRvcCAtIDIpIHtcbiAgICAgICAgICBhZGQobGVmdEVuZC5yaWdodCwgbGVmdEVuZC50b3AsIG51bGwsIGxlZnRFbmQuYm90dG9tKTtcbiAgICAgICAgICBhZGQobGVmdFNpZGUsIHJpZ2h0U3RhcnQudG9wLCByaWdodFN0YXJ0LmxlZnQsIHJpZ2h0U3RhcnQuYm90dG9tKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBhZGQobGVmdEVuZC5yaWdodCwgbGVmdEVuZC50b3AsIHJpZ2h0U3RhcnQubGVmdCAtIGxlZnRFbmQucmlnaHQsIGxlZnRFbmQuYm90dG9tKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGxlZnRFbmQuYm90dG9tIDwgcmlnaHRTdGFydC50b3ApXG4gICAgICAgIHsgYWRkKGxlZnRTaWRlLCBsZWZ0RW5kLmJvdHRvbSwgbnVsbCwgcmlnaHRTdGFydC50b3ApOyB9XG4gICAgfVxuXG4gICAgb3V0cHV0LmFwcGVuZENoaWxkKGZyYWdtZW50KTtcbiAgfVxuXG4gIC8vIEN1cnNvci1ibGlua2luZ1xuICBmdW5jdGlvbiByZXN0YXJ0QmxpbmsoY20pIHtcbiAgICBpZiAoIWNtLnN0YXRlLmZvY3VzZWQpIHsgcmV0dXJuIH1cbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXk7XG4gICAgY2xlYXJJbnRlcnZhbChkaXNwbGF5LmJsaW5rZXIpO1xuICAgIHZhciBvbiA9IHRydWU7XG4gICAgZGlzcGxheS5jdXJzb3JEaXYuc3R5bGUudmlzaWJpbGl0eSA9IFwiXCI7XG4gICAgaWYgKGNtLm9wdGlvbnMuY3Vyc29yQmxpbmtSYXRlID4gMClcbiAgICAgIHsgZGlzcGxheS5ibGlua2VyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoIWNtLmhhc0ZvY3VzKCkpIHsgb25CbHVyKGNtKTsgfVxuICAgICAgICBkaXNwbGF5LmN1cnNvckRpdi5zdHlsZS52aXNpYmlsaXR5ID0gKG9uID0gIW9uKSA/IFwiXCIgOiBcImhpZGRlblwiO1xuICAgICAgfSwgY20ub3B0aW9ucy5jdXJzb3JCbGlua1JhdGUpOyB9XG4gICAgZWxzZSBpZiAoY20ub3B0aW9ucy5jdXJzb3JCbGlua1JhdGUgPCAwKVxuICAgICAgeyBkaXNwbGF5LmN1cnNvckRpdi5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjsgfVxuICB9XG5cbiAgZnVuY3Rpb24gZW5zdXJlRm9jdXMoY20pIHtcbiAgICBpZiAoIWNtLmhhc0ZvY3VzKCkpIHtcbiAgICAgIGNtLmRpc3BsYXkuaW5wdXQuZm9jdXMoKTtcbiAgICAgIGlmICghY20uc3RhdGUuZm9jdXNlZCkgeyBvbkZvY3VzKGNtKTsgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGF5Qmx1ckV2ZW50KGNtKSB7XG4gICAgY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQgPSB0cnVlO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyBpZiAoY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQpIHtcbiAgICAgIGNtLnN0YXRlLmRlbGF5aW5nQmx1ckV2ZW50ID0gZmFsc2U7XG4gICAgICBpZiAoY20uc3RhdGUuZm9jdXNlZCkgeyBvbkJsdXIoY20pOyB9XG4gICAgfSB9LCAxMDApO1xuICB9XG5cbiAgZnVuY3Rpb24gb25Gb2N1cyhjbSwgZSkge1xuICAgIGlmIChjbS5zdGF0ZS5kZWxheWluZ0JsdXJFdmVudCAmJiAhY20uc3RhdGUuZHJhZ2dpbmdUZXh0KSB7IGNtLnN0YXRlLmRlbGF5aW5nQmx1ckV2ZW50ID0gZmFsc2U7IH1cblxuICAgIGlmIChjbS5vcHRpb25zLnJlYWRPbmx5ID09IFwibm9jdXJzb3JcIikgeyByZXR1cm4gfVxuICAgIGlmICghY20uc3RhdGUuZm9jdXNlZCkge1xuICAgICAgc2lnbmFsKGNtLCBcImZvY3VzXCIsIGNtLCBlKTtcbiAgICAgIGNtLnN0YXRlLmZvY3VzZWQgPSB0cnVlO1xuICAgICAgYWRkQ2xhc3MoY20uZGlzcGxheS53cmFwcGVyLCBcIkNvZGVNaXJyb3ItZm9jdXNlZFwiKTtcbiAgICAgIC8vIFRoaXMgdGVzdCBwcmV2ZW50cyB0aGlzIGZyb20gZmlyaW5nIHdoZW4gYSBjb250ZXh0XG4gICAgICAvLyBtZW51IGlzIGNsb3NlZCAoc2luY2UgdGhlIGlucHV0IHJlc2V0IHdvdWxkIGtpbGwgdGhlXG4gICAgICAvLyBzZWxlY3QtYWxsIGRldGVjdGlvbiBoYWNrKVxuICAgICAgaWYgKCFjbS5jdXJPcCAmJiBjbS5kaXNwbGF5LnNlbEZvckNvbnRleHRNZW51ICE9IGNtLmRvYy5zZWwpIHtcbiAgICAgICAgY20uZGlzcGxheS5pbnB1dC5yZXNldCgpO1xuICAgICAgICBpZiAod2Via2l0KSB7IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gY20uZGlzcGxheS5pbnB1dC5yZXNldCh0cnVlKTsgfSwgMjApOyB9IC8vIElzc3VlICMxNzMwXG4gICAgICB9XG4gICAgICBjbS5kaXNwbGF5LmlucHV0LnJlY2VpdmVkRm9jdXMoKTtcbiAgICB9XG4gICAgcmVzdGFydEJsaW5rKGNtKTtcbiAgfVxuICBmdW5jdGlvbiBvbkJsdXIoY20sIGUpIHtcbiAgICBpZiAoY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQpIHsgcmV0dXJuIH1cblxuICAgIGlmIChjbS5zdGF0ZS5mb2N1c2VkKSB7XG4gICAgICBzaWduYWwoY20sIFwiYmx1clwiLCBjbSwgZSk7XG4gICAgICBjbS5zdGF0ZS5mb2N1c2VkID0gZmFsc2U7XG4gICAgICBybUNsYXNzKGNtLmRpc3BsYXkud3JhcHBlciwgXCJDb2RlTWlycm9yLWZvY3VzZWRcIik7XG4gICAgfVxuICAgIGNsZWFySW50ZXJ2YWwoY20uZGlzcGxheS5ibGlua2VyKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgaWYgKCFjbS5zdGF0ZS5mb2N1c2VkKSB7IGNtLmRpc3BsYXkuc2hpZnQgPSBmYWxzZTsgfSB9LCAxNTApO1xuICB9XG5cbiAgLy8gUmVhZCB0aGUgYWN0dWFsIGhlaWdodHMgb2YgdGhlIHJlbmRlcmVkIGxpbmVzLCBhbmQgdXBkYXRlIHRoZWlyXG4gIC8vIHN0b3JlZCBoZWlnaHRzIHRvIG1hdGNoLlxuICBmdW5jdGlvbiB1cGRhdGVIZWlnaHRzSW5WaWV3cG9ydChjbSkge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICB2YXIgcHJldkJvdHRvbSA9IGRpc3BsYXkubGluZURpdi5vZmZzZXRUb3A7XG4gICAgdmFyIHZpZXdUb3AgPSBNYXRoLm1heCgwLCBkaXNwbGF5LnNjcm9sbGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcCk7XG4gICAgdmFyIG9sZEhlaWdodCA9IGRpc3BsYXkubGluZURpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7XG4gICAgdmFyIG11c3RTY3JvbGwgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGlzcGxheS52aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgY3VyID0gZGlzcGxheS52aWV3W2ldLCB3cmFwcGluZyA9IGNtLm9wdGlvbnMubGluZVdyYXBwaW5nO1xuICAgICAgdmFyIGhlaWdodCA9ICh2b2lkIDApLCB3aWR0aCA9IDA7XG4gICAgICBpZiAoY3VyLmhpZGRlbikgeyBjb250aW51ZSB9XG4gICAgICBvbGRIZWlnaHQgKz0gY3VyLmxpbmUuaGVpZ2h0O1xuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA4KSB7XG4gICAgICAgIHZhciBib3QgPSBjdXIubm9kZS5vZmZzZXRUb3AgKyBjdXIubm9kZS5vZmZzZXRIZWlnaHQ7XG4gICAgICAgIGhlaWdodCA9IGJvdCAtIHByZXZCb3R0b207XG4gICAgICAgIHByZXZCb3R0b20gPSBib3Q7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgYm94ID0gY3VyLm5vZGUuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGhlaWdodCA9IGJveC5ib3R0b20gLSBib3gudG9wO1xuICAgICAgICAvLyBDaGVjayB0aGF0IGxpbmVzIGRvbid0IGV4dGVuZCBwYXN0IHRoZSByaWdodCBvZiB0aGUgY3VycmVudFxuICAgICAgICAvLyBlZGl0b3Igd2lkdGhcbiAgICAgICAgaWYgKCF3cmFwcGluZyAmJiBjdXIudGV4dC5maXJzdENoaWxkKVxuICAgICAgICAgIHsgd2lkdGggPSBjdXIudGV4dC5maXJzdENoaWxkLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0IC0gYm94LmxlZnQgLSAxOyB9XG4gICAgICB9XG4gICAgICB2YXIgZGlmZiA9IGN1ci5saW5lLmhlaWdodCAtIGhlaWdodDtcbiAgICAgIGlmIChkaWZmID4gLjAwNSB8fCBkaWZmIDwgLS4wMDUpIHtcbiAgICAgICAgaWYgKG9sZEhlaWdodCA8IHZpZXdUb3ApIHsgbXVzdFNjcm9sbCAtPSBkaWZmOyB9XG4gICAgICAgIHVwZGF0ZUxpbmVIZWlnaHQoY3VyLmxpbmUsIGhlaWdodCk7XG4gICAgICAgIHVwZGF0ZVdpZGdldEhlaWdodChjdXIubGluZSk7XG4gICAgICAgIGlmIChjdXIucmVzdCkgeyBmb3IgKHZhciBqID0gMDsgaiA8IGN1ci5yZXN0Lmxlbmd0aDsgaisrKVxuICAgICAgICAgIHsgdXBkYXRlV2lkZ2V0SGVpZ2h0KGN1ci5yZXN0W2pdKTsgfSB9XG4gICAgICB9XG4gICAgICBpZiAod2lkdGggPiBjbS5kaXNwbGF5LnNpemVyV2lkdGgpIHtcbiAgICAgICAgdmFyIGNoV2lkdGggPSBNYXRoLmNlaWwod2lkdGggLyBjaGFyV2lkdGgoY20uZGlzcGxheSkpO1xuICAgICAgICBpZiAoY2hXaWR0aCA+IGNtLmRpc3BsYXkubWF4TGluZUxlbmd0aCkge1xuICAgICAgICAgIGNtLmRpc3BsYXkubWF4TGluZUxlbmd0aCA9IGNoV2lkdGg7XG4gICAgICAgICAgY20uZGlzcGxheS5tYXhMaW5lID0gY3VyLmxpbmU7XG4gICAgICAgICAgY20uZGlzcGxheS5tYXhMaW5lQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKE1hdGguYWJzKG11c3RTY3JvbGwpID4gMikgeyBkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCArPSBtdXN0U2Nyb2xsOyB9XG4gIH1cblxuICAvLyBSZWFkIGFuZCBzdG9yZSB0aGUgaGVpZ2h0IG9mIGxpbmUgd2lkZ2V0cyBhc3NvY2lhdGVkIHdpdGggdGhlXG4gIC8vIGdpdmVuIGxpbmUuXG4gIGZ1bmN0aW9uIHVwZGF0ZVdpZGdldEhlaWdodChsaW5lKSB7XG4gICAgaWYgKGxpbmUud2lkZ2V0cykgeyBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmUud2lkZ2V0cy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHcgPSBsaW5lLndpZGdldHNbaV0sIHBhcmVudCA9IHcubm9kZS5wYXJlbnROb2RlO1xuICAgICAgaWYgKHBhcmVudCkgeyB3LmhlaWdodCA9IHBhcmVudC5vZmZzZXRIZWlnaHQ7IH1cbiAgICB9IH1cbiAgfVxuXG4gIC8vIENvbXB1dGUgdGhlIGxpbmVzIHRoYXQgYXJlIHZpc2libGUgaW4gYSBnaXZlbiB2aWV3cG9ydCAoZGVmYXVsdHNcbiAgLy8gdGhlIGN1cnJlbnQgc2Nyb2xsIHBvc2l0aW9uKS4gdmlld3BvcnQgbWF5IGNvbnRhaW4gdG9wLFxuICAvLyBoZWlnaHQsIGFuZCBlbnN1cmUgKHNlZSBvcC5zY3JvbGxUb1BvcykgcHJvcGVydGllcy5cbiAgZnVuY3Rpb24gdmlzaWJsZUxpbmVzKGRpc3BsYXksIGRvYywgdmlld3BvcnQpIHtcbiAgICB2YXIgdG9wID0gdmlld3BvcnQgJiYgdmlld3BvcnQudG9wICE9IG51bGwgPyBNYXRoLm1heCgwLCB2aWV3cG9ydC50b3ApIDogZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3A7XG4gICAgdG9wID0gTWF0aC5mbG9vcih0b3AgLSBwYWRkaW5nVG9wKGRpc3BsYXkpKTtcbiAgICB2YXIgYm90dG9tID0gdmlld3BvcnQgJiYgdmlld3BvcnQuYm90dG9tICE9IG51bGwgPyB2aWV3cG9ydC5ib3R0b20gOiB0b3AgKyBkaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0O1xuXG4gICAgdmFyIGZyb20gPSBsaW5lQXRIZWlnaHQoZG9jLCB0b3ApLCB0byA9IGxpbmVBdEhlaWdodChkb2MsIGJvdHRvbSk7XG4gICAgLy8gRW5zdXJlIGlzIGEge2Zyb206IHtsaW5lLCBjaH0sIHRvOiB7bGluZSwgY2h9fSBvYmplY3QsIGFuZFxuICAgIC8vIGZvcmNlcyB0aG9zZSBsaW5lcyBpbnRvIHRoZSB2aWV3cG9ydCAoaWYgcG9zc2libGUpLlxuICAgIGlmICh2aWV3cG9ydCAmJiB2aWV3cG9ydC5lbnN1cmUpIHtcbiAgICAgIHZhciBlbnN1cmVGcm9tID0gdmlld3BvcnQuZW5zdXJlLmZyb20ubGluZSwgZW5zdXJlVG8gPSB2aWV3cG9ydC5lbnN1cmUudG8ubGluZTtcbiAgICAgIGlmIChlbnN1cmVGcm9tIDwgZnJvbSkge1xuICAgICAgICBmcm9tID0gZW5zdXJlRnJvbTtcbiAgICAgICAgdG8gPSBsaW5lQXRIZWlnaHQoZG9jLCBoZWlnaHRBdExpbmUoZ2V0TGluZShkb2MsIGVuc3VyZUZyb20pKSArIGRpc3BsYXkud3JhcHBlci5jbGllbnRIZWlnaHQpO1xuICAgICAgfSBlbHNlIGlmIChNYXRoLm1pbihlbnN1cmVUbywgZG9jLmxhc3RMaW5lKCkpID49IHRvKSB7XG4gICAgICAgIGZyb20gPSBsaW5lQXRIZWlnaHQoZG9jLCBoZWlnaHRBdExpbmUoZ2V0TGluZShkb2MsIGVuc3VyZVRvKSkgLSBkaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0KTtcbiAgICAgICAgdG8gPSBlbnN1cmVUbztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHtmcm9tOiBmcm9tLCB0bzogTWF0aC5tYXgodG8sIGZyb20gKyAxKX1cbiAgfVxuXG4gIC8vIFNDUk9MTElORyBUSElOR1MgSU5UTyBWSUVXXG5cbiAgLy8gSWYgYW4gZWRpdG9yIHNpdHMgb24gdGhlIHRvcCBvciBib3R0b20gb2YgdGhlIHdpbmRvdywgcGFydGlhbGx5XG4gIC8vIHNjcm9sbGVkIG91dCBvZiB2aWV3LCB0aGlzIGVuc3VyZXMgdGhhdCB0aGUgY3Vyc29yIGlzIHZpc2libGUuXG4gIGZ1bmN0aW9uIG1heWJlU2Nyb2xsV2luZG93KGNtLCByZWN0KSB7XG4gICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBcInNjcm9sbEN1cnNvckludG9WaWV3XCIpKSB7IHJldHVybiB9XG5cbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIGJveCA9IGRpc3BsYXkuc2l6ZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksIGRvU2Nyb2xsID0gbnVsbDtcbiAgICB2YXIgZG9jID0gZGlzcGxheS53cmFwcGVyLm93bmVyRG9jdW1lbnQ7XG4gICAgaWYgKHJlY3QudG9wICsgYm94LnRvcCA8IDApIHsgZG9TY3JvbGwgPSB0cnVlOyB9XG4gICAgZWxzZSBpZiAocmVjdC5ib3R0b20gKyBib3gudG9wID4gKGRvYy5kZWZhdWx0Vmlldy5pbm5lckhlaWdodCB8fCBkb2MuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCkpIHsgZG9TY3JvbGwgPSBmYWxzZTsgfVxuICAgIGlmIChkb1Njcm9sbCAhPSBudWxsICYmICFwaGFudG9tKSB7XG4gICAgICB2YXIgc2Nyb2xsTm9kZSA9IGVsdChcImRpdlwiLCBcIlxcdTIwMGJcIiwgbnVsbCwgKFwicG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IFwiICsgKHJlY3QudG9wIC0gZGlzcGxheS52aWV3T2Zmc2V0IC0gcGFkZGluZ1RvcChjbS5kaXNwbGF5KSkgKyBcInB4O1xcbiAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IFwiICsgKHJlY3QuYm90dG9tIC0gcmVjdC50b3AgKyBzY3JvbGxHYXAoY20pICsgZGlzcGxheS5iYXJIZWlnaHQpICsgXCJweDtcXG4gICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogXCIgKyAocmVjdC5sZWZ0KSArIFwicHg7IHdpZHRoOiBcIiArIChNYXRoLm1heCgyLCByZWN0LnJpZ2h0IC0gcmVjdC5sZWZ0KSkgKyBcInB4O1wiKSk7XG4gICAgICBjbS5kaXNwbGF5LmxpbmVTcGFjZS5hcHBlbmRDaGlsZChzY3JvbGxOb2RlKTtcbiAgICAgIHNjcm9sbE5vZGUuc2Nyb2xsSW50b1ZpZXcoZG9TY3JvbGwpO1xuICAgICAgY20uZGlzcGxheS5saW5lU3BhY2UucmVtb3ZlQ2hpbGQoc2Nyb2xsTm9kZSk7XG4gICAgfVxuICB9XG5cbiAgLy8gU2Nyb2xsIGEgZ2l2ZW4gcG9zaXRpb24gaW50byB2aWV3IChpbW1lZGlhdGVseSksIHZlcmlmeWluZyB0aGF0XG4gIC8vIGl0IGFjdHVhbGx5IGJlY2FtZSB2aXNpYmxlIChhcyBsaW5lIGhlaWdodHMgYXJlIGFjY3VyYXRlbHlcbiAgLy8gbWVhc3VyZWQsIHRoZSBwb3NpdGlvbiBvZiBzb21ldGhpbmcgbWF5ICdkcmlmdCcgZHVyaW5nIGRyYXdpbmcpLlxuICBmdW5jdGlvbiBzY3JvbGxQb3NJbnRvVmlldyhjbSwgcG9zLCBlbmQsIG1hcmdpbikge1xuICAgIGlmIChtYXJnaW4gPT0gbnVsbCkgeyBtYXJnaW4gPSAwOyB9XG4gICAgdmFyIHJlY3Q7XG4gICAgaWYgKCFjbS5vcHRpb25zLmxpbmVXcmFwcGluZyAmJiBwb3MgPT0gZW5kKSB7XG4gICAgICAvLyBTZXQgcG9zIGFuZCBlbmQgdG8gdGhlIGN1cnNvciBwb3NpdGlvbnMgYXJvdW5kIHRoZSBjaGFyYWN0ZXIgcG9zIHN0aWNrcyB0b1xuICAgICAgLy8gSWYgcG9zLnN0aWNreSA9PSBcImJlZm9yZVwiLCB0aGF0IGlzIGFyb3VuZCBwb3MuY2ggLSAxLCBvdGhlcndpc2UgYXJvdW5kIHBvcy5jaFxuICAgICAgLy8gSWYgcG9zID09IFBvcyhfLCAwLCBcImJlZm9yZVwiKSwgcG9zIGFuZCBlbmQgYXJlIHVuY2hhbmdlZFxuICAgICAgZW5kID0gcG9zLnN0aWNreSA9PSBcImJlZm9yZVwiID8gUG9zKHBvcy5saW5lLCBwb3MuY2ggKyAxLCBcImJlZm9yZVwiKSA6IHBvcztcbiAgICAgIHBvcyA9IHBvcy5jaCA/IFBvcyhwb3MubGluZSwgcG9zLnN0aWNreSA9PSBcImJlZm9yZVwiID8gcG9zLmNoIC0gMSA6IHBvcy5jaCwgXCJhZnRlclwiKSA6IHBvcztcbiAgICB9XG4gICAgZm9yICh2YXIgbGltaXQgPSAwOyBsaW1pdCA8IDU7IGxpbWl0KyspIHtcbiAgICAgIHZhciBjaGFuZ2VkID0gZmFsc2U7XG4gICAgICB2YXIgY29vcmRzID0gY3Vyc29yQ29vcmRzKGNtLCBwb3MpO1xuICAgICAgdmFyIGVuZENvb3JkcyA9ICFlbmQgfHwgZW5kID09IHBvcyA/IGNvb3JkcyA6IGN1cnNvckNvb3JkcyhjbSwgZW5kKTtcbiAgICAgIHJlY3QgPSB7bGVmdDogTWF0aC5taW4oY29vcmRzLmxlZnQsIGVuZENvb3Jkcy5sZWZ0KSxcbiAgICAgICAgICAgICAgdG9wOiBNYXRoLm1pbihjb29yZHMudG9wLCBlbmRDb29yZHMudG9wKSAtIG1hcmdpbixcbiAgICAgICAgICAgICAgcmlnaHQ6IE1hdGgubWF4KGNvb3Jkcy5sZWZ0LCBlbmRDb29yZHMubGVmdCksXG4gICAgICAgICAgICAgIGJvdHRvbTogTWF0aC5tYXgoY29vcmRzLmJvdHRvbSwgZW5kQ29vcmRzLmJvdHRvbSkgKyBtYXJnaW59O1xuICAgICAgdmFyIHNjcm9sbFBvcyA9IGNhbGN1bGF0ZVNjcm9sbFBvcyhjbSwgcmVjdCk7XG4gICAgICB2YXIgc3RhcnRUb3AgPSBjbS5kb2Muc2Nyb2xsVG9wLCBzdGFydExlZnQgPSBjbS5kb2Muc2Nyb2xsTGVmdDtcbiAgICAgIGlmIChzY3JvbGxQb3Muc2Nyb2xsVG9wICE9IG51bGwpIHtcbiAgICAgICAgdXBkYXRlU2Nyb2xsVG9wKGNtLCBzY3JvbGxQb3Muc2Nyb2xsVG9wKTtcbiAgICAgICAgaWYgKE1hdGguYWJzKGNtLmRvYy5zY3JvbGxUb3AgLSBzdGFydFRvcCkgPiAxKSB7IGNoYW5nZWQgPSB0cnVlOyB9XG4gICAgICB9XG4gICAgICBpZiAoc2Nyb2xsUG9zLnNjcm9sbExlZnQgIT0gbnVsbCkge1xuICAgICAgICBzZXRTY3JvbGxMZWZ0KGNtLCBzY3JvbGxQb3Muc2Nyb2xsTGVmdCk7XG4gICAgICAgIGlmIChNYXRoLmFicyhjbS5kb2Muc2Nyb2xsTGVmdCAtIHN0YXJ0TGVmdCkgPiAxKSB7IGNoYW5nZWQgPSB0cnVlOyB9XG4gICAgICB9XG4gICAgICBpZiAoIWNoYW5nZWQpIHsgYnJlYWsgfVxuICAgIH1cbiAgICByZXR1cm4gcmVjdFxuICB9XG5cbiAgLy8gU2Nyb2xsIGEgZ2l2ZW4gc2V0IG9mIGNvb3JkaW5hdGVzIGludG8gdmlldyAoaW1tZWRpYXRlbHkpLlxuICBmdW5jdGlvbiBzY3JvbGxJbnRvVmlldyhjbSwgcmVjdCkge1xuICAgIHZhciBzY3JvbGxQb3MgPSBjYWxjdWxhdGVTY3JvbGxQb3MoY20sIHJlY3QpO1xuICAgIGlmIChzY3JvbGxQb3Muc2Nyb2xsVG9wICE9IG51bGwpIHsgdXBkYXRlU2Nyb2xsVG9wKGNtLCBzY3JvbGxQb3Muc2Nyb2xsVG9wKTsgfVxuICAgIGlmIChzY3JvbGxQb3Muc2Nyb2xsTGVmdCAhPSBudWxsKSB7IHNldFNjcm9sbExlZnQoY20sIHNjcm9sbFBvcy5zY3JvbGxMZWZ0KTsgfVxuICB9XG5cbiAgLy8gQ2FsY3VsYXRlIGEgbmV3IHNjcm9sbCBwb3NpdGlvbiBuZWVkZWQgdG8gc2Nyb2xsIHRoZSBnaXZlblxuICAvLyByZWN0YW5nbGUgaW50byB2aWV3LiBSZXR1cm5zIGFuIG9iamVjdCB3aXRoIHNjcm9sbFRvcCBhbmRcbiAgLy8gc2Nyb2xsTGVmdCBwcm9wZXJ0aWVzLiBXaGVuIHRoZXNlIGFyZSB1bmRlZmluZWQsIHRoZVxuICAvLyB2ZXJ0aWNhbC9ob3Jpem9udGFsIHBvc2l0aW9uIGRvZXMgbm90IG5lZWQgdG8gYmUgYWRqdXN0ZWQuXG4gIGZ1bmN0aW9uIGNhbGN1bGF0ZVNjcm9sbFBvcyhjbSwgcmVjdCkge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgc25hcE1hcmdpbiA9IHRleHRIZWlnaHQoY20uZGlzcGxheSk7XG4gICAgaWYgKHJlY3QudG9wIDwgMCkgeyByZWN0LnRvcCA9IDA7IH1cbiAgICB2YXIgc2NyZWVudG9wID0gY20uY3VyT3AgJiYgY20uY3VyT3Auc2Nyb2xsVG9wICE9IG51bGwgPyBjbS5jdXJPcC5zY3JvbGxUb3AgOiBkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcDtcbiAgICB2YXIgc2NyZWVuID0gZGlzcGxheUhlaWdodChjbSksIHJlc3VsdCA9IHt9O1xuICAgIGlmIChyZWN0LmJvdHRvbSAtIHJlY3QudG9wID4gc2NyZWVuKSB7IHJlY3QuYm90dG9tID0gcmVjdC50b3AgKyBzY3JlZW47IH1cbiAgICB2YXIgZG9jQm90dG9tID0gY20uZG9jLmhlaWdodCArIHBhZGRpbmdWZXJ0KGRpc3BsYXkpO1xuICAgIHZhciBhdFRvcCA9IHJlY3QudG9wIDwgc25hcE1hcmdpbiwgYXRCb3R0b20gPSByZWN0LmJvdHRvbSA+IGRvY0JvdHRvbSAtIHNuYXBNYXJnaW47XG4gICAgaWYgKHJlY3QudG9wIDwgc2NyZWVudG9wKSB7XG4gICAgICByZXN1bHQuc2Nyb2xsVG9wID0gYXRUb3AgPyAwIDogcmVjdC50b3A7XG4gICAgfSBlbHNlIGlmIChyZWN0LmJvdHRvbSA+IHNjcmVlbnRvcCArIHNjcmVlbikge1xuICAgICAgdmFyIG5ld1RvcCA9IE1hdGgubWluKHJlY3QudG9wLCAoYXRCb3R0b20gPyBkb2NCb3R0b20gOiByZWN0LmJvdHRvbSkgLSBzY3JlZW4pO1xuICAgICAgaWYgKG5ld1RvcCAhPSBzY3JlZW50b3ApIHsgcmVzdWx0LnNjcm9sbFRvcCA9IG5ld1RvcDsgfVxuICAgIH1cblxuICAgIHZhciBndXR0ZXJTcGFjZSA9IGNtLm9wdGlvbnMuZml4ZWRHdXR0ZXIgPyAwIDogZGlzcGxheS5ndXR0ZXJzLm9mZnNldFdpZHRoO1xuICAgIHZhciBzY3JlZW5sZWZ0ID0gY20uY3VyT3AgJiYgY20uY3VyT3Auc2Nyb2xsTGVmdCAhPSBudWxsID8gY20uY3VyT3Auc2Nyb2xsTGVmdCA6IGRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdCAtIGd1dHRlclNwYWNlO1xuICAgIHZhciBzY3JlZW53ID0gZGlzcGxheVdpZHRoKGNtKSAtIGRpc3BsYXkuZ3V0dGVycy5vZmZzZXRXaWR0aDtcbiAgICB2YXIgdG9vV2lkZSA9IHJlY3QucmlnaHQgLSByZWN0LmxlZnQgPiBzY3JlZW53O1xuICAgIGlmICh0b29XaWRlKSB7IHJlY3QucmlnaHQgPSByZWN0LmxlZnQgKyBzY3JlZW53OyB9XG4gICAgaWYgKHJlY3QubGVmdCA8IDEwKVxuICAgICAgeyByZXN1bHQuc2Nyb2xsTGVmdCA9IDA7IH1cbiAgICBlbHNlIGlmIChyZWN0LmxlZnQgPCBzY3JlZW5sZWZ0KVxuICAgICAgeyByZXN1bHQuc2Nyb2xsTGVmdCA9IE1hdGgubWF4KDAsIHJlY3QubGVmdCArIGd1dHRlclNwYWNlIC0gKHRvb1dpZGUgPyAwIDogMTApKTsgfVxuICAgIGVsc2UgaWYgKHJlY3QucmlnaHQgPiBzY3JlZW53ICsgc2NyZWVubGVmdCAtIDMpXG4gICAgICB7IHJlc3VsdC5zY3JvbGxMZWZ0ID0gcmVjdC5yaWdodCArICh0b29XaWRlID8gMCA6IDEwKSAtIHNjcmVlbnc7IH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvLyBTdG9yZSBhIHJlbGF0aXZlIGFkanVzdG1lbnQgdG8gdGhlIHNjcm9sbCBwb3NpdGlvbiBpbiB0aGUgY3VycmVudFxuICAvLyBvcGVyYXRpb24gKHRvIGJlIGFwcGxpZWQgd2hlbiB0aGUgb3BlcmF0aW9uIGZpbmlzaGVzKS5cbiAgZnVuY3Rpb24gYWRkVG9TY3JvbGxUb3AoY20sIHRvcCkge1xuICAgIGlmICh0b3AgPT0gbnVsbCkgeyByZXR1cm4gfVxuICAgIHJlc29sdmVTY3JvbGxUb1BvcyhjbSk7XG4gICAgY20uY3VyT3Auc2Nyb2xsVG9wID0gKGNtLmN1ck9wLnNjcm9sbFRvcCA9PSBudWxsID8gY20uZG9jLnNjcm9sbFRvcCA6IGNtLmN1ck9wLnNjcm9sbFRvcCkgKyB0b3A7XG4gIH1cblxuICAvLyBNYWtlIHN1cmUgdGhhdCBhdCB0aGUgZW5kIG9mIHRoZSBvcGVyYXRpb24gdGhlIGN1cnJlbnQgY3Vyc29yIGlzXG4gIC8vIHNob3duLlxuICBmdW5jdGlvbiBlbnN1cmVDdXJzb3JWaXNpYmxlKGNtKSB7XG4gICAgcmVzb2x2ZVNjcm9sbFRvUG9zKGNtKTtcbiAgICB2YXIgY3VyID0gY20uZ2V0Q3Vyc29yKCk7XG4gICAgY20uY3VyT3Auc2Nyb2xsVG9Qb3MgPSB7ZnJvbTogY3VyLCB0bzogY3VyLCBtYXJnaW46IGNtLm9wdGlvbnMuY3Vyc29yU2Nyb2xsTWFyZ2lufTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNjcm9sbFRvQ29vcmRzKGNtLCB4LCB5KSB7XG4gICAgaWYgKHggIT0gbnVsbCB8fCB5ICE9IG51bGwpIHsgcmVzb2x2ZVNjcm9sbFRvUG9zKGNtKTsgfVxuICAgIGlmICh4ICE9IG51bGwpIHsgY20uY3VyT3Auc2Nyb2xsTGVmdCA9IHg7IH1cbiAgICBpZiAoeSAhPSBudWxsKSB7IGNtLmN1ck9wLnNjcm9sbFRvcCA9IHk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNjcm9sbFRvUmFuZ2UoY20sIHJhbmdlKSB7XG4gICAgcmVzb2x2ZVNjcm9sbFRvUG9zKGNtKTtcbiAgICBjbS5jdXJPcC5zY3JvbGxUb1BvcyA9IHJhbmdlO1xuICB9XG5cbiAgLy8gV2hlbiBhbiBvcGVyYXRpb24gaGFzIGl0cyBzY3JvbGxUb1BvcyBwcm9wZXJ0eSBzZXQsIGFuZCBhbm90aGVyXG4gIC8vIHNjcm9sbCBhY3Rpb24gaXMgYXBwbGllZCBiZWZvcmUgdGhlIGVuZCBvZiB0aGUgb3BlcmF0aW9uLCB0aGlzXG4gIC8vICdzaW11bGF0ZXMnIHNjcm9sbGluZyB0aGF0IHBvc2l0aW9uIGludG8gdmlldyBpbiBhIGNoZWFwIHdheSwgc29cbiAgLy8gdGhhdCB0aGUgZWZmZWN0IG9mIGludGVybWVkaWF0ZSBzY3JvbGwgY29tbWFuZHMgaXMgbm90IGlnbm9yZWQuXG4gIGZ1bmN0aW9uIHJlc29sdmVTY3JvbGxUb1BvcyhjbSkge1xuICAgIHZhciByYW5nZSA9IGNtLmN1ck9wLnNjcm9sbFRvUG9zO1xuICAgIGlmIChyYW5nZSkge1xuICAgICAgY20uY3VyT3Auc2Nyb2xsVG9Qb3MgPSBudWxsO1xuICAgICAgdmFyIGZyb20gPSBlc3RpbWF0ZUNvb3JkcyhjbSwgcmFuZ2UuZnJvbSksIHRvID0gZXN0aW1hdGVDb29yZHMoY20sIHJhbmdlLnRvKTtcbiAgICAgIHNjcm9sbFRvQ29vcmRzUmFuZ2UoY20sIGZyb20sIHRvLCByYW5nZS5tYXJnaW4pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNjcm9sbFRvQ29vcmRzUmFuZ2UoY20sIGZyb20sIHRvLCBtYXJnaW4pIHtcbiAgICB2YXIgc1BvcyA9IGNhbGN1bGF0ZVNjcm9sbFBvcyhjbSwge1xuICAgICAgbGVmdDogTWF0aC5taW4oZnJvbS5sZWZ0LCB0by5sZWZ0KSxcbiAgICAgIHRvcDogTWF0aC5taW4oZnJvbS50b3AsIHRvLnRvcCkgLSBtYXJnaW4sXG4gICAgICByaWdodDogTWF0aC5tYXgoZnJvbS5yaWdodCwgdG8ucmlnaHQpLFxuICAgICAgYm90dG9tOiBNYXRoLm1heChmcm9tLmJvdHRvbSwgdG8uYm90dG9tKSArIG1hcmdpblxuICAgIH0pO1xuICAgIHNjcm9sbFRvQ29vcmRzKGNtLCBzUG9zLnNjcm9sbExlZnQsIHNQb3Muc2Nyb2xsVG9wKTtcbiAgfVxuXG4gIC8vIFN5bmMgdGhlIHNjcm9sbGFibGUgYXJlYSBhbmQgc2Nyb2xsYmFycywgZW5zdXJlIHRoZSB2aWV3cG9ydFxuICAvLyBjb3ZlcnMgdGhlIHZpc2libGUgYXJlYS5cbiAgZnVuY3Rpb24gdXBkYXRlU2Nyb2xsVG9wKGNtLCB2YWwpIHtcbiAgICBpZiAoTWF0aC5hYnMoY20uZG9jLnNjcm9sbFRvcCAtIHZhbCkgPCAyKSB7IHJldHVybiB9XG4gICAgaWYgKCFnZWNrbykgeyB1cGRhdGVEaXNwbGF5U2ltcGxlKGNtLCB7dG9wOiB2YWx9KTsgfVxuICAgIHNldFNjcm9sbFRvcChjbSwgdmFsLCB0cnVlKTtcbiAgICBpZiAoZ2Vja28pIHsgdXBkYXRlRGlzcGxheVNpbXBsZShjbSk7IH1cbiAgICBzdGFydFdvcmtlcihjbSwgMTAwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFNjcm9sbFRvcChjbSwgdmFsLCBmb3JjZVNjcm9sbCkge1xuICAgIHZhbCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGNtLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsSGVpZ2h0IC0gY20uZGlzcGxheS5zY3JvbGxlci5jbGllbnRIZWlnaHQsIHZhbCkpO1xuICAgIGlmIChjbS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCA9PSB2YWwgJiYgIWZvcmNlU2Nyb2xsKSB7IHJldHVybiB9XG4gICAgY20uZG9jLnNjcm9sbFRvcCA9IHZhbDtcbiAgICBjbS5kaXNwbGF5LnNjcm9sbGJhcnMuc2V0U2Nyb2xsVG9wKHZhbCk7XG4gICAgaWYgKGNtLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wICE9IHZhbCkgeyBjbS5kaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcCA9IHZhbDsgfVxuICB9XG5cbiAgLy8gU3luYyBzY3JvbGxlciBhbmQgc2Nyb2xsYmFyLCBlbnN1cmUgdGhlIGd1dHRlciBlbGVtZW50cyBhcmVcbiAgLy8gYWxpZ25lZC5cbiAgZnVuY3Rpb24gc2V0U2Nyb2xsTGVmdChjbSwgdmFsLCBpc1Njcm9sbGVyLCBmb3JjZVNjcm9sbCkge1xuICAgIHZhbCA9IE1hdGgubWF4KDAsIE1hdGgubWluKHZhbCwgY20uZGlzcGxheS5zY3JvbGxlci5zY3JvbGxXaWR0aCAtIGNtLmRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50V2lkdGgpKTtcbiAgICBpZiAoKGlzU2Nyb2xsZXIgPyB2YWwgPT0gY20uZG9jLnNjcm9sbExlZnQgOiBNYXRoLmFicyhjbS5kb2Muc2Nyb2xsTGVmdCAtIHZhbCkgPCAyKSAmJiAhZm9yY2VTY3JvbGwpIHsgcmV0dXJuIH1cbiAgICBjbS5kb2Muc2Nyb2xsTGVmdCA9IHZhbDtcbiAgICBhbGlnbkhvcml6b250YWxseShjbSk7XG4gICAgaWYgKGNtLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsTGVmdCAhPSB2YWwpIHsgY20uZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0ID0gdmFsOyB9XG4gICAgY20uZGlzcGxheS5zY3JvbGxiYXJzLnNldFNjcm9sbExlZnQodmFsKTtcbiAgfVxuXG4gIC8vIFNDUk9MTEJBUlNcblxuICAvLyBQcmVwYXJlIERPTSByZWFkcyBuZWVkZWQgdG8gdXBkYXRlIHRoZSBzY3JvbGxiYXJzLiBEb25lIGluIG9uZVxuICAvLyBzaG90IHRvIG1pbmltaXplIHVwZGF0ZS9tZWFzdXJlIHJvdW5kdHJpcHMuXG4gIGZ1bmN0aW9uIG1lYXN1cmVGb3JTY3JvbGxiYXJzKGNtKSB7XG4gICAgdmFyIGQgPSBjbS5kaXNwbGF5LCBndXR0ZXJXID0gZC5ndXR0ZXJzLm9mZnNldFdpZHRoO1xuICAgIHZhciBkb2NIID0gTWF0aC5yb3VuZChjbS5kb2MuaGVpZ2h0ICsgcGFkZGluZ1ZlcnQoY20uZGlzcGxheSkpO1xuICAgIHJldHVybiB7XG4gICAgICBjbGllbnRIZWlnaHQ6IGQuc2Nyb2xsZXIuY2xpZW50SGVpZ2h0LFxuICAgICAgdmlld0hlaWdodDogZC53cmFwcGVyLmNsaWVudEhlaWdodCxcbiAgICAgIHNjcm9sbFdpZHRoOiBkLnNjcm9sbGVyLnNjcm9sbFdpZHRoLCBjbGllbnRXaWR0aDogZC5zY3JvbGxlci5jbGllbnRXaWR0aCxcbiAgICAgIHZpZXdXaWR0aDogZC53cmFwcGVyLmNsaWVudFdpZHRoLFxuICAgICAgYmFyTGVmdDogY20ub3B0aW9ucy5maXhlZEd1dHRlciA/IGd1dHRlclcgOiAwLFxuICAgICAgZG9jSGVpZ2h0OiBkb2NILFxuICAgICAgc2Nyb2xsSGVpZ2h0OiBkb2NIICsgc2Nyb2xsR2FwKGNtKSArIGQuYmFySGVpZ2h0LFxuICAgICAgbmF0aXZlQmFyV2lkdGg6IGQubmF0aXZlQmFyV2lkdGgsXG4gICAgICBndXR0ZXJXaWR0aDogZ3V0dGVyV1xuICAgIH1cbiAgfVxuXG4gIHZhciBOYXRpdmVTY3JvbGxiYXJzID0gZnVuY3Rpb24ocGxhY2UsIHNjcm9sbCwgY20pIHtcbiAgICB0aGlzLmNtID0gY207XG4gICAgdmFyIHZlcnQgPSB0aGlzLnZlcnQgPSBlbHQoXCJkaXZcIiwgW2VsdChcImRpdlwiLCBudWxsLCBudWxsLCBcIm1pbi13aWR0aDogMXB4XCIpXSwgXCJDb2RlTWlycm9yLXZzY3JvbGxiYXJcIik7XG4gICAgdmFyIGhvcml6ID0gdGhpcy5ob3JpeiA9IGVsdChcImRpdlwiLCBbZWx0KFwiZGl2XCIsIG51bGwsIG51bGwsIFwiaGVpZ2h0OiAxMDAlOyBtaW4taGVpZ2h0OiAxcHhcIildLCBcIkNvZGVNaXJyb3ItaHNjcm9sbGJhclwiKTtcbiAgICB2ZXJ0LnRhYkluZGV4ID0gaG9yaXoudGFiSW5kZXggPSAtMTtcbiAgICBwbGFjZSh2ZXJ0KTsgcGxhY2UoaG9yaXopO1xuXG4gICAgb24odmVydCwgXCJzY3JvbGxcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHZlcnQuY2xpZW50SGVpZ2h0KSB7IHNjcm9sbCh2ZXJ0LnNjcm9sbFRvcCwgXCJ2ZXJ0aWNhbFwiKTsgfVxuICAgIH0pO1xuICAgIG9uKGhvcml6LCBcInNjcm9sbFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaG9yaXouY2xpZW50V2lkdGgpIHsgc2Nyb2xsKGhvcml6LnNjcm9sbExlZnQsIFwiaG9yaXpvbnRhbFwiKTsgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5jaGVja2VkWmVyb1dpZHRoID0gZmFsc2U7XG4gICAgLy8gTmVlZCB0byBzZXQgYSBtaW5pbXVtIHdpZHRoIHRvIHNlZSB0aGUgc2Nyb2xsYmFyIG9uIElFNyAoYnV0IG11c3Qgbm90IHNldCBpdCBvbiBJRTgpLlxuICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uIDwgOCkgeyB0aGlzLmhvcml6LnN0eWxlLm1pbkhlaWdodCA9IHRoaXMudmVydC5zdHlsZS5taW5XaWR0aCA9IFwiMThweFwiOyB9XG4gIH07XG5cbiAgTmF0aXZlU2Nyb2xsYmFycy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKG1lYXN1cmUpIHtcbiAgICB2YXIgbmVlZHNIID0gbWVhc3VyZS5zY3JvbGxXaWR0aCA+IG1lYXN1cmUuY2xpZW50V2lkdGggKyAxO1xuICAgIHZhciBuZWVkc1YgPSBtZWFzdXJlLnNjcm9sbEhlaWdodCA+IG1lYXN1cmUuY2xpZW50SGVpZ2h0ICsgMTtcbiAgICB2YXIgc1dpZHRoID0gbWVhc3VyZS5uYXRpdmVCYXJXaWR0aDtcblxuICAgIGlmIChuZWVkc1YpIHtcbiAgICAgIHRoaXMudmVydC5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgdGhpcy52ZXJ0LnN0eWxlLmJvdHRvbSA9IG5lZWRzSCA/IHNXaWR0aCArIFwicHhcIiA6IFwiMFwiO1xuICAgICAgdmFyIHRvdGFsSGVpZ2h0ID0gbWVhc3VyZS52aWV3SGVpZ2h0IC0gKG5lZWRzSCA/IHNXaWR0aCA6IDApO1xuICAgICAgLy8gQSBidWcgaW4gSUU4IGNhbiBjYXVzZSB0aGlzIHZhbHVlIHRvIGJlIG5lZ2F0aXZlLCBzbyBndWFyZCBpdC5cbiAgICAgIHRoaXMudmVydC5maXJzdENoaWxkLnN0eWxlLmhlaWdodCA9XG4gICAgICAgIE1hdGgubWF4KDAsIG1lYXN1cmUuc2Nyb2xsSGVpZ2h0IC0gbWVhc3VyZS5jbGllbnRIZWlnaHQgKyB0b3RhbEhlaWdodCkgKyBcInB4XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudmVydC5zY3JvbGxUb3AgPSAwO1xuICAgICAgdGhpcy52ZXJ0LnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgdGhpcy52ZXJ0LmZpcnN0Q2hpbGQuc3R5bGUuaGVpZ2h0ID0gXCIwXCI7XG4gICAgfVxuXG4gICAgaWYgKG5lZWRzSCkge1xuICAgICAgdGhpcy5ob3Jpei5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgdGhpcy5ob3Jpei5zdHlsZS5yaWdodCA9IG5lZWRzViA/IHNXaWR0aCArIFwicHhcIiA6IFwiMFwiO1xuICAgICAgdGhpcy5ob3Jpei5zdHlsZS5sZWZ0ID0gbWVhc3VyZS5iYXJMZWZ0ICsgXCJweFwiO1xuICAgICAgdmFyIHRvdGFsV2lkdGggPSBtZWFzdXJlLnZpZXdXaWR0aCAtIG1lYXN1cmUuYmFyTGVmdCAtIChuZWVkc1YgPyBzV2lkdGggOiAwKTtcbiAgICAgIHRoaXMuaG9yaXouZmlyc3RDaGlsZC5zdHlsZS53aWR0aCA9XG4gICAgICAgIE1hdGgubWF4KDAsIG1lYXN1cmUuc2Nyb2xsV2lkdGggLSBtZWFzdXJlLmNsaWVudFdpZHRoICsgdG90YWxXaWR0aCkgKyBcInB4XCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuaG9yaXouc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICB0aGlzLmhvcml6LmZpcnN0Q2hpbGQuc3R5bGUud2lkdGggPSBcIjBcIjtcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuY2hlY2tlZFplcm9XaWR0aCAmJiBtZWFzdXJlLmNsaWVudEhlaWdodCA+IDApIHtcbiAgICAgIGlmIChzV2lkdGggPT0gMCkgeyB0aGlzLnplcm9XaWR0aEhhY2soKTsgfVxuICAgICAgdGhpcy5jaGVja2VkWmVyb1dpZHRoID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4ge3JpZ2h0OiBuZWVkc1YgPyBzV2lkdGggOiAwLCBib3R0b206IG5lZWRzSCA/IHNXaWR0aCA6IDB9XG4gIH07XG5cbiAgTmF0aXZlU2Nyb2xsYmFycy5wcm90b3R5cGUuc2V0U2Nyb2xsTGVmdCA9IGZ1bmN0aW9uIChwb3MpIHtcbiAgICBpZiAodGhpcy5ob3Jpei5zY3JvbGxMZWZ0ICE9IHBvcykgeyB0aGlzLmhvcml6LnNjcm9sbExlZnQgPSBwb3M7IH1cbiAgICBpZiAodGhpcy5kaXNhYmxlSG9yaXopIHsgdGhpcy5lbmFibGVaZXJvV2lkdGhCYXIodGhpcy5ob3JpeiwgdGhpcy5kaXNhYmxlSG9yaXosIFwiaG9yaXpcIik7IH1cbiAgfTtcblxuICBOYXRpdmVTY3JvbGxiYXJzLnByb3RvdHlwZS5zZXRTY3JvbGxUb3AgPSBmdW5jdGlvbiAocG9zKSB7XG4gICAgaWYgKHRoaXMudmVydC5zY3JvbGxUb3AgIT0gcG9zKSB7IHRoaXMudmVydC5zY3JvbGxUb3AgPSBwb3M7IH1cbiAgICBpZiAodGhpcy5kaXNhYmxlVmVydCkgeyB0aGlzLmVuYWJsZVplcm9XaWR0aEJhcih0aGlzLnZlcnQsIHRoaXMuZGlzYWJsZVZlcnQsIFwidmVydFwiKTsgfVxuICB9O1xuXG4gIE5hdGl2ZVNjcm9sbGJhcnMucHJvdG90eXBlLnplcm9XaWR0aEhhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHcgPSBtYWMgJiYgIW1hY19nZU1vdW50YWluTGlvbiA/IFwiMTJweFwiIDogXCIxOHB4XCI7XG4gICAgdGhpcy5ob3Jpei5zdHlsZS5oZWlnaHQgPSB0aGlzLnZlcnQuc3R5bGUud2lkdGggPSB3O1xuICAgIHRoaXMuaG9yaXouc3R5bGUudmlzaWJpbGl0eSA9IHRoaXMudmVydC5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICB0aGlzLmRpc2FibGVIb3JpeiA9IG5ldyBEZWxheWVkO1xuICAgIHRoaXMuZGlzYWJsZVZlcnQgPSBuZXcgRGVsYXllZDtcbiAgfTtcblxuICBOYXRpdmVTY3JvbGxiYXJzLnByb3RvdHlwZS5lbmFibGVaZXJvV2lkdGhCYXIgPSBmdW5jdGlvbiAoYmFyLCBkZWxheSwgdHlwZSkge1xuICAgIGJhci5zdHlsZS52aXNpYmlsaXR5ID0gXCJcIjtcbiAgICBmdW5jdGlvbiBtYXliZURpc2FibGUoKSB7XG4gICAgICAvLyBUbyBmaW5kIG91dCB3aGV0aGVyIHRoZSBzY3JvbGxiYXIgaXMgc3RpbGwgdmlzaWJsZSwgd2VcbiAgICAgIC8vIGNoZWNrIHdoZXRoZXIgdGhlIGVsZW1lbnQgdW5kZXIgdGhlIHBpeGVsIGluIHRoZSBib3R0b21cbiAgICAgIC8vIHJpZ2h0IGNvcm5lciBvZiB0aGUgc2Nyb2xsYmFyIGJveCBpcyB0aGUgc2Nyb2xsYmFyIGJveFxuICAgICAgLy8gaXRzZWxmICh3aGVuIHRoZSBiYXIgaXMgc3RpbGwgdmlzaWJsZSkgb3IgaXRzIGZpbGxlciBjaGlsZFxuICAgICAgLy8gKHdoZW4gdGhlIGJhciBpcyBoaWRkZW4pLiBJZiBpdCBpcyBzdGlsbCB2aXNpYmxlLCB3ZSBrZWVwXG4gICAgICAvLyBpdCBlbmFibGVkLCBpZiBpdCdzIGhpZGRlbiwgd2UgZGlzYWJsZSBwb2ludGVyIGV2ZW50cy5cbiAgICAgIHZhciBib3ggPSBiYXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICB2YXIgZWx0ID0gdHlwZSA9PSBcInZlcnRcIiA/IGRvY3VtZW50LmVsZW1lbnRGcm9tUG9pbnQoYm94LnJpZ2h0IC0gMSwgKGJveC50b3AgKyBib3guYm90dG9tKSAvIDIpXG4gICAgICAgICAgOiBkb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KChib3gucmlnaHQgKyBib3gubGVmdCkgLyAyLCBib3guYm90dG9tIC0gMSk7XG4gICAgICBpZiAoZWx0ICE9IGJhcikgeyBiYXIuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7IH1cbiAgICAgIGVsc2UgeyBkZWxheS5zZXQoMTAwMCwgbWF5YmVEaXNhYmxlKTsgfVxuICAgIH1cbiAgICBkZWxheS5zZXQoMTAwMCwgbWF5YmVEaXNhYmxlKTtcbiAgfTtcblxuICBOYXRpdmVTY3JvbGxiYXJzLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcGFyZW50ID0gdGhpcy5ob3Jpei5wYXJlbnROb2RlO1xuICAgIHBhcmVudC5yZW1vdmVDaGlsZCh0aGlzLmhvcml6KTtcbiAgICBwYXJlbnQucmVtb3ZlQ2hpbGQodGhpcy52ZXJ0KTtcbiAgfTtcblxuICB2YXIgTnVsbFNjcm9sbGJhcnMgPSBmdW5jdGlvbiAoKSB7fTtcblxuICBOdWxsU2Nyb2xsYmFycy5wcm90b3R5cGUudXBkYXRlID0gZnVuY3Rpb24gKCkgeyByZXR1cm4ge2JvdHRvbTogMCwgcmlnaHQ6IDB9IH07XG4gIE51bGxTY3JvbGxiYXJzLnByb3RvdHlwZS5zZXRTY3JvbGxMZWZ0ID0gZnVuY3Rpb24gKCkge307XG4gIE51bGxTY3JvbGxiYXJzLnByb3RvdHlwZS5zZXRTY3JvbGxUb3AgPSBmdW5jdGlvbiAoKSB7fTtcbiAgTnVsbFNjcm9sbGJhcnMucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge307XG5cbiAgZnVuY3Rpb24gdXBkYXRlU2Nyb2xsYmFycyhjbSwgbWVhc3VyZSkge1xuICAgIGlmICghbWVhc3VyZSkgeyBtZWFzdXJlID0gbWVhc3VyZUZvclNjcm9sbGJhcnMoY20pOyB9XG4gICAgdmFyIHN0YXJ0V2lkdGggPSBjbS5kaXNwbGF5LmJhcldpZHRoLCBzdGFydEhlaWdodCA9IGNtLmRpc3BsYXkuYmFySGVpZ2h0O1xuICAgIHVwZGF0ZVNjcm9sbGJhcnNJbm5lcihjbSwgbWVhc3VyZSk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCA0ICYmIHN0YXJ0V2lkdGggIT0gY20uZGlzcGxheS5iYXJXaWR0aCB8fCBzdGFydEhlaWdodCAhPSBjbS5kaXNwbGF5LmJhckhlaWdodDsgaSsrKSB7XG4gICAgICBpZiAoc3RhcnRXaWR0aCAhPSBjbS5kaXNwbGF5LmJhcldpZHRoICYmIGNtLm9wdGlvbnMubGluZVdyYXBwaW5nKVxuICAgICAgICB7IHVwZGF0ZUhlaWdodHNJblZpZXdwb3J0KGNtKTsgfVxuICAgICAgdXBkYXRlU2Nyb2xsYmFyc0lubmVyKGNtLCBtZWFzdXJlRm9yU2Nyb2xsYmFycyhjbSkpO1xuICAgICAgc3RhcnRXaWR0aCA9IGNtLmRpc3BsYXkuYmFyV2lkdGg7IHN0YXJ0SGVpZ2h0ID0gY20uZGlzcGxheS5iYXJIZWlnaHQ7XG4gICAgfVxuICB9XG5cbiAgLy8gUmUtc3luY2hyb25pemUgdGhlIGZha2Ugc2Nyb2xsYmFycyB3aXRoIHRoZSBhY3R1YWwgc2l6ZSBvZiB0aGVcbiAgLy8gY29udGVudC5cbiAgZnVuY3Rpb24gdXBkYXRlU2Nyb2xsYmFyc0lubmVyKGNtLCBtZWFzdXJlKSB7XG4gICAgdmFyIGQgPSBjbS5kaXNwbGF5O1xuICAgIHZhciBzaXplcyA9IGQuc2Nyb2xsYmFycy51cGRhdGUobWVhc3VyZSk7XG5cbiAgICBkLnNpemVyLnN0eWxlLnBhZGRpbmdSaWdodCA9IChkLmJhcldpZHRoID0gc2l6ZXMucmlnaHQpICsgXCJweFwiO1xuICAgIGQuc2l6ZXIuc3R5bGUucGFkZGluZ0JvdHRvbSA9IChkLmJhckhlaWdodCA9IHNpemVzLmJvdHRvbSkgKyBcInB4XCI7XG4gICAgZC5oZWlnaHRGb3JjZXIuc3R5bGUuYm9yZGVyQm90dG9tID0gc2l6ZXMuYm90dG9tICsgXCJweCBzb2xpZCB0cmFuc3BhcmVudFwiO1xuXG4gICAgaWYgKHNpemVzLnJpZ2h0ICYmIHNpemVzLmJvdHRvbSkge1xuICAgICAgZC5zY3JvbGxiYXJGaWxsZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIGQuc2Nyb2xsYmFyRmlsbGVyLnN0eWxlLmhlaWdodCA9IHNpemVzLmJvdHRvbSArIFwicHhcIjtcbiAgICAgIGQuc2Nyb2xsYmFyRmlsbGVyLnN0eWxlLndpZHRoID0gc2l6ZXMucmlnaHQgKyBcInB4XCI7XG4gICAgfSBlbHNlIHsgZC5zY3JvbGxiYXJGaWxsZXIuc3R5bGUuZGlzcGxheSA9IFwiXCI7IH1cbiAgICBpZiAoc2l6ZXMuYm90dG9tICYmIGNtLm9wdGlvbnMuY292ZXJHdXR0ZXJOZXh0VG9TY3JvbGxiYXIgJiYgY20ub3B0aW9ucy5maXhlZEd1dHRlcikge1xuICAgICAgZC5ndXR0ZXJGaWxsZXIuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgIGQuZ3V0dGVyRmlsbGVyLnN0eWxlLmhlaWdodCA9IHNpemVzLmJvdHRvbSArIFwicHhcIjtcbiAgICAgIGQuZ3V0dGVyRmlsbGVyLnN0eWxlLndpZHRoID0gbWVhc3VyZS5ndXR0ZXJXaWR0aCArIFwicHhcIjtcbiAgICB9IGVsc2UgeyBkLmd1dHRlckZpbGxlci5zdHlsZS5kaXNwbGF5ID0gXCJcIjsgfVxuICB9XG5cbiAgdmFyIHNjcm9sbGJhck1vZGVsID0ge1wibmF0aXZlXCI6IE5hdGl2ZVNjcm9sbGJhcnMsIFwibnVsbFwiOiBOdWxsU2Nyb2xsYmFyc307XG5cbiAgZnVuY3Rpb24gaW5pdFNjcm9sbGJhcnMoY20pIHtcbiAgICBpZiAoY20uZGlzcGxheS5zY3JvbGxiYXJzKSB7XG4gICAgICBjbS5kaXNwbGF5LnNjcm9sbGJhcnMuY2xlYXIoKTtcbiAgICAgIGlmIChjbS5kaXNwbGF5LnNjcm9sbGJhcnMuYWRkQ2xhc3MpXG4gICAgICAgIHsgcm1DbGFzcyhjbS5kaXNwbGF5LndyYXBwZXIsIGNtLmRpc3BsYXkuc2Nyb2xsYmFycy5hZGRDbGFzcyk7IH1cbiAgICB9XG5cbiAgICBjbS5kaXNwbGF5LnNjcm9sbGJhcnMgPSBuZXcgc2Nyb2xsYmFyTW9kZWxbY20ub3B0aW9ucy5zY3JvbGxiYXJTdHlsZV0oZnVuY3Rpb24gKG5vZGUpIHtcbiAgICAgIGNtLmRpc3BsYXkud3JhcHBlci5pbnNlcnRCZWZvcmUobm9kZSwgY20uZGlzcGxheS5zY3JvbGxiYXJGaWxsZXIpO1xuICAgICAgLy8gUHJldmVudCBjbGlja3MgaW4gdGhlIHNjcm9sbGJhcnMgZnJvbSBraWxsaW5nIGZvY3VzXG4gICAgICBvbihub2RlLCBcIm1vdXNlZG93blwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjbS5zdGF0ZS5mb2N1c2VkKSB7IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gY20uZGlzcGxheS5pbnB1dC5mb2N1cygpOyB9LCAwKTsgfVxuICAgICAgfSk7XG4gICAgICBub2RlLnNldEF0dHJpYnV0ZShcImNtLW5vdC1jb250ZW50XCIsIFwidHJ1ZVwiKTtcbiAgICB9LCBmdW5jdGlvbiAocG9zLCBheGlzKSB7XG4gICAgICBpZiAoYXhpcyA9PSBcImhvcml6b250YWxcIikgeyBzZXRTY3JvbGxMZWZ0KGNtLCBwb3MpOyB9XG4gICAgICBlbHNlIHsgdXBkYXRlU2Nyb2xsVG9wKGNtLCBwb3MpOyB9XG4gICAgfSwgY20pO1xuICAgIGlmIChjbS5kaXNwbGF5LnNjcm9sbGJhcnMuYWRkQ2xhc3MpXG4gICAgICB7IGFkZENsYXNzKGNtLmRpc3BsYXkud3JhcHBlciwgY20uZGlzcGxheS5zY3JvbGxiYXJzLmFkZENsYXNzKTsgfVxuICB9XG5cbiAgLy8gT3BlcmF0aW9ucyBhcmUgdXNlZCB0byB3cmFwIGEgc2VyaWVzIG9mIGNoYW5nZXMgdG8gdGhlIGVkaXRvclxuICAvLyBzdGF0ZSBpbiBzdWNoIGEgd2F5IHRoYXQgZWFjaCBjaGFuZ2Ugd29uJ3QgaGF2ZSB0byB1cGRhdGUgdGhlXG4gIC8vIGN1cnNvciBhbmQgZGlzcGxheSAod2hpY2ggd291bGQgYmUgYXdrd2FyZCwgc2xvdywgYW5kXG4gIC8vIGVycm9yLXByb25lKS4gSW5zdGVhZCwgZGlzcGxheSB1cGRhdGVzIGFyZSBiYXRjaGVkIGFuZCB0aGVuIGFsbFxuICAvLyBjb21iaW5lZCBhbmQgZXhlY3V0ZWQgYXQgb25jZS5cblxuICB2YXIgbmV4dE9wSWQgPSAwO1xuICAvLyBTdGFydCBhIG5ldyBvcGVyYXRpb24uXG4gIGZ1bmN0aW9uIHN0YXJ0T3BlcmF0aW9uKGNtKSB7XG4gICAgY20uY3VyT3AgPSB7XG4gICAgICBjbTogY20sXG4gICAgICB2aWV3Q2hhbmdlZDogZmFsc2UsICAgICAgLy8gRmxhZyB0aGF0IGluZGljYXRlcyB0aGF0IGxpbmVzIG1pZ2h0IG5lZWQgdG8gYmUgcmVkcmF3blxuICAgICAgc3RhcnRIZWlnaHQ6IGNtLmRvYy5oZWlnaHQsIC8vIFVzZWQgdG8gZGV0ZWN0IG5lZWQgdG8gdXBkYXRlIHNjcm9sbGJhclxuICAgICAgZm9yY2VVcGRhdGU6IGZhbHNlLCAgICAgIC8vIFVzZWQgdG8gZm9yY2UgYSByZWRyYXdcbiAgICAgIHVwZGF0ZUlucHV0OiAwLCAgICAgICAvLyBXaGV0aGVyIHRvIHJlc2V0IHRoZSBpbnB1dCB0ZXh0YXJlYVxuICAgICAgdHlwaW5nOiBmYWxzZSwgICAgICAgICAgIC8vIFdoZXRoZXIgdGhpcyByZXNldCBzaG91bGQgYmUgY2FyZWZ1bCB0byBsZWF2ZSBleGlzdGluZyB0ZXh0IChmb3IgY29tcG9zaXRpbmcpXG4gICAgICBjaGFuZ2VPYmpzOiBudWxsLCAgICAgICAgLy8gQWNjdW11bGF0ZWQgY2hhbmdlcywgZm9yIGZpcmluZyBjaGFuZ2UgZXZlbnRzXG4gICAgICBjdXJzb3JBY3Rpdml0eUhhbmRsZXJzOiBudWxsLCAvLyBTZXQgb2YgaGFuZGxlcnMgdG8gZmlyZSBjdXJzb3JBY3Rpdml0eSBvblxuICAgICAgY3Vyc29yQWN0aXZpdHlDYWxsZWQ6IDAsIC8vIFRyYWNrcyB3aGljaCBjdXJzb3JBY3Rpdml0eSBoYW5kbGVycyBoYXZlIGJlZW4gY2FsbGVkIGFscmVhZHlcbiAgICAgIHNlbGVjdGlvbkNoYW5nZWQ6IGZhbHNlLCAvLyBXaGV0aGVyIHRoZSBzZWxlY3Rpb24gbmVlZHMgdG8gYmUgcmVkcmF3blxuICAgICAgdXBkYXRlTWF4TGluZTogZmFsc2UsICAgIC8vIFNldCB3aGVuIHRoZSB3aWRlc3QgbGluZSBuZWVkcyB0byBiZSBkZXRlcm1pbmVkIGFuZXdcbiAgICAgIHNjcm9sbExlZnQ6IG51bGwsIHNjcm9sbFRvcDogbnVsbCwgLy8gSW50ZXJtZWRpYXRlIHNjcm9sbCBwb3NpdGlvbiwgbm90IHB1c2hlZCB0byBET00geWV0XG4gICAgICBzY3JvbGxUb1BvczogbnVsbCwgICAgICAgLy8gVXNlZCB0byBzY3JvbGwgdG8gYSBzcGVjaWZpYyBwb3NpdGlvblxuICAgICAgZm9jdXM6IGZhbHNlLFxuICAgICAgaWQ6ICsrbmV4dE9wSWQsICAgICAgICAgIC8vIFVuaXF1ZSBJRFxuICAgICAgbWFya0FycmF5czogbnVsbCAgICAgICAgIC8vIFVzZWQgYnkgYWRkTWFya2VkU3BhblxuICAgIH07XG4gICAgcHVzaE9wZXJhdGlvbihjbS5jdXJPcCk7XG4gIH1cblxuICAvLyBGaW5pc2ggYW4gb3BlcmF0aW9uLCB1cGRhdGluZyB0aGUgZGlzcGxheSBhbmQgc2lnbmFsbGluZyBkZWxheWVkIGV2ZW50c1xuICBmdW5jdGlvbiBlbmRPcGVyYXRpb24oY20pIHtcbiAgICB2YXIgb3AgPSBjbS5jdXJPcDtcbiAgICBpZiAob3ApIHsgZmluaXNoT3BlcmF0aW9uKG9wLCBmdW5jdGlvbiAoZ3JvdXApIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3JvdXAub3BzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7IGdyb3VwLm9wc1tpXS5jbS5jdXJPcCA9IG51bGw7IH1cbiAgICAgIGVuZE9wZXJhdGlvbnMoZ3JvdXApO1xuICAgIH0pOyB9XG4gIH1cblxuICAvLyBUaGUgRE9NIHVwZGF0ZXMgZG9uZSB3aGVuIGFuIG9wZXJhdGlvbiBmaW5pc2hlcyBhcmUgYmF0Y2hlZCBzb1xuICAvLyB0aGF0IHRoZSBtaW5pbXVtIG51bWJlciBvZiByZWxheW91dHMgYXJlIHJlcXVpcmVkLlxuICBmdW5jdGlvbiBlbmRPcGVyYXRpb25zKGdyb3VwKSB7XG4gICAgdmFyIG9wcyA9IGdyb3VwLm9wcztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9wcy5sZW5ndGg7IGkrKykgLy8gUmVhZCBET01cbiAgICAgIHsgZW5kT3BlcmF0aW9uX1IxKG9wc1tpXSk7IH1cbiAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBvcHMubGVuZ3RoOyBpJDErKykgLy8gV3JpdGUgRE9NIChtYXliZSlcbiAgICAgIHsgZW5kT3BlcmF0aW9uX1cxKG9wc1tpJDFdKTsgfVxuICAgIGZvciAodmFyIGkkMiA9IDA7IGkkMiA8IG9wcy5sZW5ndGg7IGkkMisrKSAvLyBSZWFkIERPTVxuICAgICAgeyBlbmRPcGVyYXRpb25fUjIob3BzW2kkMl0pOyB9XG4gICAgZm9yICh2YXIgaSQzID0gMDsgaSQzIDwgb3BzLmxlbmd0aDsgaSQzKyspIC8vIFdyaXRlIERPTSAobWF5YmUpXG4gICAgICB7IGVuZE9wZXJhdGlvbl9XMihvcHNbaSQzXSk7IH1cbiAgICBmb3IgKHZhciBpJDQgPSAwOyBpJDQgPCBvcHMubGVuZ3RoOyBpJDQrKykgLy8gUmVhZCBET01cbiAgICAgIHsgZW5kT3BlcmF0aW9uX2ZpbmlzaChvcHNbaSQ0XSk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGVuZE9wZXJhdGlvbl9SMShvcCkge1xuICAgIHZhciBjbSA9IG9wLmNtLCBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBtYXliZUNsaXBTY3JvbGxiYXJzKGNtKTtcbiAgICBpZiAob3AudXBkYXRlTWF4TGluZSkgeyBmaW5kTWF4TGluZShjbSk7IH1cblxuICAgIG9wLm11c3RVcGRhdGUgPSBvcC52aWV3Q2hhbmdlZCB8fCBvcC5mb3JjZVVwZGF0ZSB8fCBvcC5zY3JvbGxUb3AgIT0gbnVsbCB8fFxuICAgICAgb3Auc2Nyb2xsVG9Qb3MgJiYgKG9wLnNjcm9sbFRvUG9zLmZyb20ubGluZSA8IGRpc3BsYXkudmlld0Zyb20gfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICBvcC5zY3JvbGxUb1Bvcy50by5saW5lID49IGRpc3BsYXkudmlld1RvKSB8fFxuICAgICAgZGlzcGxheS5tYXhMaW5lQ2hhbmdlZCAmJiBjbS5vcHRpb25zLmxpbmVXcmFwcGluZztcbiAgICBvcC51cGRhdGUgPSBvcC5tdXN0VXBkYXRlICYmXG4gICAgICBuZXcgRGlzcGxheVVwZGF0ZShjbSwgb3AubXVzdFVwZGF0ZSAmJiB7dG9wOiBvcC5zY3JvbGxUb3AsIGVuc3VyZTogb3Auc2Nyb2xsVG9Qb3N9LCBvcC5mb3JjZVVwZGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBlbmRPcGVyYXRpb25fVzEob3ApIHtcbiAgICBvcC51cGRhdGVkRGlzcGxheSA9IG9wLm11c3RVcGRhdGUgJiYgdXBkYXRlRGlzcGxheUlmTmVlZGVkKG9wLmNtLCBvcC51cGRhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gZW5kT3BlcmF0aW9uX1IyKG9wKSB7XG4gICAgdmFyIGNtID0gb3AuY20sIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgIGlmIChvcC51cGRhdGVkRGlzcGxheSkgeyB1cGRhdGVIZWlnaHRzSW5WaWV3cG9ydChjbSk7IH1cblxuICAgIG9wLmJhck1lYXN1cmUgPSBtZWFzdXJlRm9yU2Nyb2xsYmFycyhjbSk7XG5cbiAgICAvLyBJZiB0aGUgbWF4IGxpbmUgY2hhbmdlZCBzaW5jZSBpdCB3YXMgbGFzdCBtZWFzdXJlZCwgbWVhc3VyZSBpdCxcbiAgICAvLyBhbmQgZW5zdXJlIHRoZSBkb2N1bWVudCdzIHdpZHRoIG1hdGNoZXMgaXQuXG4gICAgLy8gdXBkYXRlRGlzcGxheV9XMiB3aWxsIHVzZSB0aGVzZSBwcm9wZXJ0aWVzIHRvIGRvIHRoZSBhY3R1YWwgcmVzaXppbmdcbiAgICBpZiAoZGlzcGxheS5tYXhMaW5lQ2hhbmdlZCAmJiAhY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIHtcbiAgICAgIG9wLmFkanVzdFdpZHRoVG8gPSBtZWFzdXJlQ2hhcihjbSwgZGlzcGxheS5tYXhMaW5lLCBkaXNwbGF5Lm1heExpbmUudGV4dC5sZW5ndGgpLmxlZnQgKyAzO1xuICAgICAgY20uZGlzcGxheS5zaXplcldpZHRoID0gb3AuYWRqdXN0V2lkdGhUbztcbiAgICAgIG9wLmJhck1lYXN1cmUuc2Nyb2xsV2lkdGggPVxuICAgICAgICBNYXRoLm1heChkaXNwbGF5LnNjcm9sbGVyLmNsaWVudFdpZHRoLCBkaXNwbGF5LnNpemVyLm9mZnNldExlZnQgKyBvcC5hZGp1c3RXaWR0aFRvICsgc2Nyb2xsR2FwKGNtKSArIGNtLmRpc3BsYXkuYmFyV2lkdGgpO1xuICAgICAgb3AubWF4U2Nyb2xsTGVmdCA9IE1hdGgubWF4KDAsIGRpc3BsYXkuc2l6ZXIub2Zmc2V0TGVmdCArIG9wLmFkanVzdFdpZHRoVG8gLSBkaXNwbGF5V2lkdGgoY20pKTtcbiAgICB9XG5cbiAgICBpZiAob3AudXBkYXRlZERpc3BsYXkgfHwgb3Auc2VsZWN0aW9uQ2hhbmdlZClcbiAgICAgIHsgb3AucHJlcGFyZWRTZWxlY3Rpb24gPSBkaXNwbGF5LmlucHV0LnByZXBhcmVTZWxlY3Rpb24oKTsgfVxuICB9XG5cbiAgZnVuY3Rpb24gZW5kT3BlcmF0aW9uX1cyKG9wKSB7XG4gICAgdmFyIGNtID0gb3AuY207XG5cbiAgICBpZiAob3AuYWRqdXN0V2lkdGhUbyAhPSBudWxsKSB7XG4gICAgICBjbS5kaXNwbGF5LnNpemVyLnN0eWxlLm1pbldpZHRoID0gb3AuYWRqdXN0V2lkdGhUbyArIFwicHhcIjtcbiAgICAgIGlmIChvcC5tYXhTY3JvbGxMZWZ0IDwgY20uZG9jLnNjcm9sbExlZnQpXG4gICAgICAgIHsgc2V0U2Nyb2xsTGVmdChjbSwgTWF0aC5taW4oY20uZGlzcGxheS5zY3JvbGxlci5zY3JvbGxMZWZ0LCBvcC5tYXhTY3JvbGxMZWZ0KSwgdHJ1ZSk7IH1cbiAgICAgIGNtLmRpc3BsYXkubWF4TGluZUNoYW5nZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICB2YXIgdGFrZUZvY3VzID0gb3AuZm9jdXMgJiYgb3AuZm9jdXMgPT0gYWN0aXZlRWx0KHJvb3QoY20pKTtcbiAgICBpZiAob3AucHJlcGFyZWRTZWxlY3Rpb24pXG4gICAgICB7IGNtLmRpc3BsYXkuaW5wdXQuc2hvd1NlbGVjdGlvbihvcC5wcmVwYXJlZFNlbGVjdGlvbiwgdGFrZUZvY3VzKTsgfVxuICAgIGlmIChvcC51cGRhdGVkRGlzcGxheSB8fCBvcC5zdGFydEhlaWdodCAhPSBjbS5kb2MuaGVpZ2h0KVxuICAgICAgeyB1cGRhdGVTY3JvbGxiYXJzKGNtLCBvcC5iYXJNZWFzdXJlKTsgfVxuICAgIGlmIChvcC51cGRhdGVkRGlzcGxheSlcbiAgICAgIHsgc2V0RG9jdW1lbnRIZWlnaHQoY20sIG9wLmJhck1lYXN1cmUpOyB9XG5cbiAgICBpZiAob3Auc2VsZWN0aW9uQ2hhbmdlZCkgeyByZXN0YXJ0QmxpbmsoY20pOyB9XG5cbiAgICBpZiAoY20uc3RhdGUuZm9jdXNlZCAmJiBvcC51cGRhdGVJbnB1dClcbiAgICAgIHsgY20uZGlzcGxheS5pbnB1dC5yZXNldChvcC50eXBpbmcpOyB9XG4gICAgaWYgKHRha2VGb2N1cykgeyBlbnN1cmVGb2N1cyhvcC5jbSk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGVuZE9wZXJhdGlvbl9maW5pc2gob3ApIHtcbiAgICB2YXIgY20gPSBvcC5jbSwgZGlzcGxheSA9IGNtLmRpc3BsYXksIGRvYyA9IGNtLmRvYztcblxuICAgIGlmIChvcC51cGRhdGVkRGlzcGxheSkgeyBwb3N0VXBkYXRlRGlzcGxheShjbSwgb3AudXBkYXRlKTsgfVxuXG4gICAgLy8gQWJvcnQgbW91c2Ugd2hlZWwgZGVsdGEgbWVhc3VyZW1lbnQsIHdoZW4gc2Nyb2xsaW5nIGV4cGxpY2l0bHlcbiAgICBpZiAoZGlzcGxheS53aGVlbFN0YXJ0WCAhPSBudWxsICYmIChvcC5zY3JvbGxUb3AgIT0gbnVsbCB8fCBvcC5zY3JvbGxMZWZ0ICE9IG51bGwgfHwgb3Auc2Nyb2xsVG9Qb3MpKVxuICAgICAgeyBkaXNwbGF5LndoZWVsU3RhcnRYID0gZGlzcGxheS53aGVlbFN0YXJ0WSA9IG51bGw7IH1cblxuICAgIC8vIFByb3BhZ2F0ZSB0aGUgc2Nyb2xsIHBvc2l0aW9uIHRvIHRoZSBhY3R1YWwgRE9NIHNjcm9sbGVyXG4gICAgaWYgKG9wLnNjcm9sbFRvcCAhPSBudWxsKSB7IHNldFNjcm9sbFRvcChjbSwgb3Auc2Nyb2xsVG9wLCBvcC5mb3JjZVNjcm9sbCk7IH1cblxuICAgIGlmIChvcC5zY3JvbGxMZWZ0ICE9IG51bGwpIHsgc2V0U2Nyb2xsTGVmdChjbSwgb3Auc2Nyb2xsTGVmdCwgdHJ1ZSwgdHJ1ZSk7IH1cbiAgICAvLyBJZiB3ZSBuZWVkIHRvIHNjcm9sbCBhIHNwZWNpZmljIHBvc2l0aW9uIGludG8gdmlldywgZG8gc28uXG4gICAgaWYgKG9wLnNjcm9sbFRvUG9zKSB7XG4gICAgICB2YXIgcmVjdCA9IHNjcm9sbFBvc0ludG9WaWV3KGNtLCBjbGlwUG9zKGRvYywgb3Auc2Nyb2xsVG9Qb3MuZnJvbSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBQb3MoZG9jLCBvcC5zY3JvbGxUb1Bvcy50byksIG9wLnNjcm9sbFRvUG9zLm1hcmdpbik7XG4gICAgICBtYXliZVNjcm9sbFdpbmRvdyhjbSwgcmVjdCk7XG4gICAgfVxuXG4gICAgLy8gRmlyZSBldmVudHMgZm9yIG1hcmtlcnMgdGhhdCBhcmUgaGlkZGVuL3VuaWRkZW4gYnkgZWRpdGluZyBvclxuICAgIC8vIHVuZG9pbmdcbiAgICB2YXIgaGlkZGVuID0gb3AubWF5YmVIaWRkZW5NYXJrZXJzLCB1bmhpZGRlbiA9IG9wLm1heWJlVW5oaWRkZW5NYXJrZXJzO1xuICAgIGlmIChoaWRkZW4pIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBoaWRkZW4ubGVuZ3RoOyArK2kpXG4gICAgICB7IGlmICghaGlkZGVuW2ldLmxpbmVzLmxlbmd0aCkgeyBzaWduYWwoaGlkZGVuW2ldLCBcImhpZGVcIik7IH0gfSB9XG4gICAgaWYgKHVuaGlkZGVuKSB7IGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHVuaGlkZGVuLmxlbmd0aDsgKytpJDEpXG4gICAgICB7IGlmICh1bmhpZGRlbltpJDFdLmxpbmVzLmxlbmd0aCkgeyBzaWduYWwodW5oaWRkZW5baSQxXSwgXCJ1bmhpZGVcIik7IH0gfSB9XG5cbiAgICBpZiAoZGlzcGxheS53cmFwcGVyLm9mZnNldEhlaWdodClcbiAgICAgIHsgZG9jLnNjcm9sbFRvcCA9IGNtLmRpc3BsYXkuc2Nyb2xsZXIuc2Nyb2xsVG9wOyB9XG5cbiAgICAvLyBGaXJlIGNoYW5nZSBldmVudHMsIGFuZCBkZWxheWVkIGV2ZW50IGhhbmRsZXJzXG4gICAgaWYgKG9wLmNoYW5nZU9ianMpXG4gICAgICB7IHNpZ25hbChjbSwgXCJjaGFuZ2VzXCIsIGNtLCBvcC5jaGFuZ2VPYmpzKTsgfVxuICAgIGlmIChvcC51cGRhdGUpXG4gICAgICB7IG9wLnVwZGF0ZS5maW5pc2goKTsgfVxuICB9XG5cbiAgLy8gUnVuIHRoZSBnaXZlbiBmdW5jdGlvbiBpbiBhbiBvcGVyYXRpb25cbiAgZnVuY3Rpb24gcnVuSW5PcChjbSwgZikge1xuICAgIGlmIChjbS5jdXJPcCkgeyByZXR1cm4gZigpIH1cbiAgICBzdGFydE9wZXJhdGlvbihjbSk7XG4gICAgdHJ5IHsgcmV0dXJuIGYoKSB9XG4gICAgZmluYWxseSB7IGVuZE9wZXJhdGlvbihjbSk7IH1cbiAgfVxuICAvLyBXcmFwcyBhIGZ1bmN0aW9uIGluIGFuIG9wZXJhdGlvbi4gUmV0dXJucyB0aGUgd3JhcHBlZCBmdW5jdGlvbi5cbiAgZnVuY3Rpb24gb3BlcmF0aW9uKGNtLCBmKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKGNtLmN1ck9wKSB7IHJldHVybiBmLmFwcGx5KGNtLCBhcmd1bWVudHMpIH1cbiAgICAgIHN0YXJ0T3BlcmF0aW9uKGNtKTtcbiAgICAgIHRyeSB7IHJldHVybiBmLmFwcGx5KGNtLCBhcmd1bWVudHMpIH1cbiAgICAgIGZpbmFsbHkgeyBlbmRPcGVyYXRpb24oY20pOyB9XG4gICAgfVxuICB9XG4gIC8vIFVzZWQgdG8gYWRkIG1ldGhvZHMgdG8gZWRpdG9yIGFuZCBkb2MgaW5zdGFuY2VzLCB3cmFwcGluZyB0aGVtIGluXG4gIC8vIG9wZXJhdGlvbnMuXG4gIGZ1bmN0aW9uIG1ldGhvZE9wKGYpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5jdXJPcCkgeyByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpIH1cbiAgICAgIHN0YXJ0T3BlcmF0aW9uKHRoaXMpO1xuICAgICAgdHJ5IHsgcmV0dXJuIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKSB9XG4gICAgICBmaW5hbGx5IHsgZW5kT3BlcmF0aW9uKHRoaXMpOyB9XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGRvY01ldGhvZE9wKGYpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY20gPSB0aGlzLmNtO1xuICAgICAgaWYgKCFjbSB8fCBjbS5jdXJPcCkgeyByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpIH1cbiAgICAgIHN0YXJ0T3BlcmF0aW9uKGNtKTtcbiAgICAgIHRyeSB7IHJldHVybiBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfVxuICAgICAgZmluYWxseSB7IGVuZE9wZXJhdGlvbihjbSk7IH1cbiAgICB9XG4gIH1cblxuICAvLyBISUdITElHSFQgV09SS0VSXG5cbiAgZnVuY3Rpb24gc3RhcnRXb3JrZXIoY20sIHRpbWUpIHtcbiAgICBpZiAoY20uZG9jLmhpZ2hsaWdodEZyb250aWVyIDwgY20uZGlzcGxheS52aWV3VG8pXG4gICAgICB7IGNtLnN0YXRlLmhpZ2hsaWdodC5zZXQodGltZSwgYmluZChoaWdobGlnaHRXb3JrZXIsIGNtKSk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhpZ2hsaWdodFdvcmtlcihjbSkge1xuICAgIHZhciBkb2MgPSBjbS5kb2M7XG4gICAgaWYgKGRvYy5oaWdobGlnaHRGcm9udGllciA+PSBjbS5kaXNwbGF5LnZpZXdUbykgeyByZXR1cm4gfVxuICAgIHZhciBlbmQgPSArbmV3IERhdGUgKyBjbS5vcHRpb25zLndvcmtUaW1lO1xuICAgIHZhciBjb250ZXh0ID0gZ2V0Q29udGV4dEJlZm9yZShjbSwgZG9jLmhpZ2hsaWdodEZyb250aWVyKTtcbiAgICB2YXIgY2hhbmdlZExpbmVzID0gW107XG5cbiAgICBkb2MuaXRlcihjb250ZXh0LmxpbmUsIE1hdGgubWluKGRvYy5maXJzdCArIGRvYy5zaXplLCBjbS5kaXNwbGF5LnZpZXdUbyArIDUwMCksIGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICBpZiAoY29udGV4dC5saW5lID49IGNtLmRpc3BsYXkudmlld0Zyb20pIHsgLy8gVmlzaWJsZVxuICAgICAgICB2YXIgb2xkU3R5bGVzID0gbGluZS5zdHlsZXM7XG4gICAgICAgIHZhciByZXNldFN0YXRlID0gbGluZS50ZXh0Lmxlbmd0aCA+IGNtLm9wdGlvbnMubWF4SGlnaGxpZ2h0TGVuZ3RoID8gY29weVN0YXRlKGRvYy5tb2RlLCBjb250ZXh0LnN0YXRlKSA6IG51bGw7XG4gICAgICAgIHZhciBoaWdobGlnaHRlZCA9IGhpZ2hsaWdodExpbmUoY20sIGxpbmUsIGNvbnRleHQsIHRydWUpO1xuICAgICAgICBpZiAocmVzZXRTdGF0ZSkgeyBjb250ZXh0LnN0YXRlID0gcmVzZXRTdGF0ZTsgfVxuICAgICAgICBsaW5lLnN0eWxlcyA9IGhpZ2hsaWdodGVkLnN0eWxlcztcbiAgICAgICAgdmFyIG9sZENscyA9IGxpbmUuc3R5bGVDbGFzc2VzLCBuZXdDbHMgPSBoaWdobGlnaHRlZC5jbGFzc2VzO1xuICAgICAgICBpZiAobmV3Q2xzKSB7IGxpbmUuc3R5bGVDbGFzc2VzID0gbmV3Q2xzOyB9XG4gICAgICAgIGVsc2UgaWYgKG9sZENscykgeyBsaW5lLnN0eWxlQ2xhc3NlcyA9IG51bGw7IH1cbiAgICAgICAgdmFyIGlzY2hhbmdlID0gIW9sZFN0eWxlcyB8fCBvbGRTdHlsZXMubGVuZ3RoICE9IGxpbmUuc3R5bGVzLmxlbmd0aCB8fFxuICAgICAgICAgIG9sZENscyAhPSBuZXdDbHMgJiYgKCFvbGRDbHMgfHwgIW5ld0NscyB8fCBvbGRDbHMuYmdDbGFzcyAhPSBuZXdDbHMuYmdDbGFzcyB8fCBvbGRDbHMudGV4dENsYXNzICE9IG5ld0Nscy50ZXh0Q2xhc3MpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgIWlzY2hhbmdlICYmIGkgPCBvbGRTdHlsZXMubGVuZ3RoOyArK2kpIHsgaXNjaGFuZ2UgPSBvbGRTdHlsZXNbaV0gIT0gbGluZS5zdHlsZXNbaV07IH1cbiAgICAgICAgaWYgKGlzY2hhbmdlKSB7IGNoYW5nZWRMaW5lcy5wdXNoKGNvbnRleHQubGluZSk7IH1cbiAgICAgICAgbGluZS5zdGF0ZUFmdGVyID0gY29udGV4dC5zYXZlKCk7XG4gICAgICAgIGNvbnRleHQubmV4dExpbmUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChsaW5lLnRleHQubGVuZ3RoIDw9IGNtLm9wdGlvbnMubWF4SGlnaGxpZ2h0TGVuZ3RoKVxuICAgICAgICAgIHsgcHJvY2Vzc0xpbmUoY20sIGxpbmUudGV4dCwgY29udGV4dCk7IH1cbiAgICAgICAgbGluZS5zdGF0ZUFmdGVyID0gY29udGV4dC5saW5lICUgNSA9PSAwID8gY29udGV4dC5zYXZlKCkgOiBudWxsO1xuICAgICAgICBjb250ZXh0Lm5leHRMaW5lKCk7XG4gICAgICB9XG4gICAgICBpZiAoK25ldyBEYXRlID4gZW5kKSB7XG4gICAgICAgIHN0YXJ0V29ya2VyKGNtLCBjbS5vcHRpb25zLndvcmtEZWxheSk7XG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9XG4gICAgfSk7XG4gICAgZG9jLmhpZ2hsaWdodEZyb250aWVyID0gY29udGV4dC5saW5lO1xuICAgIGRvYy5tb2RlRnJvbnRpZXIgPSBNYXRoLm1heChkb2MubW9kZUZyb250aWVyLCBjb250ZXh0LmxpbmUpO1xuICAgIGlmIChjaGFuZ2VkTGluZXMubGVuZ3RoKSB7IHJ1bkluT3AoY20sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhbmdlZExpbmVzLmxlbmd0aDsgaSsrKVxuICAgICAgICB7IHJlZ0xpbmVDaGFuZ2UoY20sIGNoYW5nZWRMaW5lc1tpXSwgXCJ0ZXh0XCIpOyB9XG4gICAgfSk7IH1cbiAgfVxuXG4gIC8vIERJU1BMQVkgRFJBV0lOR1xuXG4gIHZhciBEaXNwbGF5VXBkYXRlID0gZnVuY3Rpb24oY20sIHZpZXdwb3J0LCBmb3JjZSkge1xuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheTtcblxuICAgIHRoaXMudmlld3BvcnQgPSB2aWV3cG9ydDtcbiAgICAvLyBTdG9yZSBzb21lIHZhbHVlcyB0aGF0IHdlJ2xsIG5lZWQgbGF0ZXIgKGJ1dCBkb24ndCB3YW50IHRvIGZvcmNlIGEgcmVsYXlvdXQgZm9yKVxuICAgIHRoaXMudmlzaWJsZSA9IHZpc2libGVMaW5lcyhkaXNwbGF5LCBjbS5kb2MsIHZpZXdwb3J0KTtcbiAgICB0aGlzLmVkaXRvcklzSGlkZGVuID0gIWRpc3BsYXkud3JhcHBlci5vZmZzZXRXaWR0aDtcbiAgICB0aGlzLndyYXBwZXJIZWlnaHQgPSBkaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0O1xuICAgIHRoaXMud3JhcHBlcldpZHRoID0gZGlzcGxheS53cmFwcGVyLmNsaWVudFdpZHRoO1xuICAgIHRoaXMub2xkRGlzcGxheVdpZHRoID0gZGlzcGxheVdpZHRoKGNtKTtcbiAgICB0aGlzLmZvcmNlID0gZm9yY2U7XG4gICAgdGhpcy5kaW1zID0gZ2V0RGltZW5zaW9ucyhjbSk7XG4gICAgdGhpcy5ldmVudHMgPSBbXTtcbiAgfTtcblxuICBEaXNwbGF5VXBkYXRlLnByb3RvdHlwZS5zaWduYWwgPSBmdW5jdGlvbiAoZW1pdHRlciwgdHlwZSkge1xuICAgIGlmIChoYXNIYW5kbGVyKGVtaXR0ZXIsIHR5cGUpKVxuICAgICAgeyB0aGlzLmV2ZW50cy5wdXNoKGFyZ3VtZW50cyk7IH1cbiAgfTtcbiAgRGlzcGxheVVwZGF0ZS5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5ldmVudHMubGVuZ3RoOyBpKyspXG4gICAgICB7IHNpZ25hbC5hcHBseShudWxsLCB0aGlzLmV2ZW50c1tpXSk7IH1cbiAgfTtcblxuICBmdW5jdGlvbiBtYXliZUNsaXBTY3JvbGxiYXJzKGNtKSB7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5O1xuICAgIGlmICghZGlzcGxheS5zY3JvbGxiYXJzQ2xpcHBlZCAmJiBkaXNwbGF5LnNjcm9sbGVyLm9mZnNldFdpZHRoKSB7XG4gICAgICBkaXNwbGF5Lm5hdGl2ZUJhcldpZHRoID0gZGlzcGxheS5zY3JvbGxlci5vZmZzZXRXaWR0aCAtIGRpc3BsYXkuc2Nyb2xsZXIuY2xpZW50V2lkdGg7XG4gICAgICBkaXNwbGF5LmhlaWdodEZvcmNlci5zdHlsZS5oZWlnaHQgPSBzY3JvbGxHYXAoY20pICsgXCJweFwiO1xuICAgICAgZGlzcGxheS5zaXplci5zdHlsZS5tYXJnaW5Cb3R0b20gPSAtZGlzcGxheS5uYXRpdmVCYXJXaWR0aCArIFwicHhcIjtcbiAgICAgIGRpc3BsYXkuc2l6ZXIuc3R5bGUuYm9yZGVyUmlnaHRXaWR0aCA9IHNjcm9sbEdhcChjbSkgKyBcInB4XCI7XG4gICAgICBkaXNwbGF5LnNjcm9sbGJhcnNDbGlwcGVkID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZWxlY3Rpb25TbmFwc2hvdChjbSkge1xuICAgIGlmIChjbS5oYXNGb2N1cygpKSB7IHJldHVybiBudWxsIH1cbiAgICB2YXIgYWN0aXZlID0gYWN0aXZlRWx0KHJvb3QoY20pKTtcbiAgICBpZiAoIWFjdGl2ZSB8fCAhY29udGFpbnMoY20uZGlzcGxheS5saW5lRGl2LCBhY3RpdmUpKSB7IHJldHVybiBudWxsIH1cbiAgICB2YXIgcmVzdWx0ID0ge2FjdGl2ZUVsdDogYWN0aXZlfTtcbiAgICBpZiAod2luZG93LmdldFNlbGVjdGlvbikge1xuICAgICAgdmFyIHNlbCA9IHdpbihjbSkuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICBpZiAoc2VsLmFuY2hvck5vZGUgJiYgc2VsLmV4dGVuZCAmJiBjb250YWlucyhjbS5kaXNwbGF5LmxpbmVEaXYsIHNlbC5hbmNob3JOb2RlKSkge1xuICAgICAgICByZXN1bHQuYW5jaG9yTm9kZSA9IHNlbC5hbmNob3JOb2RlO1xuICAgICAgICByZXN1bHQuYW5jaG9yT2Zmc2V0ID0gc2VsLmFuY2hvck9mZnNldDtcbiAgICAgICAgcmVzdWx0LmZvY3VzTm9kZSA9IHNlbC5mb2N1c05vZGU7XG4gICAgICAgIHJlc3VsdC5mb2N1c09mZnNldCA9IHNlbC5mb2N1c09mZnNldDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgZnVuY3Rpb24gcmVzdG9yZVNlbGVjdGlvbihzbmFwc2hvdCkge1xuICAgIGlmICghc25hcHNob3QgfHwgIXNuYXBzaG90LmFjdGl2ZUVsdCB8fCBzbmFwc2hvdC5hY3RpdmVFbHQgPT0gYWN0aXZlRWx0KHJvb3ROb2RlKHNuYXBzaG90LmFjdGl2ZUVsdCkpKSB7IHJldHVybiB9XG4gICAgc25hcHNob3QuYWN0aXZlRWx0LmZvY3VzKCk7XG4gICAgaWYgKCEvXihJTlBVVHxURVhUQVJFQSkkLy50ZXN0KHNuYXBzaG90LmFjdGl2ZUVsdC5ub2RlTmFtZSkgJiZcbiAgICAgICAgc25hcHNob3QuYW5jaG9yTm9kZSAmJiBjb250YWlucyhkb2N1bWVudC5ib2R5LCBzbmFwc2hvdC5hbmNob3JOb2RlKSAmJiBjb250YWlucyhkb2N1bWVudC5ib2R5LCBzbmFwc2hvdC5mb2N1c05vZGUpKSB7XG4gICAgICB2YXIgZG9jID0gc25hcHNob3QuYWN0aXZlRWx0Lm93bmVyRG9jdW1lbnQ7XG4gICAgICB2YXIgc2VsID0gZG9jLmRlZmF1bHRWaWV3LmdldFNlbGVjdGlvbigpLCByYW5nZSA9IGRvYy5jcmVhdGVSYW5nZSgpO1xuICAgICAgcmFuZ2Uuc2V0RW5kKHNuYXBzaG90LmFuY2hvck5vZGUsIHNuYXBzaG90LmFuY2hvck9mZnNldCk7XG4gICAgICByYW5nZS5jb2xsYXBzZShmYWxzZSk7XG4gICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICBzZWwuYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgc2VsLmV4dGVuZChzbmFwc2hvdC5mb2N1c05vZGUsIHNuYXBzaG90LmZvY3VzT2Zmc2V0KTtcbiAgICB9XG4gIH1cblxuICAvLyBEb2VzIHRoZSBhY3R1YWwgdXBkYXRpbmcgb2YgdGhlIGxpbmUgZGlzcGxheS4gQmFpbHMgb3V0XG4gIC8vIChyZXR1cm5pbmcgZmFsc2UpIHdoZW4gdGhlcmUgaXMgbm90aGluZyB0byBiZSBkb25lIGFuZCBmb3JjZWQgaXNcbiAgLy8gZmFsc2UuXG4gIGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXlJZk5lZWRlZChjbSwgdXBkYXRlKSB7XG4gICAgdmFyIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBkb2MgPSBjbS5kb2M7XG5cbiAgICBpZiAodXBkYXRlLmVkaXRvcklzSGlkZGVuKSB7XG4gICAgICByZXNldFZpZXcoY20pO1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgLy8gQmFpbCBvdXQgaWYgdGhlIHZpc2libGUgYXJlYSBpcyBhbHJlYWR5IHJlbmRlcmVkIGFuZCBub3RoaW5nIGNoYW5nZWQuXG4gICAgaWYgKCF1cGRhdGUuZm9yY2UgJiZcbiAgICAgICAgdXBkYXRlLnZpc2libGUuZnJvbSA+PSBkaXNwbGF5LnZpZXdGcm9tICYmIHVwZGF0ZS52aXNpYmxlLnRvIDw9IGRpc3BsYXkudmlld1RvICYmXG4gICAgICAgIChkaXNwbGF5LnVwZGF0ZUxpbmVOdW1iZXJzID09IG51bGwgfHwgZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA+PSBkaXNwbGF5LnZpZXdUbykgJiZcbiAgICAgICAgZGlzcGxheS5yZW5kZXJlZFZpZXcgPT0gZGlzcGxheS52aWV3ICYmIGNvdW50RGlydHlWaWV3KGNtKSA9PSAwKVxuICAgICAgeyByZXR1cm4gZmFsc2UgfVxuXG4gICAgaWYgKG1heWJlVXBkYXRlTGluZU51bWJlcldpZHRoKGNtKSkge1xuICAgICAgcmVzZXRWaWV3KGNtKTtcbiAgICAgIHVwZGF0ZS5kaW1zID0gZ2V0RGltZW5zaW9ucyhjbSk7XG4gICAgfVxuXG4gICAgLy8gQ29tcHV0ZSBhIHN1aXRhYmxlIG5ldyB2aWV3cG9ydCAoZnJvbSAmIHRvKVxuICAgIHZhciBlbmQgPSBkb2MuZmlyc3QgKyBkb2Muc2l6ZTtcbiAgICB2YXIgZnJvbSA9IE1hdGgubWF4KHVwZGF0ZS52aXNpYmxlLmZyb20gLSBjbS5vcHRpb25zLnZpZXdwb3J0TWFyZ2luLCBkb2MuZmlyc3QpO1xuICAgIHZhciB0byA9IE1hdGgubWluKGVuZCwgdXBkYXRlLnZpc2libGUudG8gKyBjbS5vcHRpb25zLnZpZXdwb3J0TWFyZ2luKTtcbiAgICBpZiAoZGlzcGxheS52aWV3RnJvbSA8IGZyb20gJiYgZnJvbSAtIGRpc3BsYXkudmlld0Zyb20gPCAyMCkgeyBmcm9tID0gTWF0aC5tYXgoZG9jLmZpcnN0LCBkaXNwbGF5LnZpZXdGcm9tKTsgfVxuICAgIGlmIChkaXNwbGF5LnZpZXdUbyA+IHRvICYmIGRpc3BsYXkudmlld1RvIC0gdG8gPCAyMCkgeyB0byA9IE1hdGgubWluKGVuZCwgZGlzcGxheS52aWV3VG8pOyB9XG4gICAgaWYgKHNhd0NvbGxhcHNlZFNwYW5zKSB7XG4gICAgICBmcm9tID0gdmlzdWFsTGluZU5vKGNtLmRvYywgZnJvbSk7XG4gICAgICB0byA9IHZpc3VhbExpbmVFbmRObyhjbS5kb2MsIHRvKTtcbiAgICB9XG5cbiAgICB2YXIgZGlmZmVyZW50ID0gZnJvbSAhPSBkaXNwbGF5LnZpZXdGcm9tIHx8IHRvICE9IGRpc3BsYXkudmlld1RvIHx8XG4gICAgICBkaXNwbGF5Lmxhc3RXcmFwSGVpZ2h0ICE9IHVwZGF0ZS53cmFwcGVySGVpZ2h0IHx8IGRpc3BsYXkubGFzdFdyYXBXaWR0aCAhPSB1cGRhdGUud3JhcHBlcldpZHRoO1xuICAgIGFkanVzdFZpZXcoY20sIGZyb20sIHRvKTtcblxuICAgIGRpc3BsYXkudmlld09mZnNldCA9IGhlaWdodEF0TGluZShnZXRMaW5lKGNtLmRvYywgZGlzcGxheS52aWV3RnJvbSkpO1xuICAgIC8vIFBvc2l0aW9uIHRoZSBtb3ZlciBkaXYgdG8gYWxpZ24gd2l0aCB0aGUgY3VycmVudCBzY3JvbGwgcG9zaXRpb25cbiAgICBjbS5kaXNwbGF5Lm1vdmVyLnN0eWxlLnRvcCA9IGRpc3BsYXkudmlld09mZnNldCArIFwicHhcIjtcblxuICAgIHZhciB0b1VwZGF0ZSA9IGNvdW50RGlydHlWaWV3KGNtKTtcbiAgICBpZiAoIWRpZmZlcmVudCAmJiB0b1VwZGF0ZSA9PSAwICYmICF1cGRhdGUuZm9yY2UgJiYgZGlzcGxheS5yZW5kZXJlZFZpZXcgPT0gZGlzcGxheS52aWV3ICYmXG4gICAgICAgIChkaXNwbGF5LnVwZGF0ZUxpbmVOdW1iZXJzID09IG51bGwgfHwgZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycyA+PSBkaXNwbGF5LnZpZXdUbykpXG4gICAgICB7IHJldHVybiBmYWxzZSB9XG5cbiAgICAvLyBGb3IgYmlnIGNoYW5nZXMsIHdlIGhpZGUgdGhlIGVuY2xvc2luZyBlbGVtZW50IGR1cmluZyB0aGVcbiAgICAvLyB1cGRhdGUsIHNpbmNlIHRoYXQgc3BlZWRzIHVwIHRoZSBvcGVyYXRpb25zIG9uIG1vc3QgYnJvd3NlcnMuXG4gICAgdmFyIHNlbFNuYXBzaG90ID0gc2VsZWN0aW9uU25hcHNob3QoY20pO1xuICAgIGlmICh0b1VwZGF0ZSA+IDQpIHsgZGlzcGxheS5saW5lRGl2LnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjsgfVxuICAgIHBhdGNoRGlzcGxheShjbSwgZGlzcGxheS51cGRhdGVMaW5lTnVtYmVycywgdXBkYXRlLmRpbXMpO1xuICAgIGlmICh0b1VwZGF0ZSA+IDQpIHsgZGlzcGxheS5saW5lRGl2LnN0eWxlLmRpc3BsYXkgPSBcIlwiOyB9XG4gICAgZGlzcGxheS5yZW5kZXJlZFZpZXcgPSBkaXNwbGF5LnZpZXc7XG4gICAgLy8gVGhlcmUgbWlnaHQgaGF2ZSBiZWVuIGEgd2lkZ2V0IHdpdGggYSBmb2N1c2VkIGVsZW1lbnQgdGhhdCBnb3RcbiAgICAvLyBoaWRkZW4gb3IgdXBkYXRlZCwgaWYgc28gcmUtZm9jdXMgaXQuXG4gICAgcmVzdG9yZVNlbGVjdGlvbihzZWxTbmFwc2hvdCk7XG5cbiAgICAvLyBQcmV2ZW50IHNlbGVjdGlvbiBhbmQgY3Vyc29ycyBmcm9tIGludGVyZmVyaW5nIHdpdGggdGhlIHNjcm9sbFxuICAgIC8vIHdpZHRoIGFuZCBoZWlnaHQuXG4gICAgcmVtb3ZlQ2hpbGRyZW4oZGlzcGxheS5jdXJzb3JEaXYpO1xuICAgIHJlbW92ZUNoaWxkcmVuKGRpc3BsYXkuc2VsZWN0aW9uRGl2KTtcbiAgICBkaXNwbGF5Lmd1dHRlcnMuc3R5bGUuaGVpZ2h0ID0gZGlzcGxheS5zaXplci5zdHlsZS5taW5IZWlnaHQgPSAwO1xuXG4gICAgaWYgKGRpZmZlcmVudCkge1xuICAgICAgZGlzcGxheS5sYXN0V3JhcEhlaWdodCA9IHVwZGF0ZS53cmFwcGVySGVpZ2h0O1xuICAgICAgZGlzcGxheS5sYXN0V3JhcFdpZHRoID0gdXBkYXRlLndyYXBwZXJXaWR0aDtcbiAgICAgIHN0YXJ0V29ya2VyKGNtLCA0MDApO1xuICAgIH1cblxuICAgIGRpc3BsYXkudXBkYXRlTGluZU51bWJlcnMgPSBudWxsO1xuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvc3RVcGRhdGVEaXNwbGF5KGNtLCB1cGRhdGUpIHtcbiAgICB2YXIgdmlld3BvcnQgPSB1cGRhdGUudmlld3BvcnQ7XG5cbiAgICBmb3IgKHZhciBmaXJzdCA9IHRydWU7OyBmaXJzdCA9IGZhbHNlKSB7XG4gICAgICBpZiAoIWZpcnN0IHx8ICFjbS5vcHRpb25zLmxpbmVXcmFwcGluZyB8fCB1cGRhdGUub2xkRGlzcGxheVdpZHRoID09IGRpc3BsYXlXaWR0aChjbSkpIHtcbiAgICAgICAgLy8gQ2xpcCBmb3JjZWQgdmlld3BvcnQgdG8gYWN0dWFsIHNjcm9sbGFibGUgYXJlYS5cbiAgICAgICAgaWYgKHZpZXdwb3J0ICYmIHZpZXdwb3J0LnRvcCAhPSBudWxsKVxuICAgICAgICAgIHsgdmlld3BvcnQgPSB7dG9wOiBNYXRoLm1pbihjbS5kb2MuaGVpZ2h0ICsgcGFkZGluZ1ZlcnQoY20uZGlzcGxheSkgLSBkaXNwbGF5SGVpZ2h0KGNtKSwgdmlld3BvcnQudG9wKX07IH1cbiAgICAgICAgLy8gVXBkYXRlZCBsaW5lIGhlaWdodHMgbWlnaHQgcmVzdWx0IGluIHRoZSBkcmF3biBhcmVhIG5vdFxuICAgICAgICAvLyBhY3R1YWxseSBjb3ZlcmluZyB0aGUgdmlld3BvcnQuIEtlZXAgbG9vcGluZyB1bnRpbCBpdCBkb2VzLlxuICAgICAgICB1cGRhdGUudmlzaWJsZSA9IHZpc2libGVMaW5lcyhjbS5kaXNwbGF5LCBjbS5kb2MsIHZpZXdwb3J0KTtcbiAgICAgICAgaWYgKHVwZGF0ZS52aXNpYmxlLmZyb20gPj0gY20uZGlzcGxheS52aWV3RnJvbSAmJiB1cGRhdGUudmlzaWJsZS50byA8PSBjbS5kaXNwbGF5LnZpZXdUbylcbiAgICAgICAgICB7IGJyZWFrIH1cbiAgICAgIH0gZWxzZSBpZiAoZmlyc3QpIHtcbiAgICAgICAgdXBkYXRlLnZpc2libGUgPSB2aXNpYmxlTGluZXMoY20uZGlzcGxheSwgY20uZG9jLCB2aWV3cG9ydCk7XG4gICAgICB9XG4gICAgICBpZiAoIXVwZGF0ZURpc3BsYXlJZk5lZWRlZChjbSwgdXBkYXRlKSkgeyBicmVhayB9XG4gICAgICB1cGRhdGVIZWlnaHRzSW5WaWV3cG9ydChjbSk7XG4gICAgICB2YXIgYmFyTWVhc3VyZSA9IG1lYXN1cmVGb3JTY3JvbGxiYXJzKGNtKTtcbiAgICAgIHVwZGF0ZVNlbGVjdGlvbihjbSk7XG4gICAgICB1cGRhdGVTY3JvbGxiYXJzKGNtLCBiYXJNZWFzdXJlKTtcbiAgICAgIHNldERvY3VtZW50SGVpZ2h0KGNtLCBiYXJNZWFzdXJlKTtcbiAgICAgIHVwZGF0ZS5mb3JjZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHVwZGF0ZS5zaWduYWwoY20sIFwidXBkYXRlXCIsIGNtKTtcbiAgICBpZiAoY20uZGlzcGxheS52aWV3RnJvbSAhPSBjbS5kaXNwbGF5LnJlcG9ydGVkVmlld0Zyb20gfHwgY20uZGlzcGxheS52aWV3VG8gIT0gY20uZGlzcGxheS5yZXBvcnRlZFZpZXdUbykge1xuICAgICAgdXBkYXRlLnNpZ25hbChjbSwgXCJ2aWV3cG9ydENoYW5nZVwiLCBjbSwgY20uZGlzcGxheS52aWV3RnJvbSwgY20uZGlzcGxheS52aWV3VG8pO1xuICAgICAgY20uZGlzcGxheS5yZXBvcnRlZFZpZXdGcm9tID0gY20uZGlzcGxheS52aWV3RnJvbTsgY20uZGlzcGxheS5yZXBvcnRlZFZpZXdUbyA9IGNtLmRpc3BsYXkudmlld1RvO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXlTaW1wbGUoY20sIHZpZXdwb3J0KSB7XG4gICAgdmFyIHVwZGF0ZSA9IG5ldyBEaXNwbGF5VXBkYXRlKGNtLCB2aWV3cG9ydCk7XG4gICAgaWYgKHVwZGF0ZURpc3BsYXlJZk5lZWRlZChjbSwgdXBkYXRlKSkge1xuICAgICAgdXBkYXRlSGVpZ2h0c0luVmlld3BvcnQoY20pO1xuICAgICAgcG9zdFVwZGF0ZURpc3BsYXkoY20sIHVwZGF0ZSk7XG4gICAgICB2YXIgYmFyTWVhc3VyZSA9IG1lYXN1cmVGb3JTY3JvbGxiYXJzKGNtKTtcbiAgICAgIHVwZGF0ZVNlbGVjdGlvbihjbSk7XG4gICAgICB1cGRhdGVTY3JvbGxiYXJzKGNtLCBiYXJNZWFzdXJlKTtcbiAgICAgIHNldERvY3VtZW50SGVpZ2h0KGNtLCBiYXJNZWFzdXJlKTtcbiAgICAgIHVwZGF0ZS5maW5pc2goKTtcbiAgICB9XG4gIH1cblxuICAvLyBTeW5jIHRoZSBhY3R1YWwgZGlzcGxheSBET00gc3RydWN0dXJlIHdpdGggZGlzcGxheS52aWV3LCByZW1vdmluZ1xuICAvLyBub2RlcyBmb3IgbGluZXMgdGhhdCBhcmUgbm8gbG9uZ2VyIGluIHZpZXcsIGFuZCBjcmVhdGluZyB0aGUgb25lc1xuICAvLyB0aGF0IGFyZSBub3QgdGhlcmUgeWV0LCBhbmQgdXBkYXRpbmcgdGhlIG9uZXMgdGhhdCBhcmUgb3V0IG9mXG4gIC8vIGRhdGUuXG4gIGZ1bmN0aW9uIHBhdGNoRGlzcGxheShjbSwgdXBkYXRlTnVtYmVyc0Zyb20sIGRpbXMpIHtcbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIGxpbmVOdW1iZXJzID0gY20ub3B0aW9ucy5saW5lTnVtYmVycztcbiAgICB2YXIgY29udGFpbmVyID0gZGlzcGxheS5saW5lRGl2LCBjdXIgPSBjb250YWluZXIuZmlyc3RDaGlsZDtcblxuICAgIGZ1bmN0aW9uIHJtKG5vZGUpIHtcbiAgICAgIHZhciBuZXh0ID0gbm9kZS5uZXh0U2libGluZztcbiAgICAgIC8vIFdvcmtzIGFyb3VuZCBhIHRocm93LXNjcm9sbCBidWcgaW4gT1MgWCBXZWJraXRcbiAgICAgIGlmICh3ZWJraXQgJiYgbWFjICYmIGNtLmRpc3BsYXkuY3VycmVudFdoZWVsVGFyZ2V0ID09IG5vZGUpXG4gICAgICAgIHsgbm9kZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7IH1cbiAgICAgIGVsc2VcbiAgICAgICAgeyBub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7IH1cbiAgICAgIHJldHVybiBuZXh0XG4gICAgfVxuXG4gICAgdmFyIHZpZXcgPSBkaXNwbGF5LnZpZXcsIGxpbmVOID0gZGlzcGxheS52aWV3RnJvbTtcbiAgICAvLyBMb29wIG92ZXIgdGhlIGVsZW1lbnRzIGluIHRoZSB2aWV3LCBzeW5jaW5nIGN1ciAodGhlIERPTSBub2Rlc1xuICAgIC8vIGluIGRpc3BsYXkubGluZURpdikgd2l0aCB0aGUgdmlldyBhcyB3ZSBnby5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBsaW5lVmlldyA9IHZpZXdbaV07XG4gICAgICBpZiAobGluZVZpZXcuaGlkZGVuKSA7IGVsc2UgaWYgKCFsaW5lVmlldy5ub2RlIHx8IGxpbmVWaWV3Lm5vZGUucGFyZW50Tm9kZSAhPSBjb250YWluZXIpIHsgLy8gTm90IGRyYXduIHlldFxuICAgICAgICB2YXIgbm9kZSA9IGJ1aWxkTGluZUVsZW1lbnQoY20sIGxpbmVWaWV3LCBsaW5lTiwgZGltcyk7XG4gICAgICAgIGNvbnRhaW5lci5pbnNlcnRCZWZvcmUobm9kZSwgY3VyKTtcbiAgICAgIH0gZWxzZSB7IC8vIEFscmVhZHkgZHJhd25cbiAgICAgICAgd2hpbGUgKGN1ciAhPSBsaW5lVmlldy5ub2RlKSB7IGN1ciA9IHJtKGN1cik7IH1cbiAgICAgICAgdmFyIHVwZGF0ZU51bWJlciA9IGxpbmVOdW1iZXJzICYmIHVwZGF0ZU51bWJlcnNGcm9tICE9IG51bGwgJiZcbiAgICAgICAgICB1cGRhdGVOdW1iZXJzRnJvbSA8PSBsaW5lTiAmJiBsaW5lVmlldy5saW5lTnVtYmVyO1xuICAgICAgICBpZiAobGluZVZpZXcuY2hhbmdlcykge1xuICAgICAgICAgIGlmIChpbmRleE9mKGxpbmVWaWV3LmNoYW5nZXMsIFwiZ3V0dGVyXCIpID4gLTEpIHsgdXBkYXRlTnVtYmVyID0gZmFsc2U7IH1cbiAgICAgICAgICB1cGRhdGVMaW5lRm9yQ2hhbmdlcyhjbSwgbGluZVZpZXcsIGxpbmVOLCBkaW1zKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodXBkYXRlTnVtYmVyKSB7XG4gICAgICAgICAgcmVtb3ZlQ2hpbGRyZW4obGluZVZpZXcubGluZU51bWJlcik7XG4gICAgICAgICAgbGluZVZpZXcubGluZU51bWJlci5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShsaW5lTnVtYmVyRm9yKGNtLm9wdGlvbnMsIGxpbmVOKSkpO1xuICAgICAgICB9XG4gICAgICAgIGN1ciA9IGxpbmVWaWV3Lm5vZGUubmV4dFNpYmxpbmc7XG4gICAgICB9XG4gICAgICBsaW5lTiArPSBsaW5lVmlldy5zaXplO1xuICAgIH1cbiAgICB3aGlsZSAoY3VyKSB7IGN1ciA9IHJtKGN1cik7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZUd1dHRlclNwYWNlKGRpc3BsYXkpIHtcbiAgICB2YXIgd2lkdGggPSBkaXNwbGF5Lmd1dHRlcnMub2Zmc2V0V2lkdGg7XG4gICAgZGlzcGxheS5zaXplci5zdHlsZS5tYXJnaW5MZWZ0ID0gd2lkdGggKyBcInB4XCI7XG4gICAgLy8gU2VuZCBhbiBldmVudCB0byBjb25zdW1lcnMgcmVzcG9uZGluZyB0byBjaGFuZ2VzIGluIGd1dHRlciB3aWR0aC5cbiAgICBzaWduYWxMYXRlcihkaXNwbGF5LCBcImd1dHRlckNoYW5nZWRcIiwgZGlzcGxheSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXREb2N1bWVudEhlaWdodChjbSwgbWVhc3VyZSkge1xuICAgIGNtLmRpc3BsYXkuc2l6ZXIuc3R5bGUubWluSGVpZ2h0ID0gbWVhc3VyZS5kb2NIZWlnaHQgKyBcInB4XCI7XG4gICAgY20uZGlzcGxheS5oZWlnaHRGb3JjZXIuc3R5bGUudG9wID0gbWVhc3VyZS5kb2NIZWlnaHQgKyBcInB4XCI7XG4gICAgY20uZGlzcGxheS5ndXR0ZXJzLnN0eWxlLmhlaWdodCA9IChtZWFzdXJlLmRvY0hlaWdodCArIGNtLmRpc3BsYXkuYmFySGVpZ2h0ICsgc2Nyb2xsR2FwKGNtKSkgKyBcInB4XCI7XG4gIH1cblxuICAvLyBSZS1hbGlnbiBsaW5lIG51bWJlcnMgYW5kIGd1dHRlciBtYXJrcyB0byBjb21wZW5zYXRlIGZvclxuICAvLyBob3Jpem9udGFsIHNjcm9sbGluZy5cbiAgZnVuY3Rpb24gYWxpZ25Ib3Jpem9udGFsbHkoY20pIHtcbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIHZpZXcgPSBkaXNwbGF5LnZpZXc7XG4gICAgaWYgKCFkaXNwbGF5LmFsaWduV2lkZ2V0cyAmJiAoIWRpc3BsYXkuZ3V0dGVycy5maXJzdENoaWxkIHx8ICFjbS5vcHRpb25zLmZpeGVkR3V0dGVyKSkgeyByZXR1cm4gfVxuICAgIHZhciBjb21wID0gY29tcGVuc2F0ZUZvckhTY3JvbGwoZGlzcGxheSkgLSBkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbExlZnQgKyBjbS5kb2Muc2Nyb2xsTGVmdDtcbiAgICB2YXIgZ3V0dGVyVyA9IGRpc3BsYXkuZ3V0dGVycy5vZmZzZXRXaWR0aCwgbGVmdCA9IGNvbXAgKyBcInB4XCI7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7IGlmICghdmlld1tpXS5oaWRkZW4pIHtcbiAgICAgIGlmIChjbS5vcHRpb25zLmZpeGVkR3V0dGVyKSB7XG4gICAgICAgIGlmICh2aWV3W2ldLmd1dHRlcilcbiAgICAgICAgICB7IHZpZXdbaV0uZ3V0dGVyLnN0eWxlLmxlZnQgPSBsZWZ0OyB9XG4gICAgICAgIGlmICh2aWV3W2ldLmd1dHRlckJhY2tncm91bmQpXG4gICAgICAgICAgeyB2aWV3W2ldLmd1dHRlckJhY2tncm91bmQuc3R5bGUubGVmdCA9IGxlZnQ7IH1cbiAgICAgIH1cbiAgICAgIHZhciBhbGlnbiA9IHZpZXdbaV0uYWxpZ25hYmxlO1xuICAgICAgaWYgKGFsaWduKSB7IGZvciAodmFyIGogPSAwOyBqIDwgYWxpZ24ubGVuZ3RoOyBqKyspXG4gICAgICAgIHsgYWxpZ25bal0uc3R5bGUubGVmdCA9IGxlZnQ7IH0gfVxuICAgIH0gfVxuICAgIGlmIChjbS5vcHRpb25zLmZpeGVkR3V0dGVyKVxuICAgICAgeyBkaXNwbGF5Lmd1dHRlcnMuc3R5bGUubGVmdCA9IChjb21wICsgZ3V0dGVyVykgKyBcInB4XCI7IH1cbiAgfVxuXG4gIC8vIFVzZWQgdG8gZW5zdXJlIHRoYXQgdGhlIGxpbmUgbnVtYmVyIGd1dHRlciBpcyBzdGlsbCB0aGUgcmlnaHRcbiAgLy8gc2l6ZSBmb3IgdGhlIGN1cnJlbnQgZG9jdW1lbnQgc2l6ZS4gUmV0dXJucyB0cnVlIHdoZW4gYW4gdXBkYXRlXG4gIC8vIGlzIG5lZWRlZC5cbiAgZnVuY3Rpb24gbWF5YmVVcGRhdGVMaW5lTnVtYmVyV2lkdGgoY20pIHtcbiAgICBpZiAoIWNtLm9wdGlvbnMubGluZU51bWJlcnMpIHsgcmV0dXJuIGZhbHNlIH1cbiAgICB2YXIgZG9jID0gY20uZG9jLCBsYXN0ID0gbGluZU51bWJlckZvcihjbS5vcHRpb25zLCBkb2MuZmlyc3QgKyBkb2Muc2l6ZSAtIDEpLCBkaXNwbGF5ID0gY20uZGlzcGxheTtcbiAgICBpZiAobGFzdC5sZW5ndGggIT0gZGlzcGxheS5saW5lTnVtQ2hhcnMpIHtcbiAgICAgIHZhciB0ZXN0ID0gZGlzcGxheS5tZWFzdXJlLmFwcGVuZENoaWxkKGVsdChcImRpdlwiLCBbZWx0KFwiZGl2XCIsIGxhc3QpXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcIkNvZGVNaXJyb3ItbGluZW51bWJlciBDb2RlTWlycm9yLWd1dHRlci1lbHRcIikpO1xuICAgICAgdmFyIGlubmVyVyA9IHRlc3QuZmlyc3RDaGlsZC5vZmZzZXRXaWR0aCwgcGFkZGluZyA9IHRlc3Qub2Zmc2V0V2lkdGggLSBpbm5lclc7XG4gICAgICBkaXNwbGF5LmxpbmVHdXR0ZXIuc3R5bGUud2lkdGggPSBcIlwiO1xuICAgICAgZGlzcGxheS5saW5lTnVtSW5uZXJXaWR0aCA9IE1hdGgubWF4KGlubmVyVywgZGlzcGxheS5saW5lR3V0dGVyLm9mZnNldFdpZHRoIC0gcGFkZGluZykgKyAxO1xuICAgICAgZGlzcGxheS5saW5lTnVtV2lkdGggPSBkaXNwbGF5LmxpbmVOdW1Jbm5lcldpZHRoICsgcGFkZGluZztcbiAgICAgIGRpc3BsYXkubGluZU51bUNoYXJzID0gZGlzcGxheS5saW5lTnVtSW5uZXJXaWR0aCA/IGxhc3QubGVuZ3RoIDogLTE7XG4gICAgICBkaXNwbGF5LmxpbmVHdXR0ZXIuc3R5bGUud2lkdGggPSBkaXNwbGF5LmxpbmVOdW1XaWR0aCArIFwicHhcIjtcbiAgICAgIHVwZGF0ZUd1dHRlclNwYWNlKGNtLmRpc3BsYXkpO1xuICAgICAgcmV0dXJuIHRydWVcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBmdW5jdGlvbiBnZXRHdXR0ZXJzKGd1dHRlcnMsIGxpbmVOdW1iZXJzKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdLCBzYXdMaW5lTnVtYmVycyA9IGZhbHNlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ3V0dGVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG5hbWUgPSBndXR0ZXJzW2ldLCBzdHlsZSA9IG51bGw7XG4gICAgICBpZiAodHlwZW9mIG5hbWUgIT0gXCJzdHJpbmdcIikgeyBzdHlsZSA9IG5hbWUuc3R5bGU7IG5hbWUgPSBuYW1lLmNsYXNzTmFtZTsgfVxuICAgICAgaWYgKG5hbWUgPT0gXCJDb2RlTWlycm9yLWxpbmVudW1iZXJzXCIpIHtcbiAgICAgICAgaWYgKCFsaW5lTnVtYmVycykgeyBjb250aW51ZSB9XG4gICAgICAgIGVsc2UgeyBzYXdMaW5lTnVtYmVycyA9IHRydWU7IH1cbiAgICAgIH1cbiAgICAgIHJlc3VsdC5wdXNoKHtjbGFzc05hbWU6IG5hbWUsIHN0eWxlOiBzdHlsZX0pO1xuICAgIH1cbiAgICBpZiAobGluZU51bWJlcnMgJiYgIXNhd0xpbmVOdW1iZXJzKSB7IHJlc3VsdC5wdXNoKHtjbGFzc05hbWU6IFwiQ29kZU1pcnJvci1saW5lbnVtYmVyc1wiLCBzdHlsZTogbnVsbH0pOyB9XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgLy8gUmVidWlsZCB0aGUgZ3V0dGVyIGVsZW1lbnRzLCBlbnN1cmUgdGhlIG1hcmdpbiB0byB0aGUgbGVmdCBvZiB0aGVcbiAgLy8gY29kZSBtYXRjaGVzIHRoZWlyIHdpZHRoLlxuICBmdW5jdGlvbiByZW5kZXJHdXR0ZXJzKGRpc3BsYXkpIHtcbiAgICB2YXIgZ3V0dGVycyA9IGRpc3BsYXkuZ3V0dGVycywgc3BlY3MgPSBkaXNwbGF5Lmd1dHRlclNwZWNzO1xuICAgIHJlbW92ZUNoaWxkcmVuKGd1dHRlcnMpO1xuICAgIGRpc3BsYXkubGluZUd1dHRlciA9IG51bGw7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGVjcy5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHJlZiA9IHNwZWNzW2ldO1xuICAgICAgdmFyIGNsYXNzTmFtZSA9IHJlZi5jbGFzc05hbWU7XG4gICAgICB2YXIgc3R5bGUgPSByZWYuc3R5bGU7XG4gICAgICB2YXIgZ0VsdCA9IGd1dHRlcnMuYXBwZW5kQ2hpbGQoZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1ndXR0ZXIgXCIgKyBjbGFzc05hbWUpKTtcbiAgICAgIGlmIChzdHlsZSkgeyBnRWx0LnN0eWxlLmNzc1RleHQgPSBzdHlsZTsgfVxuICAgICAgaWYgKGNsYXNzTmFtZSA9PSBcIkNvZGVNaXJyb3ItbGluZW51bWJlcnNcIikge1xuICAgICAgICBkaXNwbGF5LmxpbmVHdXR0ZXIgPSBnRWx0O1xuICAgICAgICBnRWx0LnN0eWxlLndpZHRoID0gKGRpc3BsYXkubGluZU51bVdpZHRoIHx8IDEpICsgXCJweFwiO1xuICAgICAgfVxuICAgIH1cbiAgICBndXR0ZXJzLnN0eWxlLmRpc3BsYXkgPSBzcGVjcy5sZW5ndGggPyBcIlwiIDogXCJub25lXCI7XG4gICAgdXBkYXRlR3V0dGVyU3BhY2UoZGlzcGxheSk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVHdXR0ZXJzKGNtKSB7XG4gICAgcmVuZGVyR3V0dGVycyhjbS5kaXNwbGF5KTtcbiAgICByZWdDaGFuZ2UoY20pO1xuICAgIGFsaWduSG9yaXpvbnRhbGx5KGNtKTtcbiAgfVxuXG4gIC8vIFRoZSBkaXNwbGF5IGhhbmRsZXMgdGhlIERPTSBpbnRlZ3JhdGlvbiwgYm90aCBmb3IgaW5wdXQgcmVhZGluZ1xuICAvLyBhbmQgY29udGVudCBkcmF3aW5nLiBJdCBob2xkcyByZWZlcmVuY2VzIHRvIERPTSBub2RlcyBhbmRcbiAgLy8gZGlzcGxheS1yZWxhdGVkIHN0YXRlLlxuXG4gIGZ1bmN0aW9uIERpc3BsYXkocGxhY2UsIGRvYywgaW5wdXQsIG9wdGlvbnMpIHtcbiAgICB2YXIgZCA9IHRoaXM7XG4gICAgdGhpcy5pbnB1dCA9IGlucHV0O1xuXG4gICAgLy8gQ292ZXJzIGJvdHRvbS1yaWdodCBzcXVhcmUgd2hlbiBib3RoIHNjcm9sbGJhcnMgYXJlIHByZXNlbnQuXG4gICAgZC5zY3JvbGxiYXJGaWxsZXIgPSBlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLXNjcm9sbGJhci1maWxsZXJcIik7XG4gICAgZC5zY3JvbGxiYXJGaWxsZXIuc2V0QXR0cmlidXRlKFwiY20tbm90LWNvbnRlbnRcIiwgXCJ0cnVlXCIpO1xuICAgIC8vIENvdmVycyBib3R0b20gb2YgZ3V0dGVyIHdoZW4gY292ZXJHdXR0ZXJOZXh0VG9TY3JvbGxiYXIgaXMgb25cbiAgICAvLyBhbmQgaCBzY3JvbGxiYXIgaXMgcHJlc2VudC5cbiAgICBkLmd1dHRlckZpbGxlciA9IGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3ItZ3V0dGVyLWZpbGxlclwiKTtcbiAgICBkLmd1dHRlckZpbGxlci5zZXRBdHRyaWJ1dGUoXCJjbS1ub3QtY29udGVudFwiLCBcInRydWVcIik7XG4gICAgLy8gV2lsbCBjb250YWluIHRoZSBhY3R1YWwgY29kZSwgcG9zaXRpb25lZCB0byBjb3ZlciB0aGUgdmlld3BvcnQuXG4gICAgZC5saW5lRGl2ID0gZWx0UChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3ItY29kZVwiKTtcbiAgICAvLyBFbGVtZW50cyBhcmUgYWRkZWQgdG8gdGhlc2UgdG8gcmVwcmVzZW50IHNlbGVjdGlvbiBhbmQgY3Vyc29ycy5cbiAgICBkLnNlbGVjdGlvbkRpdiA9IGVsdChcImRpdlwiLCBudWxsLCBudWxsLCBcInBvc2l0aW9uOiByZWxhdGl2ZTsgei1pbmRleDogMVwiKTtcbiAgICBkLmN1cnNvckRpdiA9IGVsdChcImRpdlwiLCBudWxsLCBcIkNvZGVNaXJyb3ItY3Vyc29yc1wiKTtcbiAgICAvLyBBIHZpc2liaWxpdHk6IGhpZGRlbiBlbGVtZW50IHVzZWQgdG8gZmluZCB0aGUgc2l6ZSBvZiB0aGluZ3MuXG4gICAgZC5tZWFzdXJlID0gZWx0KFwiZGl2XCIsIG51bGwsIFwiQ29kZU1pcnJvci1tZWFzdXJlXCIpO1xuICAgIC8vIFdoZW4gbGluZXMgb3V0c2lkZSBvZiB0aGUgdmlld3BvcnQgYXJlIG1lYXN1cmVkLCB0aGV5IGFyZSBkcmF3biBpbiB0aGlzLlxuICAgIGQubGluZU1lYXN1cmUgPSBlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLW1lYXN1cmVcIik7XG4gICAgLy8gV3JhcHMgZXZlcnl0aGluZyB0aGF0IG5lZWRzIHRvIGV4aXN0IGluc2lkZSB0aGUgdmVydGljYWxseS1wYWRkZWQgY29vcmRpbmF0ZSBzeXN0ZW1cbiAgICBkLmxpbmVTcGFjZSA9IGVsdFAoXCJkaXZcIiwgW2QubWVhc3VyZSwgZC5saW5lTWVhc3VyZSwgZC5zZWxlY3Rpb25EaXYsIGQuY3Vyc29yRGl2LCBkLmxpbmVEaXZdLFxuICAgICAgICAgICAgICAgICAgICAgIG51bGwsIFwicG9zaXRpb246IHJlbGF0aXZlOyBvdXRsaW5lOiBub25lXCIpO1xuICAgIHZhciBsaW5lcyA9IGVsdFAoXCJkaXZcIiwgW2QubGluZVNwYWNlXSwgXCJDb2RlTWlycm9yLWxpbmVzXCIpO1xuICAgIC8vIE1vdmVkIGFyb3VuZCBpdHMgcGFyZW50IHRvIGNvdmVyIHZpc2libGUgdmlldy5cbiAgICBkLm1vdmVyID0gZWx0KFwiZGl2XCIsIFtsaW5lc10sIG51bGwsIFwicG9zaXRpb246IHJlbGF0aXZlXCIpO1xuICAgIC8vIFNldCB0byB0aGUgaGVpZ2h0IG9mIHRoZSBkb2N1bWVudCwgYWxsb3dpbmcgc2Nyb2xsaW5nLlxuICAgIGQuc2l6ZXIgPSBlbHQoXCJkaXZcIiwgW2QubW92ZXJdLCBcIkNvZGVNaXJyb3Itc2l6ZXJcIik7XG4gICAgZC5zaXplcldpZHRoID0gbnVsbDtcbiAgICAvLyBCZWhhdmlvciBvZiBlbHRzIHdpdGggb3ZlcmZsb3c6IGF1dG8gYW5kIHBhZGRpbmcgaXNcbiAgICAvLyBpbmNvbnNpc3RlbnQgYWNyb3NzIGJyb3dzZXJzLiBUaGlzIGlzIHVzZWQgdG8gZW5zdXJlIHRoZVxuICAgIC8vIHNjcm9sbGFibGUgYXJlYSBpcyBiaWcgZW5vdWdoLlxuICAgIGQuaGVpZ2h0Rm9yY2VyID0gZWx0KFwiZGl2XCIsIG51bGwsIG51bGwsIFwicG9zaXRpb246IGFic29sdXRlOyBoZWlnaHQ6IFwiICsgc2Nyb2xsZXJHYXAgKyBcInB4OyB3aWR0aDogMXB4O1wiKTtcbiAgICAvLyBXaWxsIGNvbnRhaW4gdGhlIGd1dHRlcnMsIGlmIGFueS5cbiAgICBkLmd1dHRlcnMgPSBlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLWd1dHRlcnNcIik7XG4gICAgZC5saW5lR3V0dGVyID0gbnVsbDtcbiAgICAvLyBBY3R1YWwgc2Nyb2xsYWJsZSBlbGVtZW50LlxuICAgIGQuc2Nyb2xsZXIgPSBlbHQoXCJkaXZcIiwgW2Quc2l6ZXIsIGQuaGVpZ2h0Rm9yY2VyLCBkLmd1dHRlcnNdLCBcIkNvZGVNaXJyb3Itc2Nyb2xsXCIpO1xuICAgIGQuc2Nyb2xsZXIuc2V0QXR0cmlidXRlKFwidGFiSW5kZXhcIiwgXCItMVwiKTtcbiAgICAvLyBUaGUgZWxlbWVudCBpbiB3aGljaCB0aGUgZWRpdG9yIGxpdmVzLlxuICAgIGQud3JhcHBlciA9IGVsdChcImRpdlwiLCBbZC5zY3JvbGxiYXJGaWxsZXIsIGQuZ3V0dGVyRmlsbGVyLCBkLnNjcm9sbGVyXSwgXCJDb2RlTWlycm9yXCIpO1xuICAgIC8vIFNlZSAjNjk4Mi4gRklYTUUgcmVtb3ZlIHdoZW4gdGhpcyBoYXMgYmVlbiBmaXhlZCBmb3IgYSB3aGlsZSBpbiBDaHJvbWVcbiAgICBpZiAoY2hyb21lICYmIGNocm9tZV92ZXJzaW9uID49IDEwNSkgeyBkLndyYXBwZXIuc3R5bGUuY2xpcFBhdGggPSBcImluc2V0KDBweClcIjsgfVxuXG4gICAgLy8gVGhpcyBhdHRyaWJ1dGUgaXMgcmVzcGVjdGVkIGJ5IGF1dG9tYXRpYyB0cmFuc2xhdGlvbiBzeXN0ZW1zIHN1Y2ggYXMgR29vZ2xlIFRyYW5zbGF0ZSxcbiAgICAvLyBhbmQgbWF5IGFsc28gYmUgcmVzcGVjdGVkIGJ5IHRvb2xzIHVzZWQgYnkgaHVtYW4gdHJhbnNsYXRvcnMuXG4gICAgZC53cmFwcGVyLnNldEF0dHJpYnV0ZSgndHJhbnNsYXRlJywgJ25vJyk7XG5cbiAgICAvLyBXb3JrIGFyb3VuZCBJRTcgei1pbmRleCBidWcgKG5vdCBwZXJmZWN0LCBoZW5jZSBJRTcgbm90IHJlYWxseSBiZWluZyBzdXBwb3J0ZWQpXG4gICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA4KSB7IGQuZ3V0dGVycy5zdHlsZS56SW5kZXggPSAtMTsgZC5zY3JvbGxlci5zdHlsZS5wYWRkaW5nUmlnaHQgPSAwOyB9XG4gICAgaWYgKCF3ZWJraXQgJiYgIShnZWNrbyAmJiBtb2JpbGUpKSB7IGQuc2Nyb2xsZXIuZHJhZ2dhYmxlID0gdHJ1ZTsgfVxuXG4gICAgaWYgKHBsYWNlKSB7XG4gICAgICBpZiAocGxhY2UuYXBwZW5kQ2hpbGQpIHsgcGxhY2UuYXBwZW5kQ2hpbGQoZC53cmFwcGVyKTsgfVxuICAgICAgZWxzZSB7IHBsYWNlKGQud3JhcHBlcik7IH1cbiAgICB9XG5cbiAgICAvLyBDdXJyZW50IHJlbmRlcmVkIHJhbmdlIChtYXkgYmUgYmlnZ2VyIHRoYW4gdGhlIHZpZXcgd2luZG93KS5cbiAgICBkLnZpZXdGcm9tID0gZC52aWV3VG8gPSBkb2MuZmlyc3Q7XG4gICAgZC5yZXBvcnRlZFZpZXdGcm9tID0gZC5yZXBvcnRlZFZpZXdUbyA9IGRvYy5maXJzdDtcbiAgICAvLyBJbmZvcm1hdGlvbiBhYm91dCB0aGUgcmVuZGVyZWQgbGluZXMuXG4gICAgZC52aWV3ID0gW107XG4gICAgZC5yZW5kZXJlZFZpZXcgPSBudWxsO1xuICAgIC8vIEhvbGRzIGluZm8gYWJvdXQgYSBzaW5nbGUgcmVuZGVyZWQgbGluZSB3aGVuIGl0IHdhcyByZW5kZXJlZFxuICAgIC8vIGZvciBtZWFzdXJlbWVudCwgd2hpbGUgbm90IGluIHZpZXcuXG4gICAgZC5leHRlcm5hbE1lYXN1cmVkID0gbnVsbDtcbiAgICAvLyBFbXB0eSBzcGFjZSAoaW4gcGl4ZWxzKSBhYm92ZSB0aGUgdmlld1xuICAgIGQudmlld09mZnNldCA9IDA7XG4gICAgZC5sYXN0V3JhcEhlaWdodCA9IGQubGFzdFdyYXBXaWR0aCA9IDA7XG4gICAgZC51cGRhdGVMaW5lTnVtYmVycyA9IG51bGw7XG5cbiAgICBkLm5hdGl2ZUJhcldpZHRoID0gZC5iYXJIZWlnaHQgPSBkLmJhcldpZHRoID0gMDtcbiAgICBkLnNjcm9sbGJhcnNDbGlwcGVkID0gZmFsc2U7XG5cbiAgICAvLyBVc2VkIHRvIG9ubHkgcmVzaXplIHRoZSBsaW5lIG51bWJlciBndXR0ZXIgd2hlbiBuZWNlc3NhcnkgKHdoZW5cbiAgICAvLyB0aGUgYW1vdW50IG9mIGxpbmVzIGNyb3NzZXMgYSBib3VuZGFyeSB0aGF0IG1ha2VzIGl0cyB3aWR0aCBjaGFuZ2UpXG4gICAgZC5saW5lTnVtV2lkdGggPSBkLmxpbmVOdW1Jbm5lcldpZHRoID0gZC5saW5lTnVtQ2hhcnMgPSBudWxsO1xuICAgIC8vIFNldCB0byB0cnVlIHdoZW4gYSBub24taG9yaXpvbnRhbC1zY3JvbGxpbmcgbGluZSB3aWRnZXQgaXNcbiAgICAvLyBhZGRlZC4gQXMgYW4gb3B0aW1pemF0aW9uLCBsaW5lIHdpZGdldCBhbGlnbmluZyBpcyBza2lwcGVkIHdoZW5cbiAgICAvLyB0aGlzIGlzIGZhbHNlLlxuICAgIGQuYWxpZ25XaWRnZXRzID0gZmFsc2U7XG5cbiAgICBkLmNhY2hlZENoYXJXaWR0aCA9IGQuY2FjaGVkVGV4dEhlaWdodCA9IGQuY2FjaGVkUGFkZGluZ0ggPSBudWxsO1xuXG4gICAgLy8gVHJhY2tzIHRoZSBtYXhpbXVtIGxpbmUgbGVuZ3RoIHNvIHRoYXQgdGhlIGhvcml6b250YWwgc2Nyb2xsYmFyXG4gICAgLy8gY2FuIGJlIGtlcHQgc3RhdGljIHdoZW4gc2Nyb2xsaW5nLlxuICAgIGQubWF4TGluZSA9IG51bGw7XG4gICAgZC5tYXhMaW5lTGVuZ3RoID0gMDtcbiAgICBkLm1heExpbmVDaGFuZ2VkID0gZmFsc2U7XG5cbiAgICAvLyBVc2VkIGZvciBtZWFzdXJpbmcgd2hlZWwgc2Nyb2xsaW5nIGdyYW51bGFyaXR5XG4gICAgZC53aGVlbERYID0gZC53aGVlbERZID0gZC53aGVlbFN0YXJ0WCA9IGQud2hlZWxTdGFydFkgPSBudWxsO1xuXG4gICAgLy8gVHJ1ZSB3aGVuIHNoaWZ0IGlzIGhlbGQgZG93bi5cbiAgICBkLnNoaWZ0ID0gZmFsc2U7XG5cbiAgICAvLyBVc2VkIHRvIHRyYWNrIHdoZXRoZXIgYW55dGhpbmcgaGFwcGVuZWQgc2luY2UgdGhlIGNvbnRleHQgbWVudVxuICAgIC8vIHdhcyBvcGVuZWQuXG4gICAgZC5zZWxGb3JDb250ZXh0TWVudSA9IG51bGw7XG5cbiAgICBkLmFjdGl2ZVRvdWNoID0gbnVsbDtcblxuICAgIGQuZ3V0dGVyU3BlY3MgPSBnZXRHdXR0ZXJzKG9wdGlvbnMuZ3V0dGVycywgb3B0aW9ucy5saW5lTnVtYmVycyk7XG4gICAgcmVuZGVyR3V0dGVycyhkKTtcblxuICAgIGlucHV0LmluaXQoZCk7XG4gIH1cblxuICAvLyBTaW5jZSB0aGUgZGVsdGEgdmFsdWVzIHJlcG9ydGVkIG9uIG1vdXNlIHdoZWVsIGV2ZW50cyBhcmVcbiAgLy8gdW5zdGFuZGFyZGl6ZWQgYmV0d2VlbiBicm93c2VycyBhbmQgZXZlbiBicm93c2VyIHZlcnNpb25zLCBhbmRcbiAgLy8gZ2VuZXJhbGx5IGhvcnJpYmx5IHVucHJlZGljdGFibGUsIHRoaXMgY29kZSBzdGFydHMgYnkgbWVhc3VyaW5nXG4gIC8vIHRoZSBzY3JvbGwgZWZmZWN0IHRoYXQgdGhlIGZpcnN0IGZldyBtb3VzZSB3aGVlbCBldmVudHMgaGF2ZSxcbiAgLy8gYW5kLCBmcm9tIHRoYXQsIGRldGVjdHMgdGhlIHdheSBpdCBjYW4gY29udmVydCBkZWx0YXMgdG8gcGl4ZWxcbiAgLy8gb2Zmc2V0cyBhZnRlcndhcmRzLlxuICAvL1xuICAvLyBUaGUgcmVhc29uIHdlIHdhbnQgdG8ga25vdyB0aGUgYW1vdW50IGEgd2hlZWwgZXZlbnQgd2lsbCBzY3JvbGxcbiAgLy8gaXMgdGhhdCBpdCBnaXZlcyB1cyBhIGNoYW5jZSB0byB1cGRhdGUgdGhlIGRpc3BsYXkgYmVmb3JlIHRoZVxuICAvLyBhY3R1YWwgc2Nyb2xsaW5nIGhhcHBlbnMsIHJlZHVjaW5nIGZsaWNrZXJpbmcuXG5cbiAgdmFyIHdoZWVsU2FtcGxlcyA9IDAsIHdoZWVsUGl4ZWxzUGVyVW5pdCA9IG51bGw7XG4gIC8vIEZpbGwgaW4gYSBicm93c2VyLWRldGVjdGVkIHN0YXJ0aW5nIHZhbHVlIG9uIGJyb3dzZXJzIHdoZXJlIHdlXG4gIC8vIGtub3cgb25lLiBUaGVzZSBkb24ndCBoYXZlIHRvIGJlIGFjY3VyYXRlIC0tIHRoZSByZXN1bHQgb2YgdGhlbVxuICAvLyBiZWluZyB3cm9uZyB3b3VsZCBqdXN0IGJlIGEgc2xpZ2h0IGZsaWNrZXIgb24gdGhlIGZpcnN0IHdoZWVsXG4gIC8vIHNjcm9sbCAoaWYgaXQgaXMgbGFyZ2UgZW5vdWdoKS5cbiAgaWYgKGllKSB7IHdoZWVsUGl4ZWxzUGVyVW5pdCA9IC0uNTM7IH1cbiAgZWxzZSBpZiAoZ2Vja28pIHsgd2hlZWxQaXhlbHNQZXJVbml0ID0gMTU7IH1cbiAgZWxzZSBpZiAoY2hyb21lKSB7IHdoZWVsUGl4ZWxzUGVyVW5pdCA9IC0uNzsgfVxuICBlbHNlIGlmIChzYWZhcmkpIHsgd2hlZWxQaXhlbHNQZXJVbml0ID0gLTEvMzsgfVxuXG4gIGZ1bmN0aW9uIHdoZWVsRXZlbnREZWx0YShlKSB7XG4gICAgdmFyIGR4ID0gZS53aGVlbERlbHRhWCwgZHkgPSBlLndoZWVsRGVsdGFZO1xuICAgIGlmIChkeCA9PSBudWxsICYmIGUuZGV0YWlsICYmIGUuYXhpcyA9PSBlLkhPUklaT05UQUxfQVhJUykgeyBkeCA9IGUuZGV0YWlsOyB9XG4gICAgaWYgKGR5ID09IG51bGwgJiYgZS5kZXRhaWwgJiYgZS5heGlzID09IGUuVkVSVElDQUxfQVhJUykgeyBkeSA9IGUuZGV0YWlsOyB9XG4gICAgZWxzZSBpZiAoZHkgPT0gbnVsbCkgeyBkeSA9IGUud2hlZWxEZWx0YTsgfVxuICAgIHJldHVybiB7eDogZHgsIHk6IGR5fVxuICB9XG4gIGZ1bmN0aW9uIHdoZWVsRXZlbnRQaXhlbHMoZSkge1xuICAgIHZhciBkZWx0YSA9IHdoZWVsRXZlbnREZWx0YShlKTtcbiAgICBkZWx0YS54ICo9IHdoZWVsUGl4ZWxzUGVyVW5pdDtcbiAgICBkZWx0YS55ICo9IHdoZWVsUGl4ZWxzUGVyVW5pdDtcbiAgICByZXR1cm4gZGVsdGFcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uU2Nyb2xsV2hlZWwoY20sIGUpIHtcbiAgICAvLyBPbiBDaHJvbWUgMTAyLCB2aWV3cG9ydCB1cGRhdGVzIHNvbWVob3cgc3RvcCB3aGVlbC1iYXNlZFxuICAgIC8vIHNjcm9sbGluZy4gVHVybmluZyBvZmYgcG9pbnRlciBldmVudHMgZHVyaW5nIHRoZSBzY3JvbGwgc2VlbXNcbiAgICAvLyB0byBhdm9pZCB0aGUgaXNzdWUuXG4gICAgaWYgKGNocm9tZSAmJiBjaHJvbWVfdmVyc2lvbiA9PSAxMDIpIHtcbiAgICAgIGlmIChjbS5kaXNwbGF5LmNocm9tZVNjcm9sbEhhY2sgPT0gbnVsbCkgeyBjbS5kaXNwbGF5LnNpemVyLnN0eWxlLnBvaW50ZXJFdmVudHMgPSBcIm5vbmVcIjsgfVxuICAgICAgZWxzZSB7IGNsZWFyVGltZW91dChjbS5kaXNwbGF5LmNocm9tZVNjcm9sbEhhY2spOyB9XG4gICAgICBjbS5kaXNwbGF5LmNocm9tZVNjcm9sbEhhY2sgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY20uZGlzcGxheS5jaHJvbWVTY3JvbGxIYWNrID0gbnVsbDtcbiAgICAgICAgY20uZGlzcGxheS5zaXplci5zdHlsZS5wb2ludGVyRXZlbnRzID0gXCJcIjtcbiAgICAgIH0sIDEwMCk7XG4gICAgfVxuICAgIHZhciBkZWx0YSA9IHdoZWVsRXZlbnREZWx0YShlKSwgZHggPSBkZWx0YS54LCBkeSA9IGRlbHRhLnk7XG4gICAgdmFyIHBpeGVsc1BlclVuaXQgPSB3aGVlbFBpeGVsc1BlclVuaXQ7XG4gICAgaWYgKGUuZGVsdGFNb2RlID09PSAwKSB7XG4gICAgICBkeCA9IGUuZGVsdGFYO1xuICAgICAgZHkgPSBlLmRlbHRhWTtcbiAgICAgIHBpeGVsc1BlclVuaXQgPSAxO1xuICAgIH1cblxuICAgIHZhciBkaXNwbGF5ID0gY20uZGlzcGxheSwgc2Nyb2xsID0gZGlzcGxheS5zY3JvbGxlcjtcbiAgICAvLyBRdWl0IGlmIHRoZXJlJ3Mgbm90aGluZyB0byBzY3JvbGwgaGVyZVxuICAgIHZhciBjYW5TY3JvbGxYID0gc2Nyb2xsLnNjcm9sbFdpZHRoID4gc2Nyb2xsLmNsaWVudFdpZHRoO1xuICAgIHZhciBjYW5TY3JvbGxZID0gc2Nyb2xsLnNjcm9sbEhlaWdodCA+IHNjcm9sbC5jbGllbnRIZWlnaHQ7XG4gICAgaWYgKCEoZHggJiYgY2FuU2Nyb2xsWCB8fCBkeSAmJiBjYW5TY3JvbGxZKSkgeyByZXR1cm4gfVxuXG4gICAgLy8gV2Via2l0IGJyb3dzZXJzIG9uIE9TIFggYWJvcnQgbW9tZW50dW0gc2Nyb2xscyB3aGVuIHRoZSB0YXJnZXRcbiAgICAvLyBvZiB0aGUgc2Nyb2xsIGV2ZW50IGlzIHJlbW92ZWQgZnJvbSB0aGUgc2Nyb2xsYWJsZSBlbGVtZW50LlxuICAgIC8vIFRoaXMgaGFjayAoc2VlIHJlbGF0ZWQgY29kZSBpbiBwYXRjaERpc3BsYXkpIG1ha2VzIHN1cmUgdGhlXG4gICAgLy8gZWxlbWVudCBpcyBrZXB0IGFyb3VuZC5cbiAgICBpZiAoZHkgJiYgbWFjICYmIHdlYmtpdCkge1xuICAgICAgb3V0ZXI6IGZvciAodmFyIGN1ciA9IGUudGFyZ2V0LCB2aWV3ID0gZGlzcGxheS52aWV3OyBjdXIgIT0gc2Nyb2xsOyBjdXIgPSBjdXIucGFyZW50Tm9kZSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZpZXcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICBpZiAodmlld1tpXS5ub2RlID09IGN1cikge1xuICAgICAgICAgICAgY20uZGlzcGxheS5jdXJyZW50V2hlZWxUYXJnZXQgPSBjdXI7XG4gICAgICAgICAgICBicmVhayBvdXRlclxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIE9uIHNvbWUgYnJvd3NlcnMsIGhvcml6b250YWwgc2Nyb2xsaW5nIHdpbGwgY2F1c2UgcmVkcmF3cyB0b1xuICAgIC8vIGhhcHBlbiBiZWZvcmUgdGhlIGd1dHRlciBoYXMgYmVlbiByZWFsaWduZWQsIGNhdXNpbmcgaXQgdG9cbiAgICAvLyB3cmlnZ2xlIGFyb3VuZCBpbiBhIG1vc3QgdW5zZWVtbHkgd2F5LiBXaGVuIHdlIGhhdmUgYW5cbiAgICAvLyBlc3RpbWF0ZWQgcGl4ZWxzL2RlbHRhIHZhbHVlLCB3ZSBqdXN0IGhhbmRsZSBob3Jpem9udGFsXG4gICAgLy8gc2Nyb2xsaW5nIGVudGlyZWx5IGhlcmUuIEl0J2xsIGJlIHNsaWdodGx5IG9mZiBmcm9tIG5hdGl2ZSwgYnV0XG4gICAgLy8gYmV0dGVyIHRoYW4gZ2xpdGNoaW5nIG91dC5cbiAgICBpZiAoZHggJiYgIWdlY2tvICYmICFwcmVzdG8gJiYgcGl4ZWxzUGVyVW5pdCAhPSBudWxsKSB7XG4gICAgICBpZiAoZHkgJiYgY2FuU2Nyb2xsWSlcbiAgICAgICAgeyB1cGRhdGVTY3JvbGxUb3AoY20sIE1hdGgubWF4KDAsIHNjcm9sbC5zY3JvbGxUb3AgKyBkeSAqIHBpeGVsc1BlclVuaXQpKTsgfVxuICAgICAgc2V0U2Nyb2xsTGVmdChjbSwgTWF0aC5tYXgoMCwgc2Nyb2xsLnNjcm9sbExlZnQgKyBkeCAqIHBpeGVsc1BlclVuaXQpKTtcbiAgICAgIC8vIE9ubHkgcHJldmVudCBkZWZhdWx0IHNjcm9sbGluZyBpZiB2ZXJ0aWNhbCBzY3JvbGxpbmcgaXNcbiAgICAgIC8vIGFjdHVhbGx5IHBvc3NpYmxlLiBPdGhlcndpc2UsIGl0IGNhdXNlcyB2ZXJ0aWNhbCBzY3JvbGxcbiAgICAgIC8vIGppdHRlciBvbiBPU1ggdHJhY2twYWRzIHdoZW4gZGVsdGFYIGlzIHNtYWxsIGFuZCBkZWx0YVlcbiAgICAgIC8vIGlzIGxhcmdlIChpc3N1ZSAjMzU3OSlcbiAgICAgIGlmICghZHkgfHwgKGR5ICYmIGNhblNjcm9sbFkpKVxuICAgICAgICB7IGVfcHJldmVudERlZmF1bHQoZSk7IH1cbiAgICAgIGRpc3BsYXkud2hlZWxTdGFydFggPSBudWxsOyAvLyBBYm9ydCBtZWFzdXJlbWVudCwgaWYgaW4gcHJvZ3Jlc3NcbiAgICAgIHJldHVyblxuICAgIH1cblxuICAgIC8vICdQcm9qZWN0JyB0aGUgdmlzaWJsZSB2aWV3cG9ydCB0byBjb3ZlciB0aGUgYXJlYSB0aGF0IGlzIGJlaW5nXG4gICAgLy8gc2Nyb2xsZWQgaW50byB2aWV3IChpZiB3ZSBrbm93IGVub3VnaCB0byBlc3RpbWF0ZSBpdCkuXG4gICAgaWYgKGR5ICYmIHBpeGVsc1BlclVuaXQgIT0gbnVsbCkge1xuICAgICAgdmFyIHBpeGVscyA9IGR5ICogcGl4ZWxzUGVyVW5pdDtcbiAgICAgIHZhciB0b3AgPSBjbS5kb2Muc2Nyb2xsVG9wLCBib3QgPSB0b3AgKyBkaXNwbGF5LndyYXBwZXIuY2xpZW50SGVpZ2h0O1xuICAgICAgaWYgKHBpeGVscyA8IDApIHsgdG9wID0gTWF0aC5tYXgoMCwgdG9wICsgcGl4ZWxzIC0gNTApOyB9XG4gICAgICBlbHNlIHsgYm90ID0gTWF0aC5taW4oY20uZG9jLmhlaWdodCwgYm90ICsgcGl4ZWxzICsgNTApOyB9XG4gICAgICB1cGRhdGVEaXNwbGF5U2ltcGxlKGNtLCB7dG9wOiB0b3AsIGJvdHRvbTogYm90fSk7XG4gICAgfVxuXG4gICAgaWYgKHdoZWVsU2FtcGxlcyA8IDIwICYmIGUuZGVsdGFNb2RlICE9PSAwKSB7XG4gICAgICBpZiAoZGlzcGxheS53aGVlbFN0YXJ0WCA9PSBudWxsKSB7XG4gICAgICAgIGRpc3BsYXkud2hlZWxTdGFydFggPSBzY3JvbGwuc2Nyb2xsTGVmdDsgZGlzcGxheS53aGVlbFN0YXJ0WSA9IHNjcm9sbC5zY3JvbGxUb3A7XG4gICAgICAgIGRpc3BsYXkud2hlZWxEWCA9IGR4OyBkaXNwbGF5LndoZWVsRFkgPSBkeTtcbiAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKGRpc3BsYXkud2hlZWxTdGFydFggPT0gbnVsbCkgeyByZXR1cm4gfVxuICAgICAgICAgIHZhciBtb3ZlZFggPSBzY3JvbGwuc2Nyb2xsTGVmdCAtIGRpc3BsYXkud2hlZWxTdGFydFg7XG4gICAgICAgICAgdmFyIG1vdmVkWSA9IHNjcm9sbC5zY3JvbGxUb3AgLSBkaXNwbGF5LndoZWVsU3RhcnRZO1xuICAgICAgICAgIHZhciBzYW1wbGUgPSAobW92ZWRZICYmIGRpc3BsYXkud2hlZWxEWSAmJiBtb3ZlZFkgLyBkaXNwbGF5LndoZWVsRFkpIHx8XG4gICAgICAgICAgICAobW92ZWRYICYmIGRpc3BsYXkud2hlZWxEWCAmJiBtb3ZlZFggLyBkaXNwbGF5LndoZWVsRFgpO1xuICAgICAgICAgIGRpc3BsYXkud2hlZWxTdGFydFggPSBkaXNwbGF5LndoZWVsU3RhcnRZID0gbnVsbDtcbiAgICAgICAgICBpZiAoIXNhbXBsZSkgeyByZXR1cm4gfVxuICAgICAgICAgIHdoZWVsUGl4ZWxzUGVyVW5pdCA9ICh3aGVlbFBpeGVsc1BlclVuaXQgKiB3aGVlbFNhbXBsZXMgKyBzYW1wbGUpIC8gKHdoZWVsU2FtcGxlcyArIDEpO1xuICAgICAgICAgICsrd2hlZWxTYW1wbGVzO1xuICAgICAgICB9LCAyMDApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGlzcGxheS53aGVlbERYICs9IGR4OyBkaXNwbGF5LndoZWVsRFkgKz0gZHk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gU2VsZWN0aW9uIG9iamVjdHMgYXJlIGltbXV0YWJsZS4gQSBuZXcgb25lIGlzIGNyZWF0ZWQgZXZlcnkgdGltZVxuICAvLyB0aGUgc2VsZWN0aW9uIGNoYW5nZXMuIEEgc2VsZWN0aW9uIGlzIG9uZSBvciBtb3JlIG5vbi1vdmVybGFwcGluZ1xuICAvLyAoYW5kIG5vbi10b3VjaGluZykgcmFuZ2VzLCBzb3J0ZWQsIGFuZCBhbiBpbnRlZ2VyIHRoYXQgaW5kaWNhdGVzXG4gIC8vIHdoaWNoIG9uZSBpcyB0aGUgcHJpbWFyeSBzZWxlY3Rpb24gKHRoZSBvbmUgdGhhdCdzIHNjcm9sbGVkIGludG9cbiAgLy8gdmlldywgdGhhdCBnZXRDdXJzb3IgcmV0dXJucywgZXRjKS5cbiAgdmFyIFNlbGVjdGlvbiA9IGZ1bmN0aW9uKHJhbmdlcywgcHJpbUluZGV4KSB7XG4gICAgdGhpcy5yYW5nZXMgPSByYW5nZXM7XG4gICAgdGhpcy5wcmltSW5kZXggPSBwcmltSW5kZXg7XG4gIH07XG5cbiAgU2VsZWN0aW9uLnByb3RvdHlwZS5wcmltYXJ5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5yYW5nZXNbdGhpcy5wcmltSW5kZXhdIH07XG5cbiAgU2VsZWN0aW9uLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHtcbiAgICBpZiAob3RoZXIgPT0gdGhpcykgeyByZXR1cm4gdHJ1ZSB9XG4gICAgaWYgKG90aGVyLnByaW1JbmRleCAhPSB0aGlzLnByaW1JbmRleCB8fCBvdGhlci5yYW5nZXMubGVuZ3RoICE9IHRoaXMucmFuZ2VzLmxlbmd0aCkgeyByZXR1cm4gZmFsc2UgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZXJlID0gdGhpcy5yYW5nZXNbaV0sIHRoZXJlID0gb3RoZXIucmFuZ2VzW2ldO1xuICAgICAgaWYgKCFlcXVhbEN1cnNvclBvcyhoZXJlLmFuY2hvciwgdGhlcmUuYW5jaG9yKSB8fCAhZXF1YWxDdXJzb3JQb3MoaGVyZS5oZWFkLCB0aGVyZS5oZWFkKSkgeyByZXR1cm4gZmFsc2UgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9O1xuXG4gIFNlbGVjdGlvbi5wcm90b3R5cGUuZGVlcENvcHkgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG91dCA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgICB7IG91dFtpXSA9IG5ldyBSYW5nZShjb3B5UG9zKHRoaXMucmFuZ2VzW2ldLmFuY2hvciksIGNvcHlQb3ModGhpcy5yYW5nZXNbaV0uaGVhZCkpOyB9XG4gICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24ob3V0LCB0aGlzLnByaW1JbmRleClcbiAgfTtcblxuICBTZWxlY3Rpb24ucHJvdG90eXBlLnNvbWV0aGluZ1NlbGVjdGVkID0gZnVuY3Rpb24gKCkge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5yYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgICB7IGlmICghdGhpcy5yYW5nZXNbaV0uZW1wdHkoKSkgeyByZXR1cm4gdHJ1ZSB9IH1cbiAgICByZXR1cm4gZmFsc2VcbiAgfTtcblxuICBTZWxlY3Rpb24ucHJvdG90eXBlLmNvbnRhaW5zID0gZnVuY3Rpb24gKHBvcywgZW5kKSB7XG4gICAgaWYgKCFlbmQpIHsgZW5kID0gcG9zOyB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJhbmdlID0gdGhpcy5yYW5nZXNbaV07XG4gICAgICBpZiAoY21wKGVuZCwgcmFuZ2UuZnJvbSgpKSA+PSAwICYmIGNtcChwb3MsIHJhbmdlLnRvKCkpIDw9IDApXG4gICAgICAgIHsgcmV0dXJuIGkgfVxuICAgIH1cbiAgICByZXR1cm4gLTFcbiAgfTtcblxuICB2YXIgUmFuZ2UgPSBmdW5jdGlvbihhbmNob3IsIGhlYWQpIHtcbiAgICB0aGlzLmFuY2hvciA9IGFuY2hvcjsgdGhpcy5oZWFkID0gaGVhZDtcbiAgfTtcblxuICBSYW5nZS5wcm90b3R5cGUuZnJvbSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIG1pblBvcyh0aGlzLmFuY2hvciwgdGhpcy5oZWFkKSB9O1xuICBSYW5nZS5wcm90b3R5cGUudG8gPSBmdW5jdGlvbiAoKSB7IHJldHVybiBtYXhQb3ModGhpcy5hbmNob3IsIHRoaXMuaGVhZCkgfTtcbiAgUmFuZ2UucHJvdG90eXBlLmVtcHR5ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy5oZWFkLmxpbmUgPT0gdGhpcy5hbmNob3IubGluZSAmJiB0aGlzLmhlYWQuY2ggPT0gdGhpcy5hbmNob3IuY2ggfTtcblxuICAvLyBUYWtlIGFuIHVuc29ydGVkLCBwb3RlbnRpYWxseSBvdmVybGFwcGluZyBzZXQgb2YgcmFuZ2VzLCBhbmRcbiAgLy8gYnVpbGQgYSBzZWxlY3Rpb24gb3V0IG9mIGl0LiAnQ29uc3VtZXMnIHJhbmdlcyBhcnJheSAobW9kaWZ5aW5nXG4gIC8vIGl0KS5cbiAgZnVuY3Rpb24gbm9ybWFsaXplU2VsZWN0aW9uKGNtLCByYW5nZXMsIHByaW1JbmRleCkge1xuICAgIHZhciBtYXlUb3VjaCA9IGNtICYmIGNtLm9wdGlvbnMuc2VsZWN0aW9uc01heVRvdWNoO1xuICAgIHZhciBwcmltID0gcmFuZ2VzW3ByaW1JbmRleF07XG4gICAgcmFuZ2VzLnNvcnQoZnVuY3Rpb24gKGEsIGIpIHsgcmV0dXJuIGNtcChhLmZyb20oKSwgYi5mcm9tKCkpOyB9KTtcbiAgICBwcmltSW5kZXggPSBpbmRleE9mKHJhbmdlcywgcHJpbSk7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjdXIgPSByYW5nZXNbaV0sIHByZXYgPSByYW5nZXNbaSAtIDFdO1xuICAgICAgdmFyIGRpZmYgPSBjbXAocHJldi50bygpLCBjdXIuZnJvbSgpKTtcbiAgICAgIGlmIChtYXlUb3VjaCAmJiAhY3VyLmVtcHR5KCkgPyBkaWZmID4gMCA6IGRpZmYgPj0gMCkge1xuICAgICAgICB2YXIgZnJvbSA9IG1pblBvcyhwcmV2LmZyb20oKSwgY3VyLmZyb20oKSksIHRvID0gbWF4UG9zKHByZXYudG8oKSwgY3VyLnRvKCkpO1xuICAgICAgICB2YXIgaW52ID0gcHJldi5lbXB0eSgpID8gY3VyLmZyb20oKSA9PSBjdXIuaGVhZCA6IHByZXYuZnJvbSgpID09IHByZXYuaGVhZDtcbiAgICAgICAgaWYgKGkgPD0gcHJpbUluZGV4KSB7IC0tcHJpbUluZGV4OyB9XG4gICAgICAgIHJhbmdlcy5zcGxpY2UoLS1pLCAyLCBuZXcgUmFuZ2UoaW52ID8gdG8gOiBmcm9tLCBpbnYgPyBmcm9tIDogdG8pKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24ocmFuZ2VzLCBwcmltSW5kZXgpXG4gIH1cblxuICBmdW5jdGlvbiBzaW1wbGVTZWxlY3Rpb24oYW5jaG9yLCBoZWFkKSB7XG4gICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24oW25ldyBSYW5nZShhbmNob3IsIGhlYWQgfHwgYW5jaG9yKV0sIDApXG4gIH1cblxuICAvLyBDb21wdXRlIHRoZSBwb3NpdGlvbiBvZiB0aGUgZW5kIG9mIGEgY2hhbmdlIChpdHMgJ3RvJyBwcm9wZXJ0eVxuICAvLyByZWZlcnMgdG8gdGhlIHByZS1jaGFuZ2UgZW5kKS5cbiAgZnVuY3Rpb24gY2hhbmdlRW5kKGNoYW5nZSkge1xuICAgIGlmICghY2hhbmdlLnRleHQpIHsgcmV0dXJuIGNoYW5nZS50byB9XG4gICAgcmV0dXJuIFBvcyhjaGFuZ2UuZnJvbS5saW5lICsgY2hhbmdlLnRleHQubGVuZ3RoIC0gMSxcbiAgICAgICAgICAgICAgIGxzdChjaGFuZ2UudGV4dCkubGVuZ3RoICsgKGNoYW5nZS50ZXh0Lmxlbmd0aCA9PSAxID8gY2hhbmdlLmZyb20uY2ggOiAwKSlcbiAgfVxuXG4gIC8vIEFkanVzdCBhIHBvc2l0aW9uIHRvIHJlZmVyIHRvIHRoZSBwb3N0LWNoYW5nZSBwb3NpdGlvbiBvZiB0aGVcbiAgLy8gc2FtZSB0ZXh0LCBvciB0aGUgZW5kIG9mIHRoZSBjaGFuZ2UgaWYgdGhlIGNoYW5nZSBjb3ZlcnMgaXQuXG4gIGZ1bmN0aW9uIGFkanVzdEZvckNoYW5nZShwb3MsIGNoYW5nZSkge1xuICAgIGlmIChjbXAocG9zLCBjaGFuZ2UuZnJvbSkgPCAwKSB7IHJldHVybiBwb3MgfVxuICAgIGlmIChjbXAocG9zLCBjaGFuZ2UudG8pIDw9IDApIHsgcmV0dXJuIGNoYW5nZUVuZChjaGFuZ2UpIH1cblxuICAgIHZhciBsaW5lID0gcG9zLmxpbmUgKyBjaGFuZ2UudGV4dC5sZW5ndGggLSAoY2hhbmdlLnRvLmxpbmUgLSBjaGFuZ2UuZnJvbS5saW5lKSAtIDEsIGNoID0gcG9zLmNoO1xuICAgIGlmIChwb3MubGluZSA9PSBjaGFuZ2UudG8ubGluZSkgeyBjaCArPSBjaGFuZ2VFbmQoY2hhbmdlKS5jaCAtIGNoYW5nZS50by5jaDsgfVxuICAgIHJldHVybiBQb3MobGluZSwgY2gpXG4gIH1cblxuICBmdW5jdGlvbiBjb21wdXRlU2VsQWZ0ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpIHtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2Muc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHJhbmdlID0gZG9jLnNlbC5yYW5nZXNbaV07XG4gICAgICBvdXQucHVzaChuZXcgUmFuZ2UoYWRqdXN0Rm9yQ2hhbmdlKHJhbmdlLmFuY2hvciwgY2hhbmdlKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICBhZGp1c3RGb3JDaGFuZ2UocmFuZ2UuaGVhZCwgY2hhbmdlKSkpO1xuICAgIH1cbiAgICByZXR1cm4gbm9ybWFsaXplU2VsZWN0aW9uKGRvYy5jbSwgb3V0LCBkb2Muc2VsLnByaW1JbmRleClcbiAgfVxuXG4gIGZ1bmN0aW9uIG9mZnNldFBvcyhwb3MsIG9sZCwgbncpIHtcbiAgICBpZiAocG9zLmxpbmUgPT0gb2xkLmxpbmUpXG4gICAgICB7IHJldHVybiBQb3MobncubGluZSwgcG9zLmNoIC0gb2xkLmNoICsgbncuY2gpIH1cbiAgICBlbHNlXG4gICAgICB7IHJldHVybiBQb3MobncubGluZSArIChwb3MubGluZSAtIG9sZC5saW5lKSwgcG9zLmNoKSB9XG4gIH1cblxuICAvLyBVc2VkIGJ5IHJlcGxhY2VTZWxlY3Rpb25zIHRvIGFsbG93IG1vdmluZyB0aGUgc2VsZWN0aW9uIHRvIHRoZVxuICAvLyBzdGFydCBvciBhcm91bmQgdGhlIHJlcGxhY2VkIHRlc3QuIEhpbnQgbWF5IGJlIFwic3RhcnRcIiBvciBcImFyb3VuZFwiLlxuICBmdW5jdGlvbiBjb21wdXRlUmVwbGFjZWRTZWwoZG9jLCBjaGFuZ2VzLCBoaW50KSB7XG4gICAgdmFyIG91dCA9IFtdO1xuICAgIHZhciBvbGRQcmV2ID0gUG9zKGRvYy5maXJzdCwgMCksIG5ld1ByZXYgPSBvbGRQcmV2O1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGNoYW5nZSA9IGNoYW5nZXNbaV07XG4gICAgICB2YXIgZnJvbSA9IG9mZnNldFBvcyhjaGFuZ2UuZnJvbSwgb2xkUHJldiwgbmV3UHJldik7XG4gICAgICB2YXIgdG8gPSBvZmZzZXRQb3MoY2hhbmdlRW5kKGNoYW5nZSksIG9sZFByZXYsIG5ld1ByZXYpO1xuICAgICAgb2xkUHJldiA9IGNoYW5nZS50bztcbiAgICAgIG5ld1ByZXYgPSB0bztcbiAgICAgIGlmIChoaW50ID09IFwiYXJvdW5kXCIpIHtcbiAgICAgICAgdmFyIHJhbmdlID0gZG9jLnNlbC5yYW5nZXNbaV0sIGludiA9IGNtcChyYW5nZS5oZWFkLCByYW5nZS5hbmNob3IpIDwgMDtcbiAgICAgICAgb3V0W2ldID0gbmV3IFJhbmdlKGludiA/IHRvIDogZnJvbSwgaW52ID8gZnJvbSA6IHRvKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG91dFtpXSA9IG5ldyBSYW5nZShmcm9tLCBmcm9tKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBTZWxlY3Rpb24ob3V0LCBkb2Muc2VsLnByaW1JbmRleClcbiAgfVxuXG4gIC8vIFVzZWQgdG8gZ2V0IHRoZSBlZGl0b3IgaW50byBhIGNvbnNpc3RlbnQgc3RhdGUgYWdhaW4gd2hlbiBvcHRpb25zIGNoYW5nZS5cblxuICBmdW5jdGlvbiBsb2FkTW9kZShjbSkge1xuICAgIGNtLmRvYy5tb2RlID0gZ2V0TW9kZShjbS5vcHRpb25zLCBjbS5kb2MubW9kZU9wdGlvbik7XG4gICAgcmVzZXRNb2RlU3RhdGUoY20pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVzZXRNb2RlU3RhdGUoY20pIHtcbiAgICBjbS5kb2MuaXRlcihmdW5jdGlvbiAobGluZSkge1xuICAgICAgaWYgKGxpbmUuc3RhdGVBZnRlcikgeyBsaW5lLnN0YXRlQWZ0ZXIgPSBudWxsOyB9XG4gICAgICBpZiAobGluZS5zdHlsZXMpIHsgbGluZS5zdHlsZXMgPSBudWxsOyB9XG4gICAgfSk7XG4gICAgY20uZG9jLm1vZGVGcm9udGllciA9IGNtLmRvYy5oaWdobGlnaHRGcm9udGllciA9IGNtLmRvYy5maXJzdDtcbiAgICBzdGFydFdvcmtlcihjbSwgMTAwKTtcbiAgICBjbS5zdGF0ZS5tb2RlR2VuKys7XG4gICAgaWYgKGNtLmN1ck9wKSB7IHJlZ0NoYW5nZShjbSk7IH1cbiAgfVxuXG4gIC8vIERPQ1VNRU5UIERBVEEgU1RSVUNUVVJFXG5cbiAgLy8gQnkgZGVmYXVsdCwgdXBkYXRlcyB0aGF0IHN0YXJ0IGFuZCBlbmQgYXQgdGhlIGJlZ2lubmluZyBvZiBhIGxpbmVcbiAgLy8gYXJlIHRyZWF0ZWQgc3BlY2lhbGx5LCBpbiBvcmRlciB0byBtYWtlIHRoZSBhc3NvY2lhdGlvbiBvZiBsaW5lXG4gIC8vIHdpZGdldHMgYW5kIG1hcmtlciBlbGVtZW50cyB3aXRoIHRoZSB0ZXh0IGJlaGF2ZSBtb3JlIGludHVpdGl2ZS5cbiAgZnVuY3Rpb24gaXNXaG9sZUxpbmVVcGRhdGUoZG9jLCBjaGFuZ2UpIHtcbiAgICByZXR1cm4gY2hhbmdlLmZyb20uY2ggPT0gMCAmJiBjaGFuZ2UudG8uY2ggPT0gMCAmJiBsc3QoY2hhbmdlLnRleHQpID09IFwiXCIgJiZcbiAgICAgICghZG9jLmNtIHx8IGRvYy5jbS5vcHRpb25zLndob2xlTGluZVVwZGF0ZUJlZm9yZSlcbiAgfVxuXG4gIC8vIFBlcmZvcm0gYSBjaGFuZ2Ugb24gdGhlIGRvY3VtZW50IGRhdGEgc3RydWN0dXJlLlxuICBmdW5jdGlvbiB1cGRhdGVEb2MoZG9jLCBjaGFuZ2UsIG1hcmtlZFNwYW5zLCBlc3RpbWF0ZUhlaWdodCkge1xuICAgIGZ1bmN0aW9uIHNwYW5zRm9yKG4pIHtyZXR1cm4gbWFya2VkU3BhbnMgPyBtYXJrZWRTcGFuc1tuXSA6IG51bGx9XG4gICAgZnVuY3Rpb24gdXBkYXRlKGxpbmUsIHRleHQsIHNwYW5zKSB7XG4gICAgICB1cGRhdGVMaW5lKGxpbmUsIHRleHQsIHNwYW5zLCBlc3RpbWF0ZUhlaWdodCk7XG4gICAgICBzaWduYWxMYXRlcihsaW5lLCBcImNoYW5nZVwiLCBsaW5lLCBjaGFuZ2UpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBsaW5lc0ZvcihzdGFydCwgZW5kKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBmb3IgKHZhciBpID0gc3RhcnQ7IGkgPCBlbmQ7ICsraSlcbiAgICAgICAgeyByZXN1bHQucHVzaChuZXcgTGluZSh0ZXh0W2ldLCBzcGFuc0ZvcihpKSwgZXN0aW1hdGVIZWlnaHQpKTsgfVxuICAgICAgcmV0dXJuIHJlc3VsdFxuICAgIH1cblxuICAgIHZhciBmcm9tID0gY2hhbmdlLmZyb20sIHRvID0gY2hhbmdlLnRvLCB0ZXh0ID0gY2hhbmdlLnRleHQ7XG4gICAgdmFyIGZpcnN0TGluZSA9IGdldExpbmUoZG9jLCBmcm9tLmxpbmUpLCBsYXN0TGluZSA9IGdldExpbmUoZG9jLCB0by5saW5lKTtcbiAgICB2YXIgbGFzdFRleHQgPSBsc3QodGV4dCksIGxhc3RTcGFucyA9IHNwYW5zRm9yKHRleHQubGVuZ3RoIC0gMSksIG5saW5lcyA9IHRvLmxpbmUgLSBmcm9tLmxpbmU7XG5cbiAgICAvLyBBZGp1c3QgdGhlIGxpbmUgc3RydWN0dXJlXG4gICAgaWYgKGNoYW5nZS5mdWxsKSB7XG4gICAgICBkb2MuaW5zZXJ0KDAsIGxpbmVzRm9yKDAsIHRleHQubGVuZ3RoKSk7XG4gICAgICBkb2MucmVtb3ZlKHRleHQubGVuZ3RoLCBkb2Muc2l6ZSAtIHRleHQubGVuZ3RoKTtcbiAgICB9IGVsc2UgaWYgKGlzV2hvbGVMaW5lVXBkYXRlKGRvYywgY2hhbmdlKSkge1xuICAgICAgLy8gVGhpcyBpcyBhIHdob2xlLWxpbmUgcmVwbGFjZS4gVHJlYXRlZCBzcGVjaWFsbHkgdG8gbWFrZVxuICAgICAgLy8gc3VyZSBsaW5lIG9iamVjdHMgbW92ZSB0aGUgd2F5IHRoZXkgYXJlIHN1cHBvc2VkIHRvLlxuICAgICAgdmFyIGFkZGVkID0gbGluZXNGb3IoMCwgdGV4dC5sZW5ndGggLSAxKTtcbiAgICAgIHVwZGF0ZShsYXN0TGluZSwgbGFzdExpbmUudGV4dCwgbGFzdFNwYW5zKTtcbiAgICAgIGlmIChubGluZXMpIHsgZG9jLnJlbW92ZShmcm9tLmxpbmUsIG5saW5lcyk7IH1cbiAgICAgIGlmIChhZGRlZC5sZW5ndGgpIHsgZG9jLmluc2VydChmcm9tLmxpbmUsIGFkZGVkKTsgfVxuICAgIH0gZWxzZSBpZiAoZmlyc3RMaW5lID09IGxhc3RMaW5lKSB7XG4gICAgICBpZiAodGV4dC5sZW5ndGggPT0gMSkge1xuICAgICAgICB1cGRhdGUoZmlyc3RMaW5lLCBmaXJzdExpbmUudGV4dC5zbGljZSgwLCBmcm9tLmNoKSArIGxhc3RUZXh0ICsgZmlyc3RMaW5lLnRleHQuc2xpY2UodG8uY2gpLCBsYXN0U3BhbnMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGFkZGVkJDEgPSBsaW5lc0ZvcigxLCB0ZXh0Lmxlbmd0aCAtIDEpO1xuICAgICAgICBhZGRlZCQxLnB1c2gobmV3IExpbmUobGFzdFRleHQgKyBmaXJzdExpbmUudGV4dC5zbGljZSh0by5jaCksIGxhc3RTcGFucywgZXN0aW1hdGVIZWlnaHQpKTtcbiAgICAgICAgdXBkYXRlKGZpcnN0TGluZSwgZmlyc3RMaW5lLnRleHQuc2xpY2UoMCwgZnJvbS5jaCkgKyB0ZXh0WzBdLCBzcGFuc0ZvcigwKSk7XG4gICAgICAgIGRvYy5pbnNlcnQoZnJvbS5saW5lICsgMSwgYWRkZWQkMSk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0ZXh0Lmxlbmd0aCA9PSAxKSB7XG4gICAgICB1cGRhdGUoZmlyc3RMaW5lLCBmaXJzdExpbmUudGV4dC5zbGljZSgwLCBmcm9tLmNoKSArIHRleHRbMF0gKyBsYXN0TGluZS50ZXh0LnNsaWNlKHRvLmNoKSwgc3BhbnNGb3IoMCkpO1xuICAgICAgZG9jLnJlbW92ZShmcm9tLmxpbmUgKyAxLCBubGluZXMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB1cGRhdGUoZmlyc3RMaW5lLCBmaXJzdExpbmUudGV4dC5zbGljZSgwLCBmcm9tLmNoKSArIHRleHRbMF0sIHNwYW5zRm9yKDApKTtcbiAgICAgIHVwZGF0ZShsYXN0TGluZSwgbGFzdFRleHQgKyBsYXN0TGluZS50ZXh0LnNsaWNlKHRvLmNoKSwgbGFzdFNwYW5zKTtcbiAgICAgIHZhciBhZGRlZCQyID0gbGluZXNGb3IoMSwgdGV4dC5sZW5ndGggLSAxKTtcbiAgICAgIGlmIChubGluZXMgPiAxKSB7IGRvYy5yZW1vdmUoZnJvbS5saW5lICsgMSwgbmxpbmVzIC0gMSk7IH1cbiAgICAgIGRvYy5pbnNlcnQoZnJvbS5saW5lICsgMSwgYWRkZWQkMik7XG4gICAgfVxuXG4gICAgc2lnbmFsTGF0ZXIoZG9jLCBcImNoYW5nZVwiLCBkb2MsIGNoYW5nZSk7XG4gIH1cblxuICAvLyBDYWxsIGYgZm9yIGFsbCBsaW5rZWQgZG9jdW1lbnRzLlxuICBmdW5jdGlvbiBsaW5rZWREb2NzKGRvYywgZiwgc2hhcmVkSGlzdE9ubHkpIHtcbiAgICBmdW5jdGlvbiBwcm9wYWdhdGUoZG9jLCBza2lwLCBzaGFyZWRIaXN0KSB7XG4gICAgICBpZiAoZG9jLmxpbmtlZCkgeyBmb3IgKHZhciBpID0gMDsgaSA8IGRvYy5saW5rZWQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIHJlbCA9IGRvYy5saW5rZWRbaV07XG4gICAgICAgIGlmIChyZWwuZG9jID09IHNraXApIHsgY29udGludWUgfVxuICAgICAgICB2YXIgc2hhcmVkID0gc2hhcmVkSGlzdCAmJiByZWwuc2hhcmVkSGlzdDtcbiAgICAgICAgaWYgKHNoYXJlZEhpc3RPbmx5ICYmICFzaGFyZWQpIHsgY29udGludWUgfVxuICAgICAgICBmKHJlbC5kb2MsIHNoYXJlZCk7XG4gICAgICAgIHByb3BhZ2F0ZShyZWwuZG9jLCBkb2MsIHNoYXJlZCk7XG4gICAgICB9IH1cbiAgICB9XG4gICAgcHJvcGFnYXRlKGRvYywgbnVsbCwgdHJ1ZSk7XG4gIH1cblxuICAvLyBBdHRhY2ggYSBkb2N1bWVudCB0byBhbiBlZGl0b3IuXG4gIGZ1bmN0aW9uIGF0dGFjaERvYyhjbSwgZG9jKSB7XG4gICAgaWYgKGRvYy5jbSkgeyB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIGRvY3VtZW50IGlzIGFscmVhZHkgaW4gdXNlLlwiKSB9XG4gICAgY20uZG9jID0gZG9jO1xuICAgIGRvYy5jbSA9IGNtO1xuICAgIGVzdGltYXRlTGluZUhlaWdodHMoY20pO1xuICAgIGxvYWRNb2RlKGNtKTtcbiAgICBzZXREaXJlY3Rpb25DbGFzcyhjbSk7XG4gICAgY20ub3B0aW9ucy5kaXJlY3Rpb24gPSBkb2MuZGlyZWN0aW9uO1xuICAgIGlmICghY20ub3B0aW9ucy5saW5lV3JhcHBpbmcpIHsgZmluZE1heExpbmUoY20pOyB9XG4gICAgY20ub3B0aW9ucy5tb2RlID0gZG9jLm1vZGVPcHRpb247XG4gICAgcmVnQ2hhbmdlKGNtKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldERpcmVjdGlvbkNsYXNzKGNtKSB7XG4gIChjbS5kb2MuZGlyZWN0aW9uID09IFwicnRsXCIgPyBhZGRDbGFzcyA6IHJtQ2xhc3MpKGNtLmRpc3BsYXkubGluZURpdiwgXCJDb2RlTWlycm9yLXJ0bFwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRpcmVjdGlvbkNoYW5nZWQoY20pIHtcbiAgICBydW5Jbk9wKGNtLCBmdW5jdGlvbiAoKSB7XG4gICAgICBzZXREaXJlY3Rpb25DbGFzcyhjbSk7XG4gICAgICByZWdDaGFuZ2UoY20pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gSGlzdG9yeShwcmV2KSB7XG4gICAgLy8gQXJyYXlzIG9mIGNoYW5nZSBldmVudHMgYW5kIHNlbGVjdGlvbnMuIERvaW5nIHNvbWV0aGluZyBhZGRzIGFuXG4gICAgLy8gZXZlbnQgdG8gZG9uZSBhbmQgY2xlYXJzIHVuZG8uIFVuZG9pbmcgbW92ZXMgZXZlbnRzIGZyb20gZG9uZVxuICAgIC8vIHRvIHVuZG9uZSwgcmVkb2luZyBtb3ZlcyB0aGVtIGluIHRoZSBvdGhlciBkaXJlY3Rpb24uXG4gICAgdGhpcy5kb25lID0gW107IHRoaXMudW5kb25lID0gW107XG4gICAgdGhpcy51bmRvRGVwdGggPSBwcmV2ID8gcHJldi51bmRvRGVwdGggOiBJbmZpbml0eTtcbiAgICAvLyBVc2VkIHRvIHRyYWNrIHdoZW4gY2hhbmdlcyBjYW4gYmUgbWVyZ2VkIGludG8gYSBzaW5nbGUgdW5kb1xuICAgIC8vIGV2ZW50XG4gICAgdGhpcy5sYXN0TW9kVGltZSA9IHRoaXMubGFzdFNlbFRpbWUgPSAwO1xuICAgIHRoaXMubGFzdE9wID0gdGhpcy5sYXN0U2VsT3AgPSBudWxsO1xuICAgIHRoaXMubGFzdE9yaWdpbiA9IHRoaXMubGFzdFNlbE9yaWdpbiA9IG51bGw7XG4gICAgLy8gVXNlZCBieSB0aGUgaXNDbGVhbigpIG1ldGhvZFxuICAgIHRoaXMuZ2VuZXJhdGlvbiA9IHRoaXMubWF4R2VuZXJhdGlvbiA9IHByZXYgPyBwcmV2Lm1heEdlbmVyYXRpb24gOiAxO1xuICB9XG5cbiAgLy8gQ3JlYXRlIGEgaGlzdG9yeSBjaGFuZ2UgZXZlbnQgZnJvbSBhbiB1cGRhdGVEb2Mtc3R5bGUgY2hhbmdlXG4gIC8vIG9iamVjdC5cbiAgZnVuY3Rpb24gaGlzdG9yeUNoYW5nZUZyb21DaGFuZ2UoZG9jLCBjaGFuZ2UpIHtcbiAgICB2YXIgaGlzdENoYW5nZSA9IHtmcm9tOiBjb3B5UG9zKGNoYW5nZS5mcm9tKSwgdG86IGNoYW5nZUVuZChjaGFuZ2UpLCB0ZXh0OiBnZXRCZXR3ZWVuKGRvYywgY2hhbmdlLmZyb20sIGNoYW5nZS50byl9O1xuICAgIGF0dGFjaExvY2FsU3BhbnMoZG9jLCBoaXN0Q2hhbmdlLCBjaGFuZ2UuZnJvbS5saW5lLCBjaGFuZ2UudG8ubGluZSArIDEpO1xuICAgIGxpbmtlZERvY3MoZG9jLCBmdW5jdGlvbiAoZG9jKSB7IHJldHVybiBhdHRhY2hMb2NhbFNwYW5zKGRvYywgaGlzdENoYW5nZSwgY2hhbmdlLmZyb20ubGluZSwgY2hhbmdlLnRvLmxpbmUgKyAxKTsgfSwgdHJ1ZSk7XG4gICAgcmV0dXJuIGhpc3RDaGFuZ2VcbiAgfVxuXG4gIC8vIFBvcCBhbGwgc2VsZWN0aW9uIGV2ZW50cyBvZmYgdGhlIGVuZCBvZiBhIGhpc3RvcnkgYXJyYXkuIFN0b3AgYXRcbiAgLy8gYSBjaGFuZ2UgZXZlbnQuXG4gIGZ1bmN0aW9uIGNsZWFyU2VsZWN0aW9uRXZlbnRzKGFycmF5KSB7XG4gICAgd2hpbGUgKGFycmF5Lmxlbmd0aCkge1xuICAgICAgdmFyIGxhc3QgPSBsc3QoYXJyYXkpO1xuICAgICAgaWYgKGxhc3QucmFuZ2VzKSB7IGFycmF5LnBvcCgpOyB9XG4gICAgICBlbHNlIHsgYnJlYWsgfVxuICAgIH1cbiAgfVxuXG4gIC8vIEZpbmQgdGhlIHRvcCBjaGFuZ2UgZXZlbnQgaW4gdGhlIGhpc3RvcnkuIFBvcCBvZmYgc2VsZWN0aW9uXG4gIC8vIGV2ZW50cyB0aGF0IGFyZSBpbiB0aGUgd2F5LlxuICBmdW5jdGlvbiBsYXN0Q2hhbmdlRXZlbnQoaGlzdCwgZm9yY2UpIHtcbiAgICBpZiAoZm9yY2UpIHtcbiAgICAgIGNsZWFyU2VsZWN0aW9uRXZlbnRzKGhpc3QuZG9uZSk7XG4gICAgICByZXR1cm4gbHN0KGhpc3QuZG9uZSlcbiAgICB9IGVsc2UgaWYgKGhpc3QuZG9uZS5sZW5ndGggJiYgIWxzdChoaXN0LmRvbmUpLnJhbmdlcykge1xuICAgICAgcmV0dXJuIGxzdChoaXN0LmRvbmUpXG4gICAgfSBlbHNlIGlmIChoaXN0LmRvbmUubGVuZ3RoID4gMSAmJiAhaGlzdC5kb25lW2hpc3QuZG9uZS5sZW5ndGggLSAyXS5yYW5nZXMpIHtcbiAgICAgIGhpc3QuZG9uZS5wb3AoKTtcbiAgICAgIHJldHVybiBsc3QoaGlzdC5kb25lKVxuICAgIH1cbiAgfVxuXG4gIC8vIFJlZ2lzdGVyIGEgY2hhbmdlIGluIHRoZSBoaXN0b3J5LiBNZXJnZXMgY2hhbmdlcyB0aGF0IGFyZSB3aXRoaW5cbiAgLy8gYSBzaW5nbGUgb3BlcmF0aW9uLCBvciBhcmUgY2xvc2UgdG9nZXRoZXIgd2l0aCBhbiBvcmlnaW4gdGhhdFxuICAvLyBhbGxvd3MgbWVyZ2luZyAoc3RhcnRpbmcgd2l0aCBcIitcIikgaW50byBhIHNpbmdsZSBldmVudC5cbiAgZnVuY3Rpb24gYWRkQ2hhbmdlVG9IaXN0b3J5KGRvYywgY2hhbmdlLCBzZWxBZnRlciwgb3BJZCkge1xuICAgIHZhciBoaXN0ID0gZG9jLmhpc3Rvcnk7XG4gICAgaGlzdC51bmRvbmUubGVuZ3RoID0gMDtcbiAgICB2YXIgdGltZSA9ICtuZXcgRGF0ZSwgY3VyO1xuICAgIHZhciBsYXN0O1xuXG4gICAgaWYgKChoaXN0Lmxhc3RPcCA9PSBvcElkIHx8XG4gICAgICAgICBoaXN0Lmxhc3RPcmlnaW4gPT0gY2hhbmdlLm9yaWdpbiAmJiBjaGFuZ2Uub3JpZ2luICYmXG4gICAgICAgICAoKGNoYW5nZS5vcmlnaW4uY2hhckF0KDApID09IFwiK1wiICYmIGhpc3QubGFzdE1vZFRpbWUgPiB0aW1lIC0gKGRvYy5jbSA/IGRvYy5jbS5vcHRpb25zLmhpc3RvcnlFdmVudERlbGF5IDogNTAwKSkgfHxcbiAgICAgICAgICBjaGFuZ2Uub3JpZ2luLmNoYXJBdCgwKSA9PSBcIipcIikpICYmXG4gICAgICAgIChjdXIgPSBsYXN0Q2hhbmdlRXZlbnQoaGlzdCwgaGlzdC5sYXN0T3AgPT0gb3BJZCkpKSB7XG4gICAgICAvLyBNZXJnZSB0aGlzIGNoYW5nZSBpbnRvIHRoZSBsYXN0IGV2ZW50XG4gICAgICBsYXN0ID0gbHN0KGN1ci5jaGFuZ2VzKTtcbiAgICAgIGlmIChjbXAoY2hhbmdlLmZyb20sIGNoYW5nZS50bykgPT0gMCAmJiBjbXAoY2hhbmdlLmZyb20sIGxhc3QudG8pID09IDApIHtcbiAgICAgICAgLy8gT3B0aW1pemVkIGNhc2UgZm9yIHNpbXBsZSBpbnNlcnRpb24gLS0gZG9uJ3Qgd2FudCB0byBhZGRcbiAgICAgICAgLy8gbmV3IGNoYW5nZXNldHMgZm9yIGV2ZXJ5IGNoYXJhY3RlciB0eXBlZFxuICAgICAgICBsYXN0LnRvID0gY2hhbmdlRW5kKGNoYW5nZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBBZGQgbmV3IHN1Yi1ldmVudFxuICAgICAgICBjdXIuY2hhbmdlcy5wdXNoKGhpc3RvcnlDaGFuZ2VGcm9tQ2hhbmdlKGRvYywgY2hhbmdlKSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENhbiBub3QgYmUgbWVyZ2VkLCBzdGFydCBhIG5ldyBldmVudC5cbiAgICAgIHZhciBiZWZvcmUgPSBsc3QoaGlzdC5kb25lKTtcbiAgICAgIGlmICghYmVmb3JlIHx8ICFiZWZvcmUucmFuZ2VzKVxuICAgICAgICB7IHB1c2hTZWxlY3Rpb25Ub0hpc3RvcnkoZG9jLnNlbCwgaGlzdC5kb25lKTsgfVxuICAgICAgY3VyID0ge2NoYW5nZXM6IFtoaXN0b3J5Q2hhbmdlRnJvbUNoYW5nZShkb2MsIGNoYW5nZSldLFxuICAgICAgICAgICAgIGdlbmVyYXRpb246IGhpc3QuZ2VuZXJhdGlvbn07XG4gICAgICBoaXN0LmRvbmUucHVzaChjdXIpO1xuICAgICAgd2hpbGUgKGhpc3QuZG9uZS5sZW5ndGggPiBoaXN0LnVuZG9EZXB0aCkge1xuICAgICAgICBoaXN0LmRvbmUuc2hpZnQoKTtcbiAgICAgICAgaWYgKCFoaXN0LmRvbmVbMF0ucmFuZ2VzKSB7IGhpc3QuZG9uZS5zaGlmdCgpOyB9XG4gICAgICB9XG4gICAgfVxuICAgIGhpc3QuZG9uZS5wdXNoKHNlbEFmdGVyKTtcbiAgICBoaXN0LmdlbmVyYXRpb24gPSArK2hpc3QubWF4R2VuZXJhdGlvbjtcbiAgICBoaXN0Lmxhc3RNb2RUaW1lID0gaGlzdC5sYXN0U2VsVGltZSA9IHRpbWU7XG4gICAgaGlzdC5sYXN0T3AgPSBoaXN0Lmxhc3RTZWxPcCA9IG9wSWQ7XG4gICAgaGlzdC5sYXN0T3JpZ2luID0gaGlzdC5sYXN0U2VsT3JpZ2luID0gY2hhbmdlLm9yaWdpbjtcblxuICAgIGlmICghbGFzdCkgeyBzaWduYWwoZG9jLCBcImhpc3RvcnlBZGRlZFwiKTsgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2VsZWN0aW9uRXZlbnRDYW5CZU1lcmdlZChkb2MsIG9yaWdpbiwgcHJldiwgc2VsKSB7XG4gICAgdmFyIGNoID0gb3JpZ2luLmNoYXJBdCgwKTtcbiAgICByZXR1cm4gY2ggPT0gXCIqXCIgfHxcbiAgICAgIGNoID09IFwiK1wiICYmXG4gICAgICBwcmV2LnJhbmdlcy5sZW5ndGggPT0gc2VsLnJhbmdlcy5sZW5ndGggJiZcbiAgICAgIHByZXYuc29tZXRoaW5nU2VsZWN0ZWQoKSA9PSBzZWwuc29tZXRoaW5nU2VsZWN0ZWQoKSAmJlxuICAgICAgbmV3IERhdGUgLSBkb2MuaGlzdG9yeS5sYXN0U2VsVGltZSA8PSAoZG9jLmNtID8gZG9jLmNtLm9wdGlvbnMuaGlzdG9yeUV2ZW50RGVsYXkgOiA1MDApXG4gIH1cblxuICAvLyBDYWxsZWQgd2hlbmV2ZXIgdGhlIHNlbGVjdGlvbiBjaGFuZ2VzLCBzZXRzIHRoZSBuZXcgc2VsZWN0aW9uIGFzXG4gIC8vIHRoZSBwZW5kaW5nIHNlbGVjdGlvbiBpbiB0aGUgaGlzdG9yeSwgYW5kIHB1c2hlcyB0aGUgb2xkIHBlbmRpbmdcbiAgLy8gc2VsZWN0aW9uIGludG8gdGhlICdkb25lJyBhcnJheSB3aGVuIGl0IHdhcyBzaWduaWZpY2FudGx5XG4gIC8vIGRpZmZlcmVudCAoaW4gbnVtYmVyIG9mIHNlbGVjdGVkIHJhbmdlcywgZW1wdGluZXNzLCBvciB0aW1lKS5cbiAgZnVuY3Rpb24gYWRkU2VsZWN0aW9uVG9IaXN0b3J5KGRvYywgc2VsLCBvcElkLCBvcHRpb25zKSB7XG4gICAgdmFyIGhpc3QgPSBkb2MuaGlzdG9yeSwgb3JpZ2luID0gb3B0aW9ucyAmJiBvcHRpb25zLm9yaWdpbjtcblxuICAgIC8vIEEgbmV3IGV2ZW50IGlzIHN0YXJ0ZWQgd2hlbiB0aGUgcHJldmlvdXMgb3JpZ2luIGRvZXMgbm90IG1hdGNoXG4gICAgLy8gdGhlIGN1cnJlbnQsIG9yIHRoZSBvcmlnaW5zIGRvbid0IGFsbG93IG1hdGNoaW5nLiBPcmlnaW5zXG4gICAgLy8gc3RhcnRpbmcgd2l0aCAqIGFyZSBhbHdheXMgbWVyZ2VkLCB0aG9zZSBzdGFydGluZyB3aXRoICsgYXJlXG4gICAgLy8gbWVyZ2VkIHdoZW4gc2ltaWxhciBhbmQgY2xvc2UgdG9nZXRoZXIgaW4gdGltZS5cbiAgICBpZiAob3BJZCA9PSBoaXN0Lmxhc3RTZWxPcCB8fFxuICAgICAgICAob3JpZ2luICYmIGhpc3QubGFzdFNlbE9yaWdpbiA9PSBvcmlnaW4gJiZcbiAgICAgICAgIChoaXN0Lmxhc3RNb2RUaW1lID09IGhpc3QubGFzdFNlbFRpbWUgJiYgaGlzdC5sYXN0T3JpZ2luID09IG9yaWdpbiB8fFxuICAgICAgICAgIHNlbGVjdGlvbkV2ZW50Q2FuQmVNZXJnZWQoZG9jLCBvcmlnaW4sIGxzdChoaXN0LmRvbmUpLCBzZWwpKSkpXG4gICAgICB7IGhpc3QuZG9uZVtoaXN0LmRvbmUubGVuZ3RoIC0gMV0gPSBzZWw7IH1cbiAgICBlbHNlXG4gICAgICB7IHB1c2hTZWxlY3Rpb25Ub0hpc3Rvcnkoc2VsLCBoaXN0LmRvbmUpOyB9XG5cbiAgICBoaXN0Lmxhc3RTZWxUaW1lID0gK25ldyBEYXRlO1xuICAgIGhpc3QubGFzdFNlbE9yaWdpbiA9IG9yaWdpbjtcbiAgICBoaXN0Lmxhc3RTZWxPcCA9IG9wSWQ7XG4gICAgaWYgKG9wdGlvbnMgJiYgb3B0aW9ucy5jbGVhclJlZG8gIT09IGZhbHNlKVxuICAgICAgeyBjbGVhclNlbGVjdGlvbkV2ZW50cyhoaXN0LnVuZG9uZSk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHB1c2hTZWxlY3Rpb25Ub0hpc3Rvcnkoc2VsLCBkZXN0KSB7XG4gICAgdmFyIHRvcCA9IGxzdChkZXN0KTtcbiAgICBpZiAoISh0b3AgJiYgdG9wLnJhbmdlcyAmJiB0b3AuZXF1YWxzKHNlbCkpKVxuICAgICAgeyBkZXN0LnB1c2goc2VsKTsgfVxuICB9XG5cbiAgLy8gVXNlZCB0byBzdG9yZSBtYXJrZWQgc3BhbiBpbmZvcm1hdGlvbiBpbiB0aGUgaGlzdG9yeS5cbiAgZnVuY3Rpb24gYXR0YWNoTG9jYWxTcGFucyhkb2MsIGNoYW5nZSwgZnJvbSwgdG8pIHtcbiAgICB2YXIgZXhpc3RpbmcgPSBjaGFuZ2VbXCJzcGFuc19cIiArIGRvYy5pZF0sIG4gPSAwO1xuICAgIGRvYy5pdGVyKE1hdGgubWF4KGRvYy5maXJzdCwgZnJvbSksIE1hdGgubWluKGRvYy5maXJzdCArIGRvYy5zaXplLCB0byksIGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICBpZiAobGluZS5tYXJrZWRTcGFucylcbiAgICAgICAgeyAoZXhpc3RpbmcgfHwgKGV4aXN0aW5nID0gY2hhbmdlW1wic3BhbnNfXCIgKyBkb2MuaWRdID0ge30pKVtuXSA9IGxpbmUubWFya2VkU3BhbnM7IH1cbiAgICAgICsrbjtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIFdoZW4gdW4vcmUtZG9pbmcgcmVzdG9yZXMgdGV4dCBjb250YWluaW5nIG1hcmtlZCBzcGFucywgdGhvc2VcbiAgLy8gdGhhdCBoYXZlIGJlZW4gZXhwbGljaXRseSBjbGVhcmVkIHNob3VsZCBub3QgYmUgcmVzdG9yZWQuXG4gIGZ1bmN0aW9uIHJlbW92ZUNsZWFyZWRTcGFucyhzcGFucykge1xuICAgIGlmICghc3BhbnMpIHsgcmV0dXJuIG51bGwgfVxuICAgIHZhciBvdXQ7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7ICsraSkge1xuICAgICAgaWYgKHNwYW5zW2ldLm1hcmtlci5leHBsaWNpdGx5Q2xlYXJlZCkgeyBpZiAoIW91dCkgeyBvdXQgPSBzcGFucy5zbGljZSgwLCBpKTsgfSB9XG4gICAgICBlbHNlIGlmIChvdXQpIHsgb3V0LnB1c2goc3BhbnNbaV0pOyB9XG4gICAgfVxuICAgIHJldHVybiAhb3V0ID8gc3BhbnMgOiBvdXQubGVuZ3RoID8gb3V0IDogbnVsbFxuICB9XG5cbiAgLy8gUmV0cmlldmUgYW5kIGZpbHRlciB0aGUgb2xkIG1hcmtlZCBzcGFucyBzdG9yZWQgaW4gYSBjaGFuZ2UgZXZlbnQuXG4gIGZ1bmN0aW9uIGdldE9sZFNwYW5zKGRvYywgY2hhbmdlKSB7XG4gICAgdmFyIGZvdW5kID0gY2hhbmdlW1wic3BhbnNfXCIgKyBkb2MuaWRdO1xuICAgIGlmICghZm91bmQpIHsgcmV0dXJuIG51bGwgfVxuICAgIHZhciBudyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhbmdlLnRleHQubGVuZ3RoOyArK2kpXG4gICAgICB7IG53LnB1c2gocmVtb3ZlQ2xlYXJlZFNwYW5zKGZvdW5kW2ldKSk7IH1cbiAgICByZXR1cm4gbndcbiAgfVxuXG4gIC8vIFVzZWQgZm9yIHVuL3JlLWRvaW5nIGNoYW5nZXMgZnJvbSB0aGUgaGlzdG9yeS4gQ29tYmluZXMgdGhlXG4gIC8vIHJlc3VsdCBvZiBjb21wdXRpbmcgdGhlIGV4aXN0aW5nIHNwYW5zIHdpdGggdGhlIHNldCBvZiBzcGFucyB0aGF0XG4gIC8vIGV4aXN0ZWQgaW4gdGhlIGhpc3RvcnkgKHNvIHRoYXQgZGVsZXRpbmcgYXJvdW5kIGEgc3BhbiBhbmQgdGhlblxuICAvLyB1bmRvaW5nIGJyaW5ncyBiYWNrIHRoZSBzcGFuKS5cbiAgZnVuY3Rpb24gbWVyZ2VPbGRTcGFucyhkb2MsIGNoYW5nZSkge1xuICAgIHZhciBvbGQgPSBnZXRPbGRTcGFucyhkb2MsIGNoYW5nZSk7XG4gICAgdmFyIHN0cmV0Y2hlZCA9IHN0cmV0Y2hTcGFuc092ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpO1xuICAgIGlmICghb2xkKSB7IHJldHVybiBzdHJldGNoZWQgfVxuICAgIGlmICghc3RyZXRjaGVkKSB7IHJldHVybiBvbGQgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvbGQubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBvbGRDdXIgPSBvbGRbaV0sIHN0cmV0Y2hDdXIgPSBzdHJldGNoZWRbaV07XG4gICAgICBpZiAob2xkQ3VyICYmIHN0cmV0Y2hDdXIpIHtcbiAgICAgICAgc3BhbnM6IGZvciAodmFyIGogPSAwOyBqIDwgc3RyZXRjaEN1ci5sZW5ndGg7ICsraikge1xuICAgICAgICAgIHZhciBzcGFuID0gc3RyZXRjaEN1cltqXTtcbiAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IG9sZEN1ci5sZW5ndGg7ICsraylcbiAgICAgICAgICAgIHsgaWYgKG9sZEN1cltrXS5tYXJrZXIgPT0gc3Bhbi5tYXJrZXIpIHsgY29udGludWUgc3BhbnMgfSB9XG4gICAgICAgICAgb2xkQ3VyLnB1c2goc3Bhbik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyZXRjaEN1cikge1xuICAgICAgICBvbGRbaV0gPSBzdHJldGNoQ3VyO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2xkXG4gIH1cblxuICAvLyBVc2VkIGJvdGggdG8gcHJvdmlkZSBhIEpTT04tc2FmZSBvYmplY3QgaW4gLmdldEhpc3RvcnksIGFuZCwgd2hlblxuICAvLyBkZXRhY2hpbmcgYSBkb2N1bWVudCwgdG8gc3BsaXQgdGhlIGhpc3RvcnkgaW4gdHdvXG4gIGZ1bmN0aW9uIGNvcHlIaXN0b3J5QXJyYXkoZXZlbnRzLCBuZXdHcm91cCwgaW5zdGFudGlhdGVTZWwpIHtcbiAgICB2YXIgY29weSA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXZlbnRzLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgZXZlbnQgPSBldmVudHNbaV07XG4gICAgICBpZiAoZXZlbnQucmFuZ2VzKSB7XG4gICAgICAgIGNvcHkucHVzaChpbnN0YW50aWF0ZVNlbCA/IFNlbGVjdGlvbi5wcm90b3R5cGUuZGVlcENvcHkuY2FsbChldmVudCkgOiBldmVudCk7XG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgICB2YXIgY2hhbmdlcyA9IGV2ZW50LmNoYW5nZXMsIG5ld0NoYW5nZXMgPSBbXTtcbiAgICAgIGNvcHkucHVzaCh7Y2hhbmdlczogbmV3Q2hhbmdlc30pO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBjaGFuZ2VzLmxlbmd0aDsgKytqKSB7XG4gICAgICAgIHZhciBjaGFuZ2UgPSBjaGFuZ2VzW2pdLCBtID0gKHZvaWQgMCk7XG4gICAgICAgIG5ld0NoYW5nZXMucHVzaCh7ZnJvbTogY2hhbmdlLmZyb20sIHRvOiBjaGFuZ2UudG8sIHRleHQ6IGNoYW5nZS50ZXh0fSk7XG4gICAgICAgIGlmIChuZXdHcm91cCkgeyBmb3IgKHZhciBwcm9wIGluIGNoYW5nZSkgeyBpZiAobSA9IHByb3AubWF0Y2goL15zcGFuc18oXFxkKykkLykpIHtcbiAgICAgICAgICBpZiAoaW5kZXhPZihuZXdHcm91cCwgTnVtYmVyKG1bMV0pKSA+IC0xKSB7XG4gICAgICAgICAgICBsc3QobmV3Q2hhbmdlcylbcHJvcF0gPSBjaGFuZ2VbcHJvcF07XG4gICAgICAgICAgICBkZWxldGUgY2hhbmdlW3Byb3BdO1xuICAgICAgICAgIH1cbiAgICAgICAgfSB9IH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGNvcHlcbiAgfVxuXG4gIC8vIFRoZSAnc2Nyb2xsJyBwYXJhbWV0ZXIgZ2l2ZW4gdG8gbWFueSBvZiB0aGVzZSBpbmRpY2F0ZWQgd2hldGhlclxuICAvLyB0aGUgbmV3IGN1cnNvciBwb3NpdGlvbiBzaG91bGQgYmUgc2Nyb2xsZWQgaW50byB2aWV3IGFmdGVyXG4gIC8vIG1vZGlmeWluZyB0aGUgc2VsZWN0aW9uLlxuXG4gIC8vIElmIHNoaWZ0IGlzIGhlbGQgb3IgdGhlIGV4dGVuZCBmbGFnIGlzIHNldCwgZXh0ZW5kcyBhIHJhbmdlIHRvXG4gIC8vIGluY2x1ZGUgYSBnaXZlbiBwb3NpdGlvbiAoYW5kIG9wdGlvbmFsbHkgYSBzZWNvbmQgcG9zaXRpb24pLlxuICAvLyBPdGhlcndpc2UsIHNpbXBseSByZXR1cm5zIHRoZSByYW5nZSBiZXR3ZWVuIHRoZSBnaXZlbiBwb3NpdGlvbnMuXG4gIC8vIFVzZWQgZm9yIGN1cnNvciBtb3Rpb24gYW5kIHN1Y2guXG4gIGZ1bmN0aW9uIGV4dGVuZFJhbmdlKHJhbmdlLCBoZWFkLCBvdGhlciwgZXh0ZW5kKSB7XG4gICAgaWYgKGV4dGVuZCkge1xuICAgICAgdmFyIGFuY2hvciA9IHJhbmdlLmFuY2hvcjtcbiAgICAgIGlmIChvdGhlcikge1xuICAgICAgICB2YXIgcG9zQmVmb3JlID0gY21wKGhlYWQsIGFuY2hvcikgPCAwO1xuICAgICAgICBpZiAocG9zQmVmb3JlICE9IChjbXAob3RoZXIsIGFuY2hvcikgPCAwKSkge1xuICAgICAgICAgIGFuY2hvciA9IGhlYWQ7XG4gICAgICAgICAgaGVhZCA9IG90aGVyO1xuICAgICAgICB9IGVsc2UgaWYgKHBvc0JlZm9yZSAhPSAoY21wKGhlYWQsIG90aGVyKSA8IDApKSB7XG4gICAgICAgICAgaGVhZCA9IG90aGVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IFJhbmdlKGFuY2hvciwgaGVhZClcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBSYW5nZShvdGhlciB8fCBoZWFkLCBoZWFkKVxuICAgIH1cbiAgfVxuXG4gIC8vIEV4dGVuZCB0aGUgcHJpbWFyeSBzZWxlY3Rpb24gcmFuZ2UsIGRpc2NhcmQgdGhlIHJlc3QuXG4gIGZ1bmN0aW9uIGV4dGVuZFNlbGVjdGlvbihkb2MsIGhlYWQsIG90aGVyLCBvcHRpb25zLCBleHRlbmQpIHtcbiAgICBpZiAoZXh0ZW5kID09IG51bGwpIHsgZXh0ZW5kID0gZG9jLmNtICYmIChkb2MuY20uZGlzcGxheS5zaGlmdCB8fCBkb2MuZXh0ZW5kKTsgfVxuICAgIHNldFNlbGVjdGlvbihkb2MsIG5ldyBTZWxlY3Rpb24oW2V4dGVuZFJhbmdlKGRvYy5zZWwucHJpbWFyeSgpLCBoZWFkLCBvdGhlciwgZXh0ZW5kKV0sIDApLCBvcHRpb25zKTtcbiAgfVxuXG4gIC8vIEV4dGVuZCBhbGwgc2VsZWN0aW9ucyAocG9zIGlzIGFuIGFycmF5IG9mIHNlbGVjdGlvbnMgd2l0aCBsZW5ndGhcbiAgLy8gZXF1YWwgdGhlIG51bWJlciBvZiBzZWxlY3Rpb25zKVxuICBmdW5jdGlvbiBleHRlbmRTZWxlY3Rpb25zKGRvYywgaGVhZHMsIG9wdGlvbnMpIHtcbiAgICB2YXIgb3V0ID0gW107XG4gICAgdmFyIGV4dGVuZCA9IGRvYy5jbSAmJiAoZG9jLmNtLmRpc3BsYXkuc2hpZnQgfHwgZG9jLmV4dGVuZCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2Muc2VsLnJhbmdlcy5sZW5ndGg7IGkrKylcbiAgICAgIHsgb3V0W2ldID0gZXh0ZW5kUmFuZ2UoZG9jLnNlbC5yYW5nZXNbaV0sIGhlYWRzW2ldLCBudWxsLCBleHRlbmQpOyB9XG4gICAgdmFyIG5ld1NlbCA9IG5vcm1hbGl6ZVNlbGVjdGlvbihkb2MuY20sIG91dCwgZG9jLnNlbC5wcmltSW5kZXgpO1xuICAgIHNldFNlbGVjdGlvbihkb2MsIG5ld1NlbCwgb3B0aW9ucyk7XG4gIH1cblxuICAvLyBVcGRhdGVzIGEgc2luZ2xlIHJhbmdlIGluIHRoZSBzZWxlY3Rpb24uXG4gIGZ1bmN0aW9uIHJlcGxhY2VPbmVTZWxlY3Rpb24oZG9jLCBpLCByYW5nZSwgb3B0aW9ucykge1xuICAgIHZhciByYW5nZXMgPSBkb2Muc2VsLnJhbmdlcy5zbGljZSgwKTtcbiAgICByYW5nZXNbaV0gPSByYW5nZTtcbiAgICBzZXRTZWxlY3Rpb24oZG9jLCBub3JtYWxpemVTZWxlY3Rpb24oZG9jLmNtLCByYW5nZXMsIGRvYy5zZWwucHJpbUluZGV4KSwgb3B0aW9ucyk7XG4gIH1cblxuICAvLyBSZXNldCB0aGUgc2VsZWN0aW9uIHRvIGEgc2luZ2xlIHJhbmdlLlxuICBmdW5jdGlvbiBzZXRTaW1wbGVTZWxlY3Rpb24oZG9jLCBhbmNob3IsIGhlYWQsIG9wdGlvbnMpIHtcbiAgICBzZXRTZWxlY3Rpb24oZG9jLCBzaW1wbGVTZWxlY3Rpb24oYW5jaG9yLCBoZWFkKSwgb3B0aW9ucyk7XG4gIH1cblxuICAvLyBHaXZlIGJlZm9yZVNlbGVjdGlvbkNoYW5nZSBoYW5kbGVycyBhIGNoYW5nZSB0byBpbmZsdWVuY2UgYVxuICAvLyBzZWxlY3Rpb24gdXBkYXRlLlxuICBmdW5jdGlvbiBmaWx0ZXJTZWxlY3Rpb25DaGFuZ2UoZG9jLCBzZWwsIG9wdGlvbnMpIHtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgcmFuZ2VzOiBzZWwucmFuZ2VzLFxuICAgICAgdXBkYXRlOiBmdW5jdGlvbihyYW5nZXMpIHtcbiAgICAgICAgdGhpcy5yYW5nZXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgeyB0aGlzLnJhbmdlc1tpXSA9IG5ldyBSYW5nZShjbGlwUG9zKGRvYywgcmFuZ2VzW2ldLmFuY2hvciksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpcFBvcyhkb2MsIHJhbmdlc1tpXS5oZWFkKSk7IH1cbiAgICAgIH0sXG4gICAgICBvcmlnaW46IG9wdGlvbnMgJiYgb3B0aW9ucy5vcmlnaW5cbiAgICB9O1xuICAgIHNpZ25hbChkb2MsIFwiYmVmb3JlU2VsZWN0aW9uQ2hhbmdlXCIsIGRvYywgb2JqKTtcbiAgICBpZiAoZG9jLmNtKSB7IHNpZ25hbChkb2MuY20sIFwiYmVmb3JlU2VsZWN0aW9uQ2hhbmdlXCIsIGRvYy5jbSwgb2JqKTsgfVxuICAgIGlmIChvYmoucmFuZ2VzICE9IHNlbC5yYW5nZXMpIHsgcmV0dXJuIG5vcm1hbGl6ZVNlbGVjdGlvbihkb2MuY20sIG9iai5yYW5nZXMsIG9iai5yYW5nZXMubGVuZ3RoIC0gMSkgfVxuICAgIGVsc2UgeyByZXR1cm4gc2VsIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFNlbGVjdGlvblJlcGxhY2VIaXN0b3J5KGRvYywgc2VsLCBvcHRpb25zKSB7XG4gICAgdmFyIGRvbmUgPSBkb2MuaGlzdG9yeS5kb25lLCBsYXN0ID0gbHN0KGRvbmUpO1xuICAgIGlmIChsYXN0ICYmIGxhc3QucmFuZ2VzKSB7XG4gICAgICBkb25lW2RvbmUubGVuZ3RoIC0gMV0gPSBzZWw7XG4gICAgICBzZXRTZWxlY3Rpb25Ob1VuZG8oZG9jLCBzZWwsIG9wdGlvbnMpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZXRTZWxlY3Rpb24oZG9jLCBzZWwsIG9wdGlvbnMpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFNldCBhIG5ldyBzZWxlY3Rpb24uXG4gIGZ1bmN0aW9uIHNldFNlbGVjdGlvbihkb2MsIHNlbCwgb3B0aW9ucykge1xuICAgIHNldFNlbGVjdGlvbk5vVW5kbyhkb2MsIHNlbCwgb3B0aW9ucyk7XG4gICAgYWRkU2VsZWN0aW9uVG9IaXN0b3J5KGRvYywgZG9jLnNlbCwgZG9jLmNtID8gZG9jLmNtLmN1ck9wLmlkIDogTmFOLCBvcHRpb25zKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldFNlbGVjdGlvbk5vVW5kbyhkb2MsIHNlbCwgb3B0aW9ucykge1xuICAgIGlmIChoYXNIYW5kbGVyKGRvYywgXCJiZWZvcmVTZWxlY3Rpb25DaGFuZ2VcIikgfHwgZG9jLmNtICYmIGhhc0hhbmRsZXIoZG9jLmNtLCBcImJlZm9yZVNlbGVjdGlvbkNoYW5nZVwiKSlcbiAgICAgIHsgc2VsID0gZmlsdGVyU2VsZWN0aW9uQ2hhbmdlKGRvYywgc2VsLCBvcHRpb25zKTsgfVxuXG4gICAgdmFyIGJpYXMgPSBvcHRpb25zICYmIG9wdGlvbnMuYmlhcyB8fFxuICAgICAgKGNtcChzZWwucHJpbWFyeSgpLmhlYWQsIGRvYy5zZWwucHJpbWFyeSgpLmhlYWQpIDwgMCA/IC0xIDogMSk7XG4gICAgc2V0U2VsZWN0aW9uSW5uZXIoZG9jLCBza2lwQXRvbWljSW5TZWxlY3Rpb24oZG9jLCBzZWwsIGJpYXMsIHRydWUpKTtcblxuICAgIGlmICghKG9wdGlvbnMgJiYgb3B0aW9ucy5zY3JvbGwgPT09IGZhbHNlKSAmJiBkb2MuY20gJiYgZG9jLmNtLmdldE9wdGlvbihcInJlYWRPbmx5XCIpICE9IFwibm9jdXJzb3JcIilcbiAgICAgIHsgZW5zdXJlQ3Vyc29yVmlzaWJsZShkb2MuY20pOyB9XG4gIH1cblxuICBmdW5jdGlvbiBzZXRTZWxlY3Rpb25Jbm5lcihkb2MsIHNlbCkge1xuICAgIGlmIChzZWwuZXF1YWxzKGRvYy5zZWwpKSB7IHJldHVybiB9XG5cbiAgICBkb2Muc2VsID0gc2VsO1xuXG4gICAgaWYgKGRvYy5jbSkge1xuICAgICAgZG9jLmNtLmN1ck9wLnVwZGF0ZUlucHV0ID0gMTtcbiAgICAgIGRvYy5jbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkID0gdHJ1ZTtcbiAgICAgIHNpZ25hbEN1cnNvckFjdGl2aXR5KGRvYy5jbSk7XG4gICAgfVxuICAgIHNpZ25hbExhdGVyKGRvYywgXCJjdXJzb3JBY3Rpdml0eVwiLCBkb2MpO1xuICB9XG5cbiAgLy8gVmVyaWZ5IHRoYXQgdGhlIHNlbGVjdGlvbiBkb2VzIG5vdCBwYXJ0aWFsbHkgc2VsZWN0IGFueSBhdG9taWNcbiAgLy8gbWFya2VkIHJhbmdlcy5cbiAgZnVuY3Rpb24gcmVDaGVja1NlbGVjdGlvbihkb2MpIHtcbiAgICBzZXRTZWxlY3Rpb25Jbm5lcihkb2MsIHNraXBBdG9taWNJblNlbGVjdGlvbihkb2MsIGRvYy5zZWwsIG51bGwsIGZhbHNlKSk7XG4gIH1cblxuICAvLyBSZXR1cm4gYSBzZWxlY3Rpb24gdGhhdCBkb2VzIG5vdCBwYXJ0aWFsbHkgc2VsZWN0IGFueSBhdG9taWNcbiAgLy8gcmFuZ2VzLlxuICBmdW5jdGlvbiBza2lwQXRvbWljSW5TZWxlY3Rpb24oZG9jLCBzZWwsIGJpYXMsIG1heUNsZWFyKSB7XG4gICAgdmFyIG91dDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbC5yYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciByYW5nZSA9IHNlbC5yYW5nZXNbaV07XG4gICAgICB2YXIgb2xkID0gc2VsLnJhbmdlcy5sZW5ndGggPT0gZG9jLnNlbC5yYW5nZXMubGVuZ3RoICYmIGRvYy5zZWwucmFuZ2VzW2ldO1xuICAgICAgdmFyIG5ld0FuY2hvciA9IHNraXBBdG9taWMoZG9jLCByYW5nZS5hbmNob3IsIG9sZCAmJiBvbGQuYW5jaG9yLCBiaWFzLCBtYXlDbGVhcik7XG4gICAgICB2YXIgbmV3SGVhZCA9IHJhbmdlLmhlYWQgPT0gcmFuZ2UuYW5jaG9yID8gbmV3QW5jaG9yIDogc2tpcEF0b21pYyhkb2MsIHJhbmdlLmhlYWQsIG9sZCAmJiBvbGQuaGVhZCwgYmlhcywgbWF5Q2xlYXIpO1xuICAgICAgaWYgKG91dCB8fCBuZXdBbmNob3IgIT0gcmFuZ2UuYW5jaG9yIHx8IG5ld0hlYWQgIT0gcmFuZ2UuaGVhZCkge1xuICAgICAgICBpZiAoIW91dCkgeyBvdXQgPSBzZWwucmFuZ2VzLnNsaWNlKDAsIGkpOyB9XG4gICAgICAgIG91dFtpXSA9IG5ldyBSYW5nZShuZXdBbmNob3IsIG5ld0hlYWQpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3V0ID8gbm9ybWFsaXplU2VsZWN0aW9uKGRvYy5jbSwgb3V0LCBzZWwucHJpbUluZGV4KSA6IHNlbFxuICB9XG5cbiAgZnVuY3Rpb24gc2tpcEF0b21pY0lubmVyKGRvYywgcG9zLCBvbGRQb3MsIGRpciwgbWF5Q2xlYXIpIHtcbiAgICB2YXIgbGluZSA9IGdldExpbmUoZG9jLCBwb3MubGluZSk7XG4gICAgaWYgKGxpbmUubWFya2VkU3BhbnMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBsaW5lLm1hcmtlZFNwYW5zLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgc3AgPSBsaW5lLm1hcmtlZFNwYW5zW2ldLCBtID0gc3AubWFya2VyO1xuXG4gICAgICAvLyBEZXRlcm1pbmUgaWYgd2Ugc2hvdWxkIHByZXZlbnQgdGhlIGN1cnNvciBiZWluZyBwbGFjZWQgdG8gdGhlIGxlZnQvcmlnaHQgb2YgYW4gYXRvbWljIG1hcmtlclxuICAgICAgLy8gSGlzdG9yaWNhbGx5IHRoaXMgd2FzIGRldGVybWluZWQgdXNpbmcgdGhlIGluY2x1c2l2ZUxlZnQvUmlnaHQgb3B0aW9uLCBidXQgdGhlIG5ldyB3YXkgdG8gY29udHJvbCBpdFxuICAgICAgLy8gaXMgd2l0aCBzZWxlY3RMZWZ0L1JpZ2h0XG4gICAgICB2YXIgcHJldmVudEN1cnNvckxlZnQgPSAoXCJzZWxlY3RMZWZ0XCIgaW4gbSkgPyAhbS5zZWxlY3RMZWZ0IDogbS5pbmNsdXNpdmVMZWZ0O1xuICAgICAgdmFyIHByZXZlbnRDdXJzb3JSaWdodCA9IChcInNlbGVjdFJpZ2h0XCIgaW4gbSkgPyAhbS5zZWxlY3RSaWdodCA6IG0uaW5jbHVzaXZlUmlnaHQ7XG5cbiAgICAgIGlmICgoc3AuZnJvbSA9PSBudWxsIHx8IChwcmV2ZW50Q3Vyc29yTGVmdCA/IHNwLmZyb20gPD0gcG9zLmNoIDogc3AuZnJvbSA8IHBvcy5jaCkpICYmXG4gICAgICAgICAgKHNwLnRvID09IG51bGwgfHwgKHByZXZlbnRDdXJzb3JSaWdodCA/IHNwLnRvID49IHBvcy5jaCA6IHNwLnRvID4gcG9zLmNoKSkpIHtcbiAgICAgICAgaWYgKG1heUNsZWFyKSB7XG4gICAgICAgICAgc2lnbmFsKG0sIFwiYmVmb3JlQ3Vyc29yRW50ZXJcIik7XG4gICAgICAgICAgaWYgKG0uZXhwbGljaXRseUNsZWFyZWQpIHtcbiAgICAgICAgICAgIGlmICghbGluZS5tYXJrZWRTcGFucykgeyBicmVhayB9XG4gICAgICAgICAgICBlbHNlIHstLWk7IGNvbnRpbnVlfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIW0uYXRvbWljKSB7IGNvbnRpbnVlIH1cblxuICAgICAgICBpZiAob2xkUG9zKSB7XG4gICAgICAgICAgdmFyIG5lYXIgPSBtLmZpbmQoZGlyIDwgMCA/IDEgOiAtMSksIGRpZmYgPSAodm9pZCAwKTtcbiAgICAgICAgICBpZiAoZGlyIDwgMCA/IHByZXZlbnRDdXJzb3JSaWdodCA6IHByZXZlbnRDdXJzb3JMZWZ0KVxuICAgICAgICAgICAgeyBuZWFyID0gbW92ZVBvcyhkb2MsIG5lYXIsIC1kaXIsIG5lYXIgJiYgbmVhci5saW5lID09IHBvcy5saW5lID8gbGluZSA6IG51bGwpOyB9XG4gICAgICAgICAgaWYgKG5lYXIgJiYgbmVhci5saW5lID09IHBvcy5saW5lICYmIChkaWZmID0gY21wKG5lYXIsIG9sZFBvcykpICYmIChkaXIgPCAwID8gZGlmZiA8IDAgOiBkaWZmID4gMCkpXG4gICAgICAgICAgICB7IHJldHVybiBza2lwQXRvbWljSW5uZXIoZG9jLCBuZWFyLCBwb3MsIGRpciwgbWF5Q2xlYXIpIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBmYXIgPSBtLmZpbmQoZGlyIDwgMCA/IC0xIDogMSk7XG4gICAgICAgIGlmIChkaXIgPCAwID8gcHJldmVudEN1cnNvckxlZnQgOiBwcmV2ZW50Q3Vyc29yUmlnaHQpXG4gICAgICAgICAgeyBmYXIgPSBtb3ZlUG9zKGRvYywgZmFyLCBkaXIsIGZhci5saW5lID09IHBvcy5saW5lID8gbGluZSA6IG51bGwpOyB9XG4gICAgICAgIHJldHVybiBmYXIgPyBza2lwQXRvbWljSW5uZXIoZG9jLCBmYXIsIHBvcywgZGlyLCBtYXlDbGVhcikgOiBudWxsXG4gICAgICB9XG4gICAgfSB9XG4gICAgcmV0dXJuIHBvc1xuICB9XG5cbiAgLy8gRW5zdXJlIGEgZ2l2ZW4gcG9zaXRpb24gaXMgbm90IGluc2lkZSBhbiBhdG9taWMgcmFuZ2UuXG4gIGZ1bmN0aW9uIHNraXBBdG9taWMoZG9jLCBwb3MsIG9sZFBvcywgYmlhcywgbWF5Q2xlYXIpIHtcbiAgICB2YXIgZGlyID0gYmlhcyB8fCAxO1xuICAgIHZhciBmb3VuZCA9IHNraXBBdG9taWNJbm5lcihkb2MsIHBvcywgb2xkUG9zLCBkaXIsIG1heUNsZWFyKSB8fFxuICAgICAgICAoIW1heUNsZWFyICYmIHNraXBBdG9taWNJbm5lcihkb2MsIHBvcywgb2xkUG9zLCBkaXIsIHRydWUpKSB8fFxuICAgICAgICBza2lwQXRvbWljSW5uZXIoZG9jLCBwb3MsIG9sZFBvcywgLWRpciwgbWF5Q2xlYXIpIHx8XG4gICAgICAgICghbWF5Q2xlYXIgJiYgc2tpcEF0b21pY0lubmVyKGRvYywgcG9zLCBvbGRQb3MsIC1kaXIsIHRydWUpKTtcbiAgICBpZiAoIWZvdW5kKSB7XG4gICAgICBkb2MuY2FudEVkaXQgPSB0cnVlO1xuICAgICAgcmV0dXJuIFBvcyhkb2MuZmlyc3QsIDApXG4gICAgfVxuICAgIHJldHVybiBmb3VuZFxuICB9XG5cbiAgZnVuY3Rpb24gbW92ZVBvcyhkb2MsIHBvcywgZGlyLCBsaW5lKSB7XG4gICAgaWYgKGRpciA8IDAgJiYgcG9zLmNoID09IDApIHtcbiAgICAgIGlmIChwb3MubGluZSA+IGRvYy5maXJzdCkgeyByZXR1cm4gY2xpcFBvcyhkb2MsIFBvcyhwb3MubGluZSAtIDEpKSB9XG4gICAgICBlbHNlIHsgcmV0dXJuIG51bGwgfVxuICAgIH0gZWxzZSBpZiAoZGlyID4gMCAmJiBwb3MuY2ggPT0gKGxpbmUgfHwgZ2V0TGluZShkb2MsIHBvcy5saW5lKSkudGV4dC5sZW5ndGgpIHtcbiAgICAgIGlmIChwb3MubGluZSA8IGRvYy5maXJzdCArIGRvYy5zaXplIC0gMSkgeyByZXR1cm4gUG9zKHBvcy5saW5lICsgMSwgMCkgfVxuICAgICAgZWxzZSB7IHJldHVybiBudWxsIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBQb3MocG9zLmxpbmUsIHBvcy5jaCArIGRpcilcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZWxlY3RBbGwoY20pIHtcbiAgICBjbS5zZXRTZWxlY3Rpb24oUG9zKGNtLmZpcnN0TGluZSgpLCAwKSwgUG9zKGNtLmxhc3RMaW5lKCkpLCBzZWxfZG9udFNjcm9sbCk7XG4gIH1cblxuICAvLyBVUERBVElOR1xuXG4gIC8vIEFsbG93IFwiYmVmb3JlQ2hhbmdlXCIgZXZlbnQgaGFuZGxlcnMgdG8gaW5mbHVlbmNlIGEgY2hhbmdlXG4gIGZ1bmN0aW9uIGZpbHRlckNoYW5nZShkb2MsIGNoYW5nZSwgdXBkYXRlKSB7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNhbmNlbGVkOiBmYWxzZSxcbiAgICAgIGZyb206IGNoYW5nZS5mcm9tLFxuICAgICAgdG86IGNoYW5nZS50byxcbiAgICAgIHRleHQ6IGNoYW5nZS50ZXh0LFxuICAgICAgb3JpZ2luOiBjaGFuZ2Uub3JpZ2luLFxuICAgICAgY2FuY2VsOiBmdW5jdGlvbiAoKSB7IHJldHVybiBvYmouY2FuY2VsZWQgPSB0cnVlOyB9XG4gICAgfTtcbiAgICBpZiAodXBkYXRlKSB7IG9iai51cGRhdGUgPSBmdW5jdGlvbiAoZnJvbSwgdG8sIHRleHQsIG9yaWdpbikge1xuICAgICAgaWYgKGZyb20pIHsgb2JqLmZyb20gPSBjbGlwUG9zKGRvYywgZnJvbSk7IH1cbiAgICAgIGlmICh0bykgeyBvYmoudG8gPSBjbGlwUG9zKGRvYywgdG8pOyB9XG4gICAgICBpZiAodGV4dCkgeyBvYmoudGV4dCA9IHRleHQ7IH1cbiAgICAgIGlmIChvcmlnaW4gIT09IHVuZGVmaW5lZCkgeyBvYmoub3JpZ2luID0gb3JpZ2luOyB9XG4gICAgfTsgfVxuICAgIHNpZ25hbChkb2MsIFwiYmVmb3JlQ2hhbmdlXCIsIGRvYywgb2JqKTtcbiAgICBpZiAoZG9jLmNtKSB7IHNpZ25hbChkb2MuY20sIFwiYmVmb3JlQ2hhbmdlXCIsIGRvYy5jbSwgb2JqKTsgfVxuXG4gICAgaWYgKG9iai5jYW5jZWxlZCkge1xuICAgICAgaWYgKGRvYy5jbSkgeyBkb2MuY20uY3VyT3AudXBkYXRlSW5wdXQgPSAyOyB9XG4gICAgICByZXR1cm4gbnVsbFxuICAgIH1cbiAgICByZXR1cm4ge2Zyb206IG9iai5mcm9tLCB0bzogb2JqLnRvLCB0ZXh0OiBvYmoudGV4dCwgb3JpZ2luOiBvYmoub3JpZ2lufVxuICB9XG5cbiAgLy8gQXBwbHkgYSBjaGFuZ2UgdG8gYSBkb2N1bWVudCwgYW5kIGFkZCBpdCB0byB0aGUgZG9jdW1lbnQnc1xuICAvLyBoaXN0b3J5LCBhbmQgcHJvcGFnYXRpbmcgaXQgdG8gYWxsIGxpbmtlZCBkb2N1bWVudHMuXG4gIGZ1bmN0aW9uIG1ha2VDaGFuZ2UoZG9jLCBjaGFuZ2UsIGlnbm9yZVJlYWRPbmx5KSB7XG4gICAgaWYgKGRvYy5jbSkge1xuICAgICAgaWYgKCFkb2MuY20uY3VyT3ApIHsgcmV0dXJuIG9wZXJhdGlvbihkb2MuY20sIG1ha2VDaGFuZ2UpKGRvYywgY2hhbmdlLCBpZ25vcmVSZWFkT25seSkgfVxuICAgICAgaWYgKGRvYy5jbS5zdGF0ZS5zdXBwcmVzc0VkaXRzKSB7IHJldHVybiB9XG4gICAgfVxuXG4gICAgaWYgKGhhc0hhbmRsZXIoZG9jLCBcImJlZm9yZUNoYW5nZVwiKSB8fCBkb2MuY20gJiYgaGFzSGFuZGxlcihkb2MuY20sIFwiYmVmb3JlQ2hhbmdlXCIpKSB7XG4gICAgICBjaGFuZ2UgPSBmaWx0ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UsIHRydWUpO1xuICAgICAgaWYgKCFjaGFuZ2UpIHsgcmV0dXJuIH1cbiAgICB9XG5cbiAgICAvLyBQb3NzaWJseSBzcGxpdCBvciBzdXBwcmVzcyB0aGUgdXBkYXRlIGJhc2VkIG9uIHRoZSBwcmVzZW5jZVxuICAgIC8vIG9mIHJlYWQtb25seSBzcGFucyBpbiBpdHMgcmFuZ2UuXG4gICAgdmFyIHNwbGl0ID0gc2F3UmVhZE9ubHlTcGFucyAmJiAhaWdub3JlUmVhZE9ubHkgJiYgcmVtb3ZlUmVhZE9ubHlSYW5nZXMoZG9jLCBjaGFuZ2UuZnJvbSwgY2hhbmdlLnRvKTtcbiAgICBpZiAoc3BsaXQpIHtcbiAgICAgIGZvciAodmFyIGkgPSBzcGxpdC5sZW5ndGggLSAxOyBpID49IDA7IC0taSlcbiAgICAgICAgeyBtYWtlQ2hhbmdlSW5uZXIoZG9jLCB7ZnJvbTogc3BsaXRbaV0uZnJvbSwgdG86IHNwbGl0W2ldLnRvLCB0ZXh0OiBpID8gW1wiXCJdIDogY2hhbmdlLnRleHQsIG9yaWdpbjogY2hhbmdlLm9yaWdpbn0pOyB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG1ha2VDaGFuZ2VJbm5lcihkb2MsIGNoYW5nZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gbWFrZUNoYW5nZUlubmVyKGRvYywgY2hhbmdlKSB7XG4gICAgaWYgKGNoYW5nZS50ZXh0Lmxlbmd0aCA9PSAxICYmIGNoYW5nZS50ZXh0WzBdID09IFwiXCIgJiYgY21wKGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pID09IDApIHsgcmV0dXJuIH1cbiAgICB2YXIgc2VsQWZ0ZXIgPSBjb21wdXRlU2VsQWZ0ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpO1xuICAgIGFkZENoYW5nZVRvSGlzdG9yeShkb2MsIGNoYW5nZSwgc2VsQWZ0ZXIsIGRvYy5jbSA/IGRvYy5jbS5jdXJPcC5pZCA6IE5hTik7XG5cbiAgICBtYWtlQ2hhbmdlU2luZ2xlRG9jKGRvYywgY2hhbmdlLCBzZWxBZnRlciwgc3RyZXRjaFNwYW5zT3ZlckNoYW5nZShkb2MsIGNoYW5nZSkpO1xuICAgIHZhciByZWJhc2VkID0gW107XG5cbiAgICBsaW5rZWREb2NzKGRvYywgZnVuY3Rpb24gKGRvYywgc2hhcmVkSGlzdCkge1xuICAgICAgaWYgKCFzaGFyZWRIaXN0ICYmIGluZGV4T2YocmViYXNlZCwgZG9jLmhpc3RvcnkpID09IC0xKSB7XG4gICAgICAgIHJlYmFzZUhpc3QoZG9jLmhpc3RvcnksIGNoYW5nZSk7XG4gICAgICAgIHJlYmFzZWQucHVzaChkb2MuaGlzdG9yeSk7XG4gICAgICB9XG4gICAgICBtYWtlQ2hhbmdlU2luZ2xlRG9jKGRvYywgY2hhbmdlLCBudWxsLCBzdHJldGNoU3BhbnNPdmVyQ2hhbmdlKGRvYywgY2hhbmdlKSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBSZXZlcnQgYSBjaGFuZ2Ugc3RvcmVkIGluIGEgZG9jdW1lbnQncyBoaXN0b3J5LlxuICBmdW5jdGlvbiBtYWtlQ2hhbmdlRnJvbUhpc3RvcnkoZG9jLCB0eXBlLCBhbGxvd1NlbGVjdGlvbk9ubHkpIHtcbiAgICB2YXIgc3VwcHJlc3MgPSBkb2MuY20gJiYgZG9jLmNtLnN0YXRlLnN1cHByZXNzRWRpdHM7XG4gICAgaWYgKHN1cHByZXNzICYmICFhbGxvd1NlbGVjdGlvbk9ubHkpIHsgcmV0dXJuIH1cblxuICAgIHZhciBoaXN0ID0gZG9jLmhpc3RvcnksIGV2ZW50LCBzZWxBZnRlciA9IGRvYy5zZWw7XG4gICAgdmFyIHNvdXJjZSA9IHR5cGUgPT0gXCJ1bmRvXCIgPyBoaXN0LmRvbmUgOiBoaXN0LnVuZG9uZSwgZGVzdCA9IHR5cGUgPT0gXCJ1bmRvXCIgPyBoaXN0LnVuZG9uZSA6IGhpc3QuZG9uZTtcblxuICAgIC8vIFZlcmlmeSB0aGF0IHRoZXJlIGlzIGEgdXNlYWJsZSBldmVudCAoc28gdGhhdCBjdHJsLXogd29uJ3RcbiAgICAvLyBuZWVkbGVzc2x5IGNsZWFyIHNlbGVjdGlvbiBldmVudHMpXG4gICAgdmFyIGkgPSAwO1xuICAgIGZvciAoOyBpIDwgc291cmNlLmxlbmd0aDsgaSsrKSB7XG4gICAgICBldmVudCA9IHNvdXJjZVtpXTtcbiAgICAgIGlmIChhbGxvd1NlbGVjdGlvbk9ubHkgPyBldmVudC5yYW5nZXMgJiYgIWV2ZW50LmVxdWFscyhkb2Muc2VsKSA6ICFldmVudC5yYW5nZXMpXG4gICAgICAgIHsgYnJlYWsgfVxuICAgIH1cbiAgICBpZiAoaSA9PSBzb3VyY2UubGVuZ3RoKSB7IHJldHVybiB9XG4gICAgaGlzdC5sYXN0T3JpZ2luID0gaGlzdC5sYXN0U2VsT3JpZ2luID0gbnVsbDtcblxuICAgIGZvciAoOzspIHtcbiAgICAgIGV2ZW50ID0gc291cmNlLnBvcCgpO1xuICAgICAgaWYgKGV2ZW50LnJhbmdlcykge1xuICAgICAgICBwdXNoU2VsZWN0aW9uVG9IaXN0b3J5KGV2ZW50LCBkZXN0KTtcbiAgICAgICAgaWYgKGFsbG93U2VsZWN0aW9uT25seSAmJiAhZXZlbnQuZXF1YWxzKGRvYy5zZWwpKSB7XG4gICAgICAgICAgc2V0U2VsZWN0aW9uKGRvYywgZXZlbnQsIHtjbGVhclJlZG86IGZhbHNlfSk7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgc2VsQWZ0ZXIgPSBldmVudDtcbiAgICAgIH0gZWxzZSBpZiAoc3VwcHJlc3MpIHtcbiAgICAgICAgc291cmNlLnB1c2goZXZlbnQpO1xuICAgICAgICByZXR1cm5cbiAgICAgIH0gZWxzZSB7IGJyZWFrIH1cbiAgICB9XG5cbiAgICAvLyBCdWlsZCB1cCBhIHJldmVyc2UgY2hhbmdlIG9iamVjdCB0byBhZGQgdG8gdGhlIG9wcG9zaXRlIGhpc3RvcnlcbiAgICAvLyBzdGFjayAocmVkbyB3aGVuIHVuZG9pbmcsIGFuZCB2aWNlIHZlcnNhKS5cbiAgICB2YXIgYW50aUNoYW5nZXMgPSBbXTtcbiAgICBwdXNoU2VsZWN0aW9uVG9IaXN0b3J5KHNlbEFmdGVyLCBkZXN0KTtcbiAgICBkZXN0LnB1c2goe2NoYW5nZXM6IGFudGlDaGFuZ2VzLCBnZW5lcmF0aW9uOiBoaXN0LmdlbmVyYXRpb259KTtcbiAgICBoaXN0LmdlbmVyYXRpb24gPSBldmVudC5nZW5lcmF0aW9uIHx8ICsraGlzdC5tYXhHZW5lcmF0aW9uO1xuXG4gICAgdmFyIGZpbHRlciA9IGhhc0hhbmRsZXIoZG9jLCBcImJlZm9yZUNoYW5nZVwiKSB8fCBkb2MuY20gJiYgaGFzSGFuZGxlcihkb2MuY20sIFwiYmVmb3JlQ2hhbmdlXCIpO1xuXG4gICAgdmFyIGxvb3AgPSBmdW5jdGlvbiAoIGkgKSB7XG4gICAgICB2YXIgY2hhbmdlID0gZXZlbnQuY2hhbmdlc1tpXTtcbiAgICAgIGNoYW5nZS5vcmlnaW4gPSB0eXBlO1xuICAgICAgaWYgKGZpbHRlciAmJiAhZmlsdGVyQ2hhbmdlKGRvYywgY2hhbmdlLCBmYWxzZSkpIHtcbiAgICAgICAgc291cmNlLmxlbmd0aCA9IDA7XG4gICAgICAgIHJldHVybiB7fVxuICAgICAgfVxuXG4gICAgICBhbnRpQ2hhbmdlcy5wdXNoKGhpc3RvcnlDaGFuZ2VGcm9tQ2hhbmdlKGRvYywgY2hhbmdlKSk7XG5cbiAgICAgIHZhciBhZnRlciA9IGkgPyBjb21wdXRlU2VsQWZ0ZXJDaGFuZ2UoZG9jLCBjaGFuZ2UpIDogbHN0KHNvdXJjZSk7XG4gICAgICBtYWtlQ2hhbmdlU2luZ2xlRG9jKGRvYywgY2hhbmdlLCBhZnRlciwgbWVyZ2VPbGRTcGFucyhkb2MsIGNoYW5nZSkpO1xuICAgICAgaWYgKCFpICYmIGRvYy5jbSkgeyBkb2MuY20uc2Nyb2xsSW50b1ZpZXcoe2Zyb206IGNoYW5nZS5mcm9tLCB0bzogY2hhbmdlRW5kKGNoYW5nZSl9KTsgfVxuICAgICAgdmFyIHJlYmFzZWQgPSBbXTtcblxuICAgICAgLy8gUHJvcGFnYXRlIHRvIHRoZSBsaW5rZWQgZG9jdW1lbnRzXG4gICAgICBsaW5rZWREb2NzKGRvYywgZnVuY3Rpb24gKGRvYywgc2hhcmVkSGlzdCkge1xuICAgICAgICBpZiAoIXNoYXJlZEhpc3QgJiYgaW5kZXhPZihyZWJhc2VkLCBkb2MuaGlzdG9yeSkgPT0gLTEpIHtcbiAgICAgICAgICByZWJhc2VIaXN0KGRvYy5oaXN0b3J5LCBjaGFuZ2UpO1xuICAgICAgICAgIHJlYmFzZWQucHVzaChkb2MuaGlzdG9yeSk7XG4gICAgICAgIH1cbiAgICAgICAgbWFrZUNoYW5nZVNpbmdsZURvYyhkb2MsIGNoYW5nZSwgbnVsbCwgbWVyZ2VPbGRTcGFucyhkb2MsIGNoYW5nZSkpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGZvciAodmFyIGkkMSA9IGV2ZW50LmNoYW5nZXMubGVuZ3RoIC0gMTsgaSQxID49IDA7IC0taSQxKSB7XG4gICAgICB2YXIgcmV0dXJuZWQgPSBsb29wKCBpJDEgKTtcblxuICAgICAgaWYgKCByZXR1cm5lZCApIHJldHVybiByZXR1cm5lZC52O1xuICAgIH1cbiAgfVxuXG4gIC8vIFN1Yi12aWV3cyBuZWVkIHRoZWlyIGxpbmUgbnVtYmVycyBzaGlmdGVkIHdoZW4gdGV4dCBpcyBhZGRlZFxuICAvLyBhYm92ZSBvciBiZWxvdyB0aGVtIGluIHRoZSBwYXJlbnQgZG9jdW1lbnQuXG4gIGZ1bmN0aW9uIHNoaWZ0RG9jKGRvYywgZGlzdGFuY2UpIHtcbiAgICBpZiAoZGlzdGFuY2UgPT0gMCkgeyByZXR1cm4gfVxuICAgIGRvYy5maXJzdCArPSBkaXN0YW5jZTtcbiAgICBkb2Muc2VsID0gbmV3IFNlbGVjdGlvbihtYXAoZG9jLnNlbC5yYW5nZXMsIGZ1bmN0aW9uIChyYW5nZSkgeyByZXR1cm4gbmV3IFJhbmdlKFxuICAgICAgUG9zKHJhbmdlLmFuY2hvci5saW5lICsgZGlzdGFuY2UsIHJhbmdlLmFuY2hvci5jaCksXG4gICAgICBQb3MocmFuZ2UuaGVhZC5saW5lICsgZGlzdGFuY2UsIHJhbmdlLmhlYWQuY2gpXG4gICAgKTsgfSksIGRvYy5zZWwucHJpbUluZGV4KTtcbiAgICBpZiAoZG9jLmNtKSB7XG4gICAgICByZWdDaGFuZ2UoZG9jLmNtLCBkb2MuZmlyc3QsIGRvYy5maXJzdCAtIGRpc3RhbmNlLCBkaXN0YW5jZSk7XG4gICAgICBmb3IgKHZhciBkID0gZG9jLmNtLmRpc3BsYXksIGwgPSBkLnZpZXdGcm9tOyBsIDwgZC52aWV3VG87IGwrKylcbiAgICAgICAgeyByZWdMaW5lQ2hhbmdlKGRvYy5jbSwgbCwgXCJndXR0ZXJcIik7IH1cbiAgICB9XG4gIH1cblxuICAvLyBNb3JlIGxvd2VyLWxldmVsIGNoYW5nZSBmdW5jdGlvbiwgaGFuZGxpbmcgb25seSBhIHNpbmdsZSBkb2N1bWVudFxuICAvLyAobm90IGxpbmtlZCBvbmVzKS5cbiAgZnVuY3Rpb24gbWFrZUNoYW5nZVNpbmdsZURvYyhkb2MsIGNoYW5nZSwgc2VsQWZ0ZXIsIHNwYW5zKSB7XG4gICAgaWYgKGRvYy5jbSAmJiAhZG9jLmNtLmN1ck9wKVxuICAgICAgeyByZXR1cm4gb3BlcmF0aW9uKGRvYy5jbSwgbWFrZUNoYW5nZVNpbmdsZURvYykoZG9jLCBjaGFuZ2UsIHNlbEFmdGVyLCBzcGFucykgfVxuXG4gICAgaWYgKGNoYW5nZS50by5saW5lIDwgZG9jLmZpcnN0KSB7XG4gICAgICBzaGlmdERvYyhkb2MsIGNoYW5nZS50ZXh0Lmxlbmd0aCAtIDEgLSAoY2hhbmdlLnRvLmxpbmUgLSBjaGFuZ2UuZnJvbS5saW5lKSk7XG4gICAgICByZXR1cm5cbiAgICB9XG4gICAgaWYgKGNoYW5nZS5mcm9tLmxpbmUgPiBkb2MubGFzdExpbmUoKSkgeyByZXR1cm4gfVxuXG4gICAgLy8gQ2xpcCB0aGUgY2hhbmdlIHRvIHRoZSBzaXplIG9mIHRoaXMgZG9jXG4gICAgaWYgKGNoYW5nZS5mcm9tLmxpbmUgPCBkb2MuZmlyc3QpIHtcbiAgICAgIHZhciBzaGlmdCA9IGNoYW5nZS50ZXh0Lmxlbmd0aCAtIDEgLSAoZG9jLmZpcnN0IC0gY2hhbmdlLmZyb20ubGluZSk7XG4gICAgICBzaGlmdERvYyhkb2MsIHNoaWZ0KTtcbiAgICAgIGNoYW5nZSA9IHtmcm9tOiBQb3MoZG9jLmZpcnN0LCAwKSwgdG86IFBvcyhjaGFuZ2UudG8ubGluZSArIHNoaWZ0LCBjaGFuZ2UudG8uY2gpLFxuICAgICAgICAgICAgICAgIHRleHQ6IFtsc3QoY2hhbmdlLnRleHQpXSwgb3JpZ2luOiBjaGFuZ2Uub3JpZ2lufTtcbiAgICB9XG4gICAgdmFyIGxhc3QgPSBkb2MubGFzdExpbmUoKTtcbiAgICBpZiAoY2hhbmdlLnRvLmxpbmUgPiBsYXN0KSB7XG4gICAgICBjaGFuZ2UgPSB7ZnJvbTogY2hhbmdlLmZyb20sIHRvOiBQb3MobGFzdCwgZ2V0TGluZShkb2MsIGxhc3QpLnRleHQubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICB0ZXh0OiBbY2hhbmdlLnRleHRbMF1dLCBvcmlnaW46IGNoYW5nZS5vcmlnaW59O1xuICAgIH1cblxuICAgIGNoYW5nZS5yZW1vdmVkID0gZ2V0QmV0d2Vlbihkb2MsIGNoYW5nZS5mcm9tLCBjaGFuZ2UudG8pO1xuXG4gICAgaWYgKCFzZWxBZnRlcikgeyBzZWxBZnRlciA9IGNvbXB1dGVTZWxBZnRlckNoYW5nZShkb2MsIGNoYW5nZSk7IH1cbiAgICBpZiAoZG9jLmNtKSB7IG1ha2VDaGFuZ2VTaW5nbGVEb2NJbkVkaXRvcihkb2MuY20sIGNoYW5nZSwgc3BhbnMpOyB9XG4gICAgZWxzZSB7IHVwZGF0ZURvYyhkb2MsIGNoYW5nZSwgc3BhbnMpOyB9XG4gICAgc2V0U2VsZWN0aW9uTm9VbmRvKGRvYywgc2VsQWZ0ZXIsIHNlbF9kb250U2Nyb2xsKTtcblxuICAgIGlmIChkb2MuY2FudEVkaXQgJiYgc2tpcEF0b21pYyhkb2MsIFBvcyhkb2MuZmlyc3RMaW5lKCksIDApKSlcbiAgICAgIHsgZG9jLmNhbnRFZGl0ID0gZmFsc2U7IH1cbiAgfVxuXG4gIC8vIEhhbmRsZSB0aGUgaW50ZXJhY3Rpb24gb2YgYSBjaGFuZ2UgdG8gYSBkb2N1bWVudCB3aXRoIHRoZSBlZGl0b3JcbiAgLy8gdGhhdCB0aGlzIGRvY3VtZW50IGlzIHBhcnQgb2YuXG4gIGZ1bmN0aW9uIG1ha2VDaGFuZ2VTaW5nbGVEb2NJbkVkaXRvcihjbSwgY2hhbmdlLCBzcGFucykge1xuICAgIHZhciBkb2MgPSBjbS5kb2MsIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBmcm9tID0gY2hhbmdlLmZyb20sIHRvID0gY2hhbmdlLnRvO1xuXG4gICAgdmFyIHJlY29tcHV0ZU1heExlbmd0aCA9IGZhbHNlLCBjaGVja1dpZHRoU3RhcnQgPSBmcm9tLmxpbmU7XG4gICAgaWYgKCFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykge1xuICAgICAgY2hlY2tXaWR0aFN0YXJ0ID0gbGluZU5vKHZpc3VhbExpbmUoZ2V0TGluZShkb2MsIGZyb20ubGluZSkpKTtcbiAgICAgIGRvYy5pdGVyKGNoZWNrV2lkdGhTdGFydCwgdG8ubGluZSArIDEsIGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgIGlmIChsaW5lID09IGRpc3BsYXkubWF4TGluZSkge1xuICAgICAgICAgIHJlY29tcHV0ZU1heExlbmd0aCA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWYgKGRvYy5zZWwuY29udGFpbnMoY2hhbmdlLmZyb20sIGNoYW5nZS50bykgPiAtMSlcbiAgICAgIHsgc2lnbmFsQ3Vyc29yQWN0aXZpdHkoY20pOyB9XG5cbiAgICB1cGRhdGVEb2MoZG9jLCBjaGFuZ2UsIHNwYW5zLCBlc3RpbWF0ZUhlaWdodChjbSkpO1xuXG4gICAgaWYgKCFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykge1xuICAgICAgZG9jLml0ZXIoY2hlY2tXaWR0aFN0YXJ0LCBmcm9tLmxpbmUgKyBjaGFuZ2UudGV4dC5sZW5ndGgsIGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgIHZhciBsZW4gPSBsaW5lTGVuZ3RoKGxpbmUpO1xuICAgICAgICBpZiAobGVuID4gZGlzcGxheS5tYXhMaW5lTGVuZ3RoKSB7XG4gICAgICAgICAgZGlzcGxheS5tYXhMaW5lID0gbGluZTtcbiAgICAgICAgICBkaXNwbGF5Lm1heExpbmVMZW5ndGggPSBsZW47XG4gICAgICAgICAgZGlzcGxheS5tYXhMaW5lQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgcmVjb21wdXRlTWF4TGVuZ3RoID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHJlY29tcHV0ZU1heExlbmd0aCkgeyBjbS5jdXJPcC51cGRhdGVNYXhMaW5lID0gdHJ1ZTsgfVxuICAgIH1cblxuICAgIHJldHJlYXRGcm9udGllcihkb2MsIGZyb20ubGluZSk7XG4gICAgc3RhcnRXb3JrZXIoY20sIDQwMCk7XG5cbiAgICB2YXIgbGVuZGlmZiA9IGNoYW5nZS50ZXh0Lmxlbmd0aCAtICh0by5saW5lIC0gZnJvbS5saW5lKSAtIDE7XG4gICAgLy8gUmVtZW1iZXIgdGhhdCB0aGVzZSBsaW5lcyBjaGFuZ2VkLCBmb3IgdXBkYXRpbmcgdGhlIGRpc3BsYXlcbiAgICBpZiAoY2hhbmdlLmZ1bGwpXG4gICAgICB7IHJlZ0NoYW5nZShjbSk7IH1cbiAgICBlbHNlIGlmIChmcm9tLmxpbmUgPT0gdG8ubGluZSAmJiBjaGFuZ2UudGV4dC5sZW5ndGggPT0gMSAmJiAhaXNXaG9sZUxpbmVVcGRhdGUoY20uZG9jLCBjaGFuZ2UpKVxuICAgICAgeyByZWdMaW5lQ2hhbmdlKGNtLCBmcm9tLmxpbmUsIFwidGV4dFwiKTsgfVxuICAgIGVsc2VcbiAgICAgIHsgcmVnQ2hhbmdlKGNtLCBmcm9tLmxpbmUsIHRvLmxpbmUgKyAxLCBsZW5kaWZmKTsgfVxuXG4gICAgdmFyIGNoYW5nZXNIYW5kbGVyID0gaGFzSGFuZGxlcihjbSwgXCJjaGFuZ2VzXCIpLCBjaGFuZ2VIYW5kbGVyID0gaGFzSGFuZGxlcihjbSwgXCJjaGFuZ2VcIik7XG4gICAgaWYgKGNoYW5nZUhhbmRsZXIgfHwgY2hhbmdlc0hhbmRsZXIpIHtcbiAgICAgIHZhciBvYmogPSB7XG4gICAgICAgIGZyb206IGZyb20sIHRvOiB0byxcbiAgICAgICAgdGV4dDogY2hhbmdlLnRleHQsXG4gICAgICAgIHJlbW92ZWQ6IGNoYW5nZS5yZW1vdmVkLFxuICAgICAgICBvcmlnaW46IGNoYW5nZS5vcmlnaW5cbiAgICAgIH07XG4gICAgICBpZiAoY2hhbmdlSGFuZGxlcikgeyBzaWduYWxMYXRlcihjbSwgXCJjaGFuZ2VcIiwgY20sIG9iaik7IH1cbiAgICAgIGlmIChjaGFuZ2VzSGFuZGxlcikgeyAoY20uY3VyT3AuY2hhbmdlT2JqcyB8fCAoY20uY3VyT3AuY2hhbmdlT2JqcyA9IFtdKSkucHVzaChvYmopOyB9XG4gICAgfVxuICAgIGNtLmRpc3BsYXkuc2VsRm9yQ29udGV4dE1lbnUgPSBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVwbGFjZVJhbmdlKGRvYywgY29kZSwgZnJvbSwgdG8sIG9yaWdpbikge1xuICAgIHZhciBhc3NpZ247XG5cbiAgICBpZiAoIXRvKSB7IHRvID0gZnJvbTsgfVxuICAgIGlmIChjbXAodG8sIGZyb20pIDwgMCkgeyAoYXNzaWduID0gW3RvLCBmcm9tXSwgZnJvbSA9IGFzc2lnblswXSwgdG8gPSBhc3NpZ25bMV0pOyB9XG4gICAgaWYgKHR5cGVvZiBjb2RlID09IFwic3RyaW5nXCIpIHsgY29kZSA9IGRvYy5zcGxpdExpbmVzKGNvZGUpOyB9XG4gICAgbWFrZUNoYW5nZShkb2MsIHtmcm9tOiBmcm9tLCB0bzogdG8sIHRleHQ6IGNvZGUsIG9yaWdpbjogb3JpZ2lufSk7XG4gIH1cblxuICAvLyBSZWJhc2luZy9yZXNldHRpbmcgaGlzdG9yeSB0byBkZWFsIHdpdGggZXh0ZXJuYWxseS1zb3VyY2VkIGNoYW5nZXNcblxuICBmdW5jdGlvbiByZWJhc2VIaXN0U2VsU2luZ2xlKHBvcywgZnJvbSwgdG8sIGRpZmYpIHtcbiAgICBpZiAodG8gPCBwb3MubGluZSkge1xuICAgICAgcG9zLmxpbmUgKz0gZGlmZjtcbiAgICB9IGVsc2UgaWYgKGZyb20gPCBwb3MubGluZSkge1xuICAgICAgcG9zLmxpbmUgPSBmcm9tO1xuICAgICAgcG9zLmNoID0gMDtcbiAgICB9XG4gIH1cblxuICAvLyBUcmllcyB0byByZWJhc2UgYW4gYXJyYXkgb2YgaGlzdG9yeSBldmVudHMgZ2l2ZW4gYSBjaGFuZ2UgaW4gdGhlXG4gIC8vIGRvY3VtZW50LiBJZiB0aGUgY2hhbmdlIHRvdWNoZXMgdGhlIHNhbWUgbGluZXMgYXMgdGhlIGV2ZW50LCB0aGVcbiAgLy8gZXZlbnQsIGFuZCBldmVyeXRoaW5nICdiZWhpbmQnIGl0LCBpcyBkaXNjYXJkZWQuIElmIHRoZSBjaGFuZ2UgaXNcbiAgLy8gYmVmb3JlIHRoZSBldmVudCwgdGhlIGV2ZW50J3MgcG9zaXRpb25zIGFyZSB1cGRhdGVkLiBVc2VzIGFcbiAgLy8gY29weS1vbi13cml0ZSBzY2hlbWUgZm9yIHRoZSBwb3NpdGlvbnMsIHRvIGF2b2lkIGhhdmluZyB0b1xuICAvLyByZWFsbG9jYXRlIHRoZW0gYWxsIG9uIGV2ZXJ5IHJlYmFzZSwgYnV0IGFsc28gYXZvaWQgcHJvYmxlbXMgd2l0aFxuICAvLyBzaGFyZWQgcG9zaXRpb24gb2JqZWN0cyBiZWluZyB1bnNhZmVseSB1cGRhdGVkLlxuICBmdW5jdGlvbiByZWJhc2VIaXN0QXJyYXkoYXJyYXksIGZyb20sIHRvLCBkaWZmKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7ICsraSkge1xuICAgICAgdmFyIHN1YiA9IGFycmF5W2ldLCBvayA9IHRydWU7XG4gICAgICBpZiAoc3ViLnJhbmdlcykge1xuICAgICAgICBpZiAoIXN1Yi5jb3BpZWQpIHsgc3ViID0gYXJyYXlbaV0gPSBzdWIuZGVlcENvcHkoKTsgc3ViLmNvcGllZCA9IHRydWU7IH1cbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzdWIucmFuZ2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgcmViYXNlSGlzdFNlbFNpbmdsZShzdWIucmFuZ2VzW2pdLmFuY2hvciwgZnJvbSwgdG8sIGRpZmYpO1xuICAgICAgICAgIHJlYmFzZUhpc3RTZWxTaW5nbGUoc3ViLnJhbmdlc1tqXS5oZWFkLCBmcm9tLCB0bywgZGlmZik7XG4gICAgICAgIH1cbiAgICAgICAgY29udGludWVcbiAgICAgIH1cbiAgICAgIGZvciAodmFyIGokMSA9IDA7IGokMSA8IHN1Yi5jaGFuZ2VzLmxlbmd0aDsgKytqJDEpIHtcbiAgICAgICAgdmFyIGN1ciA9IHN1Yi5jaGFuZ2VzW2okMV07XG4gICAgICAgIGlmICh0byA8IGN1ci5mcm9tLmxpbmUpIHtcbiAgICAgICAgICBjdXIuZnJvbSA9IFBvcyhjdXIuZnJvbS5saW5lICsgZGlmZiwgY3VyLmZyb20uY2gpO1xuICAgICAgICAgIGN1ci50byA9IFBvcyhjdXIudG8ubGluZSArIGRpZmYsIGN1ci50by5jaCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZnJvbSA8PSBjdXIudG8ubGluZSkge1xuICAgICAgICAgIG9rID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFvaykge1xuICAgICAgICBhcnJheS5zcGxpY2UoMCwgaSArIDEpO1xuICAgICAgICBpID0gMDtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZWJhc2VIaXN0KGhpc3QsIGNoYW5nZSkge1xuICAgIHZhciBmcm9tID0gY2hhbmdlLmZyb20ubGluZSwgdG8gPSBjaGFuZ2UudG8ubGluZSwgZGlmZiA9IGNoYW5nZS50ZXh0Lmxlbmd0aCAtICh0byAtIGZyb20pIC0gMTtcbiAgICByZWJhc2VIaXN0QXJyYXkoaGlzdC5kb25lLCBmcm9tLCB0bywgZGlmZik7XG4gICAgcmViYXNlSGlzdEFycmF5KGhpc3QudW5kb25lLCBmcm9tLCB0bywgZGlmZik7XG4gIH1cblxuICAvLyBVdGlsaXR5IGZvciBhcHBseWluZyBhIGNoYW5nZSB0byBhIGxpbmUgYnkgaGFuZGxlIG9yIG51bWJlcixcbiAgLy8gcmV0dXJuaW5nIHRoZSBudW1iZXIgYW5kIG9wdGlvbmFsbHkgcmVnaXN0ZXJpbmcgdGhlIGxpbmUgYXNcbiAgLy8gY2hhbmdlZC5cbiAgZnVuY3Rpb24gY2hhbmdlTGluZShkb2MsIGhhbmRsZSwgY2hhbmdlVHlwZSwgb3ApIHtcbiAgICB2YXIgbm8gPSBoYW5kbGUsIGxpbmUgPSBoYW5kbGU7XG4gICAgaWYgKHR5cGVvZiBoYW5kbGUgPT0gXCJudW1iZXJcIikgeyBsaW5lID0gZ2V0TGluZShkb2MsIGNsaXBMaW5lKGRvYywgaGFuZGxlKSk7IH1cbiAgICBlbHNlIHsgbm8gPSBsaW5lTm8oaGFuZGxlKTsgfVxuICAgIGlmIChubyA9PSBudWxsKSB7IHJldHVybiBudWxsIH1cbiAgICBpZiAob3AobGluZSwgbm8pICYmIGRvYy5jbSkgeyByZWdMaW5lQ2hhbmdlKGRvYy5jbSwgbm8sIGNoYW5nZVR5cGUpOyB9XG4gICAgcmV0dXJuIGxpbmVcbiAgfVxuXG4gIC8vIFRoZSBkb2N1bWVudCBpcyByZXByZXNlbnRlZCBhcyBhIEJUcmVlIGNvbnNpc3Rpbmcgb2YgbGVhdmVzLCB3aXRoXG4gIC8vIGNodW5rIG9mIGxpbmVzIGluIHRoZW0sIGFuZCBicmFuY2hlcywgd2l0aCB1cCB0byB0ZW4gbGVhdmVzIG9yXG4gIC8vIG90aGVyIGJyYW5jaCBub2RlcyBiZWxvdyB0aGVtLiBUaGUgdG9wIG5vZGUgaXMgYWx3YXlzIGEgYnJhbmNoXG4gIC8vIG5vZGUsIGFuZCBpcyB0aGUgZG9jdW1lbnQgb2JqZWN0IGl0c2VsZiAobWVhbmluZyBpdCBoYXNcbiAgLy8gYWRkaXRpb25hbCBtZXRob2RzIGFuZCBwcm9wZXJ0aWVzKS5cbiAgLy9cbiAgLy8gQWxsIG5vZGVzIGhhdmUgcGFyZW50IGxpbmtzLiBUaGUgdHJlZSBpcyB1c2VkIGJvdGggdG8gZ28gZnJvbVxuICAvLyBsaW5lIG51bWJlcnMgdG8gbGluZSBvYmplY3RzLCBhbmQgdG8gZ28gZnJvbSBvYmplY3RzIHRvIG51bWJlcnMuXG4gIC8vIEl0IGFsc28gaW5kZXhlcyBieSBoZWlnaHQsIGFuZCBpcyB1c2VkIHRvIGNvbnZlcnQgYmV0d2VlbiBoZWlnaHRcbiAgLy8gYW5kIGxpbmUgb2JqZWN0LCBhbmQgdG8gZmluZCB0aGUgdG90YWwgaGVpZ2h0IG9mIHRoZSBkb2N1bWVudC5cbiAgLy9cbiAgLy8gU2VlIGFsc28gaHR0cDovL21hcmlqbmhhdmVyYmVrZS5ubC9ibG9nL2NvZGVtaXJyb3ItbGluZS10cmVlLmh0bWxcblxuICBmdW5jdGlvbiBMZWFmQ2h1bmsobGluZXMpIHtcbiAgICB0aGlzLmxpbmVzID0gbGluZXM7XG4gICAgdGhpcy5wYXJlbnQgPSBudWxsO1xuICAgIHZhciBoZWlnaHQgPSAwO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGxpbmVzW2ldLnBhcmVudCA9IHRoaXM7XG4gICAgICBoZWlnaHQgKz0gbGluZXNbaV0uaGVpZ2h0O1xuICAgIH1cbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgfVxuXG4gIExlYWZDaHVuay5wcm90b3R5cGUgPSB7XG4gICAgY2h1bmtTaXplOiBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXMubGluZXMubGVuZ3RoIH0sXG5cbiAgICAvLyBSZW1vdmUgdGhlIG4gbGluZXMgYXQgb2Zmc2V0ICdhdCcuXG4gICAgcmVtb3ZlSW5uZXI6IGZ1bmN0aW9uKGF0LCBuKSB7XG4gICAgICBmb3IgKHZhciBpID0gYXQsIGUgPSBhdCArIG47IGkgPCBlOyArK2kpIHtcbiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLmxpbmVzW2ldO1xuICAgICAgICB0aGlzLmhlaWdodCAtPSBsaW5lLmhlaWdodDtcbiAgICAgICAgY2xlYW5VcExpbmUobGluZSk7XG4gICAgICAgIHNpZ25hbExhdGVyKGxpbmUsIFwiZGVsZXRlXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5saW5lcy5zcGxpY2UoYXQsIG4pO1xuICAgIH0sXG5cbiAgICAvLyBIZWxwZXIgdXNlZCB0byBjb2xsYXBzZSBhIHNtYWxsIGJyYW5jaCBpbnRvIGEgc2luZ2xlIGxlYWYuXG4gICAgY29sbGFwc2U6IGZ1bmN0aW9uKGxpbmVzKSB7XG4gICAgICBsaW5lcy5wdXNoLmFwcGx5KGxpbmVzLCB0aGlzLmxpbmVzKTtcbiAgICB9LFxuXG4gICAgLy8gSW5zZXJ0IHRoZSBnaXZlbiBhcnJheSBvZiBsaW5lcyBhdCBvZmZzZXQgJ2F0JywgY291bnQgdGhlbSBhc1xuICAgIC8vIGhhdmluZyB0aGUgZ2l2ZW4gaGVpZ2h0LlxuICAgIGluc2VydElubmVyOiBmdW5jdGlvbihhdCwgbGluZXMsIGhlaWdodCkge1xuICAgICAgdGhpcy5oZWlnaHQgKz0gaGVpZ2h0O1xuICAgICAgdGhpcy5saW5lcyA9IHRoaXMubGluZXMuc2xpY2UoMCwgYXQpLmNvbmNhdChsaW5lcykuY29uY2F0KHRoaXMubGluZXMuc2xpY2UoYXQpKTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyArK2kpIHsgbGluZXNbaV0ucGFyZW50ID0gdGhpczsgfVxuICAgIH0sXG5cbiAgICAvLyBVc2VkIHRvIGl0ZXJhdGUgb3ZlciBhIHBhcnQgb2YgdGhlIHRyZWUuXG4gICAgaXRlck46IGZ1bmN0aW9uKGF0LCBuLCBvcCkge1xuICAgICAgZm9yICh2YXIgZSA9IGF0ICsgbjsgYXQgPCBlOyArK2F0KVxuICAgICAgICB7IGlmIChvcCh0aGlzLmxpbmVzW2F0XSkpIHsgcmV0dXJuIHRydWUgfSB9XG4gICAgfVxuICB9O1xuXG4gIGZ1bmN0aW9uIEJyYW5jaENodW5rKGNoaWxkcmVuKSB7XG4gICAgdGhpcy5jaGlsZHJlbiA9IGNoaWxkcmVuO1xuICAgIHZhciBzaXplID0gMCwgaGVpZ2h0ID0gMDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICB2YXIgY2ggPSBjaGlsZHJlbltpXTtcbiAgICAgIHNpemUgKz0gY2guY2h1bmtTaXplKCk7IGhlaWdodCArPSBjaC5oZWlnaHQ7XG4gICAgICBjaC5wYXJlbnQgPSB0aGlzO1xuICAgIH1cbiAgICB0aGlzLnNpemUgPSBzaXplO1xuICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgIHRoaXMucGFyZW50ID0gbnVsbDtcbiAgfVxuXG4gIEJyYW5jaENodW5rLnByb3RvdHlwZSA9IHtcbiAgICBjaHVua1NpemU6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5zaXplIH0sXG5cbiAgICByZW1vdmVJbm5lcjogZnVuY3Rpb24oYXQsIG4pIHtcbiAgICAgIHRoaXMuc2l6ZSAtPSBuO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7XG4gICAgICAgIHZhciBjaGlsZCA9IHRoaXMuY2hpbGRyZW5baV0sIHN6ID0gY2hpbGQuY2h1bmtTaXplKCk7XG4gICAgICAgIGlmIChhdCA8IHN6KSB7XG4gICAgICAgICAgdmFyIHJtID0gTWF0aC5taW4obiwgc3ogLSBhdCksIG9sZEhlaWdodCA9IGNoaWxkLmhlaWdodDtcbiAgICAgICAgICBjaGlsZC5yZW1vdmVJbm5lcihhdCwgcm0pO1xuICAgICAgICAgIHRoaXMuaGVpZ2h0IC09IG9sZEhlaWdodCAtIGNoaWxkLmhlaWdodDtcbiAgICAgICAgICBpZiAoc3ogPT0gcm0pIHsgdGhpcy5jaGlsZHJlbi5zcGxpY2UoaS0tLCAxKTsgY2hpbGQucGFyZW50ID0gbnVsbDsgfVxuICAgICAgICAgIGlmICgobiAtPSBybSkgPT0gMCkgeyBicmVhayB9XG4gICAgICAgICAgYXQgPSAwO1xuICAgICAgICB9IGVsc2UgeyBhdCAtPSBzejsgfVxuICAgICAgfVxuICAgICAgLy8gSWYgdGhlIHJlc3VsdCBpcyBzbWFsbGVyIHRoYW4gMjUgbGluZXMsIGVuc3VyZSB0aGF0IGl0IGlzIGFcbiAgICAgIC8vIHNpbmdsZSBsZWFmIG5vZGUuXG4gICAgICBpZiAodGhpcy5zaXplIC0gbiA8IDI1ICYmXG4gICAgICAgICAgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoID4gMSB8fCAhKHRoaXMuY2hpbGRyZW5bMF0gaW5zdGFuY2VvZiBMZWFmQ2h1bmspKSkge1xuICAgICAgICB2YXIgbGluZXMgPSBbXTtcbiAgICAgICAgdGhpcy5jb2xsYXBzZShsaW5lcyk7XG4gICAgICAgIHRoaXMuY2hpbGRyZW4gPSBbbmV3IExlYWZDaHVuayhsaW5lcyldO1xuICAgICAgICB0aGlzLmNoaWxkcmVuWzBdLnBhcmVudCA9IHRoaXM7XG4gICAgICB9XG4gICAgfSxcblxuICAgIGNvbGxhcHNlOiBmdW5jdGlvbihsaW5lcykge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNoaWxkcmVuLmxlbmd0aDsgKytpKSB7IHRoaXMuY2hpbGRyZW5baV0uY29sbGFwc2UobGluZXMpOyB9XG4gICAgfSxcblxuICAgIGluc2VydElubmVyOiBmdW5jdGlvbihhdCwgbGluZXMsIGhlaWdodCkge1xuICAgICAgdGhpcy5zaXplICs9IGxpbmVzLmxlbmd0aDtcbiAgICAgIHRoaXMuaGVpZ2h0ICs9IGhlaWdodDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5jaGlsZHJlbi5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgY2hpbGQgPSB0aGlzLmNoaWxkcmVuW2ldLCBzeiA9IGNoaWxkLmNodW5rU2l6ZSgpO1xuICAgICAgICBpZiAoYXQgPD0gc3opIHtcbiAgICAgICAgICBjaGlsZC5pbnNlcnRJbm5lcihhdCwgbGluZXMsIGhlaWdodCk7XG4gICAgICAgICAgaWYgKGNoaWxkLmxpbmVzICYmIGNoaWxkLmxpbmVzLmxlbmd0aCA+IDUwKSB7XG4gICAgICAgICAgICAvLyBUbyBhdm9pZCBtZW1vcnkgdGhyYXNoaW5nIHdoZW4gY2hpbGQubGluZXMgaXMgaHVnZSAoZS5nLiBmaXJzdCB2aWV3IG9mIGEgbGFyZ2UgZmlsZSksIGl0J3MgbmV2ZXIgc3BsaWNlZC5cbiAgICAgICAgICAgIC8vIEluc3RlYWQsIHNtYWxsIHNsaWNlcyBhcmUgdGFrZW4uIFRoZXkncmUgdGFrZW4gaW4gb3JkZXIgYmVjYXVzZSBzZXF1ZW50aWFsIG1lbW9yeSBhY2Nlc3NlcyBhcmUgZmFzdGVzdC5cbiAgICAgICAgICAgIHZhciByZW1haW5pbmcgPSBjaGlsZC5saW5lcy5sZW5ndGggJSAyNSArIDI1O1xuICAgICAgICAgICAgZm9yICh2YXIgcG9zID0gcmVtYWluaW5nOyBwb3MgPCBjaGlsZC5saW5lcy5sZW5ndGg7KSB7XG4gICAgICAgICAgICAgIHZhciBsZWFmID0gbmV3IExlYWZDaHVuayhjaGlsZC5saW5lcy5zbGljZShwb3MsIHBvcyArPSAyNSkpO1xuICAgICAgICAgICAgICBjaGlsZC5oZWlnaHQgLT0gbGVhZi5oZWlnaHQ7XG4gICAgICAgICAgICAgIHRoaXMuY2hpbGRyZW4uc3BsaWNlKCsraSwgMCwgbGVhZik7XG4gICAgICAgICAgICAgIGxlYWYucGFyZW50ID0gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNoaWxkLmxpbmVzID0gY2hpbGQubGluZXMuc2xpY2UoMCwgcmVtYWluaW5nKTtcbiAgICAgICAgICAgIHRoaXMubWF5YmVTcGlsbCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVha1xuICAgICAgICB9XG4gICAgICAgIGF0IC09IHN6O1xuICAgICAgfVxuICAgIH0sXG5cbiAgICAvLyBXaGVuIGEgbm9kZSBoYXMgZ3Jvd24sIGNoZWNrIHdoZXRoZXIgaXQgc2hvdWxkIGJlIHNwbGl0LlxuICAgIG1heWJlU3BpbGw6IGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKHRoaXMuY2hpbGRyZW4ubGVuZ3RoIDw9IDEwKSB7IHJldHVybiB9XG4gICAgICB2YXIgbWUgPSB0aGlzO1xuICAgICAgZG8ge1xuICAgICAgICB2YXIgc3BpbGxlZCA9IG1lLmNoaWxkcmVuLnNwbGljZShtZS5jaGlsZHJlbi5sZW5ndGggLSA1LCA1KTtcbiAgICAgICAgdmFyIHNpYmxpbmcgPSBuZXcgQnJhbmNoQ2h1bmsoc3BpbGxlZCk7XG4gICAgICAgIGlmICghbWUucGFyZW50KSB7IC8vIEJlY29tZSB0aGUgcGFyZW50IG5vZGVcbiAgICAgICAgICB2YXIgY29weSA9IG5ldyBCcmFuY2hDaHVuayhtZS5jaGlsZHJlbik7XG4gICAgICAgICAgY29weS5wYXJlbnQgPSBtZTtcbiAgICAgICAgICBtZS5jaGlsZHJlbiA9IFtjb3B5LCBzaWJsaW5nXTtcbiAgICAgICAgICBtZSA9IGNvcHk7XG4gICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBtZS5zaXplIC09IHNpYmxpbmcuc2l6ZTtcbiAgICAgICAgICBtZS5oZWlnaHQgLT0gc2libGluZy5oZWlnaHQ7XG4gICAgICAgICAgdmFyIG15SW5kZXggPSBpbmRleE9mKG1lLnBhcmVudC5jaGlsZHJlbiwgbWUpO1xuICAgICAgICAgIG1lLnBhcmVudC5jaGlsZHJlbi5zcGxpY2UobXlJbmRleCArIDEsIDAsIHNpYmxpbmcpO1xuICAgICAgICB9XG4gICAgICAgIHNpYmxpbmcucGFyZW50ID0gbWUucGFyZW50O1xuICAgICAgfSB3aGlsZSAobWUuY2hpbGRyZW4ubGVuZ3RoID4gMTApXG4gICAgICBtZS5wYXJlbnQubWF5YmVTcGlsbCgpO1xuICAgIH0sXG5cbiAgICBpdGVyTjogZnVuY3Rpb24oYXQsIG4sIG9wKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY2hpbGRyZW4ubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGNoaWxkID0gdGhpcy5jaGlsZHJlbltpXSwgc3ogPSBjaGlsZC5jaHVua1NpemUoKTtcbiAgICAgICAgaWYgKGF0IDwgc3opIHtcbiAgICAgICAgICB2YXIgdXNlZCA9IE1hdGgubWluKG4sIHN6IC0gYXQpO1xuICAgICAgICAgIGlmIChjaGlsZC5pdGVyTihhdCwgdXNlZCwgb3ApKSB7IHJldHVybiB0cnVlIH1cbiAgICAgICAgICBpZiAoKG4gLT0gdXNlZCkgPT0gMCkgeyBicmVhayB9XG4gICAgICAgICAgYXQgPSAwO1xuICAgICAgICB9IGVsc2UgeyBhdCAtPSBzejsgfVxuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBMaW5lIHdpZGdldHMgYXJlIGJsb2NrIGVsZW1lbnRzIGRpc3BsYXllZCBhYm92ZSBvciBiZWxvdyBhIGxpbmUuXG5cbiAgdmFyIExpbmVXaWRnZXQgPSBmdW5jdGlvbihkb2MsIG5vZGUsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucykgeyBmb3IgKHZhciBvcHQgaW4gb3B0aW9ucykgeyBpZiAob3B0aW9ucy5oYXNPd25Qcm9wZXJ0eShvcHQpKVxuICAgICAgeyB0aGlzW29wdF0gPSBvcHRpb25zW29wdF07IH0gfSB9XG4gICAgdGhpcy5kb2MgPSBkb2M7XG4gICAgdGhpcy5ub2RlID0gbm9kZTtcbiAgfTtcblxuICBMaW5lV2lkZ2V0LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY20gPSB0aGlzLmRvYy5jbSwgd3MgPSB0aGlzLmxpbmUud2lkZ2V0cywgbGluZSA9IHRoaXMubGluZSwgbm8gPSBsaW5lTm8obGluZSk7XG4gICAgaWYgKG5vID09IG51bGwgfHwgIXdzKSB7IHJldHVybiB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3cy5sZW5ndGg7ICsraSkgeyBpZiAod3NbaV0gPT0gdGhpcykgeyB3cy5zcGxpY2UoaS0tLCAxKTsgfSB9XG4gICAgaWYgKCF3cy5sZW5ndGgpIHsgbGluZS53aWRnZXRzID0gbnVsbDsgfVxuICAgIHZhciBoZWlnaHQgPSB3aWRnZXRIZWlnaHQodGhpcyk7XG4gICAgdXBkYXRlTGluZUhlaWdodChsaW5lLCBNYXRoLm1heCgwLCBsaW5lLmhlaWdodCAtIGhlaWdodCkpO1xuICAgIGlmIChjbSkge1xuICAgICAgcnVuSW5PcChjbSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBhZGp1c3RTY3JvbGxXaGVuQWJvdmVWaXNpYmxlKGNtLCBsaW5lLCAtaGVpZ2h0KTtcbiAgICAgICAgcmVnTGluZUNoYW5nZShjbSwgbm8sIFwid2lkZ2V0XCIpO1xuICAgICAgfSk7XG4gICAgICBzaWduYWxMYXRlcihjbSwgXCJsaW5lV2lkZ2V0Q2xlYXJlZFwiLCBjbSwgdGhpcywgbm8pO1xuICAgIH1cbiAgfTtcblxuICBMaW5lV2lkZ2V0LnByb3RvdHlwZS5jaGFuZ2VkID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICB2YXIgb2xkSCA9IHRoaXMuaGVpZ2h0LCBjbSA9IHRoaXMuZG9jLmNtLCBsaW5lID0gdGhpcy5saW5lO1xuICAgIHRoaXMuaGVpZ2h0ID0gbnVsbDtcbiAgICB2YXIgZGlmZiA9IHdpZGdldEhlaWdodCh0aGlzKSAtIG9sZEg7XG4gICAgaWYgKCFkaWZmKSB7IHJldHVybiB9XG4gICAgaWYgKCFsaW5lSXNIaWRkZW4odGhpcy5kb2MsIGxpbmUpKSB7IHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgbGluZS5oZWlnaHQgKyBkaWZmKTsgfVxuICAgIGlmIChjbSkge1xuICAgICAgcnVuSW5PcChjbSwgZnVuY3Rpb24gKCkge1xuICAgICAgICBjbS5jdXJPcC5mb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgICAgIGFkanVzdFNjcm9sbFdoZW5BYm92ZVZpc2libGUoY20sIGxpbmUsIGRpZmYpO1xuICAgICAgICBzaWduYWxMYXRlcihjbSwgXCJsaW5lV2lkZ2V0Q2hhbmdlZFwiLCBjbSwgdGhpcyQxLCBsaW5lTm8obGluZSkpO1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuICBldmVudE1peGluKExpbmVXaWRnZXQpO1xuXG4gIGZ1bmN0aW9uIGFkanVzdFNjcm9sbFdoZW5BYm92ZVZpc2libGUoY20sIGxpbmUsIGRpZmYpIHtcbiAgICBpZiAoaGVpZ2h0QXRMaW5lKGxpbmUpIDwgKChjbS5jdXJPcCAmJiBjbS5jdXJPcC5zY3JvbGxUb3ApIHx8IGNtLmRvYy5zY3JvbGxUb3ApKVxuICAgICAgeyBhZGRUb1Njcm9sbFRvcChjbSwgZGlmZik7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZExpbmVXaWRnZXQoZG9jLCBoYW5kbGUsIG5vZGUsIG9wdGlvbnMpIHtcbiAgICB2YXIgd2lkZ2V0ID0gbmV3IExpbmVXaWRnZXQoZG9jLCBub2RlLCBvcHRpb25zKTtcbiAgICB2YXIgY20gPSBkb2MuY207XG4gICAgaWYgKGNtICYmIHdpZGdldC5ub0hTY3JvbGwpIHsgY20uZGlzcGxheS5hbGlnbldpZGdldHMgPSB0cnVlOyB9XG4gICAgY2hhbmdlTGluZShkb2MsIGhhbmRsZSwgXCJ3aWRnZXRcIiwgZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgIHZhciB3aWRnZXRzID0gbGluZS53aWRnZXRzIHx8IChsaW5lLndpZGdldHMgPSBbXSk7XG4gICAgICBpZiAod2lkZ2V0Lmluc2VydEF0ID09IG51bGwpIHsgd2lkZ2V0cy5wdXNoKHdpZGdldCk7IH1cbiAgICAgIGVsc2UgeyB3aWRnZXRzLnNwbGljZShNYXRoLm1pbih3aWRnZXRzLmxlbmd0aCwgTWF0aC5tYXgoMCwgd2lkZ2V0Lmluc2VydEF0KSksIDAsIHdpZGdldCk7IH1cbiAgICAgIHdpZGdldC5saW5lID0gbGluZTtcbiAgICAgIGlmIChjbSAmJiAhbGluZUlzSGlkZGVuKGRvYywgbGluZSkpIHtcbiAgICAgICAgdmFyIGFib3ZlVmlzaWJsZSA9IGhlaWdodEF0TGluZShsaW5lKSA8IGRvYy5zY3JvbGxUb3A7XG4gICAgICAgIHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgbGluZS5oZWlnaHQgKyB3aWRnZXRIZWlnaHQod2lkZ2V0KSk7XG4gICAgICAgIGlmIChhYm92ZVZpc2libGUpIHsgYWRkVG9TY3JvbGxUb3AoY20sIHdpZGdldC5oZWlnaHQpOyB9XG4gICAgICAgIGNtLmN1ck9wLmZvcmNlVXBkYXRlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSk7XG4gICAgaWYgKGNtKSB7IHNpZ25hbExhdGVyKGNtLCBcImxpbmVXaWRnZXRBZGRlZFwiLCBjbSwgd2lkZ2V0LCB0eXBlb2YgaGFuZGxlID09IFwibnVtYmVyXCIgPyBoYW5kbGUgOiBsaW5lTm8oaGFuZGxlKSk7IH1cbiAgICByZXR1cm4gd2lkZ2V0XG4gIH1cblxuICAvLyBURVhUTUFSS0VSU1xuXG4gIC8vIENyZWF0ZWQgd2l0aCBtYXJrVGV4dCBhbmQgc2V0Qm9va21hcmsgbWV0aG9kcy4gQSBUZXh0TWFya2VyIGlzIGFcbiAgLy8gaGFuZGxlIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2xlYXIgb3IgZmluZCBhIG1hcmtlZCBwb3NpdGlvbiBpbiB0aGVcbiAgLy8gZG9jdW1lbnQuIExpbmUgb2JqZWN0cyBob2xkIGFycmF5cyAobWFya2VkU3BhbnMpIGNvbnRhaW5pbmdcbiAgLy8ge2Zyb20sIHRvLCBtYXJrZXJ9IG9iamVjdCBwb2ludGluZyB0byBzdWNoIG1hcmtlciBvYmplY3RzLCBhbmRcbiAgLy8gaW5kaWNhdGluZyB0aGF0IHN1Y2ggYSBtYXJrZXIgaXMgcHJlc2VudCBvbiB0aGF0IGxpbmUuIE11bHRpcGxlXG4gIC8vIGxpbmVzIG1heSBwb2ludCB0byB0aGUgc2FtZSBtYXJrZXIgd2hlbiBpdCBzcGFucyBhY3Jvc3MgbGluZXMuXG4gIC8vIFRoZSBzcGFucyB3aWxsIGhhdmUgbnVsbCBmb3IgdGhlaXIgZnJvbS90byBwcm9wZXJ0aWVzIHdoZW4gdGhlXG4gIC8vIG1hcmtlciBjb250aW51ZXMgYmV5b25kIHRoZSBzdGFydC9lbmQgb2YgdGhlIGxpbmUuIE1hcmtlcnMgaGF2ZVxuICAvLyBsaW5rcyBiYWNrIHRvIHRoZSBsaW5lcyB0aGV5IGN1cnJlbnRseSB0b3VjaC5cblxuICAvLyBDb2xsYXBzZWQgbWFya2VycyBoYXZlIHVuaXF1ZSBpZHMsIGluIG9yZGVyIHRvIGJlIGFibGUgdG8gb3JkZXJcbiAgLy8gdGhlbSwgd2hpY2ggaXMgbmVlZGVkIGZvciB1bmlxdWVseSBkZXRlcm1pbmluZyBhbiBvdXRlciBtYXJrZXJcbiAgLy8gd2hlbiB0aGV5IG92ZXJsYXAgKHRoZXkgbWF5IG5lc3QsIGJ1dCBub3QgcGFydGlhbGx5IG92ZXJsYXApLlxuICB2YXIgbmV4dE1hcmtlcklkID0gMDtcblxuICB2YXIgVGV4dE1hcmtlciA9IGZ1bmN0aW9uKGRvYywgdHlwZSkge1xuICAgIHRoaXMubGluZXMgPSBbXTtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMuZG9jID0gZG9jO1xuICAgIHRoaXMuaWQgPSArK25leHRNYXJrZXJJZDtcbiAgfTtcblxuICAvLyBDbGVhciB0aGUgbWFya2VyLlxuICBUZXh0TWFya2VyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5leHBsaWNpdGx5Q2xlYXJlZCkgeyByZXR1cm4gfVxuICAgIHZhciBjbSA9IHRoaXMuZG9jLmNtLCB3aXRoT3AgPSBjbSAmJiAhY20uY3VyT3A7XG4gICAgaWYgKHdpdGhPcCkgeyBzdGFydE9wZXJhdGlvbihjbSk7IH1cbiAgICBpZiAoaGFzSGFuZGxlcih0aGlzLCBcImNsZWFyXCIpKSB7XG4gICAgICB2YXIgZm91bmQgPSB0aGlzLmZpbmQoKTtcbiAgICAgIGlmIChmb3VuZCkgeyBzaWduYWxMYXRlcih0aGlzLCBcImNsZWFyXCIsIGZvdW5kLmZyb20sIGZvdW5kLnRvKTsgfVxuICAgIH1cbiAgICB2YXIgbWluID0gbnVsbCwgbWF4ID0gbnVsbDtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGluZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBsaW5lID0gdGhpcy5saW5lc1tpXTtcbiAgICAgIHZhciBzcGFuID0gZ2V0TWFya2VkU3BhbkZvcihsaW5lLm1hcmtlZFNwYW5zLCB0aGlzKTtcbiAgICAgIGlmIChjbSAmJiAhdGhpcy5jb2xsYXBzZWQpIHsgcmVnTGluZUNoYW5nZShjbSwgbGluZU5vKGxpbmUpLCBcInRleHRcIik7IH1cbiAgICAgIGVsc2UgaWYgKGNtKSB7XG4gICAgICAgIGlmIChzcGFuLnRvICE9IG51bGwpIHsgbWF4ID0gbGluZU5vKGxpbmUpOyB9XG4gICAgICAgIGlmIChzcGFuLmZyb20gIT0gbnVsbCkgeyBtaW4gPSBsaW5lTm8obGluZSk7IH1cbiAgICAgIH1cbiAgICAgIGxpbmUubWFya2VkU3BhbnMgPSByZW1vdmVNYXJrZWRTcGFuKGxpbmUubWFya2VkU3BhbnMsIHNwYW4pO1xuICAgICAgaWYgKHNwYW4uZnJvbSA9PSBudWxsICYmIHRoaXMuY29sbGFwc2VkICYmICFsaW5lSXNIaWRkZW4odGhpcy5kb2MsIGxpbmUpICYmIGNtKVxuICAgICAgICB7IHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgdGV4dEhlaWdodChjbS5kaXNwbGF5KSk7IH1cbiAgICB9XG4gICAgaWYgKGNtICYmIHRoaXMuY29sbGFwc2VkICYmICFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykgeyBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCB0aGlzLmxpbmVzLmxlbmd0aDsgKytpJDEpIHtcbiAgICAgIHZhciB2aXN1YWwgPSB2aXN1YWxMaW5lKHRoaXMubGluZXNbaSQxXSksIGxlbiA9IGxpbmVMZW5ndGgodmlzdWFsKTtcbiAgICAgIGlmIChsZW4gPiBjbS5kaXNwbGF5Lm1heExpbmVMZW5ndGgpIHtcbiAgICAgICAgY20uZGlzcGxheS5tYXhMaW5lID0gdmlzdWFsO1xuICAgICAgICBjbS5kaXNwbGF5Lm1heExpbmVMZW5ndGggPSBsZW47XG4gICAgICAgIGNtLmRpc3BsYXkubWF4TGluZUNoYW5nZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gfVxuXG4gICAgaWYgKG1pbiAhPSBudWxsICYmIGNtICYmIHRoaXMuY29sbGFwc2VkKSB7IHJlZ0NoYW5nZShjbSwgbWluLCBtYXggKyAxKTsgfVxuICAgIHRoaXMubGluZXMubGVuZ3RoID0gMDtcbiAgICB0aGlzLmV4cGxpY2l0bHlDbGVhcmVkID0gdHJ1ZTtcbiAgICBpZiAodGhpcy5hdG9taWMgJiYgdGhpcy5kb2MuY2FudEVkaXQpIHtcbiAgICAgIHRoaXMuZG9jLmNhbnRFZGl0ID0gZmFsc2U7XG4gICAgICBpZiAoY20pIHsgcmVDaGVja1NlbGVjdGlvbihjbS5kb2MpOyB9XG4gICAgfVxuICAgIGlmIChjbSkgeyBzaWduYWxMYXRlcihjbSwgXCJtYXJrZXJDbGVhcmVkXCIsIGNtLCB0aGlzLCBtaW4sIG1heCk7IH1cbiAgICBpZiAod2l0aE9wKSB7IGVuZE9wZXJhdGlvbihjbSk7IH1cbiAgICBpZiAodGhpcy5wYXJlbnQpIHsgdGhpcy5wYXJlbnQuY2xlYXIoKTsgfVxuICB9O1xuXG4gIC8vIEZpbmQgdGhlIHBvc2l0aW9uIG9mIHRoZSBtYXJrZXIgaW4gdGhlIGRvY3VtZW50LiBSZXR1cm5zIGEge2Zyb20sXG4gIC8vIHRvfSBvYmplY3QgYnkgZGVmYXVsdC4gU2lkZSBjYW4gYmUgcGFzc2VkIHRvIGdldCBhIHNwZWNpZmljIHNpZGVcbiAgLy8gLS0gMCAoYm90aCksIC0xIChsZWZ0KSwgb3IgMSAocmlnaHQpLiBXaGVuIGxpbmVPYmogaXMgdHJ1ZSwgdGhlXG4gIC8vIFBvcyBvYmplY3RzIHJldHVybmVkIGNvbnRhaW4gYSBsaW5lIG9iamVjdCwgcmF0aGVyIHRoYW4gYSBsaW5lXG4gIC8vIG51bWJlciAodXNlZCB0byBwcmV2ZW50IGxvb2tpbmcgdXAgdGhlIHNhbWUgbGluZSB0d2ljZSkuXG4gIFRleHRNYXJrZXIucHJvdG90eXBlLmZpbmQgPSBmdW5jdGlvbiAoc2lkZSwgbGluZU9iaikge1xuICAgIGlmIChzaWRlID09IG51bGwgJiYgdGhpcy50eXBlID09IFwiYm9va21hcmtcIikgeyBzaWRlID0gMTsgfVxuICAgIHZhciBmcm9tLCB0bztcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMubGluZXMubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBsaW5lID0gdGhpcy5saW5lc1tpXTtcbiAgICAgIHZhciBzcGFuID0gZ2V0TWFya2VkU3BhbkZvcihsaW5lLm1hcmtlZFNwYW5zLCB0aGlzKTtcbiAgICAgIGlmIChzcGFuLmZyb20gIT0gbnVsbCkge1xuICAgICAgICBmcm9tID0gUG9zKGxpbmVPYmogPyBsaW5lIDogbGluZU5vKGxpbmUpLCBzcGFuLmZyb20pO1xuICAgICAgICBpZiAoc2lkZSA9PSAtMSkgeyByZXR1cm4gZnJvbSB9XG4gICAgICB9XG4gICAgICBpZiAoc3Bhbi50byAhPSBudWxsKSB7XG4gICAgICAgIHRvID0gUG9zKGxpbmVPYmogPyBsaW5lIDogbGluZU5vKGxpbmUpLCBzcGFuLnRvKTtcbiAgICAgICAgaWYgKHNpZGUgPT0gMSkgeyByZXR1cm4gdG8gfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZnJvbSAmJiB7ZnJvbTogZnJvbSwgdG86IHRvfVxuICB9O1xuXG4gIC8vIFNpZ25hbHMgdGhhdCB0aGUgbWFya2VyJ3Mgd2lkZ2V0IGNoYW5nZWQsIGFuZCBzdXJyb3VuZGluZyBsYXlvdXRcbiAgLy8gc2hvdWxkIGJlIHJlY29tcHV0ZWQuXG4gIFRleHRNYXJrZXIucHJvdG90eXBlLmNoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBwb3MgPSB0aGlzLmZpbmQoLTEsIHRydWUpLCB3aWRnZXQgPSB0aGlzLCBjbSA9IHRoaXMuZG9jLmNtO1xuICAgIGlmICghcG9zIHx8ICFjbSkgeyByZXR1cm4gfVxuICAgIHJ1bkluT3AoY20sIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBsaW5lID0gcG9zLmxpbmUsIGxpbmVOID0gbGluZU5vKHBvcy5saW5lKTtcbiAgICAgIHZhciB2aWV3ID0gZmluZFZpZXdGb3JMaW5lKGNtLCBsaW5lTik7XG4gICAgICBpZiAodmlldykge1xuICAgICAgICBjbGVhckxpbmVNZWFzdXJlbWVudENhY2hlRm9yKHZpZXcpO1xuICAgICAgICBjbS5jdXJPcC5zZWxlY3Rpb25DaGFuZ2VkID0gY20uY3VyT3AuZm9yY2VVcGRhdGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgY20uY3VyT3AudXBkYXRlTWF4TGluZSA9IHRydWU7XG4gICAgICBpZiAoIWxpbmVJc0hpZGRlbih3aWRnZXQuZG9jLCBsaW5lKSAmJiB3aWRnZXQuaGVpZ2h0ICE9IG51bGwpIHtcbiAgICAgICAgdmFyIG9sZEhlaWdodCA9IHdpZGdldC5oZWlnaHQ7XG4gICAgICAgIHdpZGdldC5oZWlnaHQgPSBudWxsO1xuICAgICAgICB2YXIgZEhlaWdodCA9IHdpZGdldEhlaWdodCh3aWRnZXQpIC0gb2xkSGVpZ2h0O1xuICAgICAgICBpZiAoZEhlaWdodClcbiAgICAgICAgICB7IHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgbGluZS5oZWlnaHQgKyBkSGVpZ2h0KTsgfVxuICAgICAgfVxuICAgICAgc2lnbmFsTGF0ZXIoY20sIFwibWFya2VyQ2hhbmdlZFwiLCBjbSwgdGhpcyQxKTtcbiAgICB9KTtcbiAgfTtcblxuICBUZXh0TWFya2VyLnByb3RvdHlwZS5hdHRhY2hMaW5lID0gZnVuY3Rpb24gKGxpbmUpIHtcbiAgICBpZiAoIXRoaXMubGluZXMubGVuZ3RoICYmIHRoaXMuZG9jLmNtKSB7XG4gICAgICB2YXIgb3AgPSB0aGlzLmRvYy5jbS5jdXJPcDtcbiAgICAgIGlmICghb3AubWF5YmVIaWRkZW5NYXJrZXJzIHx8IGluZGV4T2Yob3AubWF5YmVIaWRkZW5NYXJrZXJzLCB0aGlzKSA9PSAtMSlcbiAgICAgICAgeyAob3AubWF5YmVVbmhpZGRlbk1hcmtlcnMgfHwgKG9wLm1heWJlVW5oaWRkZW5NYXJrZXJzID0gW10pKS5wdXNoKHRoaXMpOyB9XG4gICAgfVxuICAgIHRoaXMubGluZXMucHVzaChsaW5lKTtcbiAgfTtcblxuICBUZXh0TWFya2VyLnByb3RvdHlwZS5kZXRhY2hMaW5lID0gZnVuY3Rpb24gKGxpbmUpIHtcbiAgICB0aGlzLmxpbmVzLnNwbGljZShpbmRleE9mKHRoaXMubGluZXMsIGxpbmUpLCAxKTtcbiAgICBpZiAoIXRoaXMubGluZXMubGVuZ3RoICYmIHRoaXMuZG9jLmNtKSB7XG4gICAgICB2YXIgb3AgPSB0aGlzLmRvYy5jbS5jdXJPcFxuICAgICAgOyhvcC5tYXliZUhpZGRlbk1hcmtlcnMgfHwgKG9wLm1heWJlSGlkZGVuTWFya2VycyA9IFtdKSkucHVzaCh0aGlzKTtcbiAgICB9XG4gIH07XG4gIGV2ZW50TWl4aW4oVGV4dE1hcmtlcik7XG5cbiAgLy8gQ3JlYXRlIGEgbWFya2VyLCB3aXJlIGl0IHVwIHRvIHRoZSByaWdodCBsaW5lcywgYW5kXG4gIGZ1bmN0aW9uIG1hcmtUZXh0KGRvYywgZnJvbSwgdG8sIG9wdGlvbnMsIHR5cGUpIHtcbiAgICAvLyBTaGFyZWQgbWFya2VycyAoYWNyb3NzIGxpbmtlZCBkb2N1bWVudHMpIGFyZSBoYW5kbGVkIHNlcGFyYXRlbHlcbiAgICAvLyAobWFya1RleHRTaGFyZWQgd2lsbCBjYWxsIG91dCB0byB0aGlzIGFnYWluLCBvbmNlIHBlclxuICAgIC8vIGRvY3VtZW50KS5cbiAgICBpZiAob3B0aW9ucyAmJiBvcHRpb25zLnNoYXJlZCkgeyByZXR1cm4gbWFya1RleHRTaGFyZWQoZG9jLCBmcm9tLCB0bywgb3B0aW9ucywgdHlwZSkgfVxuICAgIC8vIEVuc3VyZSB3ZSBhcmUgaW4gYW4gb3BlcmF0aW9uLlxuICAgIGlmIChkb2MuY20gJiYgIWRvYy5jbS5jdXJPcCkgeyByZXR1cm4gb3BlcmF0aW9uKGRvYy5jbSwgbWFya1RleHQpKGRvYywgZnJvbSwgdG8sIG9wdGlvbnMsIHR5cGUpIH1cblxuICAgIHZhciBtYXJrZXIgPSBuZXcgVGV4dE1hcmtlcihkb2MsIHR5cGUpLCBkaWZmID0gY21wKGZyb20sIHRvKTtcbiAgICBpZiAob3B0aW9ucykgeyBjb3B5T2JqKG9wdGlvbnMsIG1hcmtlciwgZmFsc2UpOyB9XG4gICAgLy8gRG9uJ3QgY29ubmVjdCBlbXB0eSBtYXJrZXJzIHVubGVzcyBjbGVhcldoZW5FbXB0eSBpcyBmYWxzZVxuICAgIGlmIChkaWZmID4gMCB8fCBkaWZmID09IDAgJiYgbWFya2VyLmNsZWFyV2hlbkVtcHR5ICE9PSBmYWxzZSlcbiAgICAgIHsgcmV0dXJuIG1hcmtlciB9XG4gICAgaWYgKG1hcmtlci5yZXBsYWNlZFdpdGgpIHtcbiAgICAgIC8vIFNob3dpbmcgdXAgYXMgYSB3aWRnZXQgaW1wbGllcyBjb2xsYXBzZWQgKHdpZGdldCByZXBsYWNlcyB0ZXh0KVxuICAgICAgbWFya2VyLmNvbGxhcHNlZCA9IHRydWU7XG4gICAgICBtYXJrZXIud2lkZ2V0Tm9kZSA9IGVsdFAoXCJzcGFuXCIsIFttYXJrZXIucmVwbGFjZWRXaXRoXSwgXCJDb2RlTWlycm9yLXdpZGdldFwiKTtcbiAgICAgIGlmICghb3B0aW9ucy5oYW5kbGVNb3VzZUV2ZW50cykgeyBtYXJrZXIud2lkZ2V0Tm9kZS5zZXRBdHRyaWJ1dGUoXCJjbS1pZ25vcmUtZXZlbnRzXCIsIFwidHJ1ZVwiKTsgfVxuICAgICAgaWYgKG9wdGlvbnMuaW5zZXJ0TGVmdCkgeyBtYXJrZXIud2lkZ2V0Tm9kZS5pbnNlcnRMZWZ0ID0gdHJ1ZTsgfVxuICAgIH1cbiAgICBpZiAobWFya2VyLmNvbGxhcHNlZCkge1xuICAgICAgaWYgKGNvbmZsaWN0aW5nQ29sbGFwc2VkUmFuZ2UoZG9jLCBmcm9tLmxpbmUsIGZyb20sIHRvLCBtYXJrZXIpIHx8XG4gICAgICAgICAgZnJvbS5saW5lICE9IHRvLmxpbmUgJiYgY29uZmxpY3RpbmdDb2xsYXBzZWRSYW5nZShkb2MsIHRvLmxpbmUsIGZyb20sIHRvLCBtYXJrZXIpKVxuICAgICAgICB7IHRocm93IG5ldyBFcnJvcihcIkluc2VydGluZyBjb2xsYXBzZWQgbWFya2VyIHBhcnRpYWxseSBvdmVybGFwcGluZyBhbiBleGlzdGluZyBvbmVcIikgfVxuICAgICAgc2VlQ29sbGFwc2VkU3BhbnMoKTtcbiAgICB9XG5cbiAgICBpZiAobWFya2VyLmFkZFRvSGlzdG9yeSlcbiAgICAgIHsgYWRkQ2hhbmdlVG9IaXN0b3J5KGRvYywge2Zyb206IGZyb20sIHRvOiB0bywgb3JpZ2luOiBcIm1hcmtUZXh0XCJ9LCBkb2Muc2VsLCBOYU4pOyB9XG5cbiAgICB2YXIgY3VyTGluZSA9IGZyb20ubGluZSwgY20gPSBkb2MuY20sIHVwZGF0ZU1heExpbmU7XG4gICAgZG9jLml0ZXIoY3VyTGluZSwgdG8ubGluZSArIDEsIGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICBpZiAoY20gJiYgbWFya2VyLmNvbGxhcHNlZCAmJiAhY20ub3B0aW9ucy5saW5lV3JhcHBpbmcgJiYgdmlzdWFsTGluZShsaW5lKSA9PSBjbS5kaXNwbGF5Lm1heExpbmUpXG4gICAgICAgIHsgdXBkYXRlTWF4TGluZSA9IHRydWU7IH1cbiAgICAgIGlmIChtYXJrZXIuY29sbGFwc2VkICYmIGN1ckxpbmUgIT0gZnJvbS5saW5lKSB7IHVwZGF0ZUxpbmVIZWlnaHQobGluZSwgMCk7IH1cbiAgICAgIGFkZE1hcmtlZFNwYW4obGluZSwgbmV3IE1hcmtlZFNwYW4obWFya2VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJMaW5lID09IGZyb20ubGluZSA/IGZyb20uY2ggOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJMaW5lID09IHRvLmxpbmUgPyB0by5jaCA6IG51bGwpLCBkb2MuY20gJiYgZG9jLmNtLmN1ck9wKTtcbiAgICAgICsrY3VyTGluZTtcbiAgICB9KTtcbiAgICAvLyBsaW5lSXNIaWRkZW4gZGVwZW5kcyBvbiB0aGUgcHJlc2VuY2Ugb2YgdGhlIHNwYW5zLCBzbyBuZWVkcyBhIHNlY29uZCBwYXNzXG4gICAgaWYgKG1hcmtlci5jb2xsYXBzZWQpIHsgZG9jLml0ZXIoZnJvbS5saW5lLCB0by5saW5lICsgMSwgZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgIGlmIChsaW5lSXNIaWRkZW4oZG9jLCBsaW5lKSkgeyB1cGRhdGVMaW5lSGVpZ2h0KGxpbmUsIDApOyB9XG4gICAgfSk7IH1cblxuICAgIGlmIChtYXJrZXIuY2xlYXJPbkVudGVyKSB7IG9uKG1hcmtlciwgXCJiZWZvcmVDdXJzb3JFbnRlclwiLCBmdW5jdGlvbiAoKSB7IHJldHVybiBtYXJrZXIuY2xlYXIoKTsgfSk7IH1cblxuICAgIGlmIChtYXJrZXIucmVhZE9ubHkpIHtcbiAgICAgIHNlZVJlYWRPbmx5U3BhbnMoKTtcbiAgICAgIGlmIChkb2MuaGlzdG9yeS5kb25lLmxlbmd0aCB8fCBkb2MuaGlzdG9yeS51bmRvbmUubGVuZ3RoKVxuICAgICAgICB7IGRvYy5jbGVhckhpc3RvcnkoKTsgfVxuICAgIH1cbiAgICBpZiAobWFya2VyLmNvbGxhcHNlZCkge1xuICAgICAgbWFya2VyLmlkID0gKytuZXh0TWFya2VySWQ7XG4gICAgICBtYXJrZXIuYXRvbWljID0gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGNtKSB7XG4gICAgICAvLyBTeW5jIGVkaXRvciBzdGF0ZVxuICAgICAgaWYgKHVwZGF0ZU1heExpbmUpIHsgY20uY3VyT3AudXBkYXRlTWF4TGluZSA9IHRydWU7IH1cbiAgICAgIGlmIChtYXJrZXIuY29sbGFwc2VkKVxuICAgICAgICB7IHJlZ0NoYW5nZShjbSwgZnJvbS5saW5lLCB0by5saW5lICsgMSk7IH1cbiAgICAgIGVsc2UgaWYgKG1hcmtlci5jbGFzc05hbWUgfHwgbWFya2VyLnN0YXJ0U3R5bGUgfHwgbWFya2VyLmVuZFN0eWxlIHx8IG1hcmtlci5jc3MgfHxcbiAgICAgICAgICAgICAgIG1hcmtlci5hdHRyaWJ1dGVzIHx8IG1hcmtlci50aXRsZSlcbiAgICAgICAgeyBmb3IgKHZhciBpID0gZnJvbS5saW5lOyBpIDw9IHRvLmxpbmU7IGkrKykgeyByZWdMaW5lQ2hhbmdlKGNtLCBpLCBcInRleHRcIik7IH0gfVxuICAgICAgaWYgKG1hcmtlci5hdG9taWMpIHsgcmVDaGVja1NlbGVjdGlvbihjbS5kb2MpOyB9XG4gICAgICBzaWduYWxMYXRlcihjbSwgXCJtYXJrZXJBZGRlZFwiLCBjbSwgbWFya2VyKTtcbiAgICB9XG4gICAgcmV0dXJuIG1hcmtlclxuICB9XG5cbiAgLy8gU0hBUkVEIFRFWFRNQVJLRVJTXG5cbiAgLy8gQSBzaGFyZWQgbWFya2VyIHNwYW5zIG11bHRpcGxlIGxpbmtlZCBkb2N1bWVudHMuIEl0IGlzXG4gIC8vIGltcGxlbWVudGVkIGFzIGEgbWV0YS1tYXJrZXItb2JqZWN0IGNvbnRyb2xsaW5nIG11bHRpcGxlIG5vcm1hbFxuICAvLyBtYXJrZXJzLlxuICB2YXIgU2hhcmVkVGV4dE1hcmtlciA9IGZ1bmN0aW9uKG1hcmtlcnMsIHByaW1hcnkpIHtcbiAgICB0aGlzLm1hcmtlcnMgPSBtYXJrZXJzO1xuICAgIHRoaXMucHJpbWFyeSA9IHByaW1hcnk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXJrZXJzLmxlbmd0aDsgKytpKVxuICAgICAgeyBtYXJrZXJzW2ldLnBhcmVudCA9IHRoaXM7IH1cbiAgfTtcblxuICBTaGFyZWRUZXh0TWFya2VyLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5leHBsaWNpdGx5Q2xlYXJlZCkgeyByZXR1cm4gfVxuICAgIHRoaXMuZXhwbGljaXRseUNsZWFyZWQgPSB0cnVlO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5tYXJrZXJzLmxlbmd0aDsgKytpKVxuICAgICAgeyB0aGlzLm1hcmtlcnNbaV0uY2xlYXIoKTsgfVxuICAgIHNpZ25hbExhdGVyKHRoaXMsIFwiY2xlYXJcIik7XG4gIH07XG5cbiAgU2hhcmVkVGV4dE1hcmtlci5wcm90b3R5cGUuZmluZCA9IGZ1bmN0aW9uIChzaWRlLCBsaW5lT2JqKSB7XG4gICAgcmV0dXJuIHRoaXMucHJpbWFyeS5maW5kKHNpZGUsIGxpbmVPYmopXG4gIH07XG4gIGV2ZW50TWl4aW4oU2hhcmVkVGV4dE1hcmtlcik7XG5cbiAgZnVuY3Rpb24gbWFya1RleHRTaGFyZWQoZG9jLCBmcm9tLCB0bywgb3B0aW9ucywgdHlwZSkge1xuICAgIG9wdGlvbnMgPSBjb3B5T2JqKG9wdGlvbnMpO1xuICAgIG9wdGlvbnMuc2hhcmVkID0gZmFsc2U7XG4gICAgdmFyIG1hcmtlcnMgPSBbbWFya1RleHQoZG9jLCBmcm9tLCB0bywgb3B0aW9ucywgdHlwZSldLCBwcmltYXJ5ID0gbWFya2Vyc1swXTtcbiAgICB2YXIgd2lkZ2V0ID0gb3B0aW9ucy53aWRnZXROb2RlO1xuICAgIGxpbmtlZERvY3MoZG9jLCBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICBpZiAod2lkZ2V0KSB7IG9wdGlvbnMud2lkZ2V0Tm9kZSA9IHdpZGdldC5jbG9uZU5vZGUodHJ1ZSk7IH1cbiAgICAgIG1hcmtlcnMucHVzaChtYXJrVGV4dChkb2MsIGNsaXBQb3MoZG9jLCBmcm9tKSwgY2xpcFBvcyhkb2MsIHRvKSwgb3B0aW9ucywgdHlwZSkpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2MubGlua2VkLmxlbmd0aDsgKytpKVxuICAgICAgICB7IGlmIChkb2MubGlua2VkW2ldLmlzUGFyZW50KSB7IHJldHVybiB9IH1cbiAgICAgIHByaW1hcnkgPSBsc3QobWFya2Vycyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBTaGFyZWRUZXh0TWFya2VyKG1hcmtlcnMsIHByaW1hcnkpXG4gIH1cblxuICBmdW5jdGlvbiBmaW5kU2hhcmVkTWFya2Vycyhkb2MpIHtcbiAgICByZXR1cm4gZG9jLmZpbmRNYXJrcyhQb3MoZG9jLmZpcnN0LCAwKSwgZG9jLmNsaXBQb3MoUG9zKGRvYy5sYXN0TGluZSgpKSksIGZ1bmN0aW9uIChtKSB7IHJldHVybiBtLnBhcmVudDsgfSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGNvcHlTaGFyZWRNYXJrZXJzKGRvYywgbWFya2Vycykge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFya2Vycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIG1hcmtlciA9IG1hcmtlcnNbaV0sIHBvcyA9IG1hcmtlci5maW5kKCk7XG4gICAgICB2YXIgbUZyb20gPSBkb2MuY2xpcFBvcyhwb3MuZnJvbSksIG1UbyA9IGRvYy5jbGlwUG9zKHBvcy50byk7XG4gICAgICBpZiAoY21wKG1Gcm9tLCBtVG8pKSB7XG4gICAgICAgIHZhciBzdWJNYXJrID0gbWFya1RleHQoZG9jLCBtRnJvbSwgbVRvLCBtYXJrZXIucHJpbWFyeSwgbWFya2VyLnByaW1hcnkudHlwZSk7XG4gICAgICAgIG1hcmtlci5tYXJrZXJzLnB1c2goc3ViTWFyayk7XG4gICAgICAgIHN1Yk1hcmsucGFyZW50ID0gbWFya2VyO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRldGFjaFNoYXJlZE1hcmtlcnMobWFya2Vycykge1xuICAgIHZhciBsb29wID0gZnVuY3Rpb24gKCBpICkge1xuICAgICAgdmFyIG1hcmtlciA9IG1hcmtlcnNbaV0sIGxpbmtlZCA9IFttYXJrZXIucHJpbWFyeS5kb2NdO1xuICAgICAgbGlua2VkRG9jcyhtYXJrZXIucHJpbWFyeS5kb2MsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBsaW5rZWQucHVzaChkKTsgfSk7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1hcmtlci5tYXJrZXJzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBzdWJNYXJrZXIgPSBtYXJrZXIubWFya2Vyc1tqXTtcbiAgICAgICAgaWYgKGluZGV4T2YobGlua2VkLCBzdWJNYXJrZXIuZG9jKSA9PSAtMSkge1xuICAgICAgICAgIHN1Yk1hcmtlci5wYXJlbnQgPSBudWxsO1xuICAgICAgICAgIG1hcmtlci5tYXJrZXJzLnNwbGljZShqLS0sIDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWFya2Vycy5sZW5ndGg7IGkrKykgbG9vcCggaSApO1xuICB9XG5cbiAgdmFyIG5leHREb2NJZCA9IDA7XG4gIHZhciBEb2MgPSBmdW5jdGlvbih0ZXh0LCBtb2RlLCBmaXJzdExpbmUsIGxpbmVTZXAsIGRpcmVjdGlvbikge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBEb2MpKSB7IHJldHVybiBuZXcgRG9jKHRleHQsIG1vZGUsIGZpcnN0TGluZSwgbGluZVNlcCwgZGlyZWN0aW9uKSB9XG4gICAgaWYgKGZpcnN0TGluZSA9PSBudWxsKSB7IGZpcnN0TGluZSA9IDA7IH1cblxuICAgIEJyYW5jaENodW5rLmNhbGwodGhpcywgW25ldyBMZWFmQ2h1bmsoW25ldyBMaW5lKFwiXCIsIG51bGwpXSldKTtcbiAgICB0aGlzLmZpcnN0ID0gZmlyc3RMaW5lO1xuICAgIHRoaXMuc2Nyb2xsVG9wID0gdGhpcy5zY3JvbGxMZWZ0ID0gMDtcbiAgICB0aGlzLmNhbnRFZGl0ID0gZmFsc2U7XG4gICAgdGhpcy5jbGVhbkdlbmVyYXRpb24gPSAxO1xuICAgIHRoaXMubW9kZUZyb250aWVyID0gdGhpcy5oaWdobGlnaHRGcm9udGllciA9IGZpcnN0TGluZTtcbiAgICB2YXIgc3RhcnQgPSBQb3MoZmlyc3RMaW5lLCAwKTtcbiAgICB0aGlzLnNlbCA9IHNpbXBsZVNlbGVjdGlvbihzdGFydCk7XG4gICAgdGhpcy5oaXN0b3J5ID0gbmV3IEhpc3RvcnkobnVsbCk7XG4gICAgdGhpcy5pZCA9ICsrbmV4dERvY0lkO1xuICAgIHRoaXMubW9kZU9wdGlvbiA9IG1vZGU7XG4gICAgdGhpcy5saW5lU2VwID0gbGluZVNlcDtcbiAgICB0aGlzLmRpcmVjdGlvbiA9IChkaXJlY3Rpb24gPT0gXCJydGxcIikgPyBcInJ0bFwiIDogXCJsdHJcIjtcbiAgICB0aGlzLmV4dGVuZCA9IGZhbHNlO1xuXG4gICAgaWYgKHR5cGVvZiB0ZXh0ID09IFwic3RyaW5nXCIpIHsgdGV4dCA9IHRoaXMuc3BsaXRMaW5lcyh0ZXh0KTsgfVxuICAgIHVwZGF0ZURvYyh0aGlzLCB7ZnJvbTogc3RhcnQsIHRvOiBzdGFydCwgdGV4dDogdGV4dH0pO1xuICAgIHNldFNlbGVjdGlvbih0aGlzLCBzaW1wbGVTZWxlY3Rpb24oc3RhcnQpLCBzZWxfZG9udFNjcm9sbCk7XG4gIH07XG5cbiAgRG9jLnByb3RvdHlwZSA9IGNyZWF0ZU9iaihCcmFuY2hDaHVuay5wcm90b3R5cGUsIHtcbiAgICBjb25zdHJ1Y3RvcjogRG9jLFxuICAgIC8vIEl0ZXJhdGUgb3ZlciB0aGUgZG9jdW1lbnQuIFN1cHBvcnRzIHR3byBmb3JtcyAtLSB3aXRoIG9ubHkgb25lXG4gICAgLy8gYXJndW1lbnQsIGl0IGNhbGxzIHRoYXQgZm9yIGVhY2ggbGluZSBpbiB0aGUgZG9jdW1lbnQuIFdpdGhcbiAgICAvLyB0aHJlZSwgaXQgaXRlcmF0ZXMgb3ZlciB0aGUgcmFuZ2UgZ2l2ZW4gYnkgdGhlIGZpcnN0IHR3byAod2l0aFxuICAgIC8vIHRoZSBzZWNvbmQgYmVpbmcgbm9uLWluY2x1c2l2ZSkuXG4gICAgaXRlcjogZnVuY3Rpb24oZnJvbSwgdG8sIG9wKSB7XG4gICAgICBpZiAob3ApIHsgdGhpcy5pdGVyTihmcm9tIC0gdGhpcy5maXJzdCwgdG8gLSBmcm9tLCBvcCk7IH1cbiAgICAgIGVsc2UgeyB0aGlzLml0ZXJOKHRoaXMuZmlyc3QsIHRoaXMuZmlyc3QgKyB0aGlzLnNpemUsIGZyb20pOyB9XG4gICAgfSxcblxuICAgIC8vIE5vbi1wdWJsaWMgaW50ZXJmYWNlIGZvciBhZGRpbmcgYW5kIHJlbW92aW5nIGxpbmVzLlxuICAgIGluc2VydDogZnVuY3Rpb24oYXQsIGxpbmVzKSB7XG4gICAgICB2YXIgaGVpZ2h0ID0gMDtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyArK2kpIHsgaGVpZ2h0ICs9IGxpbmVzW2ldLmhlaWdodDsgfVxuICAgICAgdGhpcy5pbnNlcnRJbm5lcihhdCAtIHRoaXMuZmlyc3QsIGxpbmVzLCBoZWlnaHQpO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbihhdCwgbikgeyB0aGlzLnJlbW92ZUlubmVyKGF0IC0gdGhpcy5maXJzdCwgbik7IH0sXG5cbiAgICAvLyBGcm9tIGhlcmUsIHRoZSBtZXRob2RzIGFyZSBwYXJ0IG9mIHRoZSBwdWJsaWMgaW50ZXJmYWNlLiBNb3N0XG4gICAgLy8gYXJlIGFsc28gYXZhaWxhYmxlIGZyb20gQ29kZU1pcnJvciAoZWRpdG9yKSBpbnN0YW5jZXMuXG5cbiAgICBnZXRWYWx1ZTogZnVuY3Rpb24obGluZVNlcCkge1xuICAgICAgdmFyIGxpbmVzID0gZ2V0TGluZXModGhpcywgdGhpcy5maXJzdCwgdGhpcy5maXJzdCArIHRoaXMuc2l6ZSk7XG4gICAgICBpZiAobGluZVNlcCA9PT0gZmFsc2UpIHsgcmV0dXJuIGxpbmVzIH1cbiAgICAgIHJldHVybiBsaW5lcy5qb2luKGxpbmVTZXAgfHwgdGhpcy5saW5lU2VwYXJhdG9yKCkpXG4gICAgfSxcbiAgICBzZXRWYWx1ZTogZG9jTWV0aG9kT3AoZnVuY3Rpb24oY29kZSkge1xuICAgICAgdmFyIHRvcCA9IFBvcyh0aGlzLmZpcnN0LCAwKSwgbGFzdCA9IHRoaXMuZmlyc3QgKyB0aGlzLnNpemUgLSAxO1xuICAgICAgbWFrZUNoYW5nZSh0aGlzLCB7ZnJvbTogdG9wLCB0bzogUG9zKGxhc3QsIGdldExpbmUodGhpcywgbGFzdCkudGV4dC5sZW5ndGgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogdGhpcy5zcGxpdExpbmVzKGNvZGUpLCBvcmlnaW46IFwic2V0VmFsdWVcIiwgZnVsbDogdHJ1ZX0sIHRydWUpO1xuICAgICAgaWYgKHRoaXMuY20pIHsgc2Nyb2xsVG9Db29yZHModGhpcy5jbSwgMCwgMCk7IH1cbiAgICAgIHNldFNlbGVjdGlvbih0aGlzLCBzaW1wbGVTZWxlY3Rpb24odG9wKSwgc2VsX2RvbnRTY3JvbGwpO1xuICAgIH0pLFxuICAgIHJlcGxhY2VSYW5nZTogZnVuY3Rpb24oY29kZSwgZnJvbSwgdG8sIG9yaWdpbikge1xuICAgICAgZnJvbSA9IGNsaXBQb3ModGhpcywgZnJvbSk7XG4gICAgICB0byA9IHRvID8gY2xpcFBvcyh0aGlzLCB0bykgOiBmcm9tO1xuICAgICAgcmVwbGFjZVJhbmdlKHRoaXMsIGNvZGUsIGZyb20sIHRvLCBvcmlnaW4pO1xuICAgIH0sXG4gICAgZ2V0UmFuZ2U6IGZ1bmN0aW9uKGZyb20sIHRvLCBsaW5lU2VwKSB7XG4gICAgICB2YXIgbGluZXMgPSBnZXRCZXR3ZWVuKHRoaXMsIGNsaXBQb3ModGhpcywgZnJvbSksIGNsaXBQb3ModGhpcywgdG8pKTtcbiAgICAgIGlmIChsaW5lU2VwID09PSBmYWxzZSkgeyByZXR1cm4gbGluZXMgfVxuICAgICAgaWYgKGxpbmVTZXAgPT09ICcnKSB7IHJldHVybiBsaW5lcy5qb2luKCcnKSB9XG4gICAgICByZXR1cm4gbGluZXMuam9pbihsaW5lU2VwIHx8IHRoaXMubGluZVNlcGFyYXRvcigpKVxuICAgIH0sXG5cbiAgICBnZXRMaW5lOiBmdW5jdGlvbihsaW5lKSB7dmFyIGwgPSB0aGlzLmdldExpbmVIYW5kbGUobGluZSk7IHJldHVybiBsICYmIGwudGV4dH0sXG5cbiAgICBnZXRMaW5lSGFuZGxlOiBmdW5jdGlvbihsaW5lKSB7aWYgKGlzTGluZSh0aGlzLCBsaW5lKSkgeyByZXR1cm4gZ2V0TGluZSh0aGlzLCBsaW5lKSB9fSxcbiAgICBnZXRMaW5lTnVtYmVyOiBmdW5jdGlvbihsaW5lKSB7cmV0dXJuIGxpbmVObyhsaW5lKX0sXG5cbiAgICBnZXRMaW5lSGFuZGxlVmlzdWFsU3RhcnQ6IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIGlmICh0eXBlb2YgbGluZSA9PSBcIm51bWJlclwiKSB7IGxpbmUgPSBnZXRMaW5lKHRoaXMsIGxpbmUpOyB9XG4gICAgICByZXR1cm4gdmlzdWFsTGluZShsaW5lKVxuICAgIH0sXG5cbiAgICBsaW5lQ291bnQ6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLnNpemV9LFxuICAgIGZpcnN0TGluZTogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuZmlyc3R9LFxuICAgIGxhc3RMaW5lOiBmdW5jdGlvbigpIHtyZXR1cm4gdGhpcy5maXJzdCArIHRoaXMuc2l6ZSAtIDF9LFxuXG4gICAgY2xpcFBvczogZnVuY3Rpb24ocG9zKSB7cmV0dXJuIGNsaXBQb3ModGhpcywgcG9zKX0sXG5cbiAgICBnZXRDdXJzb3I6IGZ1bmN0aW9uKHN0YXJ0KSB7XG4gICAgICB2YXIgcmFuZ2UgPSB0aGlzLnNlbC5wcmltYXJ5KCksIHBvcztcbiAgICAgIGlmIChzdGFydCA9PSBudWxsIHx8IHN0YXJ0ID09IFwiaGVhZFwiKSB7IHBvcyA9IHJhbmdlLmhlYWQ7IH1cbiAgICAgIGVsc2UgaWYgKHN0YXJ0ID09IFwiYW5jaG9yXCIpIHsgcG9zID0gcmFuZ2UuYW5jaG9yOyB9XG4gICAgICBlbHNlIGlmIChzdGFydCA9PSBcImVuZFwiIHx8IHN0YXJ0ID09IFwidG9cIiB8fCBzdGFydCA9PT0gZmFsc2UpIHsgcG9zID0gcmFuZ2UudG8oKTsgfVxuICAgICAgZWxzZSB7IHBvcyA9IHJhbmdlLmZyb20oKTsgfVxuICAgICAgcmV0dXJuIHBvc1xuICAgIH0sXG4gICAgbGlzdFNlbGVjdGlvbnM6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5zZWwucmFuZ2VzIH0sXG4gICAgc29tZXRoaW5nU2VsZWN0ZWQ6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLnNlbC5zb21ldGhpbmdTZWxlY3RlZCgpfSxcblxuICAgIHNldEN1cnNvcjogZG9jTWV0aG9kT3AoZnVuY3Rpb24obGluZSwgY2gsIG9wdGlvbnMpIHtcbiAgICAgIHNldFNpbXBsZVNlbGVjdGlvbih0aGlzLCBjbGlwUG9zKHRoaXMsIHR5cGVvZiBsaW5lID09IFwibnVtYmVyXCIgPyBQb3MobGluZSwgY2ggfHwgMCkgOiBsaW5lKSwgbnVsbCwgb3B0aW9ucyk7XG4gICAgfSksXG4gICAgc2V0U2VsZWN0aW9uOiBkb2NNZXRob2RPcChmdW5jdGlvbihhbmNob3IsIGhlYWQsIG9wdGlvbnMpIHtcbiAgICAgIHNldFNpbXBsZVNlbGVjdGlvbih0aGlzLCBjbGlwUG9zKHRoaXMsIGFuY2hvciksIGNsaXBQb3ModGhpcywgaGVhZCB8fCBhbmNob3IpLCBvcHRpb25zKTtcbiAgICB9KSxcbiAgICBleHRlbmRTZWxlY3Rpb246IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGhlYWQsIG90aGVyLCBvcHRpb25zKSB7XG4gICAgICBleHRlbmRTZWxlY3Rpb24odGhpcywgY2xpcFBvcyh0aGlzLCBoZWFkKSwgb3RoZXIgJiYgY2xpcFBvcyh0aGlzLCBvdGhlciksIG9wdGlvbnMpO1xuICAgIH0pLFxuICAgIGV4dGVuZFNlbGVjdGlvbnM6IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGhlYWRzLCBvcHRpb25zKSB7XG4gICAgICBleHRlbmRTZWxlY3Rpb25zKHRoaXMsIGNsaXBQb3NBcnJheSh0aGlzLCBoZWFkcyksIG9wdGlvbnMpO1xuICAgIH0pLFxuICAgIGV4dGVuZFNlbGVjdGlvbnNCeTogZG9jTWV0aG9kT3AoZnVuY3Rpb24oZiwgb3B0aW9ucykge1xuICAgICAgdmFyIGhlYWRzID0gbWFwKHRoaXMuc2VsLnJhbmdlcywgZik7XG4gICAgICBleHRlbmRTZWxlY3Rpb25zKHRoaXMsIGNsaXBQb3NBcnJheSh0aGlzLCBoZWFkcyksIG9wdGlvbnMpO1xuICAgIH0pLFxuICAgIHNldFNlbGVjdGlvbnM6IGRvY01ldGhvZE9wKGZ1bmN0aW9uKHJhbmdlcywgcHJpbWFyeSwgb3B0aW9ucykge1xuICAgICAgaWYgKCFyYW5nZXMubGVuZ3RoKSB7IHJldHVybiB9XG4gICAgICB2YXIgb3V0ID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgeyBvdXRbaV0gPSBuZXcgUmFuZ2UoY2xpcFBvcyh0aGlzLCByYW5nZXNbaV0uYW5jaG9yKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsaXBQb3ModGhpcywgcmFuZ2VzW2ldLmhlYWQgfHwgcmFuZ2VzW2ldLmFuY2hvcikpOyB9XG4gICAgICBpZiAocHJpbWFyeSA9PSBudWxsKSB7IHByaW1hcnkgPSBNYXRoLm1pbihyYW5nZXMubGVuZ3RoIC0gMSwgdGhpcy5zZWwucHJpbUluZGV4KTsgfVxuICAgICAgc2V0U2VsZWN0aW9uKHRoaXMsIG5vcm1hbGl6ZVNlbGVjdGlvbih0aGlzLmNtLCBvdXQsIHByaW1hcnkpLCBvcHRpb25zKTtcbiAgICB9KSxcbiAgICBhZGRTZWxlY3Rpb246IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGFuY2hvciwgaGVhZCwgb3B0aW9ucykge1xuICAgICAgdmFyIHJhbmdlcyA9IHRoaXMuc2VsLnJhbmdlcy5zbGljZSgwKTtcbiAgICAgIHJhbmdlcy5wdXNoKG5ldyBSYW5nZShjbGlwUG9zKHRoaXMsIGFuY2hvciksIGNsaXBQb3ModGhpcywgaGVhZCB8fCBhbmNob3IpKSk7XG4gICAgICBzZXRTZWxlY3Rpb24odGhpcywgbm9ybWFsaXplU2VsZWN0aW9uKHRoaXMuY20sIHJhbmdlcywgcmFuZ2VzLmxlbmd0aCAtIDEpLCBvcHRpb25zKTtcbiAgICB9KSxcblxuICAgIGdldFNlbGVjdGlvbjogZnVuY3Rpb24obGluZVNlcCkge1xuICAgICAgdmFyIHJhbmdlcyA9IHRoaXMuc2VsLnJhbmdlcywgbGluZXM7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc2VsID0gZ2V0QmV0d2Vlbih0aGlzLCByYW5nZXNbaV0uZnJvbSgpLCByYW5nZXNbaV0udG8oKSk7XG4gICAgICAgIGxpbmVzID0gbGluZXMgPyBsaW5lcy5jb25jYXQoc2VsKSA6IHNlbDtcbiAgICAgIH1cbiAgICAgIGlmIChsaW5lU2VwID09PSBmYWxzZSkgeyByZXR1cm4gbGluZXMgfVxuICAgICAgZWxzZSB7IHJldHVybiBsaW5lcy5qb2luKGxpbmVTZXAgfHwgdGhpcy5saW5lU2VwYXJhdG9yKCkpIH1cbiAgICB9LFxuICAgIGdldFNlbGVjdGlvbnM6IGZ1bmN0aW9uKGxpbmVTZXApIHtcbiAgICAgIHZhciBwYXJ0cyA9IFtdLCByYW5nZXMgPSB0aGlzLnNlbC5yYW5nZXM7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgc2VsID0gZ2V0QmV0d2Vlbih0aGlzLCByYW5nZXNbaV0uZnJvbSgpLCByYW5nZXNbaV0udG8oKSk7XG4gICAgICAgIGlmIChsaW5lU2VwICE9PSBmYWxzZSkgeyBzZWwgPSBzZWwuam9pbihsaW5lU2VwIHx8IHRoaXMubGluZVNlcGFyYXRvcigpKTsgfVxuICAgICAgICBwYXJ0c1tpXSA9IHNlbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwYXJ0c1xuICAgIH0sXG4gICAgcmVwbGFjZVNlbGVjdGlvbjogZnVuY3Rpb24oY29kZSwgY29sbGFwc2UsIG9yaWdpbikge1xuICAgICAgdmFyIGR1cCA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNlbC5yYW5nZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHsgZHVwW2ldID0gY29kZTsgfVxuICAgICAgdGhpcy5yZXBsYWNlU2VsZWN0aW9ucyhkdXAsIGNvbGxhcHNlLCBvcmlnaW4gfHwgXCIraW5wdXRcIik7XG4gICAgfSxcbiAgICByZXBsYWNlU2VsZWN0aW9uczogZG9jTWV0aG9kT3AoZnVuY3Rpb24oY29kZSwgY29sbGFwc2UsIG9yaWdpbikge1xuICAgICAgdmFyIGNoYW5nZXMgPSBbXSwgc2VsID0gdGhpcy5zZWw7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNlbC5yYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHJhbmdlID0gc2VsLnJhbmdlc1tpXTtcbiAgICAgICAgY2hhbmdlc1tpXSA9IHtmcm9tOiByYW5nZS5mcm9tKCksIHRvOiByYW5nZS50bygpLCB0ZXh0OiB0aGlzLnNwbGl0TGluZXMoY29kZVtpXSksIG9yaWdpbjogb3JpZ2lufTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdTZWwgPSBjb2xsYXBzZSAmJiBjb2xsYXBzZSAhPSBcImVuZFwiICYmIGNvbXB1dGVSZXBsYWNlZFNlbCh0aGlzLCBjaGFuZ2VzLCBjb2xsYXBzZSk7XG4gICAgICBmb3IgKHZhciBpJDEgPSBjaGFuZ2VzLmxlbmd0aCAtIDE7IGkkMSA+PSAwOyBpJDEtLSlcbiAgICAgICAgeyBtYWtlQ2hhbmdlKHRoaXMsIGNoYW5nZXNbaSQxXSk7IH1cbiAgICAgIGlmIChuZXdTZWwpIHsgc2V0U2VsZWN0aW9uUmVwbGFjZUhpc3RvcnkodGhpcywgbmV3U2VsKTsgfVxuICAgICAgZWxzZSBpZiAodGhpcy5jbSkgeyBlbnN1cmVDdXJzb3JWaXNpYmxlKHRoaXMuY20pOyB9XG4gICAgfSksXG4gICAgdW5kbzogZG9jTWV0aG9kT3AoZnVuY3Rpb24oKSB7bWFrZUNoYW5nZUZyb21IaXN0b3J5KHRoaXMsIFwidW5kb1wiKTt9KSxcbiAgICByZWRvOiBkb2NNZXRob2RPcChmdW5jdGlvbigpIHttYWtlQ2hhbmdlRnJvbUhpc3RvcnkodGhpcywgXCJyZWRvXCIpO30pLFxuICAgIHVuZG9TZWxlY3Rpb246IGRvY01ldGhvZE9wKGZ1bmN0aW9uKCkge21ha2VDaGFuZ2VGcm9tSGlzdG9yeSh0aGlzLCBcInVuZG9cIiwgdHJ1ZSk7fSksXG4gICAgcmVkb1NlbGVjdGlvbjogZG9jTWV0aG9kT3AoZnVuY3Rpb24oKSB7bWFrZUNoYW5nZUZyb21IaXN0b3J5KHRoaXMsIFwicmVkb1wiLCB0cnVlKTt9KSxcblxuICAgIHNldEV4dGVuZGluZzogZnVuY3Rpb24odmFsKSB7dGhpcy5leHRlbmQgPSB2YWw7fSxcbiAgICBnZXRFeHRlbmRpbmc6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLmV4dGVuZH0sXG5cbiAgICBoaXN0b3J5U2l6ZTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgaGlzdCA9IHRoaXMuaGlzdG9yeSwgZG9uZSA9IDAsIHVuZG9uZSA9IDA7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhpc3QuZG9uZS5sZW5ndGg7IGkrKykgeyBpZiAoIWhpc3QuZG9uZVtpXS5yYW5nZXMpIHsgKytkb25lOyB9IH1cbiAgICAgIGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IGhpc3QudW5kb25lLmxlbmd0aDsgaSQxKyspIHsgaWYgKCFoaXN0LnVuZG9uZVtpJDFdLnJhbmdlcykgeyArK3VuZG9uZTsgfSB9XG4gICAgICByZXR1cm4ge3VuZG86IGRvbmUsIHJlZG86IHVuZG9uZX1cbiAgICB9LFxuICAgIGNsZWFySGlzdG9yeTogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgdGhpcy5oaXN0b3J5ID0gbmV3IEhpc3RvcnkodGhpcy5oaXN0b3J5KTtcbiAgICAgIGxpbmtlZERvY3ModGhpcywgZnVuY3Rpb24gKGRvYykgeyByZXR1cm4gZG9jLmhpc3RvcnkgPSB0aGlzJDEuaGlzdG9yeTsgfSwgdHJ1ZSk7XG4gICAgfSxcblxuICAgIG1hcmtDbGVhbjogZnVuY3Rpb24oKSB7XG4gICAgICB0aGlzLmNsZWFuR2VuZXJhdGlvbiA9IHRoaXMuY2hhbmdlR2VuZXJhdGlvbih0cnVlKTtcbiAgICB9LFxuICAgIGNoYW5nZUdlbmVyYXRpb246IGZ1bmN0aW9uKGZvcmNlU3BsaXQpIHtcbiAgICAgIGlmIChmb3JjZVNwbGl0KVxuICAgICAgICB7IHRoaXMuaGlzdG9yeS5sYXN0T3AgPSB0aGlzLmhpc3RvcnkubGFzdFNlbE9wID0gdGhpcy5oaXN0b3J5Lmxhc3RPcmlnaW4gPSBudWxsOyB9XG4gICAgICByZXR1cm4gdGhpcy5oaXN0b3J5LmdlbmVyYXRpb25cbiAgICB9LFxuICAgIGlzQ2xlYW46IGZ1bmN0aW9uIChnZW4pIHtcbiAgICAgIHJldHVybiB0aGlzLmhpc3RvcnkuZ2VuZXJhdGlvbiA9PSAoZ2VuIHx8IHRoaXMuY2xlYW5HZW5lcmF0aW9uKVxuICAgIH0sXG5cbiAgICBnZXRIaXN0b3J5OiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB7ZG9uZTogY29weUhpc3RvcnlBcnJheSh0aGlzLmhpc3RvcnkuZG9uZSksXG4gICAgICAgICAgICAgIHVuZG9uZTogY29weUhpc3RvcnlBcnJheSh0aGlzLmhpc3RvcnkudW5kb25lKX1cbiAgICB9LFxuICAgIHNldEhpc3Rvcnk6IGZ1bmN0aW9uKGhpc3REYXRhKSB7XG4gICAgICB2YXIgaGlzdCA9IHRoaXMuaGlzdG9yeSA9IG5ldyBIaXN0b3J5KHRoaXMuaGlzdG9yeSk7XG4gICAgICBoaXN0LmRvbmUgPSBjb3B5SGlzdG9yeUFycmF5KGhpc3REYXRhLmRvbmUuc2xpY2UoMCksIG51bGwsIHRydWUpO1xuICAgICAgaGlzdC51bmRvbmUgPSBjb3B5SGlzdG9yeUFycmF5KGhpc3REYXRhLnVuZG9uZS5zbGljZSgwKSwgbnVsbCwgdHJ1ZSk7XG4gICAgfSxcblxuICAgIHNldEd1dHRlck1hcmtlcjogZG9jTWV0aG9kT3AoZnVuY3Rpb24obGluZSwgZ3V0dGVySUQsIHZhbHVlKSB7XG4gICAgICByZXR1cm4gY2hhbmdlTGluZSh0aGlzLCBsaW5lLCBcImd1dHRlclwiLCBmdW5jdGlvbiAobGluZSkge1xuICAgICAgICB2YXIgbWFya2VycyA9IGxpbmUuZ3V0dGVyTWFya2VycyB8fCAobGluZS5ndXR0ZXJNYXJrZXJzID0ge30pO1xuICAgICAgICBtYXJrZXJzW2d1dHRlcklEXSA9IHZhbHVlO1xuICAgICAgICBpZiAoIXZhbHVlICYmIGlzRW1wdHkobWFya2VycykpIHsgbGluZS5ndXR0ZXJNYXJrZXJzID0gbnVsbDsgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSlcbiAgICB9KSxcblxuICAgIGNsZWFyR3V0dGVyOiBkb2NNZXRob2RPcChmdW5jdGlvbihndXR0ZXJJRCkge1xuICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICAgIHRoaXMuaXRlcihmdW5jdGlvbiAobGluZSkge1xuICAgICAgICBpZiAobGluZS5ndXR0ZXJNYXJrZXJzICYmIGxpbmUuZ3V0dGVyTWFya2Vyc1tndXR0ZXJJRF0pIHtcbiAgICAgICAgICBjaGFuZ2VMaW5lKHRoaXMkMSwgbGluZSwgXCJndXR0ZXJcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGluZS5ndXR0ZXJNYXJrZXJzW2d1dHRlcklEXSA9IG51bGw7XG4gICAgICAgICAgICBpZiAoaXNFbXB0eShsaW5lLmd1dHRlck1hcmtlcnMpKSB7IGxpbmUuZ3V0dGVyTWFya2VycyA9IG51bGw7IH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pLFxuXG4gICAgbGluZUluZm86IGZ1bmN0aW9uKGxpbmUpIHtcbiAgICAgIHZhciBuO1xuICAgICAgaWYgKHR5cGVvZiBsaW5lID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgaWYgKCFpc0xpbmUodGhpcywgbGluZSkpIHsgcmV0dXJuIG51bGwgfVxuICAgICAgICBuID0gbGluZTtcbiAgICAgICAgbGluZSA9IGdldExpbmUodGhpcywgbGluZSk7XG4gICAgICAgIGlmICghbGluZSkgeyByZXR1cm4gbnVsbCB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gbGluZU5vKGxpbmUpO1xuICAgICAgICBpZiAobiA9PSBudWxsKSB7IHJldHVybiBudWxsIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7bGluZTogbiwgaGFuZGxlOiBsaW5lLCB0ZXh0OiBsaW5lLnRleHQsIGd1dHRlck1hcmtlcnM6IGxpbmUuZ3V0dGVyTWFya2VycyxcbiAgICAgICAgICAgICAgdGV4dENsYXNzOiBsaW5lLnRleHRDbGFzcywgYmdDbGFzczogbGluZS5iZ0NsYXNzLCB3cmFwQ2xhc3M6IGxpbmUud3JhcENsYXNzLFxuICAgICAgICAgICAgICB3aWRnZXRzOiBsaW5lLndpZGdldHN9XG4gICAgfSxcblxuICAgIGFkZExpbmVDbGFzczogZG9jTWV0aG9kT3AoZnVuY3Rpb24oaGFuZGxlLCB3aGVyZSwgY2xzKSB7XG4gICAgICByZXR1cm4gY2hhbmdlTGluZSh0aGlzLCBoYW5kbGUsIHdoZXJlID09IFwiZ3V0dGVyXCIgPyBcImd1dHRlclwiIDogXCJjbGFzc1wiLCBmdW5jdGlvbiAobGluZSkge1xuICAgICAgICB2YXIgcHJvcCA9IHdoZXJlID09IFwidGV4dFwiID8gXCJ0ZXh0Q2xhc3NcIlxuICAgICAgICAgICAgICAgICA6IHdoZXJlID09IFwiYmFja2dyb3VuZFwiID8gXCJiZ0NsYXNzXCJcbiAgICAgICAgICAgICAgICAgOiB3aGVyZSA9PSBcImd1dHRlclwiID8gXCJndXR0ZXJDbGFzc1wiIDogXCJ3cmFwQ2xhc3NcIjtcbiAgICAgICAgaWYgKCFsaW5lW3Byb3BdKSB7IGxpbmVbcHJvcF0gPSBjbHM7IH1cbiAgICAgICAgZWxzZSBpZiAoY2xhc3NUZXN0KGNscykudGVzdChsaW5lW3Byb3BdKSkgeyByZXR1cm4gZmFsc2UgfVxuICAgICAgICBlbHNlIHsgbGluZVtwcm9wXSArPSBcIiBcIiArIGNsczsgfVxuICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgfSlcbiAgICB9KSxcbiAgICByZW1vdmVMaW5lQ2xhc3M6IGRvY01ldGhvZE9wKGZ1bmN0aW9uKGhhbmRsZSwgd2hlcmUsIGNscykge1xuICAgICAgcmV0dXJuIGNoYW5nZUxpbmUodGhpcywgaGFuZGxlLCB3aGVyZSA9PSBcImd1dHRlclwiID8gXCJndXR0ZXJcIiA6IFwiY2xhc3NcIiwgZnVuY3Rpb24gKGxpbmUpIHtcbiAgICAgICAgdmFyIHByb3AgPSB3aGVyZSA9PSBcInRleHRcIiA/IFwidGV4dENsYXNzXCJcbiAgICAgICAgICAgICAgICAgOiB3aGVyZSA9PSBcImJhY2tncm91bmRcIiA/IFwiYmdDbGFzc1wiXG4gICAgICAgICAgICAgICAgIDogd2hlcmUgPT0gXCJndXR0ZXJcIiA/IFwiZ3V0dGVyQ2xhc3NcIiA6IFwid3JhcENsYXNzXCI7XG4gICAgICAgIHZhciBjdXIgPSBsaW5lW3Byb3BdO1xuICAgICAgICBpZiAoIWN1cikgeyByZXR1cm4gZmFsc2UgfVxuICAgICAgICBlbHNlIGlmIChjbHMgPT0gbnVsbCkgeyBsaW5lW3Byb3BdID0gbnVsbDsgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICB2YXIgZm91bmQgPSBjdXIubWF0Y2goY2xhc3NUZXN0KGNscykpO1xuICAgICAgICAgIGlmICghZm91bmQpIHsgcmV0dXJuIGZhbHNlIH1cbiAgICAgICAgICB2YXIgZW5kID0gZm91bmQuaW5kZXggKyBmb3VuZFswXS5sZW5ndGg7XG4gICAgICAgICAgbGluZVtwcm9wXSA9IGN1ci5zbGljZSgwLCBmb3VuZC5pbmRleCkgKyAoIWZvdW5kLmluZGV4IHx8IGVuZCA9PSBjdXIubGVuZ3RoID8gXCJcIiA6IFwiIFwiKSArIGN1ci5zbGljZShlbmQpIHx8IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0pXG4gICAgfSksXG5cbiAgICBhZGRMaW5lV2lkZ2V0OiBkb2NNZXRob2RPcChmdW5jdGlvbihoYW5kbGUsIG5vZGUsIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBhZGRMaW5lV2lkZ2V0KHRoaXMsIGhhbmRsZSwgbm9kZSwgb3B0aW9ucylcbiAgICB9KSxcbiAgICByZW1vdmVMaW5lV2lkZ2V0OiBmdW5jdGlvbih3aWRnZXQpIHsgd2lkZ2V0LmNsZWFyKCk7IH0sXG5cbiAgICBtYXJrVGV4dDogZnVuY3Rpb24oZnJvbSwgdG8sIG9wdGlvbnMpIHtcbiAgICAgIHJldHVybiBtYXJrVGV4dCh0aGlzLCBjbGlwUG9zKHRoaXMsIGZyb20pLCBjbGlwUG9zKHRoaXMsIHRvKSwgb3B0aW9ucywgb3B0aW9ucyAmJiBvcHRpb25zLnR5cGUgfHwgXCJyYW5nZVwiKVxuICAgIH0sXG4gICAgc2V0Qm9va21hcms6IGZ1bmN0aW9uKHBvcywgb3B0aW9ucykge1xuICAgICAgdmFyIHJlYWxPcHRzID0ge3JlcGxhY2VkV2l0aDogb3B0aW9ucyAmJiAob3B0aW9ucy5ub2RlVHlwZSA9PSBudWxsID8gb3B0aW9ucy53aWRnZXQgOiBvcHRpb25zKSxcbiAgICAgICAgICAgICAgICAgICAgICBpbnNlcnRMZWZ0OiBvcHRpb25zICYmIG9wdGlvbnMuaW5zZXJ0TGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICBjbGVhcldoZW5FbXB0eTogZmFsc2UsIHNoYXJlZDogb3B0aW9ucyAmJiBvcHRpb25zLnNoYXJlZCxcbiAgICAgICAgICAgICAgICAgICAgICBoYW5kbGVNb3VzZUV2ZW50czogb3B0aW9ucyAmJiBvcHRpb25zLmhhbmRsZU1vdXNlRXZlbnRzfTtcbiAgICAgIHBvcyA9IGNsaXBQb3ModGhpcywgcG9zKTtcbiAgICAgIHJldHVybiBtYXJrVGV4dCh0aGlzLCBwb3MsIHBvcywgcmVhbE9wdHMsIFwiYm9va21hcmtcIilcbiAgICB9LFxuICAgIGZpbmRNYXJrc0F0OiBmdW5jdGlvbihwb3MpIHtcbiAgICAgIHBvcyA9IGNsaXBQb3ModGhpcywgcG9zKTtcbiAgICAgIHZhciBtYXJrZXJzID0gW10sIHNwYW5zID0gZ2V0TGluZSh0aGlzLCBwb3MubGluZSkubWFya2VkU3BhbnM7XG4gICAgICBpZiAoc3BhbnMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7ICsraSkge1xuICAgICAgICB2YXIgc3BhbiA9IHNwYW5zW2ldO1xuICAgICAgICBpZiAoKHNwYW4uZnJvbSA9PSBudWxsIHx8IHNwYW4uZnJvbSA8PSBwb3MuY2gpICYmXG4gICAgICAgICAgICAoc3Bhbi50byA9PSBudWxsIHx8IHNwYW4udG8gPj0gcG9zLmNoKSlcbiAgICAgICAgICB7IG1hcmtlcnMucHVzaChzcGFuLm1hcmtlci5wYXJlbnQgfHwgc3Bhbi5tYXJrZXIpOyB9XG4gICAgICB9IH1cbiAgICAgIHJldHVybiBtYXJrZXJzXG4gICAgfSxcbiAgICBmaW5kTWFya3M6IGZ1bmN0aW9uKGZyb20sIHRvLCBmaWx0ZXIpIHtcbiAgICAgIGZyb20gPSBjbGlwUG9zKHRoaXMsIGZyb20pOyB0byA9IGNsaXBQb3ModGhpcywgdG8pO1xuICAgICAgdmFyIGZvdW5kID0gW10sIGxpbmVObyA9IGZyb20ubGluZTtcbiAgICAgIHRoaXMuaXRlcihmcm9tLmxpbmUsIHRvLmxpbmUgKyAxLCBmdW5jdGlvbiAobGluZSkge1xuICAgICAgICB2YXIgc3BhbnMgPSBsaW5lLm1hcmtlZFNwYW5zO1xuICAgICAgICBpZiAoc3BhbnMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBzcGFucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBzcGFuID0gc3BhbnNbaV07XG4gICAgICAgICAgaWYgKCEoc3Bhbi50byAhPSBudWxsICYmIGxpbmVObyA9PSBmcm9tLmxpbmUgJiYgZnJvbS5jaCA+PSBzcGFuLnRvIHx8XG4gICAgICAgICAgICAgICAgc3Bhbi5mcm9tID09IG51bGwgJiYgbGluZU5vICE9IGZyb20ubGluZSB8fFxuICAgICAgICAgICAgICAgIHNwYW4uZnJvbSAhPSBudWxsICYmIGxpbmVObyA9PSB0by5saW5lICYmIHNwYW4uZnJvbSA+PSB0by5jaCkgJiZcbiAgICAgICAgICAgICAgKCFmaWx0ZXIgfHwgZmlsdGVyKHNwYW4ubWFya2VyKSkpXG4gICAgICAgICAgICB7IGZvdW5kLnB1c2goc3Bhbi5tYXJrZXIucGFyZW50IHx8IHNwYW4ubWFya2VyKTsgfVxuICAgICAgICB9IH1cbiAgICAgICAgKytsaW5lTm87XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmb3VuZFxuICAgIH0sXG4gICAgZ2V0QWxsTWFya3M6IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG1hcmtlcnMgPSBbXTtcbiAgICAgIHRoaXMuaXRlcihmdW5jdGlvbiAobGluZSkge1xuICAgICAgICB2YXIgc3BzID0gbGluZS5tYXJrZWRTcGFucztcbiAgICAgICAgaWYgKHNwcykgeyBmb3IgKHZhciBpID0gMDsgaSA8IHNwcy5sZW5ndGg7ICsraSlcbiAgICAgICAgICB7IGlmIChzcHNbaV0uZnJvbSAhPSBudWxsKSB7IG1hcmtlcnMucHVzaChzcHNbaV0ubWFya2VyKTsgfSB9IH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIG1hcmtlcnNcbiAgICB9LFxuXG4gICAgcG9zRnJvbUluZGV4OiBmdW5jdGlvbihvZmYpIHtcbiAgICAgIHZhciBjaCwgbGluZU5vID0gdGhpcy5maXJzdCwgc2VwU2l6ZSA9IHRoaXMubGluZVNlcGFyYXRvcigpLmxlbmd0aDtcbiAgICAgIHRoaXMuaXRlcihmdW5jdGlvbiAobGluZSkge1xuICAgICAgICB2YXIgc3ogPSBsaW5lLnRleHQubGVuZ3RoICsgc2VwU2l6ZTtcbiAgICAgICAgaWYgKHN6ID4gb2ZmKSB7IGNoID0gb2ZmOyByZXR1cm4gdHJ1ZSB9XG4gICAgICAgIG9mZiAtPSBzejtcbiAgICAgICAgKytsaW5lTm87XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBjbGlwUG9zKHRoaXMsIFBvcyhsaW5lTm8sIGNoKSlcbiAgICB9LFxuICAgIGluZGV4RnJvbVBvczogZnVuY3Rpb24gKGNvb3Jkcykge1xuICAgICAgY29vcmRzID0gY2xpcFBvcyh0aGlzLCBjb29yZHMpO1xuICAgICAgdmFyIGluZGV4ID0gY29vcmRzLmNoO1xuICAgICAgaWYgKGNvb3Jkcy5saW5lIDwgdGhpcy5maXJzdCB8fCBjb29yZHMuY2ggPCAwKSB7IHJldHVybiAwIH1cbiAgICAgIHZhciBzZXBTaXplID0gdGhpcy5saW5lU2VwYXJhdG9yKCkubGVuZ3RoO1xuICAgICAgdGhpcy5pdGVyKHRoaXMuZmlyc3QsIGNvb3Jkcy5saW5lLCBmdW5jdGlvbiAobGluZSkgeyAvLyBpdGVyIGFib3J0cyB3aGVuIGNhbGxiYWNrIHJldHVybnMgYSB0cnV0aHkgdmFsdWVcbiAgICAgICAgaW5kZXggKz0gbGluZS50ZXh0Lmxlbmd0aCArIHNlcFNpemU7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBpbmRleFxuICAgIH0sXG5cbiAgICBjb3B5OiBmdW5jdGlvbihjb3B5SGlzdG9yeSkge1xuICAgICAgdmFyIGRvYyA9IG5ldyBEb2MoZ2V0TGluZXModGhpcywgdGhpcy5maXJzdCwgdGhpcy5maXJzdCArIHRoaXMuc2l6ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1vZGVPcHRpb24sIHRoaXMuZmlyc3QsIHRoaXMubGluZVNlcCwgdGhpcy5kaXJlY3Rpb24pO1xuICAgICAgZG9jLnNjcm9sbFRvcCA9IHRoaXMuc2Nyb2xsVG9wOyBkb2Muc2Nyb2xsTGVmdCA9IHRoaXMuc2Nyb2xsTGVmdDtcbiAgICAgIGRvYy5zZWwgPSB0aGlzLnNlbDtcbiAgICAgIGRvYy5leHRlbmQgPSBmYWxzZTtcbiAgICAgIGlmIChjb3B5SGlzdG9yeSkge1xuICAgICAgICBkb2MuaGlzdG9yeS51bmRvRGVwdGggPSB0aGlzLmhpc3RvcnkudW5kb0RlcHRoO1xuICAgICAgICBkb2Muc2V0SGlzdG9yeSh0aGlzLmdldEhpc3RvcnkoKSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZG9jXG4gICAgfSxcblxuICAgIGxpbmtlZERvYzogZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgaWYgKCFvcHRpb25zKSB7IG9wdGlvbnMgPSB7fTsgfVxuICAgICAgdmFyIGZyb20gPSB0aGlzLmZpcnN0LCB0byA9IHRoaXMuZmlyc3QgKyB0aGlzLnNpemU7XG4gICAgICBpZiAob3B0aW9ucy5mcm9tICE9IG51bGwgJiYgb3B0aW9ucy5mcm9tID4gZnJvbSkgeyBmcm9tID0gb3B0aW9ucy5mcm9tOyB9XG4gICAgICBpZiAob3B0aW9ucy50byAhPSBudWxsICYmIG9wdGlvbnMudG8gPCB0bykgeyB0byA9IG9wdGlvbnMudG87IH1cbiAgICAgIHZhciBjb3B5ID0gbmV3IERvYyhnZXRMaW5lcyh0aGlzLCBmcm9tLCB0byksIG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGVPcHRpb24sIGZyb20sIHRoaXMubGluZVNlcCwgdGhpcy5kaXJlY3Rpb24pO1xuICAgICAgaWYgKG9wdGlvbnMuc2hhcmVkSGlzdCkgeyBjb3B5Lmhpc3RvcnkgPSB0aGlzLmhpc3RvcnlcbiAgICAgIDsgfSh0aGlzLmxpbmtlZCB8fCAodGhpcy5saW5rZWQgPSBbXSkpLnB1c2goe2RvYzogY29weSwgc2hhcmVkSGlzdDogb3B0aW9ucy5zaGFyZWRIaXN0fSk7XG4gICAgICBjb3B5LmxpbmtlZCA9IFt7ZG9jOiB0aGlzLCBpc1BhcmVudDogdHJ1ZSwgc2hhcmVkSGlzdDogb3B0aW9ucy5zaGFyZWRIaXN0fV07XG4gICAgICBjb3B5U2hhcmVkTWFya2Vycyhjb3B5LCBmaW5kU2hhcmVkTWFya2Vycyh0aGlzKSk7XG4gICAgICByZXR1cm4gY29weVxuICAgIH0sXG4gICAgdW5saW5rRG9jOiBmdW5jdGlvbihvdGhlcikge1xuICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgQ29kZU1pcnJvcikgeyBvdGhlciA9IG90aGVyLmRvYzsgfVxuICAgICAgaWYgKHRoaXMubGlua2VkKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5saW5rZWQubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgdmFyIGxpbmsgPSB0aGlzLmxpbmtlZFtpXTtcbiAgICAgICAgaWYgKGxpbmsuZG9jICE9IG90aGVyKSB7IGNvbnRpbnVlIH1cbiAgICAgICAgdGhpcy5saW5rZWQuc3BsaWNlKGksIDEpO1xuICAgICAgICBvdGhlci51bmxpbmtEb2ModGhpcyk7XG4gICAgICAgIGRldGFjaFNoYXJlZE1hcmtlcnMoZmluZFNoYXJlZE1hcmtlcnModGhpcykpO1xuICAgICAgICBicmVha1xuICAgICAgfSB9XG4gICAgICAvLyBJZiB0aGUgaGlzdG9yaWVzIHdlcmUgc2hhcmVkLCBzcGxpdCB0aGVtIGFnYWluXG4gICAgICBpZiAob3RoZXIuaGlzdG9yeSA9PSB0aGlzLmhpc3RvcnkpIHtcbiAgICAgICAgdmFyIHNwbGl0SWRzID0gW290aGVyLmlkXTtcbiAgICAgICAgbGlua2VkRG9jcyhvdGhlciwgZnVuY3Rpb24gKGRvYykgeyByZXR1cm4gc3BsaXRJZHMucHVzaChkb2MuaWQpOyB9LCB0cnVlKTtcbiAgICAgICAgb3RoZXIuaGlzdG9yeSA9IG5ldyBIaXN0b3J5KG51bGwpO1xuICAgICAgICBvdGhlci5oaXN0b3J5LmRvbmUgPSBjb3B5SGlzdG9yeUFycmF5KHRoaXMuaGlzdG9yeS5kb25lLCBzcGxpdElkcyk7XG4gICAgICAgIG90aGVyLmhpc3RvcnkudW5kb25lID0gY29weUhpc3RvcnlBcnJheSh0aGlzLmhpc3RvcnkudW5kb25lLCBzcGxpdElkcyk7XG4gICAgICB9XG4gICAgfSxcbiAgICBpdGVyTGlua2VkRG9jczogZnVuY3Rpb24oZikge2xpbmtlZERvY3ModGhpcywgZik7fSxcblxuICAgIGdldE1vZGU6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLm1vZGV9LFxuICAgIGdldEVkaXRvcjogZnVuY3Rpb24oKSB7cmV0dXJuIHRoaXMuY219LFxuXG4gICAgc3BsaXRMaW5lczogZnVuY3Rpb24oc3RyKSB7XG4gICAgICBpZiAodGhpcy5saW5lU2VwKSB7IHJldHVybiBzdHIuc3BsaXQodGhpcy5saW5lU2VwKSB9XG4gICAgICByZXR1cm4gc3BsaXRMaW5lc0F1dG8oc3RyKVxuICAgIH0sXG4gICAgbGluZVNlcGFyYXRvcjogZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzLmxpbmVTZXAgfHwgXCJcXG5cIiB9LFxuXG4gICAgc2V0RGlyZWN0aW9uOiBkb2NNZXRob2RPcChmdW5jdGlvbiAoZGlyKSB7XG4gICAgICBpZiAoZGlyICE9IFwicnRsXCIpIHsgZGlyID0gXCJsdHJcIjsgfVxuICAgICAgaWYgKGRpciA9PSB0aGlzLmRpcmVjdGlvbikgeyByZXR1cm4gfVxuICAgICAgdGhpcy5kaXJlY3Rpb24gPSBkaXI7XG4gICAgICB0aGlzLml0ZXIoZnVuY3Rpb24gKGxpbmUpIHsgcmV0dXJuIGxpbmUub3JkZXIgPSBudWxsOyB9KTtcbiAgICAgIGlmICh0aGlzLmNtKSB7IGRpcmVjdGlvbkNoYW5nZWQodGhpcy5jbSk7IH1cbiAgICB9KVxuICB9KTtcblxuICAvLyBQdWJsaWMgYWxpYXMuXG4gIERvYy5wcm90b3R5cGUuZWFjaExpbmUgPSBEb2MucHJvdG90eXBlLml0ZXI7XG5cbiAgLy8gS2x1ZGdlIHRvIHdvcmsgYXJvdW5kIHN0cmFuZ2UgSUUgYmVoYXZpb3Igd2hlcmUgaXQnbGwgc29tZXRpbWVzXG4gIC8vIHJlLWZpcmUgYSBzZXJpZXMgb2YgZHJhZy1yZWxhdGVkIGV2ZW50cyByaWdodCBhZnRlciB0aGUgZHJvcCAoIzE1NTEpXG4gIHZhciBsYXN0RHJvcCA9IDA7XG5cbiAgZnVuY3Rpb24gb25Ecm9wKGUpIHtcbiAgICB2YXIgY20gPSB0aGlzO1xuICAgIGNsZWFyRHJhZ0N1cnNvcihjbSk7XG4gICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlKSB8fCBldmVudEluV2lkZ2V0KGNtLmRpc3BsYXksIGUpKVxuICAgICAgeyByZXR1cm4gfVxuICAgIGVfcHJldmVudERlZmF1bHQoZSk7XG4gICAgaWYgKGllKSB7IGxhc3REcm9wID0gK25ldyBEYXRlOyB9XG4gICAgdmFyIHBvcyA9IHBvc0Zyb21Nb3VzZShjbSwgZSwgdHJ1ZSksIGZpbGVzID0gZS5kYXRhVHJhbnNmZXIuZmlsZXM7XG4gICAgaWYgKCFwb3MgfHwgY20uaXNSZWFkT25seSgpKSB7IHJldHVybiB9XG4gICAgLy8gTWlnaHQgYmUgYSBmaWxlIGRyb3AsIGluIHdoaWNoIGNhc2Ugd2Ugc2ltcGx5IGV4dHJhY3QgdGhlIHRleHRcbiAgICAvLyBhbmQgaW5zZXJ0IGl0LlxuICAgIGlmIChmaWxlcyAmJiBmaWxlcy5sZW5ndGggJiYgd2luZG93LkZpbGVSZWFkZXIgJiYgd2luZG93LkZpbGUpIHtcbiAgICAgIHZhciBuID0gZmlsZXMubGVuZ3RoLCB0ZXh0ID0gQXJyYXkobiksIHJlYWQgPSAwO1xuICAgICAgdmFyIG1hcmtBc1JlYWRBbmRQYXN0ZUlmQWxsRmlsZXNBcmVSZWFkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoKytyZWFkID09IG4pIHtcbiAgICAgICAgICBvcGVyYXRpb24oY20sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBvcyA9IGNsaXBQb3MoY20uZG9jLCBwb3MpO1xuICAgICAgICAgICAgdmFyIGNoYW5nZSA9IHtmcm9tOiBwb3MsIHRvOiBwb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IGNtLmRvYy5zcGxpdExpbmVzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dC5maWx0ZXIoZnVuY3Rpb24gKHQpIHsgcmV0dXJuIHQgIT0gbnVsbDsgfSkuam9pbihjbS5kb2MubGluZVNlcGFyYXRvcigpKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbjogXCJwYXN0ZVwifTtcbiAgICAgICAgICAgIG1ha2VDaGFuZ2UoY20uZG9jLCBjaGFuZ2UpO1xuICAgICAgICAgICAgc2V0U2VsZWN0aW9uUmVwbGFjZUhpc3RvcnkoY20uZG9jLCBzaW1wbGVTZWxlY3Rpb24oY2xpcFBvcyhjbS5kb2MsIHBvcyksIGNsaXBQb3MoY20uZG9jLCBjaGFuZ2VFbmQoY2hhbmdlKSkpKTtcbiAgICAgICAgICB9KSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgdmFyIHJlYWRUZXh0RnJvbUZpbGUgPSBmdW5jdGlvbiAoZmlsZSwgaSkge1xuICAgICAgICBpZiAoY20ub3B0aW9ucy5hbGxvd0Ryb3BGaWxlVHlwZXMgJiZcbiAgICAgICAgICAgIGluZGV4T2YoY20ub3B0aW9ucy5hbGxvd0Ryb3BGaWxlVHlwZXMsIGZpbGUudHlwZSkgPT0gLTEpIHtcbiAgICAgICAgICBtYXJrQXNSZWFkQW5kUGFzdGVJZkFsbEZpbGVzQXJlUmVhZCgpO1xuICAgICAgICAgIHJldHVyblxuICAgICAgICB9XG4gICAgICAgIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcjtcbiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbiAoKSB7IHJldHVybiBtYXJrQXNSZWFkQW5kUGFzdGVJZkFsbEZpbGVzQXJlUmVhZCgpOyB9O1xuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHZhciBjb250ZW50ID0gcmVhZGVyLnJlc3VsdDtcbiAgICAgICAgICBpZiAoL1tcXHgwMC1cXHgwOFxceDBlLVxceDFmXXsyfS8udGVzdChjb250ZW50KSkge1xuICAgICAgICAgICAgbWFya0FzUmVhZEFuZFBhc3RlSWZBbGxGaWxlc0FyZVJlYWQoKTtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgICB0ZXh0W2ldID0gY29udGVudDtcbiAgICAgICAgICBtYXJrQXNSZWFkQW5kUGFzdGVJZkFsbEZpbGVzQXJlUmVhZCgpO1xuICAgICAgICB9O1xuICAgICAgICByZWFkZXIucmVhZEFzVGV4dChmaWxlKTtcbiAgICAgIH07XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpbGVzLmxlbmd0aDsgaSsrKSB7IHJlYWRUZXh0RnJvbUZpbGUoZmlsZXNbaV0sIGkpOyB9XG4gICAgfSBlbHNlIHsgLy8gTm9ybWFsIGRyb3BcbiAgICAgIC8vIERvbid0IGRvIGEgcmVwbGFjZSBpZiB0aGUgZHJvcCBoYXBwZW5lZCBpbnNpZGUgb2YgdGhlIHNlbGVjdGVkIHRleHQuXG4gICAgICBpZiAoY20uc3RhdGUuZHJhZ2dpbmdUZXh0ICYmIGNtLmRvYy5zZWwuY29udGFpbnMocG9zKSA+IC0xKSB7XG4gICAgICAgIGNtLnN0YXRlLmRyYWdnaW5nVGV4dChlKTtcbiAgICAgICAgLy8gRW5zdXJlIHRoZSBlZGl0b3IgaXMgcmUtZm9jdXNlZFxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNtLmRpc3BsYXkuaW5wdXQuZm9jdXMoKTsgfSwgMjApO1xuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciB0ZXh0JDEgPSBlLmRhdGFUcmFuc2Zlci5nZXREYXRhKFwiVGV4dFwiKTtcbiAgICAgICAgaWYgKHRleHQkMSkge1xuICAgICAgICAgIHZhciBzZWxlY3RlZDtcbiAgICAgICAgICBpZiAoY20uc3RhdGUuZHJhZ2dpbmdUZXh0ICYmICFjbS5zdGF0ZS5kcmFnZ2luZ1RleHQuY29weSlcbiAgICAgICAgICAgIHsgc2VsZWN0ZWQgPSBjbS5saXN0U2VsZWN0aW9ucygpOyB9XG4gICAgICAgICAgc2V0U2VsZWN0aW9uTm9VbmRvKGNtLmRvYywgc2ltcGxlU2VsZWN0aW9uKHBvcywgcG9zKSk7XG4gICAgICAgICAgaWYgKHNlbGVjdGVkKSB7IGZvciAodmFyIGkkMSA9IDA7IGkkMSA8IHNlbGVjdGVkLmxlbmd0aDsgKytpJDEpXG4gICAgICAgICAgICB7IHJlcGxhY2VSYW5nZShjbS5kb2MsIFwiXCIsIHNlbGVjdGVkW2kkMV0uYW5jaG9yLCBzZWxlY3RlZFtpJDFdLmhlYWQsIFwiZHJhZ1wiKTsgfSB9XG4gICAgICAgICAgY20ucmVwbGFjZVNlbGVjdGlvbih0ZXh0JDEsIFwiYXJvdW5kXCIsIFwicGFzdGVcIik7XG4gICAgICAgICAgY20uZGlzcGxheS5pbnB1dC5mb2N1cygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYXRjaChlJDEpe31cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkRyYWdTdGFydChjbSwgZSkge1xuICAgIGlmIChpZSAmJiAoIWNtLnN0YXRlLmRyYWdnaW5nVGV4dCB8fCArbmV3IERhdGUgLSBsYXN0RHJvcCA8IDEwMCkpIHsgZV9zdG9wKGUpOyByZXR1cm4gfVxuICAgIGlmIChzaWduYWxET01FdmVudChjbSwgZSkgfHwgZXZlbnRJbldpZGdldChjbS5kaXNwbGF5LCBlKSkgeyByZXR1cm4gfVxuXG4gICAgZS5kYXRhVHJhbnNmZXIuc2V0RGF0YShcIlRleHRcIiwgY20uZ2V0U2VsZWN0aW9uKCkpO1xuICAgIGUuZGF0YVRyYW5zZmVyLmVmZmVjdEFsbG93ZWQgPSBcImNvcHlNb3ZlXCI7XG5cbiAgICAvLyBVc2UgZHVtbXkgaW1hZ2UgaW5zdGVhZCBvZiBkZWZhdWx0IGJyb3dzZXJzIGltYWdlLlxuICAgIC8vIFJlY2VudCBTYWZhcmkgKH42LjAuMikgaGF2ZSBhIHRlbmRlbmN5IHRvIHNlZ2ZhdWx0IHdoZW4gdGhpcyBoYXBwZW5zLCBzbyB3ZSBkb24ndCBkbyBpdCB0aGVyZS5cbiAgICBpZiAoZS5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlICYmICFzYWZhcmkpIHtcbiAgICAgIHZhciBpbWcgPSBlbHQoXCJpbWdcIiwgbnVsbCwgbnVsbCwgXCJwb3NpdGlvbjogZml4ZWQ7IGxlZnQ6IDA7IHRvcDogMDtcIik7XG4gICAgICBpbWcuc3JjID0gXCJkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUFBQUFDSDVCQUVLQUFFQUxBQUFBQUFCQUFFQUFBSUNUQUVBT3c9PVwiO1xuICAgICAgaWYgKHByZXN0bykge1xuICAgICAgICBpbWcud2lkdGggPSBpbWcuaGVpZ2h0ID0gMTtcbiAgICAgICAgY20uZGlzcGxheS53cmFwcGVyLmFwcGVuZENoaWxkKGltZyk7XG4gICAgICAgIC8vIEZvcmNlIGEgcmVsYXlvdXQsIG9yIE9wZXJhIHdvbid0IHVzZSBvdXIgaW1hZ2UgZm9yIHNvbWUgb2JzY3VyZSByZWFzb25cbiAgICAgICAgaW1nLl90b3AgPSBpbWcub2Zmc2V0VG9wO1xuICAgICAgfVxuICAgICAgZS5kYXRhVHJhbnNmZXIuc2V0RHJhZ0ltYWdlKGltZywgMCwgMCk7XG4gICAgICBpZiAocHJlc3RvKSB7IGltZy5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGltZyk7IH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkRyYWdPdmVyKGNtLCBlKSB7XG4gICAgdmFyIHBvcyA9IHBvc0Zyb21Nb3VzZShjbSwgZSk7XG4gICAgaWYgKCFwb3MpIHsgcmV0dXJuIH1cbiAgICB2YXIgZnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKTtcbiAgICBkcmF3U2VsZWN0aW9uQ3Vyc29yKGNtLCBwb3MsIGZyYWcpO1xuICAgIGlmICghY20uZGlzcGxheS5kcmFnQ3Vyc29yKSB7XG4gICAgICBjbS5kaXNwbGF5LmRyYWdDdXJzb3IgPSBlbHQoXCJkaXZcIiwgbnVsbCwgXCJDb2RlTWlycm9yLWN1cnNvcnMgQ29kZU1pcnJvci1kcmFnY3Vyc29yc1wiKTtcbiAgICAgIGNtLmRpc3BsYXkubGluZVNwYWNlLmluc2VydEJlZm9yZShjbS5kaXNwbGF5LmRyYWdDdXJzb3IsIGNtLmRpc3BsYXkuY3Vyc29yRGl2KTtcbiAgICB9XG4gICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQoY20uZGlzcGxheS5kcmFnQ3Vyc29yLCBmcmFnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNsZWFyRHJhZ0N1cnNvcihjbSkge1xuICAgIGlmIChjbS5kaXNwbGF5LmRyYWdDdXJzb3IpIHtcbiAgICAgIGNtLmRpc3BsYXkubGluZVNwYWNlLnJlbW92ZUNoaWxkKGNtLmRpc3BsYXkuZHJhZ0N1cnNvcik7XG4gICAgICBjbS5kaXNwbGF5LmRyYWdDdXJzb3IgPSBudWxsO1xuICAgIH1cbiAgfVxuXG4gIC8vIFRoZXNlIG11c3QgYmUgaGFuZGxlZCBjYXJlZnVsbHksIGJlY2F1c2UgbmFpdmVseSByZWdpc3RlcmluZyBhXG4gIC8vIGhhbmRsZXIgZm9yIGVhY2ggZWRpdG9yIHdpbGwgY2F1c2UgdGhlIGVkaXRvcnMgdG8gbmV2ZXIgYmVcbiAgLy8gZ2FyYmFnZSBjb2xsZWN0ZWQuXG5cbiAgZnVuY3Rpb24gZm9yRWFjaENvZGVNaXJyb3IoZikge1xuICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSkgeyByZXR1cm4gfVxuICAgIHZhciBieUNsYXNzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcIkNvZGVNaXJyb3JcIiksIGVkaXRvcnMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ5Q2xhc3MubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBjbSA9IGJ5Q2xhc3NbaV0uQ29kZU1pcnJvcjtcbiAgICAgIGlmIChjbSkgeyBlZGl0b3JzLnB1c2goY20pOyB9XG4gICAgfVxuICAgIGlmIChlZGl0b3JzLmxlbmd0aCkgeyBlZGl0b3JzWzBdLm9wZXJhdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVkaXRvcnMubGVuZ3RoOyBpKyspIHsgZihlZGl0b3JzW2ldKTsgfVxuICAgIH0pOyB9XG4gIH1cblxuICB2YXIgZ2xvYmFsc1JlZ2lzdGVyZWQgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZW5zdXJlR2xvYmFsSGFuZGxlcnMoKSB7XG4gICAgaWYgKGdsb2JhbHNSZWdpc3RlcmVkKSB7IHJldHVybiB9XG4gICAgcmVnaXN0ZXJHbG9iYWxIYW5kbGVycygpO1xuICAgIGdsb2JhbHNSZWdpc3RlcmVkID0gdHJ1ZTtcbiAgfVxuICBmdW5jdGlvbiByZWdpc3Rlckdsb2JhbEhhbmRsZXJzKCkge1xuICAgIC8vIFdoZW4gdGhlIHdpbmRvdyByZXNpemVzLCB3ZSBuZWVkIHRvIHJlZnJlc2ggYWN0aXZlIGVkaXRvcnMuXG4gICAgdmFyIHJlc2l6ZVRpbWVyO1xuICAgIG9uKHdpbmRvdywgXCJyZXNpemVcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKHJlc2l6ZVRpbWVyID09IG51bGwpIHsgcmVzaXplVGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmVzaXplVGltZXIgPSBudWxsO1xuICAgICAgICBmb3JFYWNoQ29kZU1pcnJvcihvblJlc2l6ZSk7XG4gICAgICB9LCAxMDApOyB9XG4gICAgfSk7XG4gICAgLy8gV2hlbiB0aGUgd2luZG93IGxvc2VzIGZvY3VzLCB3ZSB3YW50IHRvIHNob3cgdGhlIGVkaXRvciBhcyBibHVycmVkXG4gICAgb24od2luZG93LCBcImJsdXJcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gZm9yRWFjaENvZGVNaXJyb3Iob25CbHVyKTsgfSk7XG4gIH1cbiAgLy8gQ2FsbGVkIHdoZW4gdGhlIHdpbmRvdyByZXNpemVzXG4gIGZ1bmN0aW9uIG9uUmVzaXplKGNtKSB7XG4gICAgdmFyIGQgPSBjbS5kaXNwbGF5O1xuICAgIC8vIE1pZ2h0IGJlIGEgdGV4dCBzY2FsaW5nIG9wZXJhdGlvbiwgY2xlYXIgc2l6ZSBjYWNoZXMuXG4gICAgZC5jYWNoZWRDaGFyV2lkdGggPSBkLmNhY2hlZFRleHRIZWlnaHQgPSBkLmNhY2hlZFBhZGRpbmdIID0gbnVsbDtcbiAgICBkLnNjcm9sbGJhcnNDbGlwcGVkID0gZmFsc2U7XG4gICAgY20uc2V0U2l6ZSgpO1xuICB9XG5cbiAgdmFyIGtleU5hbWVzID0ge1xuICAgIDM6IFwiUGF1c2VcIiwgODogXCJCYWNrc3BhY2VcIiwgOTogXCJUYWJcIiwgMTM6IFwiRW50ZXJcIiwgMTY6IFwiU2hpZnRcIiwgMTc6IFwiQ3RybFwiLCAxODogXCJBbHRcIixcbiAgICAxOTogXCJQYXVzZVwiLCAyMDogXCJDYXBzTG9ja1wiLCAyNzogXCJFc2NcIiwgMzI6IFwiU3BhY2VcIiwgMzM6IFwiUGFnZVVwXCIsIDM0OiBcIlBhZ2VEb3duXCIsIDM1OiBcIkVuZFwiLFxuICAgIDM2OiBcIkhvbWVcIiwgMzc6IFwiTGVmdFwiLCAzODogXCJVcFwiLCAzOTogXCJSaWdodFwiLCA0MDogXCJEb3duXCIsIDQ0OiBcIlByaW50U2NyblwiLCA0NTogXCJJbnNlcnRcIixcbiAgICA0NjogXCJEZWxldGVcIiwgNTk6IFwiO1wiLCA2MTogXCI9XCIsIDkxOiBcIk1vZFwiLCA5MjogXCJNb2RcIiwgOTM6IFwiTW9kXCIsXG4gICAgMTA2OiBcIipcIiwgMTA3OiBcIj1cIiwgMTA5OiBcIi1cIiwgMTEwOiBcIi5cIiwgMTExOiBcIi9cIiwgMTQ1OiBcIlNjcm9sbExvY2tcIixcbiAgICAxNzM6IFwiLVwiLCAxODY6IFwiO1wiLCAxODc6IFwiPVwiLCAxODg6IFwiLFwiLCAxODk6IFwiLVwiLCAxOTA6IFwiLlwiLCAxOTE6IFwiL1wiLCAxOTI6IFwiYFwiLCAyMTk6IFwiW1wiLCAyMjA6IFwiXFxcXFwiLFxuICAgIDIyMTogXCJdXCIsIDIyMjogXCInXCIsIDIyNDogXCJNb2RcIiwgNjMyMzI6IFwiVXBcIiwgNjMyMzM6IFwiRG93blwiLCA2MzIzNDogXCJMZWZ0XCIsIDYzMjM1OiBcIlJpZ2h0XCIsIDYzMjcyOiBcIkRlbGV0ZVwiLFxuICAgIDYzMjczOiBcIkhvbWVcIiwgNjMyNzU6IFwiRW5kXCIsIDYzMjc2OiBcIlBhZ2VVcFwiLCA2MzI3NzogXCJQYWdlRG93blwiLCA2MzMwMjogXCJJbnNlcnRcIlxuICB9O1xuXG4gIC8vIE51bWJlciBrZXlzXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgMTA7IGkrKykgeyBrZXlOYW1lc1tpICsgNDhdID0ga2V5TmFtZXNbaSArIDk2XSA9IFN0cmluZyhpKTsgfVxuICAvLyBBbHBoYWJldGljIGtleXNcbiAgZm9yICh2YXIgaSQxID0gNjU7IGkkMSA8PSA5MDsgaSQxKyspIHsga2V5TmFtZXNbaSQxXSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoaSQxKTsgfVxuICAvLyBGdW5jdGlvbiBrZXlzXG4gIGZvciAodmFyIGkkMiA9IDE7IGkkMiA8PSAxMjsgaSQyKyspIHsga2V5TmFtZXNbaSQyICsgMTExXSA9IGtleU5hbWVzW2kkMiArIDYzMjM1XSA9IFwiRlwiICsgaSQyOyB9XG5cbiAgdmFyIGtleU1hcCA9IHt9O1xuXG4gIGtleU1hcC5iYXNpYyA9IHtcbiAgICBcIkxlZnRcIjogXCJnb0NoYXJMZWZ0XCIsIFwiUmlnaHRcIjogXCJnb0NoYXJSaWdodFwiLCBcIlVwXCI6IFwiZ29MaW5lVXBcIiwgXCJEb3duXCI6IFwiZ29MaW5lRG93blwiLFxuICAgIFwiRW5kXCI6IFwiZ29MaW5lRW5kXCIsIFwiSG9tZVwiOiBcImdvTGluZVN0YXJ0U21hcnRcIiwgXCJQYWdlVXBcIjogXCJnb1BhZ2VVcFwiLCBcIlBhZ2VEb3duXCI6IFwiZ29QYWdlRG93blwiLFxuICAgIFwiRGVsZXRlXCI6IFwiZGVsQ2hhckFmdGVyXCIsIFwiQmFja3NwYWNlXCI6IFwiZGVsQ2hhckJlZm9yZVwiLCBcIlNoaWZ0LUJhY2tzcGFjZVwiOiBcImRlbENoYXJCZWZvcmVcIixcbiAgICBcIlRhYlwiOiBcImRlZmF1bHRUYWJcIiwgXCJTaGlmdC1UYWJcIjogXCJpbmRlbnRBdXRvXCIsXG4gICAgXCJFbnRlclwiOiBcIm5ld2xpbmVBbmRJbmRlbnRcIiwgXCJJbnNlcnRcIjogXCJ0b2dnbGVPdmVyd3JpdGVcIixcbiAgICBcIkVzY1wiOiBcInNpbmdsZVNlbGVjdGlvblwiXG4gIH07XG4gIC8vIE5vdGUgdGhhdCB0aGUgc2F2ZSBhbmQgZmluZC1yZWxhdGVkIGNvbW1hbmRzIGFyZW4ndCBkZWZpbmVkIGJ5XG4gIC8vIGRlZmF1bHQuIFVzZXIgY29kZSBvciBhZGRvbnMgY2FuIGRlZmluZSB0aGVtLiBVbmtub3duIGNvbW1hbmRzXG4gIC8vIGFyZSBzaW1wbHkgaWdub3JlZC5cbiAga2V5TWFwLnBjRGVmYXVsdCA9IHtcbiAgICBcIkN0cmwtQVwiOiBcInNlbGVjdEFsbFwiLCBcIkN0cmwtRFwiOiBcImRlbGV0ZUxpbmVcIiwgXCJDdHJsLVpcIjogXCJ1bmRvXCIsIFwiU2hpZnQtQ3RybC1aXCI6IFwicmVkb1wiLCBcIkN0cmwtWVwiOiBcInJlZG9cIixcbiAgICBcIkN0cmwtSG9tZVwiOiBcImdvRG9jU3RhcnRcIiwgXCJDdHJsLUVuZFwiOiBcImdvRG9jRW5kXCIsIFwiQ3RybC1VcFwiOiBcImdvTGluZVVwXCIsIFwiQ3RybC1Eb3duXCI6IFwiZ29MaW5lRG93blwiLFxuICAgIFwiQ3RybC1MZWZ0XCI6IFwiZ29Hcm91cExlZnRcIiwgXCJDdHJsLVJpZ2h0XCI6IFwiZ29Hcm91cFJpZ2h0XCIsIFwiQWx0LUxlZnRcIjogXCJnb0xpbmVTdGFydFwiLCBcIkFsdC1SaWdodFwiOiBcImdvTGluZUVuZFwiLFxuICAgIFwiQ3RybC1CYWNrc3BhY2VcIjogXCJkZWxHcm91cEJlZm9yZVwiLCBcIkN0cmwtRGVsZXRlXCI6IFwiZGVsR3JvdXBBZnRlclwiLCBcIkN0cmwtU1wiOiBcInNhdmVcIiwgXCJDdHJsLUZcIjogXCJmaW5kXCIsXG4gICAgXCJDdHJsLUdcIjogXCJmaW5kTmV4dFwiLCBcIlNoaWZ0LUN0cmwtR1wiOiBcImZpbmRQcmV2XCIsIFwiU2hpZnQtQ3RybC1GXCI6IFwicmVwbGFjZVwiLCBcIlNoaWZ0LUN0cmwtUlwiOiBcInJlcGxhY2VBbGxcIixcbiAgICBcIkN0cmwtW1wiOiBcImluZGVudExlc3NcIiwgXCJDdHJsLV1cIjogXCJpbmRlbnRNb3JlXCIsXG4gICAgXCJDdHJsLVVcIjogXCJ1bmRvU2VsZWN0aW9uXCIsIFwiU2hpZnQtQ3RybC1VXCI6IFwicmVkb1NlbGVjdGlvblwiLCBcIkFsdC1VXCI6IFwicmVkb1NlbGVjdGlvblwiLFxuICAgIFwiZmFsbHRocm91Z2hcIjogXCJiYXNpY1wiXG4gIH07XG4gIC8vIFZlcnkgYmFzaWMgcmVhZGxpbmUvZW1hY3Mtc3R5bGUgYmluZGluZ3MsIHdoaWNoIGFyZSBzdGFuZGFyZCBvbiBNYWMuXG4gIGtleU1hcC5lbWFjc3kgPSB7XG4gICAgXCJDdHJsLUZcIjogXCJnb0NoYXJSaWdodFwiLCBcIkN0cmwtQlwiOiBcImdvQ2hhckxlZnRcIiwgXCJDdHJsLVBcIjogXCJnb0xpbmVVcFwiLCBcIkN0cmwtTlwiOiBcImdvTGluZURvd25cIixcbiAgICBcIkN0cmwtQVwiOiBcImdvTGluZVN0YXJ0XCIsIFwiQ3RybC1FXCI6IFwiZ29MaW5lRW5kXCIsIFwiQ3RybC1WXCI6IFwiZ29QYWdlRG93blwiLCBcIlNoaWZ0LUN0cmwtVlwiOiBcImdvUGFnZVVwXCIsXG4gICAgXCJDdHJsLURcIjogXCJkZWxDaGFyQWZ0ZXJcIiwgXCJDdHJsLUhcIjogXCJkZWxDaGFyQmVmb3JlXCIsIFwiQWx0LUJhY2tzcGFjZVwiOiBcImRlbFdvcmRCZWZvcmVcIiwgXCJDdHJsLUtcIjogXCJraWxsTGluZVwiLFxuICAgIFwiQ3RybC1UXCI6IFwidHJhbnNwb3NlQ2hhcnNcIiwgXCJDdHJsLU9cIjogXCJvcGVuTGluZVwiXG4gIH07XG4gIGtleU1hcC5tYWNEZWZhdWx0ID0ge1xuICAgIFwiQ21kLUFcIjogXCJzZWxlY3RBbGxcIiwgXCJDbWQtRFwiOiBcImRlbGV0ZUxpbmVcIiwgXCJDbWQtWlwiOiBcInVuZG9cIiwgXCJTaGlmdC1DbWQtWlwiOiBcInJlZG9cIiwgXCJDbWQtWVwiOiBcInJlZG9cIixcbiAgICBcIkNtZC1Ib21lXCI6IFwiZ29Eb2NTdGFydFwiLCBcIkNtZC1VcFwiOiBcImdvRG9jU3RhcnRcIiwgXCJDbWQtRW5kXCI6IFwiZ29Eb2NFbmRcIiwgXCJDbWQtRG93blwiOiBcImdvRG9jRW5kXCIsIFwiQWx0LUxlZnRcIjogXCJnb0dyb3VwTGVmdFwiLFxuICAgIFwiQWx0LVJpZ2h0XCI6IFwiZ29Hcm91cFJpZ2h0XCIsIFwiQ21kLUxlZnRcIjogXCJnb0xpbmVMZWZ0XCIsIFwiQ21kLVJpZ2h0XCI6IFwiZ29MaW5lUmlnaHRcIiwgXCJBbHQtQmFja3NwYWNlXCI6IFwiZGVsR3JvdXBCZWZvcmVcIixcbiAgICBcIkN0cmwtQWx0LUJhY2tzcGFjZVwiOiBcImRlbEdyb3VwQWZ0ZXJcIiwgXCJBbHQtRGVsZXRlXCI6IFwiZGVsR3JvdXBBZnRlclwiLCBcIkNtZC1TXCI6IFwic2F2ZVwiLCBcIkNtZC1GXCI6IFwiZmluZFwiLFxuICAgIFwiQ21kLUdcIjogXCJmaW5kTmV4dFwiLCBcIlNoaWZ0LUNtZC1HXCI6IFwiZmluZFByZXZcIiwgXCJDbWQtQWx0LUZcIjogXCJyZXBsYWNlXCIsIFwiU2hpZnQtQ21kLUFsdC1GXCI6IFwicmVwbGFjZUFsbFwiLFxuICAgIFwiQ21kLVtcIjogXCJpbmRlbnRMZXNzXCIsIFwiQ21kLV1cIjogXCJpbmRlbnRNb3JlXCIsIFwiQ21kLUJhY2tzcGFjZVwiOiBcImRlbFdyYXBwZWRMaW5lTGVmdFwiLCBcIkNtZC1EZWxldGVcIjogXCJkZWxXcmFwcGVkTGluZVJpZ2h0XCIsXG4gICAgXCJDbWQtVVwiOiBcInVuZG9TZWxlY3Rpb25cIiwgXCJTaGlmdC1DbWQtVVwiOiBcInJlZG9TZWxlY3Rpb25cIiwgXCJDdHJsLVVwXCI6IFwiZ29Eb2NTdGFydFwiLCBcIkN0cmwtRG93blwiOiBcImdvRG9jRW5kXCIsXG4gICAgXCJmYWxsdGhyb3VnaFwiOiBbXCJiYXNpY1wiLCBcImVtYWNzeVwiXVxuICB9O1xuICBrZXlNYXBbXCJkZWZhdWx0XCJdID0gbWFjID8ga2V5TWFwLm1hY0RlZmF1bHQgOiBrZXlNYXAucGNEZWZhdWx0O1xuXG4gIC8vIEtFWU1BUCBESVNQQVRDSFxuXG4gIGZ1bmN0aW9uIG5vcm1hbGl6ZUtleU5hbWUobmFtZSkge1xuICAgIHZhciBwYXJ0cyA9IG5hbWUuc3BsaXQoLy0oPyEkKS8pO1xuICAgIG5hbWUgPSBwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXTtcbiAgICB2YXIgYWx0LCBjdHJsLCBzaGlmdCwgY21kO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICB2YXIgbW9kID0gcGFydHNbaV07XG4gICAgICBpZiAoL14oY21kfG1ldGF8bSkkL2kudGVzdChtb2QpKSB7IGNtZCA9IHRydWU7IH1cbiAgICAgIGVsc2UgaWYgKC9eYShsdCk/JC9pLnRlc3QobW9kKSkgeyBhbHQgPSB0cnVlOyB9XG4gICAgICBlbHNlIGlmICgvXihjfGN0cmx8Y29udHJvbCkkL2kudGVzdChtb2QpKSB7IGN0cmwgPSB0cnVlOyB9XG4gICAgICBlbHNlIGlmICgvXnMoaGlmdCk/JC9pLnRlc3QobW9kKSkgeyBzaGlmdCA9IHRydWU7IH1cbiAgICAgIGVsc2UgeyB0aHJvdyBuZXcgRXJyb3IoXCJVbnJlY29nbml6ZWQgbW9kaWZpZXIgbmFtZTogXCIgKyBtb2QpIH1cbiAgICB9XG4gICAgaWYgKGFsdCkgeyBuYW1lID0gXCJBbHQtXCIgKyBuYW1lOyB9XG4gICAgaWYgKGN0cmwpIHsgbmFtZSA9IFwiQ3RybC1cIiArIG5hbWU7IH1cbiAgICBpZiAoY21kKSB7IG5hbWUgPSBcIkNtZC1cIiArIG5hbWU7IH1cbiAgICBpZiAoc2hpZnQpIHsgbmFtZSA9IFwiU2hpZnQtXCIgKyBuYW1lOyB9XG4gICAgcmV0dXJuIG5hbWVcbiAgfVxuXG4gIC8vIFRoaXMgaXMgYSBrbHVkZ2UgdG8ga2VlcCBrZXltYXBzIG1vc3RseSB3b3JraW5nIGFzIHJhdyBvYmplY3RzXG4gIC8vIChiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSkgd2hpbGUgYXQgdGhlIHNhbWUgdGltZSBzdXBwb3J0IGZlYXR1cmVzXG4gIC8vIGxpa2Ugbm9ybWFsaXphdGlvbiBhbmQgbXVsdGktc3Ryb2tlIGtleSBiaW5kaW5ncy4gSXQgY29tcGlsZXMgYVxuICAvLyBuZXcgbm9ybWFsaXplZCBrZXltYXAsIGFuZCB0aGVuIHVwZGF0ZXMgdGhlIG9sZCBvYmplY3QgdG8gcmVmbGVjdFxuICAvLyB0aGlzLlxuICBmdW5jdGlvbiBub3JtYWxpemVLZXlNYXAoa2V5bWFwKSB7XG4gICAgdmFyIGNvcHkgPSB7fTtcbiAgICBmb3IgKHZhciBrZXluYW1lIGluIGtleW1hcCkgeyBpZiAoa2V5bWFwLmhhc093blByb3BlcnR5KGtleW5hbWUpKSB7XG4gICAgICB2YXIgdmFsdWUgPSBrZXltYXBba2V5bmFtZV07XG4gICAgICBpZiAoL14obmFtZXxmYWxsdGhyb3VnaHwoZGV8YXQpdGFjaCkkLy50ZXN0KGtleW5hbWUpKSB7IGNvbnRpbnVlIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBcIi4uLlwiKSB7IGRlbGV0ZSBrZXltYXBba2V5bmFtZV07IGNvbnRpbnVlIH1cblxuICAgICAgdmFyIGtleXMgPSBtYXAoa2V5bmFtZS5zcGxpdChcIiBcIiksIG5vcm1hbGl6ZUtleU5hbWUpO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciB2YWwgPSAodm9pZCAwKSwgbmFtZSA9ICh2b2lkIDApO1xuICAgICAgICBpZiAoaSA9PSBrZXlzLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICBuYW1lID0ga2V5cy5qb2luKFwiIFwiKTtcbiAgICAgICAgICB2YWwgPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBuYW1lID0ga2V5cy5zbGljZSgwLCBpICsgMSkuam9pbihcIiBcIik7XG4gICAgICAgICAgdmFsID0gXCIuLi5cIjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHJldiA9IGNvcHlbbmFtZV07XG4gICAgICAgIGlmICghcHJldikgeyBjb3B5W25hbWVdID0gdmFsOyB9XG4gICAgICAgIGVsc2UgaWYgKHByZXYgIT0gdmFsKSB7IHRocm93IG5ldyBFcnJvcihcIkluY29uc2lzdGVudCBiaW5kaW5ncyBmb3IgXCIgKyBuYW1lKSB9XG4gICAgICB9XG4gICAgICBkZWxldGUga2V5bWFwW2tleW5hbWVdO1xuICAgIH0gfVxuICAgIGZvciAodmFyIHByb3AgaW4gY29weSkgeyBrZXltYXBbcHJvcF0gPSBjb3B5W3Byb3BdOyB9XG4gICAgcmV0dXJuIGtleW1hcFxuICB9XG5cbiAgZnVuY3Rpb24gbG9va3VwS2V5KGtleSwgbWFwLCBoYW5kbGUsIGNvbnRleHQpIHtcbiAgICBtYXAgPSBnZXRLZXlNYXAobWFwKTtcbiAgICB2YXIgZm91bmQgPSBtYXAuY2FsbCA/IG1hcC5jYWxsKGtleSwgY29udGV4dCkgOiBtYXBba2V5XTtcbiAgICBpZiAoZm91bmQgPT09IGZhbHNlKSB7IHJldHVybiBcIm5vdGhpbmdcIiB9XG4gICAgaWYgKGZvdW5kID09PSBcIi4uLlwiKSB7IHJldHVybiBcIm11bHRpXCIgfVxuICAgIGlmIChmb3VuZCAhPSBudWxsICYmIGhhbmRsZShmb3VuZCkpIHsgcmV0dXJuIFwiaGFuZGxlZFwiIH1cblxuICAgIGlmIChtYXAuZmFsbHRocm91Z2gpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobWFwLmZhbGx0aHJvdWdoKSAhPSBcIltvYmplY3QgQXJyYXldXCIpXG4gICAgICAgIHsgcmV0dXJuIGxvb2t1cEtleShrZXksIG1hcC5mYWxsdGhyb3VnaCwgaGFuZGxlLCBjb250ZXh0KSB9XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1hcC5mYWxsdGhyb3VnaC5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gbG9va3VwS2V5KGtleSwgbWFwLmZhbGx0aHJvdWdoW2ldLCBoYW5kbGUsIGNvbnRleHQpO1xuICAgICAgICBpZiAocmVzdWx0KSB7IHJldHVybiByZXN1bHQgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIE1vZGlmaWVyIGtleSBwcmVzc2VzIGRvbid0IGNvdW50IGFzICdyZWFsJyBrZXkgcHJlc3NlcyBmb3IgdGhlXG4gIC8vIHB1cnBvc2Ugb2Yga2V5bWFwIGZhbGx0aHJvdWdoLlxuICBmdW5jdGlvbiBpc01vZGlmaWVyS2V5KHZhbHVlKSB7XG4gICAgdmFyIG5hbWUgPSB0eXBlb2YgdmFsdWUgPT0gXCJzdHJpbmdcIiA/IHZhbHVlIDoga2V5TmFtZXNbdmFsdWUua2V5Q29kZV07XG4gICAgcmV0dXJuIG5hbWUgPT0gXCJDdHJsXCIgfHwgbmFtZSA9PSBcIkFsdFwiIHx8IG5hbWUgPT0gXCJTaGlmdFwiIHx8IG5hbWUgPT0gXCJNb2RcIlxuICB9XG5cbiAgZnVuY3Rpb24gYWRkTW9kaWZpZXJOYW1lcyhuYW1lLCBldmVudCwgbm9TaGlmdCkge1xuICAgIHZhciBiYXNlID0gbmFtZTtcbiAgICBpZiAoZXZlbnQuYWx0S2V5ICYmIGJhc2UgIT0gXCJBbHRcIikgeyBuYW1lID0gXCJBbHQtXCIgKyBuYW1lOyB9XG4gICAgaWYgKChmbGlwQ3RybENtZCA/IGV2ZW50Lm1ldGFLZXkgOiBldmVudC5jdHJsS2V5KSAmJiBiYXNlICE9IFwiQ3RybFwiKSB7IG5hbWUgPSBcIkN0cmwtXCIgKyBuYW1lOyB9XG4gICAgaWYgKChmbGlwQ3RybENtZCA/IGV2ZW50LmN0cmxLZXkgOiBldmVudC5tZXRhS2V5KSAmJiBiYXNlICE9IFwiTW9kXCIpIHsgbmFtZSA9IFwiQ21kLVwiICsgbmFtZTsgfVxuICAgIGlmICghbm9TaGlmdCAmJiBldmVudC5zaGlmdEtleSAmJiBiYXNlICE9IFwiU2hpZnRcIikgeyBuYW1lID0gXCJTaGlmdC1cIiArIG5hbWU7IH1cbiAgICByZXR1cm4gbmFtZVxuICB9XG5cbiAgLy8gTG9vayB1cCB0aGUgbmFtZSBvZiBhIGtleSBhcyBpbmRpY2F0ZWQgYnkgYW4gZXZlbnQgb2JqZWN0LlxuICBmdW5jdGlvbiBrZXlOYW1lKGV2ZW50LCBub1NoaWZ0KSB7XG4gICAgaWYgKHByZXN0byAmJiBldmVudC5rZXlDb2RlID09IDM0ICYmIGV2ZW50W1wiY2hhclwiXSkgeyByZXR1cm4gZmFsc2UgfVxuICAgIHZhciBuYW1lID0ga2V5TmFtZXNbZXZlbnQua2V5Q29kZV07XG4gICAgaWYgKG5hbWUgPT0gbnVsbCB8fCBldmVudC5hbHRHcmFwaEtleSkgeyByZXR1cm4gZmFsc2UgfVxuICAgIC8vIEN0cmwtU2Nyb2xsTG9jayBoYXMga2V5Q29kZSAzLCBzYW1lIGFzIEN0cmwtUGF1c2UsXG4gICAgLy8gc28gd2UnbGwgdXNlIGV2ZW50LmNvZGUgd2hlbiBhdmFpbGFibGUgKENocm9tZSA0OCssIEZGIDM4KywgU2FmYXJpIDEwLjErKVxuICAgIGlmIChldmVudC5rZXlDb2RlID09IDMgJiYgZXZlbnQuY29kZSkgeyBuYW1lID0gZXZlbnQuY29kZTsgfVxuICAgIHJldHVybiBhZGRNb2RpZmllck5hbWVzKG5hbWUsIGV2ZW50LCBub1NoaWZ0KVxuICB9XG5cbiAgZnVuY3Rpb24gZ2V0S2V5TWFwKHZhbCkge1xuICAgIHJldHVybiB0eXBlb2YgdmFsID09IFwic3RyaW5nXCIgPyBrZXlNYXBbdmFsXSA6IHZhbFxuICB9XG5cbiAgLy8gSGVscGVyIGZvciBkZWxldGluZyB0ZXh0IG5lYXIgdGhlIHNlbGVjdGlvbihzKSwgdXNlZCB0byBpbXBsZW1lbnRcbiAgLy8gYmFja3NwYWNlLCBkZWxldGUsIGFuZCBzaW1pbGFyIGZ1bmN0aW9uYWxpdHkuXG4gIGZ1bmN0aW9uIGRlbGV0ZU5lYXJTZWxlY3Rpb24oY20sIGNvbXB1dGUpIHtcbiAgICB2YXIgcmFuZ2VzID0gY20uZG9jLnNlbC5yYW5nZXMsIGtpbGwgPSBbXTtcbiAgICAvLyBCdWlsZCB1cCBhIHNldCBvZiByYW5nZXMgdG8ga2lsbCBmaXJzdCwgbWVyZ2luZyBvdmVybGFwcGluZ1xuICAgIC8vIHJhbmdlcy5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIHRvS2lsbCA9IGNvbXB1dGUocmFuZ2VzW2ldKTtcbiAgICAgIHdoaWxlIChraWxsLmxlbmd0aCAmJiBjbXAodG9LaWxsLmZyb20sIGxzdChraWxsKS50bykgPD0gMCkge1xuICAgICAgICB2YXIgcmVwbGFjZWQgPSBraWxsLnBvcCgpO1xuICAgICAgICBpZiAoY21wKHJlcGxhY2VkLmZyb20sIHRvS2lsbC5mcm9tKSA8IDApIHtcbiAgICAgICAgICB0b0tpbGwuZnJvbSA9IHJlcGxhY2VkLmZyb207XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAga2lsbC5wdXNoKHRvS2lsbCk7XG4gICAgfVxuICAgIC8vIE5leHQsIHJlbW92ZSB0aG9zZSBhY3R1YWwgcmFuZ2VzLlxuICAgIHJ1bkluT3AoY20sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGZvciAodmFyIGkgPSBraWxsLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICB7IHJlcGxhY2VSYW5nZShjbS5kb2MsIFwiXCIsIGtpbGxbaV0uZnJvbSwga2lsbFtpXS50bywgXCIrZGVsZXRlXCIpOyB9XG4gICAgICBlbnN1cmVDdXJzb3JWaXNpYmxlKGNtKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdmVDaGFyTG9naWNhbGx5KGxpbmUsIGNoLCBkaXIpIHtcbiAgICB2YXIgdGFyZ2V0ID0gc2tpcEV4dGVuZGluZ0NoYXJzKGxpbmUudGV4dCwgY2ggKyBkaXIsIGRpcik7XG4gICAgcmV0dXJuIHRhcmdldCA8IDAgfHwgdGFyZ2V0ID4gbGluZS50ZXh0Lmxlbmd0aCA/IG51bGwgOiB0YXJnZXRcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdmVMb2dpY2FsbHkobGluZSwgc3RhcnQsIGRpcikge1xuICAgIHZhciBjaCA9IG1vdmVDaGFyTG9naWNhbGx5KGxpbmUsIHN0YXJ0LmNoLCBkaXIpO1xuICAgIHJldHVybiBjaCA9PSBudWxsID8gbnVsbCA6IG5ldyBQb3Moc3RhcnQubGluZSwgY2gsIGRpciA8IDAgPyBcImFmdGVyXCIgOiBcImJlZm9yZVwiKVxuICB9XG5cbiAgZnVuY3Rpb24gZW5kT2ZMaW5lKHZpc3VhbGx5LCBjbSwgbGluZU9iaiwgbGluZU5vLCBkaXIpIHtcbiAgICBpZiAodmlzdWFsbHkpIHtcbiAgICAgIGlmIChjbS5kb2MuZGlyZWN0aW9uID09IFwicnRsXCIpIHsgZGlyID0gLWRpcjsgfVxuICAgICAgdmFyIG9yZGVyID0gZ2V0T3JkZXIobGluZU9iaiwgY20uZG9jLmRpcmVjdGlvbik7XG4gICAgICBpZiAob3JkZXIpIHtcbiAgICAgICAgdmFyIHBhcnQgPSBkaXIgPCAwID8gbHN0KG9yZGVyKSA6IG9yZGVyWzBdO1xuICAgICAgICB2YXIgbW92ZUluU3RvcmFnZU9yZGVyID0gKGRpciA8IDApID09IChwYXJ0LmxldmVsID09IDEpO1xuICAgICAgICB2YXIgc3RpY2t5ID0gbW92ZUluU3RvcmFnZU9yZGVyID8gXCJhZnRlclwiIDogXCJiZWZvcmVcIjtcbiAgICAgICAgdmFyIGNoO1xuICAgICAgICAvLyBXaXRoIGEgd3JhcHBlZCBydGwgY2h1bmsgKHBvc3NpYmx5IHNwYW5uaW5nIG11bHRpcGxlIGJpZGkgcGFydHMpLFxuICAgICAgICAvLyBpdCBjb3VsZCBiZSB0aGF0IHRoZSBsYXN0IGJpZGkgcGFydCBpcyBub3Qgb24gdGhlIGxhc3QgdmlzdWFsIGxpbmUsXG4gICAgICAgIC8vIHNpbmNlIHZpc3VhbCBsaW5lcyBjb250YWluIGNvbnRlbnQgb3JkZXItY29uc2VjdXRpdmUgY2h1bmtzLlxuICAgICAgICAvLyBUaHVzLCBpbiBydGwsIHdlIGFyZSBsb29raW5nIGZvciB0aGUgZmlyc3QgKGNvbnRlbnQtb3JkZXIpIGNoYXJhY3RlclxuICAgICAgICAvLyBpbiB0aGUgcnRsIGNodW5rIHRoYXQgaXMgb24gdGhlIGxhc3QgbGluZSAodGhhdCBpcywgdGhlIHNhbWUgbGluZVxuICAgICAgICAvLyBhcyB0aGUgbGFzdCAoY29udGVudC1vcmRlcikgY2hhcmFjdGVyKS5cbiAgICAgICAgaWYgKHBhcnQubGV2ZWwgPiAwIHx8IGNtLmRvYy5kaXJlY3Rpb24gPT0gXCJydGxcIikge1xuICAgICAgICAgIHZhciBwcmVwID0gcHJlcGFyZU1lYXN1cmVGb3JMaW5lKGNtLCBsaW5lT2JqKTtcbiAgICAgICAgICBjaCA9IGRpciA8IDAgPyBsaW5lT2JqLnRleHQubGVuZ3RoIC0gMSA6IDA7XG4gICAgICAgICAgdmFyIHRhcmdldFRvcCA9IG1lYXN1cmVDaGFyUHJlcGFyZWQoY20sIHByZXAsIGNoKS50b3A7XG4gICAgICAgICAgY2ggPSBmaW5kRmlyc3QoZnVuY3Rpb24gKGNoKSB7IHJldHVybiBtZWFzdXJlQ2hhclByZXBhcmVkKGNtLCBwcmVwLCBjaCkudG9wID09IHRhcmdldFRvcDsgfSwgKGRpciA8IDApID09IChwYXJ0LmxldmVsID09IDEpID8gcGFydC5mcm9tIDogcGFydC50byAtIDEsIGNoKTtcbiAgICAgICAgICBpZiAoc3RpY2t5ID09IFwiYmVmb3JlXCIpIHsgY2ggPSBtb3ZlQ2hhckxvZ2ljYWxseShsaW5lT2JqLCBjaCwgMSk7IH1cbiAgICAgICAgfSBlbHNlIHsgY2ggPSBkaXIgPCAwID8gcGFydC50byA6IHBhcnQuZnJvbTsgfVxuICAgICAgICByZXR1cm4gbmV3IFBvcyhsaW5lTm8sIGNoLCBzdGlja3kpXG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXcgUG9zKGxpbmVObywgZGlyIDwgMCA/IGxpbmVPYmoudGV4dC5sZW5ndGggOiAwLCBkaXIgPCAwID8gXCJiZWZvcmVcIiA6IFwiYWZ0ZXJcIilcbiAgfVxuXG4gIGZ1bmN0aW9uIG1vdmVWaXN1YWxseShjbSwgbGluZSwgc3RhcnQsIGRpcikge1xuICAgIHZhciBiaWRpID0gZ2V0T3JkZXIobGluZSwgY20uZG9jLmRpcmVjdGlvbik7XG4gICAgaWYgKCFiaWRpKSB7IHJldHVybiBtb3ZlTG9naWNhbGx5KGxpbmUsIHN0YXJ0LCBkaXIpIH1cbiAgICBpZiAoc3RhcnQuY2ggPj0gbGluZS50ZXh0Lmxlbmd0aCkge1xuICAgICAgc3RhcnQuY2ggPSBsaW5lLnRleHQubGVuZ3RoO1xuICAgICAgc3RhcnQuc3RpY2t5ID0gXCJiZWZvcmVcIjtcbiAgICB9IGVsc2UgaWYgKHN0YXJ0LmNoIDw9IDApIHtcbiAgICAgIHN0YXJ0LmNoID0gMDtcbiAgICAgIHN0YXJ0LnN0aWNreSA9IFwiYWZ0ZXJcIjtcbiAgICB9XG4gICAgdmFyIHBhcnRQb3MgPSBnZXRCaWRpUGFydEF0KGJpZGksIHN0YXJ0LmNoLCBzdGFydC5zdGlja3kpLCBwYXJ0ID0gYmlkaVtwYXJ0UG9zXTtcbiAgICBpZiAoY20uZG9jLmRpcmVjdGlvbiA9PSBcImx0clwiICYmIHBhcnQubGV2ZWwgJSAyID09IDAgJiYgKGRpciA+IDAgPyBwYXJ0LnRvID4gc3RhcnQuY2ggOiBwYXJ0LmZyb20gPCBzdGFydC5jaCkpIHtcbiAgICAgIC8vIENhc2UgMTogV2UgbW92ZSB3aXRoaW4gYW4gbHRyIHBhcnQgaW4gYW4gbHRyIGVkaXRvci4gRXZlbiB3aXRoIHdyYXBwZWQgbGluZXMsXG4gICAgICAvLyBub3RoaW5nIGludGVyZXN0aW5nIGhhcHBlbnMuXG4gICAgICByZXR1cm4gbW92ZUxvZ2ljYWxseShsaW5lLCBzdGFydCwgZGlyKVxuICAgIH1cblxuICAgIHZhciBtdiA9IGZ1bmN0aW9uIChwb3MsIGRpcikgeyByZXR1cm4gbW92ZUNoYXJMb2dpY2FsbHkobGluZSwgcG9zIGluc3RhbmNlb2YgUG9zID8gcG9zLmNoIDogcG9zLCBkaXIpOyB9O1xuICAgIHZhciBwcmVwO1xuICAgIHZhciBnZXRXcmFwcGVkTGluZUV4dGVudCA9IGZ1bmN0aW9uIChjaCkge1xuICAgICAgaWYgKCFjbS5vcHRpb25zLmxpbmVXcmFwcGluZykgeyByZXR1cm4ge2JlZ2luOiAwLCBlbmQ6IGxpbmUudGV4dC5sZW5ndGh9IH1cbiAgICAgIHByZXAgPSBwcmVwIHx8IHByZXBhcmVNZWFzdXJlRm9yTGluZShjbSwgbGluZSk7XG4gICAgICByZXR1cm4gd3JhcHBlZExpbmVFeHRlbnRDaGFyKGNtLCBsaW5lLCBwcmVwLCBjaClcbiAgICB9O1xuICAgIHZhciB3cmFwcGVkTGluZUV4dGVudCA9IGdldFdyYXBwZWRMaW5lRXh0ZW50KHN0YXJ0LnN0aWNreSA9PSBcImJlZm9yZVwiID8gbXYoc3RhcnQsIC0xKSA6IHN0YXJ0LmNoKTtcblxuICAgIGlmIChjbS5kb2MuZGlyZWN0aW9uID09IFwicnRsXCIgfHwgcGFydC5sZXZlbCA9PSAxKSB7XG4gICAgICB2YXIgbW92ZUluU3RvcmFnZU9yZGVyID0gKHBhcnQubGV2ZWwgPT0gMSkgPT0gKGRpciA8IDApO1xuICAgICAgdmFyIGNoID0gbXYoc3RhcnQsIG1vdmVJblN0b3JhZ2VPcmRlciA/IDEgOiAtMSk7XG4gICAgICBpZiAoY2ggIT0gbnVsbCAmJiAoIW1vdmVJblN0b3JhZ2VPcmRlciA/IGNoID49IHBhcnQuZnJvbSAmJiBjaCA+PSB3cmFwcGVkTGluZUV4dGVudC5iZWdpbiA6IGNoIDw9IHBhcnQudG8gJiYgY2ggPD0gd3JhcHBlZExpbmVFeHRlbnQuZW5kKSkge1xuICAgICAgICAvLyBDYXNlIDI6IFdlIG1vdmUgd2l0aGluIGFuIHJ0bCBwYXJ0IG9yIGluIGFuIHJ0bCBlZGl0b3Igb24gdGhlIHNhbWUgdmlzdWFsIGxpbmVcbiAgICAgICAgdmFyIHN0aWNreSA9IG1vdmVJblN0b3JhZ2VPcmRlciA/IFwiYmVmb3JlXCIgOiBcImFmdGVyXCI7XG4gICAgICAgIHJldHVybiBuZXcgUG9zKHN0YXJ0LmxpbmUsIGNoLCBzdGlja3kpXG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gQ2FzZSAzOiBDb3VsZCBub3QgbW92ZSB3aXRoaW4gdGhpcyBiaWRpIHBhcnQgaW4gdGhpcyB2aXN1YWwgbGluZSwgc28gbGVhdmVcbiAgICAvLyB0aGUgY3VycmVudCBiaWRpIHBhcnRcblxuICAgIHZhciBzZWFyY2hJblZpc3VhbExpbmUgPSBmdW5jdGlvbiAocGFydFBvcywgZGlyLCB3cmFwcGVkTGluZUV4dGVudCkge1xuICAgICAgdmFyIGdldFJlcyA9IGZ1bmN0aW9uIChjaCwgbW92ZUluU3RvcmFnZU9yZGVyKSB7IHJldHVybiBtb3ZlSW5TdG9yYWdlT3JkZXJcbiAgICAgICAgPyBuZXcgUG9zKHN0YXJ0LmxpbmUsIG12KGNoLCAxKSwgXCJiZWZvcmVcIilcbiAgICAgICAgOiBuZXcgUG9zKHN0YXJ0LmxpbmUsIGNoLCBcImFmdGVyXCIpOyB9O1xuXG4gICAgICBmb3IgKDsgcGFydFBvcyA+PSAwICYmIHBhcnRQb3MgPCBiaWRpLmxlbmd0aDsgcGFydFBvcyArPSBkaXIpIHtcbiAgICAgICAgdmFyIHBhcnQgPSBiaWRpW3BhcnRQb3NdO1xuICAgICAgICB2YXIgbW92ZUluU3RvcmFnZU9yZGVyID0gKGRpciA+IDApID09IChwYXJ0LmxldmVsICE9IDEpO1xuICAgICAgICB2YXIgY2ggPSBtb3ZlSW5TdG9yYWdlT3JkZXIgPyB3cmFwcGVkTGluZUV4dGVudC5iZWdpbiA6IG12KHdyYXBwZWRMaW5lRXh0ZW50LmVuZCwgLTEpO1xuICAgICAgICBpZiAocGFydC5mcm9tIDw9IGNoICYmIGNoIDwgcGFydC50bykgeyByZXR1cm4gZ2V0UmVzKGNoLCBtb3ZlSW5TdG9yYWdlT3JkZXIpIH1cbiAgICAgICAgY2ggPSBtb3ZlSW5TdG9yYWdlT3JkZXIgPyBwYXJ0LmZyb20gOiBtdihwYXJ0LnRvLCAtMSk7XG4gICAgICAgIGlmICh3cmFwcGVkTGluZUV4dGVudC5iZWdpbiA8PSBjaCAmJiBjaCA8IHdyYXBwZWRMaW5lRXh0ZW50LmVuZCkgeyByZXR1cm4gZ2V0UmVzKGNoLCBtb3ZlSW5TdG9yYWdlT3JkZXIpIH1cbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gQ2FzZSAzYTogTG9vayBmb3Igb3RoZXIgYmlkaSBwYXJ0cyBvbiB0aGUgc2FtZSB2aXN1YWwgbGluZVxuICAgIHZhciByZXMgPSBzZWFyY2hJblZpc3VhbExpbmUocGFydFBvcyArIGRpciwgZGlyLCB3cmFwcGVkTGluZUV4dGVudCk7XG4gICAgaWYgKHJlcykgeyByZXR1cm4gcmVzIH1cblxuICAgIC8vIENhc2UgM2I6IExvb2sgZm9yIG90aGVyIGJpZGkgcGFydHMgb24gdGhlIG5leHQgdmlzdWFsIGxpbmVcbiAgICB2YXIgbmV4dENoID0gZGlyID4gMCA/IHdyYXBwZWRMaW5lRXh0ZW50LmVuZCA6IG12KHdyYXBwZWRMaW5lRXh0ZW50LmJlZ2luLCAtMSk7XG4gICAgaWYgKG5leHRDaCAhPSBudWxsICYmICEoZGlyID4gMCAmJiBuZXh0Q2ggPT0gbGluZS50ZXh0Lmxlbmd0aCkpIHtcbiAgICAgIHJlcyA9IHNlYXJjaEluVmlzdWFsTGluZShkaXIgPiAwID8gMCA6IGJpZGkubGVuZ3RoIC0gMSwgZGlyLCBnZXRXcmFwcGVkTGluZUV4dGVudChuZXh0Q2gpKTtcbiAgICAgIGlmIChyZXMpIHsgcmV0dXJuIHJlcyB9XG4gICAgfVxuXG4gICAgLy8gQ2FzZSA0OiBOb3doZXJlIHRvIG1vdmVcbiAgICByZXR1cm4gbnVsbFxuICB9XG5cbiAgLy8gQ29tbWFuZHMgYXJlIHBhcmFtZXRlci1sZXNzIGFjdGlvbnMgdGhhdCBjYW4gYmUgcGVyZm9ybWVkIG9uIGFuXG4gIC8vIGVkaXRvciwgbW9zdGx5IHVzZWQgZm9yIGtleWJpbmRpbmdzLlxuICB2YXIgY29tbWFuZHMgPSB7XG4gICAgc2VsZWN0QWxsOiBzZWxlY3RBbGwsXG4gICAgc2luZ2xlU2VsZWN0aW9uOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLnNldFNlbGVjdGlvbihjbS5nZXRDdXJzb3IoXCJhbmNob3JcIiksIGNtLmdldEN1cnNvcihcImhlYWRcIiksIHNlbF9kb250U2Nyb2xsKTsgfSxcbiAgICBraWxsTGluZTogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBkZWxldGVOZWFyU2VsZWN0aW9uKGNtLCBmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICAgIGlmIChyYW5nZS5lbXB0eSgpKSB7XG4gICAgICAgIHZhciBsZW4gPSBnZXRMaW5lKGNtLmRvYywgcmFuZ2UuaGVhZC5saW5lKS50ZXh0Lmxlbmd0aDtcbiAgICAgICAgaWYgKHJhbmdlLmhlYWQuY2ggPT0gbGVuICYmIHJhbmdlLmhlYWQubGluZSA8IGNtLmxhc3RMaW5lKCkpXG4gICAgICAgICAgeyByZXR1cm4ge2Zyb206IHJhbmdlLmhlYWQsIHRvOiBQb3MocmFuZ2UuaGVhZC5saW5lICsgMSwgMCl9IH1cbiAgICAgICAgZWxzZVxuICAgICAgICAgIHsgcmV0dXJuIHtmcm9tOiByYW5nZS5oZWFkLCB0bzogUG9zKHJhbmdlLmhlYWQubGluZSwgbGVuKX0gfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtmcm9tOiByYW5nZS5mcm9tKCksIHRvOiByYW5nZS50bygpfVxuICAgICAgfVxuICAgIH0pOyB9LFxuICAgIGRlbGV0ZUxpbmU6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gZGVsZXRlTmVhclNlbGVjdGlvbihjbSwgZnVuY3Rpb24gKHJhbmdlKSB7IHJldHVybiAoe1xuICAgICAgZnJvbTogUG9zKHJhbmdlLmZyb20oKS5saW5lLCAwKSxcbiAgICAgIHRvOiBjbGlwUG9zKGNtLmRvYywgUG9zKHJhbmdlLnRvKCkubGluZSArIDEsIDApKVxuICAgIH0pOyB9KTsgfSxcbiAgICBkZWxMaW5lTGVmdDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBkZWxldGVOZWFyU2VsZWN0aW9uKGNtLCBmdW5jdGlvbiAocmFuZ2UpIHsgcmV0dXJuICh7XG4gICAgICBmcm9tOiBQb3MocmFuZ2UuZnJvbSgpLmxpbmUsIDApLCB0bzogcmFuZ2UuZnJvbSgpXG4gICAgfSk7IH0pOyB9LFxuICAgIGRlbFdyYXBwZWRMaW5lTGVmdDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBkZWxldGVOZWFyU2VsZWN0aW9uKGNtLCBmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICAgIHZhciB0b3AgPSBjbS5jaGFyQ29vcmRzKHJhbmdlLmhlYWQsIFwiZGl2XCIpLnRvcCArIDU7XG4gICAgICB2YXIgbGVmdFBvcyA9IGNtLmNvb3Jkc0NoYXIoe2xlZnQ6IDAsIHRvcDogdG9wfSwgXCJkaXZcIik7XG4gICAgICByZXR1cm4ge2Zyb206IGxlZnRQb3MsIHRvOiByYW5nZS5mcm9tKCl9XG4gICAgfSk7IH0sXG4gICAgZGVsV3JhcHBlZExpbmVSaWdodDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBkZWxldGVOZWFyU2VsZWN0aW9uKGNtLCBmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICAgIHZhciB0b3AgPSBjbS5jaGFyQ29vcmRzKHJhbmdlLmhlYWQsIFwiZGl2XCIpLnRvcCArIDU7XG4gICAgICB2YXIgcmlnaHRQb3MgPSBjbS5jb29yZHNDaGFyKHtsZWZ0OiBjbS5kaXNwbGF5LmxpbmVEaXYub2Zmc2V0V2lkdGggKyAxMDAsIHRvcDogdG9wfSwgXCJkaXZcIik7XG4gICAgICByZXR1cm4ge2Zyb206IHJhbmdlLmZyb20oKSwgdG86IHJpZ2h0UG9zIH1cbiAgICB9KTsgfSxcbiAgICB1bmRvOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLnVuZG8oKTsgfSxcbiAgICByZWRvOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLnJlZG8oKTsgfSxcbiAgICB1bmRvU2VsZWN0aW9uOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLnVuZG9TZWxlY3Rpb24oKTsgfSxcbiAgICByZWRvU2VsZWN0aW9uOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLnJlZG9TZWxlY3Rpb24oKTsgfSxcbiAgICBnb0RvY1N0YXJ0OiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmV4dGVuZFNlbGVjdGlvbihQb3MoY20uZmlyc3RMaW5lKCksIDApKTsgfSxcbiAgICBnb0RvY0VuZDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5leHRlbmRTZWxlY3Rpb24oUG9zKGNtLmxhc3RMaW5lKCkpKTsgfSxcbiAgICBnb0xpbmVTdGFydDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24gKHJhbmdlKSB7IHJldHVybiBsaW5lU3RhcnQoY20sIHJhbmdlLmhlYWQubGluZSk7IH0sXG4gICAgICB7b3JpZ2luOiBcIittb3ZlXCIsIGJpYXM6IDF9XG4gICAgKTsgfSxcbiAgICBnb0xpbmVTdGFydFNtYXJ0OiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbiAocmFuZ2UpIHsgcmV0dXJuIGxpbmVTdGFydFNtYXJ0KGNtLCByYW5nZS5oZWFkKTsgfSxcbiAgICAgIHtvcmlnaW46IFwiK21vdmVcIiwgYmlhczogMX1cbiAgICApOyB9LFxuICAgIGdvTGluZUVuZDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24gKHJhbmdlKSB7IHJldHVybiBsaW5lRW5kKGNtLCByYW5nZS5oZWFkLmxpbmUpOyB9LFxuICAgICAge29yaWdpbjogXCIrbW92ZVwiLCBiaWFzOiAtMX1cbiAgICApOyB9LFxuICAgIGdvTGluZVJpZ2h0OiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmV4dGVuZFNlbGVjdGlvbnNCeShmdW5jdGlvbiAocmFuZ2UpIHtcbiAgICAgIHZhciB0b3AgPSBjbS5jdXJzb3JDb29yZHMocmFuZ2UuaGVhZCwgXCJkaXZcIikudG9wICsgNTtcbiAgICAgIHJldHVybiBjbS5jb29yZHNDaGFyKHtsZWZ0OiBjbS5kaXNwbGF5LmxpbmVEaXYub2Zmc2V0V2lkdGggKyAxMDAsIHRvcDogdG9wfSwgXCJkaXZcIilcbiAgICB9LCBzZWxfbW92ZSk7IH0sXG4gICAgZ29MaW5lTGVmdDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24gKHJhbmdlKSB7XG4gICAgICB2YXIgdG9wID0gY20uY3Vyc29yQ29vcmRzKHJhbmdlLmhlYWQsIFwiZGl2XCIpLnRvcCArIDU7XG4gICAgICByZXR1cm4gY20uY29vcmRzQ2hhcih7bGVmdDogMCwgdG9wOiB0b3B9LCBcImRpdlwiKVxuICAgIH0sIHNlbF9tb3ZlKTsgfSxcbiAgICBnb0xpbmVMZWZ0U21hcnQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20uZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgdmFyIHRvcCA9IGNtLmN1cnNvckNvb3JkcyhyYW5nZS5oZWFkLCBcImRpdlwiKS50b3AgKyA1O1xuICAgICAgdmFyIHBvcyA9IGNtLmNvb3Jkc0NoYXIoe2xlZnQ6IDAsIHRvcDogdG9wfSwgXCJkaXZcIik7XG4gICAgICBpZiAocG9zLmNoIDwgY20uZ2V0TGluZShwb3MubGluZSkuc2VhcmNoKC9cXFMvKSkgeyByZXR1cm4gbGluZVN0YXJ0U21hcnQoY20sIHJhbmdlLmhlYWQpIH1cbiAgICAgIHJldHVybiBwb3NcbiAgICB9LCBzZWxfbW92ZSk7IH0sXG4gICAgZ29MaW5lVXA6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ubW92ZVYoLTEsIFwibGluZVwiKTsgfSxcbiAgICBnb0xpbmVEb3duOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLm1vdmVWKDEsIFwibGluZVwiKTsgfSxcbiAgICBnb1BhZ2VVcDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5tb3ZlVigtMSwgXCJwYWdlXCIpOyB9LFxuICAgIGdvUGFnZURvd246IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ubW92ZVYoMSwgXCJwYWdlXCIpOyB9LFxuICAgIGdvQ2hhckxlZnQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ubW92ZUgoLTEsIFwiY2hhclwiKTsgfSxcbiAgICBnb0NoYXJSaWdodDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5tb3ZlSCgxLCBcImNoYXJcIik7IH0sXG4gICAgZ29Db2x1bW5MZWZ0OiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLm1vdmVIKC0xLCBcImNvbHVtblwiKTsgfSxcbiAgICBnb0NvbHVtblJpZ2h0OiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLm1vdmVIKDEsIFwiY29sdW1uXCIpOyB9LFxuICAgIGdvV29yZExlZnQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ubW92ZUgoLTEsIFwid29yZFwiKTsgfSxcbiAgICBnb0dyb3VwUmlnaHQ6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ubW92ZUgoMSwgXCJncm91cFwiKTsgfSxcbiAgICBnb0dyb3VwTGVmdDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5tb3ZlSCgtMSwgXCJncm91cFwiKTsgfSxcbiAgICBnb1dvcmRSaWdodDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5tb3ZlSCgxLCBcIndvcmRcIik7IH0sXG4gICAgZGVsQ2hhckJlZm9yZTogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5kZWxldGVIKC0xLCBcImNvZGVwb2ludFwiKTsgfSxcbiAgICBkZWxDaGFyQWZ0ZXI6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20uZGVsZXRlSCgxLCBcImNoYXJcIik7IH0sXG4gICAgZGVsV29yZEJlZm9yZTogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5kZWxldGVIKC0xLCBcIndvcmRcIik7IH0sXG4gICAgZGVsV29yZEFmdGVyOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmRlbGV0ZUgoMSwgXCJ3b3JkXCIpOyB9LFxuICAgIGRlbEdyb3VwQmVmb3JlOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmRlbGV0ZUgoLTEsIFwiZ3JvdXBcIik7IH0sXG4gICAgZGVsR3JvdXBBZnRlcjogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5kZWxldGVIKDEsIFwiZ3JvdXBcIik7IH0sXG4gICAgaW5kZW50QXV0bzogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5pbmRlbnRTZWxlY3Rpb24oXCJzbWFydFwiKTsgfSxcbiAgICBpbmRlbnRNb3JlOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmluZGVudFNlbGVjdGlvbihcImFkZFwiKTsgfSxcbiAgICBpbmRlbnRMZXNzOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLmluZGVudFNlbGVjdGlvbihcInN1YnRyYWN0XCIpOyB9LFxuICAgIGluc2VydFRhYjogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS5yZXBsYWNlU2VsZWN0aW9uKFwiXFx0XCIpOyB9LFxuICAgIGluc2VydFNvZnRUYWI6IGZ1bmN0aW9uIChjbSkge1xuICAgICAgdmFyIHNwYWNlcyA9IFtdLCByYW5nZXMgPSBjbS5saXN0U2VsZWN0aW9ucygpLCB0YWJTaXplID0gY20ub3B0aW9ucy50YWJTaXplO1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIHBvcyA9IHJhbmdlc1tpXS5mcm9tKCk7XG4gICAgICAgIHZhciBjb2wgPSBjb3VudENvbHVtbihjbS5nZXRMaW5lKHBvcy5saW5lKSwgcG9zLmNoLCB0YWJTaXplKTtcbiAgICAgICAgc3BhY2VzLnB1c2goc3BhY2VTdHIodGFiU2l6ZSAtIGNvbCAlIHRhYlNpemUpKTtcbiAgICAgIH1cbiAgICAgIGNtLnJlcGxhY2VTZWxlY3Rpb25zKHNwYWNlcyk7XG4gICAgfSxcbiAgICBkZWZhdWx0VGFiOiBmdW5jdGlvbiAoY20pIHtcbiAgICAgIGlmIChjbS5zb21ldGhpbmdTZWxlY3RlZCgpKSB7IGNtLmluZGVudFNlbGVjdGlvbihcImFkZFwiKTsgfVxuICAgICAgZWxzZSB7IGNtLmV4ZWNDb21tYW5kKFwiaW5zZXJ0VGFiXCIpOyB9XG4gICAgfSxcbiAgICAvLyBTd2FwIHRoZSB0d28gY2hhcnMgbGVmdCBhbmQgcmlnaHQgb2YgZWFjaCBzZWxlY3Rpb24ncyBoZWFkLlxuICAgIC8vIE1vdmUgY3Vyc29yIGJlaGluZCB0aGUgdHdvIHN3YXBwZWQgY2hhcmFjdGVycyBhZnRlcndhcmRzLlxuICAgIC8vXG4gICAgLy8gRG9lc24ndCBjb25zaWRlciBsaW5lIGZlZWRzIGEgY2hhcmFjdGVyLlxuICAgIC8vIERvZXNuJ3Qgc2NhbiBtb3JlIHRoYW4gb25lIGxpbmUgYWJvdmUgdG8gZmluZCBhIGNoYXJhY3Rlci5cbiAgICAvLyBEb2Vzbid0IGRvIGFueXRoaW5nIG9uIGFuIGVtcHR5IGxpbmUuXG4gICAgLy8gRG9lc24ndCBkbyBhbnl0aGluZyB3aXRoIG5vbi1lbXB0eSBzZWxlY3Rpb25zLlxuICAgIHRyYW5zcG9zZUNoYXJzOiBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIHJ1bkluT3AoY20sIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciByYW5nZXMgPSBjbS5saXN0U2VsZWN0aW9ucygpLCBuZXdTZWwgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICghcmFuZ2VzW2ldLmVtcHR5KCkpIHsgY29udGludWUgfVxuICAgICAgICB2YXIgY3VyID0gcmFuZ2VzW2ldLmhlYWQsIGxpbmUgPSBnZXRMaW5lKGNtLmRvYywgY3VyLmxpbmUpLnRleHQ7XG4gICAgICAgIGlmIChsaW5lKSB7XG4gICAgICAgICAgaWYgKGN1ci5jaCA9PSBsaW5lLmxlbmd0aCkgeyBjdXIgPSBuZXcgUG9zKGN1ci5saW5lLCBjdXIuY2ggLSAxKTsgfVxuICAgICAgICAgIGlmIChjdXIuY2ggPiAwKSB7XG4gICAgICAgICAgICBjdXIgPSBuZXcgUG9zKGN1ci5saW5lLCBjdXIuY2ggKyAxKTtcbiAgICAgICAgICAgIGNtLnJlcGxhY2VSYW5nZShsaW5lLmNoYXJBdChjdXIuY2ggLSAxKSArIGxpbmUuY2hhckF0KGN1ci5jaCAtIDIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFBvcyhjdXIubGluZSwgY3VyLmNoIC0gMiksIGN1ciwgXCIrdHJhbnNwb3NlXCIpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY3VyLmxpbmUgPiBjbS5kb2MuZmlyc3QpIHtcbiAgICAgICAgICAgIHZhciBwcmV2ID0gZ2V0TGluZShjbS5kb2MsIGN1ci5saW5lIC0gMSkudGV4dDtcbiAgICAgICAgICAgIGlmIChwcmV2KSB7XG4gICAgICAgICAgICAgIGN1ciA9IG5ldyBQb3MoY3VyLmxpbmUsIDEpO1xuICAgICAgICAgICAgICBjbS5yZXBsYWNlUmFuZ2UobGluZS5jaGFyQXQoMCkgKyBjbS5kb2MubGluZVNlcGFyYXRvcigpICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXYuY2hhckF0KHByZXYubGVuZ3RoIC0gMSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICBQb3MoY3VyLmxpbmUgLSAxLCBwcmV2Lmxlbmd0aCAtIDEpLCBjdXIsIFwiK3RyYW5zcG9zZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgbmV3U2VsLnB1c2gobmV3IFJhbmdlKGN1ciwgY3VyKSk7XG4gICAgICB9XG4gICAgICBjbS5zZXRTZWxlY3Rpb25zKG5ld1NlbCk7XG4gICAgfSk7IH0sXG4gICAgbmV3bGluZUFuZEluZGVudDogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBydW5Jbk9wKGNtLCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc2VscyA9IGNtLmxpc3RTZWxlY3Rpb25zKCk7XG4gICAgICBmb3IgKHZhciBpID0gc2Vscy5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAgeyBjbS5yZXBsYWNlUmFuZ2UoY20uZG9jLmxpbmVTZXBhcmF0b3IoKSwgc2Vsc1tpXS5hbmNob3IsIHNlbHNbaV0uaGVhZCwgXCIraW5wdXRcIik7IH1cbiAgICAgIHNlbHMgPSBjbS5saXN0U2VsZWN0aW9ucygpO1xuICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgc2Vscy5sZW5ndGg7IGkkMSsrKVxuICAgICAgICB7IGNtLmluZGVudExpbmUoc2Vsc1tpJDFdLmZyb20oKS5saW5lLCBudWxsLCB0cnVlKTsgfVxuICAgICAgZW5zdXJlQ3Vyc29yVmlzaWJsZShjbSk7XG4gICAgfSk7IH0sXG4gICAgb3BlbkxpbmU6IGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ucmVwbGFjZVNlbGVjdGlvbihcIlxcblwiLCBcInN0YXJ0XCIpOyB9LFxuICAgIHRvZ2dsZU92ZXJ3cml0ZTogZnVuY3Rpb24gKGNtKSB7IHJldHVybiBjbS50b2dnbGVPdmVyd3JpdGUoKTsgfVxuICB9O1xuXG5cbiAgZnVuY3Rpb24gbGluZVN0YXJ0KGNtLCBsaW5lTikge1xuICAgIHZhciBsaW5lID0gZ2V0TGluZShjbS5kb2MsIGxpbmVOKTtcbiAgICB2YXIgdmlzdWFsID0gdmlzdWFsTGluZShsaW5lKTtcbiAgICBpZiAodmlzdWFsICE9IGxpbmUpIHsgbGluZU4gPSBsaW5lTm8odmlzdWFsKTsgfVxuICAgIHJldHVybiBlbmRPZkxpbmUodHJ1ZSwgY20sIHZpc3VhbCwgbGluZU4sIDEpXG4gIH1cbiAgZnVuY3Rpb24gbGluZUVuZChjbSwgbGluZU4pIHtcbiAgICB2YXIgbGluZSA9IGdldExpbmUoY20uZG9jLCBsaW5lTik7XG4gICAgdmFyIHZpc3VhbCA9IHZpc3VhbExpbmVFbmQobGluZSk7XG4gICAgaWYgKHZpc3VhbCAhPSBsaW5lKSB7IGxpbmVOID0gbGluZU5vKHZpc3VhbCk7IH1cbiAgICByZXR1cm4gZW5kT2ZMaW5lKHRydWUsIGNtLCBsaW5lLCBsaW5lTiwgLTEpXG4gIH1cbiAgZnVuY3Rpb24gbGluZVN0YXJ0U21hcnQoY20sIHBvcykge1xuICAgIHZhciBzdGFydCA9IGxpbmVTdGFydChjbSwgcG9zLmxpbmUpO1xuICAgIHZhciBsaW5lID0gZ2V0TGluZShjbS5kb2MsIHN0YXJ0LmxpbmUpO1xuICAgIHZhciBvcmRlciA9IGdldE9yZGVyKGxpbmUsIGNtLmRvYy5kaXJlY3Rpb24pO1xuICAgIGlmICghb3JkZXIgfHwgb3JkZXJbMF0ubGV2ZWwgPT0gMCkge1xuICAgICAgdmFyIGZpcnN0Tm9uV1MgPSBNYXRoLm1heChzdGFydC5jaCwgbGluZS50ZXh0LnNlYXJjaCgvXFxTLykpO1xuICAgICAgdmFyIGluV1MgPSBwb3MubGluZSA9PSBzdGFydC5saW5lICYmIHBvcy5jaCA8PSBmaXJzdE5vbldTICYmIHBvcy5jaDtcbiAgICAgIHJldHVybiBQb3Moc3RhcnQubGluZSwgaW5XUyA/IDAgOiBmaXJzdE5vbldTLCBzdGFydC5zdGlja3kpXG4gICAgfVxuICAgIHJldHVybiBzdGFydFxuICB9XG5cbiAgLy8gUnVuIGEgaGFuZGxlciB0aGF0IHdhcyBib3VuZCB0byBhIGtleS5cbiAgZnVuY3Rpb24gZG9IYW5kbGVCaW5kaW5nKGNtLCBib3VuZCwgZHJvcFNoaWZ0KSB7XG4gICAgaWYgKHR5cGVvZiBib3VuZCA9PSBcInN0cmluZ1wiKSB7XG4gICAgICBib3VuZCA9IGNvbW1hbmRzW2JvdW5kXTtcbiAgICAgIGlmICghYm91bmQpIHsgcmV0dXJuIGZhbHNlIH1cbiAgICB9XG4gICAgLy8gRW5zdXJlIHByZXZpb3VzIGlucHV0IGhhcyBiZWVuIHJlYWQsIHNvIHRoYXQgdGhlIGhhbmRsZXIgc2VlcyBhXG4gICAgLy8gY29uc2lzdGVudCB2aWV3IG9mIHRoZSBkb2N1bWVudFxuICAgIGNtLmRpc3BsYXkuaW5wdXQuZW5zdXJlUG9sbGVkKCk7XG4gICAgdmFyIHByZXZTaGlmdCA9IGNtLmRpc3BsYXkuc2hpZnQsIGRvbmUgPSBmYWxzZTtcbiAgICB0cnkge1xuICAgICAgaWYgKGNtLmlzUmVhZE9ubHkoKSkgeyBjbS5zdGF0ZS5zdXBwcmVzc0VkaXRzID0gdHJ1ZTsgfVxuICAgICAgaWYgKGRyb3BTaGlmdCkgeyBjbS5kaXNwbGF5LnNoaWZ0ID0gZmFsc2U7IH1cbiAgICAgIGRvbmUgPSBib3VuZChjbSkgIT0gUGFzcztcbiAgICB9IGZpbmFsbHkge1xuICAgICAgY20uZGlzcGxheS5zaGlmdCA9IHByZXZTaGlmdDtcbiAgICAgIGNtLnN0YXRlLnN1cHByZXNzRWRpdHMgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGRvbmVcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvb2t1cEtleUZvckVkaXRvcihjbSwgbmFtZSwgaGFuZGxlKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbS5zdGF0ZS5rZXlNYXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9va3VwS2V5KG5hbWUsIGNtLnN0YXRlLmtleU1hcHNbaV0sIGhhbmRsZSwgY20pO1xuICAgICAgaWYgKHJlc3VsdCkgeyByZXR1cm4gcmVzdWx0IH1cbiAgICB9XG4gICAgcmV0dXJuIChjbS5vcHRpb25zLmV4dHJhS2V5cyAmJiBsb29rdXBLZXkobmFtZSwgY20ub3B0aW9ucy5leHRyYUtleXMsIGhhbmRsZSwgY20pKVxuICAgICAgfHwgbG9va3VwS2V5KG5hbWUsIGNtLm9wdGlvbnMua2V5TWFwLCBoYW5kbGUsIGNtKVxuICB9XG5cbiAgLy8gTm90ZSB0aGF0LCBkZXNwaXRlIHRoZSBuYW1lLCB0aGlzIGZ1bmN0aW9uIGlzIGFsc28gdXNlZCB0byBjaGVja1xuICAvLyBmb3IgYm91bmQgbW91c2UgY2xpY2tzLlxuXG4gIHZhciBzdG9wU2VxID0gbmV3IERlbGF5ZWQ7XG5cbiAgZnVuY3Rpb24gZGlzcGF0Y2hLZXkoY20sIG5hbWUsIGUsIGhhbmRsZSkge1xuICAgIHZhciBzZXEgPSBjbS5zdGF0ZS5rZXlTZXE7XG4gICAgaWYgKHNlcSkge1xuICAgICAgaWYgKGlzTW9kaWZpZXJLZXkobmFtZSkpIHsgcmV0dXJuIFwiaGFuZGxlZFwiIH1cbiAgICAgIGlmICgvXFwnJC8udGVzdChuYW1lKSlcbiAgICAgICAgeyBjbS5zdGF0ZS5rZXlTZXEgPSBudWxsOyB9XG4gICAgICBlbHNlXG4gICAgICAgIHsgc3RvcFNlcS5zZXQoNTAsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoY20uc3RhdGUua2V5U2VxID09IHNlcSkge1xuICAgICAgICAgICAgY20uc3RhdGUua2V5U2VxID0gbnVsbDtcbiAgICAgICAgICAgIGNtLmRpc3BsYXkuaW5wdXQucmVzZXQoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pOyB9XG4gICAgICBpZiAoZGlzcGF0Y2hLZXlJbm5lcihjbSwgc2VxICsgXCIgXCIgKyBuYW1lLCBlLCBoYW5kbGUpKSB7IHJldHVybiB0cnVlIH1cbiAgICB9XG4gICAgcmV0dXJuIGRpc3BhdGNoS2V5SW5uZXIoY20sIG5hbWUsIGUsIGhhbmRsZSlcbiAgfVxuXG4gIGZ1bmN0aW9uIGRpc3BhdGNoS2V5SW5uZXIoY20sIG5hbWUsIGUsIGhhbmRsZSkge1xuICAgIHZhciByZXN1bHQgPSBsb29rdXBLZXlGb3JFZGl0b3IoY20sIG5hbWUsIGhhbmRsZSk7XG5cbiAgICBpZiAocmVzdWx0ID09IFwibXVsdGlcIilcbiAgICAgIHsgY20uc3RhdGUua2V5U2VxID0gbmFtZTsgfVxuICAgIGlmIChyZXN1bHQgPT0gXCJoYW5kbGVkXCIpXG4gICAgICB7IHNpZ25hbExhdGVyKGNtLCBcImtleUhhbmRsZWRcIiwgY20sIG5hbWUsIGUpOyB9XG5cbiAgICBpZiAocmVzdWx0ID09IFwiaGFuZGxlZFwiIHx8IHJlc3VsdCA9PSBcIm11bHRpXCIpIHtcbiAgICAgIGVfcHJldmVudERlZmF1bHQoZSk7XG4gICAgICByZXN0YXJ0QmxpbmsoY20pO1xuICAgIH1cblxuICAgIHJldHVybiAhIXJlc3VsdFxuICB9XG5cbiAgLy8gSGFuZGxlIGEga2V5IGZyb20gdGhlIGtleWRvd24gZXZlbnQuXG4gIGZ1bmN0aW9uIGhhbmRsZUtleUJpbmRpbmcoY20sIGUpIHtcbiAgICB2YXIgbmFtZSA9IGtleU5hbWUoZSwgdHJ1ZSk7XG4gICAgaWYgKCFuYW1lKSB7IHJldHVybiBmYWxzZSB9XG5cbiAgICBpZiAoZS5zaGlmdEtleSAmJiAhY20uc3RhdGUua2V5U2VxKSB7XG4gICAgICAvLyBGaXJzdCB0cnkgdG8gcmVzb2x2ZSBmdWxsIG5hbWUgKGluY2x1ZGluZyAnU2hpZnQtJykuIEZhaWxpbmdcbiAgICAgIC8vIHRoYXQsIHNlZSBpZiB0aGVyZSBpcyBhIGN1cnNvci1tb3Rpb24gY29tbWFuZCAoc3RhcnRpbmcgd2l0aFxuICAgICAgLy8gJ2dvJykgYm91bmQgdG8gdGhlIGtleW5hbWUgd2l0aG91dCAnU2hpZnQtJy5cbiAgICAgIHJldHVybiBkaXNwYXRjaEtleShjbSwgXCJTaGlmdC1cIiArIG5hbWUsIGUsIGZ1bmN0aW9uIChiKSB7IHJldHVybiBkb0hhbmRsZUJpbmRpbmcoY20sIGIsIHRydWUpOyB9KVxuICAgICAgICAgIHx8IGRpc3BhdGNoS2V5KGNtLCBuYW1lLCBlLCBmdW5jdGlvbiAoYikge1xuICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBiID09IFwic3RyaW5nXCIgPyAvXmdvW0EtWl0vLnRlc3QoYikgOiBiLm1vdGlvbilcbiAgICAgICAgICAgICAgICAgeyByZXR1cm4gZG9IYW5kbGVCaW5kaW5nKGNtLCBiKSB9XG4gICAgICAgICAgICAgfSlcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGRpc3BhdGNoS2V5KGNtLCBuYW1lLCBlLCBmdW5jdGlvbiAoYikgeyByZXR1cm4gZG9IYW5kbGVCaW5kaW5nKGNtLCBiKTsgfSlcbiAgICB9XG4gIH1cblxuICAvLyBIYW5kbGUgYSBrZXkgZnJvbSB0aGUga2V5cHJlc3MgZXZlbnRcbiAgZnVuY3Rpb24gaGFuZGxlQ2hhckJpbmRpbmcoY20sIGUsIGNoKSB7XG4gICAgcmV0dXJuIGRpc3BhdGNoS2V5KGNtLCBcIidcIiArIGNoICsgXCInXCIsIGUsIGZ1bmN0aW9uIChiKSB7IHJldHVybiBkb0hhbmRsZUJpbmRpbmcoY20sIGIsIHRydWUpOyB9KVxuICB9XG5cbiAgdmFyIGxhc3RTdG9wcGVkS2V5ID0gbnVsbDtcbiAgZnVuY3Rpb24gb25LZXlEb3duKGUpIHtcbiAgICB2YXIgY20gPSB0aGlzO1xuICAgIGlmIChlLnRhcmdldCAmJiBlLnRhcmdldCAhPSBjbS5kaXNwbGF5LmlucHV0LmdldEZpZWxkKCkpIHsgcmV0dXJuIH1cbiAgICBjbS5jdXJPcC5mb2N1cyA9IGFjdGl2ZUVsdChyb290KGNtKSk7XG4gICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlKSkgeyByZXR1cm4gfVxuICAgIC8vIElFIGRvZXMgc3RyYW5nZSB0aGluZ3Mgd2l0aCBlc2NhcGUuXG4gICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCAxMSAmJiBlLmtleUNvZGUgPT0gMjcpIHsgZS5yZXR1cm5WYWx1ZSA9IGZhbHNlOyB9XG4gICAgdmFyIGNvZGUgPSBlLmtleUNvZGU7XG4gICAgY20uZGlzcGxheS5zaGlmdCA9IGNvZGUgPT0gMTYgfHwgZS5zaGlmdEtleTtcbiAgICB2YXIgaGFuZGxlZCA9IGhhbmRsZUtleUJpbmRpbmcoY20sIGUpO1xuICAgIGlmIChwcmVzdG8pIHtcbiAgICAgIGxhc3RTdG9wcGVkS2V5ID0gaGFuZGxlZCA/IGNvZGUgOiBudWxsO1xuICAgICAgLy8gT3BlcmEgaGFzIG5vIGN1dCBldmVudC4uLiB3ZSB0cnkgdG8gYXQgbGVhc3QgY2F0Y2ggdGhlIGtleSBjb21ib1xuICAgICAgaWYgKCFoYW5kbGVkICYmIGNvZGUgPT0gODggJiYgIWhhc0NvcHlFdmVudCAmJiAobWFjID8gZS5tZXRhS2V5IDogZS5jdHJsS2V5KSlcbiAgICAgICAgeyBjbS5yZXBsYWNlU2VsZWN0aW9uKFwiXCIsIG51bGwsIFwiY3V0XCIpOyB9XG4gICAgfVxuICAgIGlmIChnZWNrbyAmJiAhbWFjICYmICFoYW5kbGVkICYmIGNvZGUgPT0gNDYgJiYgZS5zaGlmdEtleSAmJiAhZS5jdHJsS2V5ICYmIGRvY3VtZW50LmV4ZWNDb21tYW5kKVxuICAgICAgeyBkb2N1bWVudC5leGVjQ29tbWFuZChcImN1dFwiKTsgfVxuXG4gICAgLy8gVHVybiBtb3VzZSBpbnRvIGNyb3NzaGFpciB3aGVuIEFsdCBpcyBoZWxkIG9uIE1hYy5cbiAgICBpZiAoY29kZSA9PSAxOCAmJiAhL1xcYkNvZGVNaXJyb3ItY3Jvc3NoYWlyXFxiLy50ZXN0KGNtLmRpc3BsYXkubGluZURpdi5jbGFzc05hbWUpKVxuICAgICAgeyBzaG93Q3Jvc3NIYWlyKGNtKTsgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2hvd0Nyb3NzSGFpcihjbSkge1xuICAgIHZhciBsaW5lRGl2ID0gY20uZGlzcGxheS5saW5lRGl2O1xuICAgIGFkZENsYXNzKGxpbmVEaXYsIFwiQ29kZU1pcnJvci1jcm9zc2hhaXJcIik7XG5cbiAgICBmdW5jdGlvbiB1cChlKSB7XG4gICAgICBpZiAoZS5rZXlDb2RlID09IDE4IHx8ICFlLmFsdEtleSkge1xuICAgICAgICBybUNsYXNzKGxpbmVEaXYsIFwiQ29kZU1pcnJvci1jcm9zc2hhaXJcIik7XG4gICAgICAgIG9mZihkb2N1bWVudCwgXCJrZXl1cFwiLCB1cCk7XG4gICAgICAgIG9mZihkb2N1bWVudCwgXCJtb3VzZW92ZXJcIiwgdXApO1xuICAgICAgfVxuICAgIH1cbiAgICBvbihkb2N1bWVudCwgXCJrZXl1cFwiLCB1cCk7XG4gICAgb24oZG9jdW1lbnQsIFwibW91c2VvdmVyXCIsIHVwKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uS2V5VXAoZSkge1xuICAgIGlmIChlLmtleUNvZGUgPT0gMTYpIHsgdGhpcy5kb2Muc2VsLnNoaWZ0ID0gZmFsc2U7IH1cbiAgICBzaWduYWxET01FdmVudCh0aGlzLCBlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uS2V5UHJlc3MoZSkge1xuICAgIHZhciBjbSA9IHRoaXM7XG4gICAgaWYgKGUudGFyZ2V0ICYmIGUudGFyZ2V0ICE9IGNtLmRpc3BsYXkuaW5wdXQuZ2V0RmllbGQoKSkgeyByZXR1cm4gfVxuICAgIGlmIChldmVudEluV2lkZ2V0KGNtLmRpc3BsYXksIGUpIHx8IHNpZ25hbERPTUV2ZW50KGNtLCBlKSB8fCBlLmN0cmxLZXkgJiYgIWUuYWx0S2V5IHx8IG1hYyAmJiBlLm1ldGFLZXkpIHsgcmV0dXJuIH1cbiAgICB2YXIga2V5Q29kZSA9IGUua2V5Q29kZSwgY2hhckNvZGUgPSBlLmNoYXJDb2RlO1xuICAgIGlmIChwcmVzdG8gJiYga2V5Q29kZSA9PSBsYXN0U3RvcHBlZEtleSkge2xhc3RTdG9wcGVkS2V5ID0gbnVsbDsgZV9wcmV2ZW50RGVmYXVsdChlKTsgcmV0dXJufVxuICAgIGlmICgocHJlc3RvICYmICghZS53aGljaCB8fCBlLndoaWNoIDwgMTApKSAmJiBoYW5kbGVLZXlCaW5kaW5nKGNtLCBlKSkgeyByZXR1cm4gfVxuICAgIHZhciBjaCA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUgPT0gbnVsbCA/IGtleUNvZGUgOiBjaGFyQ29kZSk7XG4gICAgLy8gU29tZSBicm93c2VycyBmaXJlIGtleXByZXNzIGV2ZW50cyBmb3IgYmFja3NwYWNlXG4gICAgaWYgKGNoID09IFwiXFx4MDhcIikgeyByZXR1cm4gfVxuICAgIGlmIChoYW5kbGVDaGFyQmluZGluZyhjbSwgZSwgY2gpKSB7IHJldHVybiB9XG4gICAgY20uZGlzcGxheS5pbnB1dC5vbktleVByZXNzKGUpO1xuICB9XG5cbiAgdmFyIERPVUJMRUNMSUNLX0RFTEFZID0gNDAwO1xuXG4gIHZhciBQYXN0Q2xpY2sgPSBmdW5jdGlvbih0aW1lLCBwb3MsIGJ1dHRvbikge1xuICAgIHRoaXMudGltZSA9IHRpbWU7XG4gICAgdGhpcy5wb3MgPSBwb3M7XG4gICAgdGhpcy5idXR0b24gPSBidXR0b247XG4gIH07XG5cbiAgUGFzdENsaWNrLnByb3RvdHlwZS5jb21wYXJlID0gZnVuY3Rpb24gKHRpbWUsIHBvcywgYnV0dG9uKSB7XG4gICAgcmV0dXJuIHRoaXMudGltZSArIERPVUJMRUNMSUNLX0RFTEFZID4gdGltZSAmJlxuICAgICAgY21wKHBvcywgdGhpcy5wb3MpID09IDAgJiYgYnV0dG9uID09IHRoaXMuYnV0dG9uXG4gIH07XG5cbiAgdmFyIGxhc3RDbGljaywgbGFzdERvdWJsZUNsaWNrO1xuICBmdW5jdGlvbiBjbGlja1JlcGVhdChwb3MsIGJ1dHRvbikge1xuICAgIHZhciBub3cgPSArbmV3IERhdGU7XG4gICAgaWYgKGxhc3REb3VibGVDbGljayAmJiBsYXN0RG91YmxlQ2xpY2suY29tcGFyZShub3csIHBvcywgYnV0dG9uKSkge1xuICAgICAgbGFzdENsaWNrID0gbGFzdERvdWJsZUNsaWNrID0gbnVsbDtcbiAgICAgIHJldHVybiBcInRyaXBsZVwiXG4gICAgfSBlbHNlIGlmIChsYXN0Q2xpY2sgJiYgbGFzdENsaWNrLmNvbXBhcmUobm93LCBwb3MsIGJ1dHRvbikpIHtcbiAgICAgIGxhc3REb3VibGVDbGljayA9IG5ldyBQYXN0Q2xpY2sobm93LCBwb3MsIGJ1dHRvbik7XG4gICAgICBsYXN0Q2xpY2sgPSBudWxsO1xuICAgICAgcmV0dXJuIFwiZG91YmxlXCJcbiAgICB9IGVsc2Uge1xuICAgICAgbGFzdENsaWNrID0gbmV3IFBhc3RDbGljayhub3csIHBvcywgYnV0dG9uKTtcbiAgICAgIGxhc3REb3VibGVDbGljayA9IG51bGw7XG4gICAgICByZXR1cm4gXCJzaW5nbGVcIlxuICAgIH1cbiAgfVxuXG4gIC8vIEEgbW91c2UgZG93biBjYW4gYmUgYSBzaW5nbGUgY2xpY2ssIGRvdWJsZSBjbGljaywgdHJpcGxlIGNsaWNrLFxuICAvLyBzdGFydCBvZiBzZWxlY3Rpb24gZHJhZywgc3RhcnQgb2YgdGV4dCBkcmFnLCBuZXcgY3Vyc29yXG4gIC8vIChjdHJsLWNsaWNrKSwgcmVjdGFuZ2xlIGRyYWcgKGFsdC1kcmFnKSwgb3IgeHdpblxuICAvLyBtaWRkbGUtY2xpY2stcGFzdGUuIE9yIGl0IG1pZ2h0IGJlIGEgY2xpY2sgb24gc29tZXRoaW5nIHdlIHNob3VsZFxuICAvLyBub3QgaW50ZXJmZXJlIHdpdGgsIHN1Y2ggYXMgYSBzY3JvbGxiYXIgb3Igd2lkZ2V0LlxuICBmdW5jdGlvbiBvbk1vdXNlRG93bihlKSB7XG4gICAgdmFyIGNtID0gdGhpcywgZGlzcGxheSA9IGNtLmRpc3BsYXk7XG4gICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlKSB8fCBkaXNwbGF5LmFjdGl2ZVRvdWNoICYmIGRpc3BsYXkuaW5wdXQuc3VwcG9ydHNUb3VjaCgpKSB7IHJldHVybiB9XG4gICAgZGlzcGxheS5pbnB1dC5lbnN1cmVQb2xsZWQoKTtcbiAgICBkaXNwbGF5LnNoaWZ0ID0gZS5zaGlmdEtleTtcblxuICAgIGlmIChldmVudEluV2lkZ2V0KGRpc3BsYXksIGUpKSB7XG4gICAgICBpZiAoIXdlYmtpdCkge1xuICAgICAgICAvLyBCcmllZmx5IHR1cm4gb2ZmIGRyYWdnYWJpbGl0eSwgdG8gYWxsb3cgd2lkZ2V0cyB0byBkb1xuICAgICAgICAvLyBub3JtYWwgZHJhZ2dpbmcgdGhpbmdzLlxuICAgICAgICBkaXNwbGF5LnNjcm9sbGVyLmRyYWdnYWJsZSA9IGZhbHNlO1xuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIGRpc3BsYXkuc2Nyb2xsZXIuZHJhZ2dhYmxlID0gdHJ1ZTsgfSwgMTAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAoY2xpY2tJbkd1dHRlcihjbSwgZSkpIHsgcmV0dXJuIH1cbiAgICB2YXIgcG9zID0gcG9zRnJvbU1vdXNlKGNtLCBlKSwgYnV0dG9uID0gZV9idXR0b24oZSksIHJlcGVhdCA9IHBvcyA/IGNsaWNrUmVwZWF0KHBvcywgYnV0dG9uKSA6IFwic2luZ2xlXCI7XG4gICAgd2luKGNtKS5mb2N1cygpO1xuXG4gICAgLy8gIzMyNjE6IG1ha2Ugc3VyZSwgdGhhdCB3ZSdyZSBub3Qgc3RhcnRpbmcgYSBzZWNvbmQgc2VsZWN0aW9uXG4gICAgaWYgKGJ1dHRvbiA9PSAxICYmIGNtLnN0YXRlLnNlbGVjdGluZ1RleHQpXG4gICAgICB7IGNtLnN0YXRlLnNlbGVjdGluZ1RleHQoZSk7IH1cblxuICAgIGlmIChwb3MgJiYgaGFuZGxlTWFwcGVkQnV0dG9uKGNtLCBidXR0b24sIHBvcywgcmVwZWF0LCBlKSkgeyByZXR1cm4gfVxuXG4gICAgaWYgKGJ1dHRvbiA9PSAxKSB7XG4gICAgICBpZiAocG9zKSB7IGxlZnRCdXR0b25Eb3duKGNtLCBwb3MsIHJlcGVhdCwgZSk7IH1cbiAgICAgIGVsc2UgaWYgKGVfdGFyZ2V0KGUpID09IGRpc3BsYXkuc2Nyb2xsZXIpIHsgZV9wcmV2ZW50RGVmYXVsdChlKTsgfVxuICAgIH0gZWxzZSBpZiAoYnV0dG9uID09IDIpIHtcbiAgICAgIGlmIChwb3MpIHsgZXh0ZW5kU2VsZWN0aW9uKGNtLmRvYywgcG9zKTsgfVxuICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiBkaXNwbGF5LmlucHV0LmZvY3VzKCk7IH0sIDIwKTtcbiAgICB9IGVsc2UgaWYgKGJ1dHRvbiA9PSAzKSB7XG4gICAgICBpZiAoY2FwdHVyZVJpZ2h0Q2xpY2spIHsgY20uZGlzcGxheS5pbnB1dC5vbkNvbnRleHRNZW51KGUpOyB9XG4gICAgICBlbHNlIHsgZGVsYXlCbHVyRXZlbnQoY20pOyB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlTWFwcGVkQnV0dG9uKGNtLCBidXR0b24sIHBvcywgcmVwZWF0LCBldmVudCkge1xuICAgIHZhciBuYW1lID0gXCJDbGlja1wiO1xuICAgIGlmIChyZXBlYXQgPT0gXCJkb3VibGVcIikgeyBuYW1lID0gXCJEb3VibGVcIiArIG5hbWU7IH1cbiAgICBlbHNlIGlmIChyZXBlYXQgPT0gXCJ0cmlwbGVcIikgeyBuYW1lID0gXCJUcmlwbGVcIiArIG5hbWU7IH1cbiAgICBuYW1lID0gKGJ1dHRvbiA9PSAxID8gXCJMZWZ0XCIgOiBidXR0b24gPT0gMiA/IFwiTWlkZGxlXCIgOiBcIlJpZ2h0XCIpICsgbmFtZTtcblxuICAgIHJldHVybiBkaXNwYXRjaEtleShjbSwgIGFkZE1vZGlmaWVyTmFtZXMobmFtZSwgZXZlbnQpLCBldmVudCwgZnVuY3Rpb24gKGJvdW5kKSB7XG4gICAgICBpZiAodHlwZW9mIGJvdW5kID09IFwic3RyaW5nXCIpIHsgYm91bmQgPSBjb21tYW5kc1tib3VuZF07IH1cbiAgICAgIGlmICghYm91bmQpIHsgcmV0dXJuIGZhbHNlIH1cbiAgICAgIHZhciBkb25lID0gZmFsc2U7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoY20uaXNSZWFkT25seSgpKSB7IGNtLnN0YXRlLnN1cHByZXNzRWRpdHMgPSB0cnVlOyB9XG4gICAgICAgIGRvbmUgPSBib3VuZChjbSwgcG9zKSAhPSBQYXNzO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgY20uc3RhdGUuc3VwcHJlc3NFZGl0cyA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRvbmVcbiAgICB9KVxuICB9XG5cbiAgZnVuY3Rpb24gY29uZmlndXJlTW91c2UoY20sIHJlcGVhdCwgZXZlbnQpIHtcbiAgICB2YXIgb3B0aW9uID0gY20uZ2V0T3B0aW9uKFwiY29uZmlndXJlTW91c2VcIik7XG4gICAgdmFyIHZhbHVlID0gb3B0aW9uID8gb3B0aW9uKGNtLCByZXBlYXQsIGV2ZW50KSA6IHt9O1xuICAgIGlmICh2YWx1ZS51bml0ID09IG51bGwpIHtcbiAgICAgIHZhciByZWN0ID0gY2hyb21lT1MgPyBldmVudC5zaGlmdEtleSAmJiBldmVudC5tZXRhS2V5IDogZXZlbnQuYWx0S2V5O1xuICAgICAgdmFsdWUudW5pdCA9IHJlY3QgPyBcInJlY3RhbmdsZVwiIDogcmVwZWF0ID09IFwic2luZ2xlXCIgPyBcImNoYXJcIiA6IHJlcGVhdCA9PSBcImRvdWJsZVwiID8gXCJ3b3JkXCIgOiBcImxpbmVcIjtcbiAgICB9XG4gICAgaWYgKHZhbHVlLmV4dGVuZCA9PSBudWxsIHx8IGNtLmRvYy5leHRlbmQpIHsgdmFsdWUuZXh0ZW5kID0gY20uZG9jLmV4dGVuZCB8fCBldmVudC5zaGlmdEtleTsgfVxuICAgIGlmICh2YWx1ZS5hZGROZXcgPT0gbnVsbCkgeyB2YWx1ZS5hZGROZXcgPSBtYWMgPyBldmVudC5tZXRhS2V5IDogZXZlbnQuY3RybEtleTsgfVxuICAgIGlmICh2YWx1ZS5tb3ZlT25EcmFnID09IG51bGwpIHsgdmFsdWUubW92ZU9uRHJhZyA9ICEobWFjID8gZXZlbnQuYWx0S2V5IDogZXZlbnQuY3RybEtleSk7IH1cbiAgICByZXR1cm4gdmFsdWVcbiAgfVxuXG4gIGZ1bmN0aW9uIGxlZnRCdXR0b25Eb3duKGNtLCBwb3MsIHJlcGVhdCwgZXZlbnQpIHtcbiAgICBpZiAoaWUpIHsgc2V0VGltZW91dChiaW5kKGVuc3VyZUZvY3VzLCBjbSksIDApOyB9XG4gICAgZWxzZSB7IGNtLmN1ck9wLmZvY3VzID0gYWN0aXZlRWx0KHJvb3QoY20pKTsgfVxuXG4gICAgdmFyIGJlaGF2aW9yID0gY29uZmlndXJlTW91c2UoY20sIHJlcGVhdCwgZXZlbnQpO1xuXG4gICAgdmFyIHNlbCA9IGNtLmRvYy5zZWwsIGNvbnRhaW5lZDtcbiAgICBpZiAoY20ub3B0aW9ucy5kcmFnRHJvcCAmJiBkcmFnQW5kRHJvcCAmJiAhY20uaXNSZWFkT25seSgpICYmXG4gICAgICAgIHJlcGVhdCA9PSBcInNpbmdsZVwiICYmIChjb250YWluZWQgPSBzZWwuY29udGFpbnMocG9zKSkgPiAtMSAmJlxuICAgICAgICAoY21wKChjb250YWluZWQgPSBzZWwucmFuZ2VzW2NvbnRhaW5lZF0pLmZyb20oKSwgcG9zKSA8IDAgfHwgcG9zLnhSZWwgPiAwKSAmJlxuICAgICAgICAoY21wKGNvbnRhaW5lZC50bygpLCBwb3MpID4gMCB8fCBwb3MueFJlbCA8IDApKVxuICAgICAgeyBsZWZ0QnV0dG9uU3RhcnREcmFnKGNtLCBldmVudCwgcG9zLCBiZWhhdmlvcik7IH1cbiAgICBlbHNlXG4gICAgICB7IGxlZnRCdXR0b25TZWxlY3QoY20sIGV2ZW50LCBwb3MsIGJlaGF2aW9yKTsgfVxuICB9XG5cbiAgLy8gU3RhcnQgYSB0ZXh0IGRyYWcuIFdoZW4gaXQgZW5kcywgc2VlIGlmIGFueSBkcmFnZ2luZyBhY3R1YWxseVxuICAvLyBoYXBwZW4sIGFuZCB0cmVhdCBhcyBhIGNsaWNrIGlmIGl0IGRpZG4ndC5cbiAgZnVuY3Rpb24gbGVmdEJ1dHRvblN0YXJ0RHJhZyhjbSwgZXZlbnQsIHBvcywgYmVoYXZpb3IpIHtcbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIG1vdmVkID0gZmFsc2U7XG4gICAgdmFyIGRyYWdFbmQgPSBvcGVyYXRpb24oY20sIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAod2Via2l0KSB7IGRpc3BsYXkuc2Nyb2xsZXIuZHJhZ2dhYmxlID0gZmFsc2U7IH1cbiAgICAgIGNtLnN0YXRlLmRyYWdnaW5nVGV4dCA9IGZhbHNlO1xuICAgICAgaWYgKGNtLnN0YXRlLmRlbGF5aW5nQmx1ckV2ZW50KSB7XG4gICAgICAgIGlmIChjbS5oYXNGb2N1cygpKSB7IGNtLnN0YXRlLmRlbGF5aW5nQmx1ckV2ZW50ID0gZmFsc2U7IH1cbiAgICAgICAgZWxzZSB7IGRlbGF5Qmx1ckV2ZW50KGNtKTsgfVxuICAgICAgfVxuICAgICAgb2ZmKGRpc3BsYXkud3JhcHBlci5vd25lckRvY3VtZW50LCBcIm1vdXNldXBcIiwgZHJhZ0VuZCk7XG4gICAgICBvZmYoZGlzcGxheS53cmFwcGVyLm93bmVyRG9jdW1lbnQsIFwibW91c2Vtb3ZlXCIsIG1vdXNlTW92ZSk7XG4gICAgICBvZmYoZGlzcGxheS5zY3JvbGxlciwgXCJkcmFnc3RhcnRcIiwgZHJhZ1N0YXJ0KTtcbiAgICAgIG9mZihkaXNwbGF5LnNjcm9sbGVyLCBcImRyb3BcIiwgZHJhZ0VuZCk7XG4gICAgICBpZiAoIW1vdmVkKSB7XG4gICAgICAgIGVfcHJldmVudERlZmF1bHQoZSk7XG4gICAgICAgIGlmICghYmVoYXZpb3IuYWRkTmV3KVxuICAgICAgICAgIHsgZXh0ZW5kU2VsZWN0aW9uKGNtLmRvYywgcG9zLCBudWxsLCBudWxsLCBiZWhhdmlvci5leHRlbmQpOyB9XG4gICAgICAgIC8vIFdvcmsgYXJvdW5kIHVuZXhwbGFpbmFibGUgZm9jdXMgcHJvYmxlbSBpbiBJRTkgKCMyMTI3KSBhbmQgQ2hyb21lICgjMzA4MSlcbiAgICAgICAgaWYgKCh3ZWJraXQgJiYgIXNhZmFyaSkgfHwgaWUgJiYgaWVfdmVyc2lvbiA9PSA5KVxuICAgICAgICAgIHsgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7ZGlzcGxheS53cmFwcGVyLm93bmVyRG9jdW1lbnQuYm9keS5mb2N1cyh7cHJldmVudFNjcm9sbDogdHJ1ZX0pOyBkaXNwbGF5LmlucHV0LmZvY3VzKCk7fSwgMjApOyB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICB7IGRpc3BsYXkuaW5wdXQuZm9jdXMoKTsgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHZhciBtb3VzZU1vdmUgPSBmdW5jdGlvbihlMikge1xuICAgICAgbW92ZWQgPSBtb3ZlZCB8fCBNYXRoLmFicyhldmVudC5jbGllbnRYIC0gZTIuY2xpZW50WCkgKyBNYXRoLmFicyhldmVudC5jbGllbnRZIC0gZTIuY2xpZW50WSkgPj0gMTA7XG4gICAgfTtcbiAgICB2YXIgZHJhZ1N0YXJ0ID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gbW92ZWQgPSB0cnVlOyB9O1xuICAgIC8vIExldCB0aGUgZHJhZyBoYW5kbGVyIGhhbmRsZSB0aGlzLlxuICAgIGlmICh3ZWJraXQpIHsgZGlzcGxheS5zY3JvbGxlci5kcmFnZ2FibGUgPSB0cnVlOyB9XG4gICAgY20uc3RhdGUuZHJhZ2dpbmdUZXh0ID0gZHJhZ0VuZDtcbiAgICBkcmFnRW5kLmNvcHkgPSAhYmVoYXZpb3IubW92ZU9uRHJhZztcbiAgICBvbihkaXNwbGF5LndyYXBwZXIub3duZXJEb2N1bWVudCwgXCJtb3VzZXVwXCIsIGRyYWdFbmQpO1xuICAgIG9uKGRpc3BsYXkud3JhcHBlci5vd25lckRvY3VtZW50LCBcIm1vdXNlbW92ZVwiLCBtb3VzZU1vdmUpO1xuICAgIG9uKGRpc3BsYXkuc2Nyb2xsZXIsIFwiZHJhZ3N0YXJ0XCIsIGRyYWdTdGFydCk7XG4gICAgb24oZGlzcGxheS5zY3JvbGxlciwgXCJkcm9wXCIsIGRyYWdFbmQpO1xuXG4gICAgY20uc3RhdGUuZGVsYXlpbmdCbHVyRXZlbnQgPSB0cnVlO1xuICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gZGlzcGxheS5pbnB1dC5mb2N1cygpOyB9LCAyMCk7XG4gICAgLy8gSUUncyBhcHByb2FjaCB0byBkcmFnZ2FibGVcbiAgICBpZiAoZGlzcGxheS5zY3JvbGxlci5kcmFnRHJvcCkgeyBkaXNwbGF5LnNjcm9sbGVyLmRyYWdEcm9wKCk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJhbmdlRm9yVW5pdChjbSwgcG9zLCB1bml0KSB7XG4gICAgaWYgKHVuaXQgPT0gXCJjaGFyXCIpIHsgcmV0dXJuIG5ldyBSYW5nZShwb3MsIHBvcykgfVxuICAgIGlmICh1bml0ID09IFwid29yZFwiKSB7IHJldHVybiBjbS5maW5kV29yZEF0KHBvcykgfVxuICAgIGlmICh1bml0ID09IFwibGluZVwiKSB7IHJldHVybiBuZXcgUmFuZ2UoUG9zKHBvcy5saW5lLCAwKSwgY2xpcFBvcyhjbS5kb2MsIFBvcyhwb3MubGluZSArIDEsIDApKSkgfVxuICAgIHZhciByZXN1bHQgPSB1bml0KGNtLCBwb3MpO1xuICAgIHJldHVybiBuZXcgUmFuZ2UocmVzdWx0LmZyb20sIHJlc3VsdC50bylcbiAgfVxuXG4gIC8vIE5vcm1hbCBzZWxlY3Rpb24sIGFzIG9wcG9zZWQgdG8gdGV4dCBkcmFnZ2luZy5cbiAgZnVuY3Rpb24gbGVmdEJ1dHRvblNlbGVjdChjbSwgZXZlbnQsIHN0YXJ0LCBiZWhhdmlvcikge1xuICAgIGlmIChpZSkgeyBkZWxheUJsdXJFdmVudChjbSk7IH1cbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXksIGRvYyA9IGNtLmRvYztcbiAgICBlX3ByZXZlbnREZWZhdWx0KGV2ZW50KTtcblxuICAgIHZhciBvdXJSYW5nZSwgb3VySW5kZXgsIHN0YXJ0U2VsID0gZG9jLnNlbCwgcmFuZ2VzID0gc3RhcnRTZWwucmFuZ2VzO1xuICAgIGlmIChiZWhhdmlvci5hZGROZXcgJiYgIWJlaGF2aW9yLmV4dGVuZCkge1xuICAgICAgb3VySW5kZXggPSBkb2Muc2VsLmNvbnRhaW5zKHN0YXJ0KTtcbiAgICAgIGlmIChvdXJJbmRleCA+IC0xKVxuICAgICAgICB7IG91clJhbmdlID0gcmFuZ2VzW291ckluZGV4XTsgfVxuICAgICAgZWxzZVxuICAgICAgICB7IG91clJhbmdlID0gbmV3IFJhbmdlKHN0YXJ0LCBzdGFydCk7IH1cbiAgICB9IGVsc2Uge1xuICAgICAgb3VyUmFuZ2UgPSBkb2Muc2VsLnByaW1hcnkoKTtcbiAgICAgIG91ckluZGV4ID0gZG9jLnNlbC5wcmltSW5kZXg7XG4gICAgfVxuXG4gICAgaWYgKGJlaGF2aW9yLnVuaXQgPT0gXCJyZWN0YW5nbGVcIikge1xuICAgICAgaWYgKCFiZWhhdmlvci5hZGROZXcpIHsgb3VyUmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnQsIHN0YXJ0KTsgfVxuICAgICAgc3RhcnQgPSBwb3NGcm9tTW91c2UoY20sIGV2ZW50LCB0cnVlLCB0cnVlKTtcbiAgICAgIG91ckluZGV4ID0gLTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByYW5nZSA9IHJhbmdlRm9yVW5pdChjbSwgc3RhcnQsIGJlaGF2aW9yLnVuaXQpO1xuICAgICAgaWYgKGJlaGF2aW9yLmV4dGVuZClcbiAgICAgICAgeyBvdXJSYW5nZSA9IGV4dGVuZFJhbmdlKG91clJhbmdlLCByYW5nZS5hbmNob3IsIHJhbmdlLmhlYWQsIGJlaGF2aW9yLmV4dGVuZCk7IH1cbiAgICAgIGVsc2VcbiAgICAgICAgeyBvdXJSYW5nZSA9IHJhbmdlOyB9XG4gICAgfVxuXG4gICAgaWYgKCFiZWhhdmlvci5hZGROZXcpIHtcbiAgICAgIG91ckluZGV4ID0gMDtcbiAgICAgIHNldFNlbGVjdGlvbihkb2MsIG5ldyBTZWxlY3Rpb24oW291clJhbmdlXSwgMCksIHNlbF9tb3VzZSk7XG4gICAgICBzdGFydFNlbCA9IGRvYy5zZWw7XG4gICAgfSBlbHNlIGlmIChvdXJJbmRleCA9PSAtMSkge1xuICAgICAgb3VySW5kZXggPSByYW5nZXMubGVuZ3RoO1xuICAgICAgc2V0U2VsZWN0aW9uKGRvYywgbm9ybWFsaXplU2VsZWN0aW9uKGNtLCByYW5nZXMuY29uY2F0KFtvdXJSYW5nZV0pLCBvdXJJbmRleCksXG4gICAgICAgICAgICAgICAgICAge3Njcm9sbDogZmFsc2UsIG9yaWdpbjogXCIqbW91c2VcIn0pO1xuICAgIH0gZWxzZSBpZiAocmFuZ2VzLmxlbmd0aCA+IDEgJiYgcmFuZ2VzW291ckluZGV4XS5lbXB0eSgpICYmIGJlaGF2aW9yLnVuaXQgPT0gXCJjaGFyXCIgJiYgIWJlaGF2aW9yLmV4dGVuZCkge1xuICAgICAgc2V0U2VsZWN0aW9uKGRvYywgbm9ybWFsaXplU2VsZWN0aW9uKGNtLCByYW5nZXMuc2xpY2UoMCwgb3VySW5kZXgpLmNvbmNhdChyYW5nZXMuc2xpY2Uob3VySW5kZXggKyAxKSksIDApLFxuICAgICAgICAgICAgICAgICAgIHtzY3JvbGw6IGZhbHNlLCBvcmlnaW46IFwiKm1vdXNlXCJ9KTtcbiAgICAgIHN0YXJ0U2VsID0gZG9jLnNlbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVwbGFjZU9uZVNlbGVjdGlvbihkb2MsIG91ckluZGV4LCBvdXJSYW5nZSwgc2VsX21vdXNlKTtcbiAgICB9XG5cbiAgICB2YXIgbGFzdFBvcyA9IHN0YXJ0O1xuICAgIGZ1bmN0aW9uIGV4dGVuZFRvKHBvcykge1xuICAgICAgaWYgKGNtcChsYXN0UG9zLCBwb3MpID09IDApIHsgcmV0dXJuIH1cbiAgICAgIGxhc3RQb3MgPSBwb3M7XG5cbiAgICAgIGlmIChiZWhhdmlvci51bml0ID09IFwicmVjdGFuZ2xlXCIpIHtcbiAgICAgICAgdmFyIHJhbmdlcyA9IFtdLCB0YWJTaXplID0gY20ub3B0aW9ucy50YWJTaXplO1xuICAgICAgICB2YXIgc3RhcnRDb2wgPSBjb3VudENvbHVtbihnZXRMaW5lKGRvYywgc3RhcnQubGluZSkudGV4dCwgc3RhcnQuY2gsIHRhYlNpemUpO1xuICAgICAgICB2YXIgcG9zQ29sID0gY291bnRDb2x1bW4oZ2V0TGluZShkb2MsIHBvcy5saW5lKS50ZXh0LCBwb3MuY2gsIHRhYlNpemUpO1xuICAgICAgICB2YXIgbGVmdCA9IE1hdGgubWluKHN0YXJ0Q29sLCBwb3NDb2wpLCByaWdodCA9IE1hdGgubWF4KHN0YXJ0Q29sLCBwb3NDb2wpO1xuICAgICAgICBmb3IgKHZhciBsaW5lID0gTWF0aC5taW4oc3RhcnQubGluZSwgcG9zLmxpbmUpLCBlbmQgPSBNYXRoLm1pbihjbS5sYXN0TGluZSgpLCBNYXRoLm1heChzdGFydC5saW5lLCBwb3MubGluZSkpO1xuICAgICAgICAgICAgIGxpbmUgPD0gZW5kOyBsaW5lKyspIHtcbiAgICAgICAgICB2YXIgdGV4dCA9IGdldExpbmUoZG9jLCBsaW5lKS50ZXh0LCBsZWZ0UG9zID0gZmluZENvbHVtbih0ZXh0LCBsZWZ0LCB0YWJTaXplKTtcbiAgICAgICAgICBpZiAobGVmdCA9PSByaWdodClcbiAgICAgICAgICAgIHsgcmFuZ2VzLnB1c2gobmV3IFJhbmdlKFBvcyhsaW5lLCBsZWZ0UG9zKSwgUG9zKGxpbmUsIGxlZnRQb3MpKSk7IH1cbiAgICAgICAgICBlbHNlIGlmICh0ZXh0Lmxlbmd0aCA+IGxlZnRQb3MpXG4gICAgICAgICAgICB7IHJhbmdlcy5wdXNoKG5ldyBSYW5nZShQb3MobGluZSwgbGVmdFBvcyksIFBvcyhsaW5lLCBmaW5kQ29sdW1uKHRleHQsIHJpZ2h0LCB0YWJTaXplKSkpKTsgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghcmFuZ2VzLmxlbmd0aCkgeyByYW5nZXMucHVzaChuZXcgUmFuZ2Uoc3RhcnQsIHN0YXJ0KSk7IH1cbiAgICAgICAgc2V0U2VsZWN0aW9uKGRvYywgbm9ybWFsaXplU2VsZWN0aW9uKGNtLCBzdGFydFNlbC5yYW5nZXMuc2xpY2UoMCwgb3VySW5kZXgpLmNvbmNhdChyYW5nZXMpLCBvdXJJbmRleCksXG4gICAgICAgICAgICAgICAgICAgICB7b3JpZ2luOiBcIiptb3VzZVwiLCBzY3JvbGw6IGZhbHNlfSk7XG4gICAgICAgIGNtLnNjcm9sbEludG9WaWV3KHBvcyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgb2xkUmFuZ2UgPSBvdXJSYW5nZTtcbiAgICAgICAgdmFyIHJhbmdlID0gcmFuZ2VGb3JVbml0KGNtLCBwb3MsIGJlaGF2aW9yLnVuaXQpO1xuICAgICAgICB2YXIgYW5jaG9yID0gb2xkUmFuZ2UuYW5jaG9yLCBoZWFkO1xuICAgICAgICBpZiAoY21wKHJhbmdlLmFuY2hvciwgYW5jaG9yKSA+IDApIHtcbiAgICAgICAgICBoZWFkID0gcmFuZ2UuaGVhZDtcbiAgICAgICAgICBhbmNob3IgPSBtaW5Qb3Mob2xkUmFuZ2UuZnJvbSgpLCByYW5nZS5hbmNob3IpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGhlYWQgPSByYW5nZS5hbmNob3I7XG4gICAgICAgICAgYW5jaG9yID0gbWF4UG9zKG9sZFJhbmdlLnRvKCksIHJhbmdlLmhlYWQpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByYW5nZXMkMSA9IHN0YXJ0U2VsLnJhbmdlcy5zbGljZSgwKTtcbiAgICAgICAgcmFuZ2VzJDFbb3VySW5kZXhdID0gYmlkaVNpbXBsaWZ5KGNtLCBuZXcgUmFuZ2UoY2xpcFBvcyhkb2MsIGFuY2hvciksIGhlYWQpKTtcbiAgICAgICAgc2V0U2VsZWN0aW9uKGRvYywgbm9ybWFsaXplU2VsZWN0aW9uKGNtLCByYW5nZXMkMSwgb3VySW5kZXgpLCBzZWxfbW91c2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBlZGl0b3JTaXplID0gZGlzcGxheS53cmFwcGVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgIC8vIFVzZWQgdG8gZW5zdXJlIHRpbWVvdXQgcmUtdHJpZXMgZG9uJ3QgZmlyZSB3aGVuIGFub3RoZXIgZXh0ZW5kXG4gICAgLy8gaGFwcGVuZWQgaW4gdGhlIG1lYW50aW1lIChjbGVhclRpbWVvdXQgaXNuJ3QgcmVsaWFibGUgLS0gYXRcbiAgICAvLyBsZWFzdCBvbiBDaHJvbWUsIHRoZSB0aW1lb3V0cyBzdGlsbCBoYXBwZW4gZXZlbiB3aGVuIGNsZWFyZWQsXG4gICAgLy8gaWYgdGhlIGNsZWFyIGhhcHBlbnMgYWZ0ZXIgdGhlaXIgc2NoZWR1bGVkIGZpcmluZyB0aW1lKS5cbiAgICB2YXIgY291bnRlciA9IDA7XG5cbiAgICBmdW5jdGlvbiBleHRlbmQoZSkge1xuICAgICAgdmFyIGN1ckNvdW50ID0gKytjb3VudGVyO1xuICAgICAgdmFyIGN1ciA9IHBvc0Zyb21Nb3VzZShjbSwgZSwgdHJ1ZSwgYmVoYXZpb3IudW5pdCA9PSBcInJlY3RhbmdsZVwiKTtcbiAgICAgIGlmICghY3VyKSB7IHJldHVybiB9XG4gICAgICBpZiAoY21wKGN1ciwgbGFzdFBvcykgIT0gMCkge1xuICAgICAgICBjbS5jdXJPcC5mb2N1cyA9IGFjdGl2ZUVsdChyb290KGNtKSk7XG4gICAgICAgIGV4dGVuZFRvKGN1cik7XG4gICAgICAgIHZhciB2aXNpYmxlID0gdmlzaWJsZUxpbmVzKGRpc3BsYXksIGRvYyk7XG4gICAgICAgIGlmIChjdXIubGluZSA+PSB2aXNpYmxlLnRvIHx8IGN1ci5saW5lIDwgdmlzaWJsZS5mcm9tKVxuICAgICAgICAgIHsgc2V0VGltZW91dChvcGVyYXRpb24oY20sIGZ1bmN0aW9uICgpIHtpZiAoY291bnRlciA9PSBjdXJDb3VudCkgeyBleHRlbmQoZSk7IH19KSwgMTUwKTsgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIG91dHNpZGUgPSBlLmNsaWVudFkgPCBlZGl0b3JTaXplLnRvcCA/IC0yMCA6IGUuY2xpZW50WSA+IGVkaXRvclNpemUuYm90dG9tID8gMjAgOiAwO1xuICAgICAgICBpZiAob3V0c2lkZSkgeyBzZXRUaW1lb3V0KG9wZXJhdGlvbihjbSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChjb3VudGVyICE9IGN1ckNvdW50KSB7IHJldHVybiB9XG4gICAgICAgICAgZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3AgKz0gb3V0c2lkZTtcbiAgICAgICAgICBleHRlbmQoZSk7XG4gICAgICAgIH0pLCA1MCk7IH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkb25lKGUpIHtcbiAgICAgIGNtLnN0YXRlLnNlbGVjdGluZ1RleHQgPSBmYWxzZTtcbiAgICAgIGNvdW50ZXIgPSBJbmZpbml0eTtcbiAgICAgIC8vIElmIGUgaXMgbnVsbCBvciB1bmRlZmluZWQgd2UgaW50ZXJwcmV0IHRoaXMgYXMgc29tZW9uZSB0cnlpbmdcbiAgICAgIC8vIHRvIGV4cGxpY2l0bHkgY2FuY2VsIHRoZSBzZWxlY3Rpb24gcmF0aGVyIHRoYW4gdGhlIHVzZXJcbiAgICAgIC8vIGxldHRpbmcgZ28gb2YgdGhlIG1vdXNlIGJ1dHRvbi5cbiAgICAgIGlmIChlKSB7XG4gICAgICAgIGVfcHJldmVudERlZmF1bHQoZSk7XG4gICAgICAgIGRpc3BsYXkuaW5wdXQuZm9jdXMoKTtcbiAgICAgIH1cbiAgICAgIG9mZihkaXNwbGF5LndyYXBwZXIub3duZXJEb2N1bWVudCwgXCJtb3VzZW1vdmVcIiwgbW92ZSk7XG4gICAgICBvZmYoZGlzcGxheS53cmFwcGVyLm93bmVyRG9jdW1lbnQsIFwibW91c2V1cFwiLCB1cCk7XG4gICAgICBkb2MuaGlzdG9yeS5sYXN0U2VsT3JpZ2luID0gbnVsbDtcbiAgICB9XG5cbiAgICB2YXIgbW92ZSA9IG9wZXJhdGlvbihjbSwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChlLmJ1dHRvbnMgPT09IDAgfHwgIWVfYnV0dG9uKGUpKSB7IGRvbmUoZSk7IH1cbiAgICAgIGVsc2UgeyBleHRlbmQoZSk7IH1cbiAgICB9KTtcbiAgICB2YXIgdXAgPSBvcGVyYXRpb24oY20sIGRvbmUpO1xuICAgIGNtLnN0YXRlLnNlbGVjdGluZ1RleHQgPSB1cDtcbiAgICBvbihkaXNwbGF5LndyYXBwZXIub3duZXJEb2N1bWVudCwgXCJtb3VzZW1vdmVcIiwgbW92ZSk7XG4gICAgb24oZGlzcGxheS53cmFwcGVyLm93bmVyRG9jdW1lbnQsIFwibW91c2V1cFwiLCB1cCk7XG4gIH1cblxuICAvLyBVc2VkIHdoZW4gbW91c2Utc2VsZWN0aW5nIHRvIGFkanVzdCB0aGUgYW5jaG9yIHRvIHRoZSBwcm9wZXIgc2lkZVxuICAvLyBvZiBhIGJpZGkganVtcCBkZXBlbmRpbmcgb24gdGhlIHZpc3VhbCBwb3NpdGlvbiBvZiB0aGUgaGVhZC5cbiAgZnVuY3Rpb24gYmlkaVNpbXBsaWZ5KGNtLCByYW5nZSkge1xuICAgIHZhciBhbmNob3IgPSByYW5nZS5hbmNob3I7XG4gICAgdmFyIGhlYWQgPSByYW5nZS5oZWFkO1xuICAgIHZhciBhbmNob3JMaW5lID0gZ2V0TGluZShjbS5kb2MsIGFuY2hvci5saW5lKTtcbiAgICBpZiAoY21wKGFuY2hvciwgaGVhZCkgPT0gMCAmJiBhbmNob3Iuc3RpY2t5ID09IGhlYWQuc3RpY2t5KSB7IHJldHVybiByYW5nZSB9XG4gICAgdmFyIG9yZGVyID0gZ2V0T3JkZXIoYW5jaG9yTGluZSk7XG4gICAgaWYgKCFvcmRlcikgeyByZXR1cm4gcmFuZ2UgfVxuICAgIHZhciBpbmRleCA9IGdldEJpZGlQYXJ0QXQob3JkZXIsIGFuY2hvci5jaCwgYW5jaG9yLnN0aWNreSksIHBhcnQgPSBvcmRlcltpbmRleF07XG4gICAgaWYgKHBhcnQuZnJvbSAhPSBhbmNob3IuY2ggJiYgcGFydC50byAhPSBhbmNob3IuY2gpIHsgcmV0dXJuIHJhbmdlIH1cbiAgICB2YXIgYm91bmRhcnkgPSBpbmRleCArICgocGFydC5mcm9tID09IGFuY2hvci5jaCkgPT0gKHBhcnQubGV2ZWwgIT0gMSkgPyAwIDogMSk7XG4gICAgaWYgKGJvdW5kYXJ5ID09IDAgfHwgYm91bmRhcnkgPT0gb3JkZXIubGVuZ3RoKSB7IHJldHVybiByYW5nZSB9XG5cbiAgICAvLyBDb21wdXRlIHRoZSByZWxhdGl2ZSB2aXN1YWwgcG9zaXRpb24gb2YgdGhlIGhlYWQgY29tcGFyZWQgdG8gdGhlXG4gICAgLy8gYW5jaG9yICg8MCBpcyB0byB0aGUgbGVmdCwgPjAgdG8gdGhlIHJpZ2h0KVxuICAgIHZhciBsZWZ0U2lkZTtcbiAgICBpZiAoaGVhZC5saW5lICE9IGFuY2hvci5saW5lKSB7XG4gICAgICBsZWZ0U2lkZSA9IChoZWFkLmxpbmUgLSBhbmNob3IubGluZSkgKiAoY20uZG9jLmRpcmVjdGlvbiA9PSBcImx0clwiID8gMSA6IC0xKSA+IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciBoZWFkSW5kZXggPSBnZXRCaWRpUGFydEF0KG9yZGVyLCBoZWFkLmNoLCBoZWFkLnN0aWNreSk7XG4gICAgICB2YXIgZGlyID0gaGVhZEluZGV4IC0gaW5kZXggfHwgKGhlYWQuY2ggLSBhbmNob3IuY2gpICogKHBhcnQubGV2ZWwgPT0gMSA/IC0xIDogMSk7XG4gICAgICBpZiAoaGVhZEluZGV4ID09IGJvdW5kYXJ5IC0gMSB8fCBoZWFkSW5kZXggPT0gYm91bmRhcnkpXG4gICAgICAgIHsgbGVmdFNpZGUgPSBkaXIgPCAwOyB9XG4gICAgICBlbHNlXG4gICAgICAgIHsgbGVmdFNpZGUgPSBkaXIgPiAwOyB9XG4gICAgfVxuXG4gICAgdmFyIHVzZVBhcnQgPSBvcmRlcltib3VuZGFyeSArIChsZWZ0U2lkZSA/IC0xIDogMCldO1xuICAgIHZhciBmcm9tID0gbGVmdFNpZGUgPT0gKHVzZVBhcnQubGV2ZWwgPT0gMSk7XG4gICAgdmFyIGNoID0gZnJvbSA/IHVzZVBhcnQuZnJvbSA6IHVzZVBhcnQudG8sIHN0aWNreSA9IGZyb20gPyBcImFmdGVyXCIgOiBcImJlZm9yZVwiO1xuICAgIHJldHVybiBhbmNob3IuY2ggPT0gY2ggJiYgYW5jaG9yLnN0aWNreSA9PSBzdGlja3kgPyByYW5nZSA6IG5ldyBSYW5nZShuZXcgUG9zKGFuY2hvci5saW5lLCBjaCwgc3RpY2t5KSwgaGVhZClcbiAgfVxuXG5cbiAgLy8gRGV0ZXJtaW5lcyB3aGV0aGVyIGFuIGV2ZW50IGhhcHBlbmVkIGluIHRoZSBndXR0ZXIsIGFuZCBmaXJlcyB0aGVcbiAgLy8gaGFuZGxlcnMgZm9yIHRoZSBjb3JyZXNwb25kaW5nIGV2ZW50LlxuICBmdW5jdGlvbiBndXR0ZXJFdmVudChjbSwgZSwgdHlwZSwgcHJldmVudCkge1xuICAgIHZhciBtWCwgbVk7XG4gICAgaWYgKGUudG91Y2hlcykge1xuICAgICAgbVggPSBlLnRvdWNoZXNbMF0uY2xpZW50WDtcbiAgICAgIG1ZID0gZS50b3VjaGVzWzBdLmNsaWVudFk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRyeSB7IG1YID0gZS5jbGllbnRYOyBtWSA9IGUuY2xpZW50WTsgfVxuICAgICAgY2F0Y2goZSQxKSB7IHJldHVybiBmYWxzZSB9XG4gICAgfVxuICAgIGlmIChtWCA+PSBNYXRoLmZsb29yKGNtLmRpc3BsYXkuZ3V0dGVycy5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodCkpIHsgcmV0dXJuIGZhbHNlIH1cbiAgICBpZiAocHJldmVudCkgeyBlX3ByZXZlbnREZWZhdWx0KGUpOyB9XG5cbiAgICB2YXIgZGlzcGxheSA9IGNtLmRpc3BsYXk7XG4gICAgdmFyIGxpbmVCb3ggPSBkaXNwbGF5LmxpbmVEaXYuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cbiAgICBpZiAobVkgPiBsaW5lQm94LmJvdHRvbSB8fCAhaGFzSGFuZGxlcihjbSwgdHlwZSkpIHsgcmV0dXJuIGVfZGVmYXVsdFByZXZlbnRlZChlKSB9XG4gICAgbVkgLT0gbGluZUJveC50b3AgLSBkaXNwbGF5LnZpZXdPZmZzZXQ7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNtLmRpc3BsYXkuZ3V0dGVyU3BlY3MubGVuZ3RoOyArK2kpIHtcbiAgICAgIHZhciBnID0gZGlzcGxheS5ndXR0ZXJzLmNoaWxkTm9kZXNbaV07XG4gICAgICBpZiAoZyAmJiBnLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0ID49IG1YKSB7XG4gICAgICAgIHZhciBsaW5lID0gbGluZUF0SGVpZ2h0KGNtLmRvYywgbVkpO1xuICAgICAgICB2YXIgZ3V0dGVyID0gY20uZGlzcGxheS5ndXR0ZXJTcGVjc1tpXTtcbiAgICAgICAgc2lnbmFsKGNtLCB0eXBlLCBjbSwgbGluZSwgZ3V0dGVyLmNsYXNzTmFtZSwgZSk7XG4gICAgICAgIHJldHVybiBlX2RlZmF1bHRQcmV2ZW50ZWQoZSlcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjbGlja0luR3V0dGVyKGNtLCBlKSB7XG4gICAgcmV0dXJuIGd1dHRlckV2ZW50KGNtLCBlLCBcImd1dHRlckNsaWNrXCIsIHRydWUpXG4gIH1cblxuICAvLyBDT05URVhUIE1FTlUgSEFORExJTkdcblxuICAvLyBUbyBtYWtlIHRoZSBjb250ZXh0IG1lbnUgd29yaywgd2UgbmVlZCB0byBicmllZmx5IHVuaGlkZSB0aGVcbiAgLy8gdGV4dGFyZWEgKG1ha2luZyBpdCBhcyB1bm9idHJ1c2l2ZSBhcyBwb3NzaWJsZSkgdG8gbGV0IHRoZVxuICAvLyByaWdodC1jbGljayB0YWtlIGVmZmVjdCBvbiBpdC5cbiAgZnVuY3Rpb24gb25Db250ZXh0TWVudShjbSwgZSkge1xuICAgIGlmIChldmVudEluV2lkZ2V0KGNtLmRpc3BsYXksIGUpIHx8IGNvbnRleHRNZW51SW5HdXR0ZXIoY20sIGUpKSB7IHJldHVybiB9XG4gICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlLCBcImNvbnRleHRtZW51XCIpKSB7IHJldHVybiB9XG4gICAgaWYgKCFjYXB0dXJlUmlnaHRDbGljaykgeyBjbS5kaXNwbGF5LmlucHV0Lm9uQ29udGV4dE1lbnUoZSk7IH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnRleHRNZW51SW5HdXR0ZXIoY20sIGUpIHtcbiAgICBpZiAoIWhhc0hhbmRsZXIoY20sIFwiZ3V0dGVyQ29udGV4dE1lbnVcIikpIHsgcmV0dXJuIGZhbHNlIH1cbiAgICByZXR1cm4gZ3V0dGVyRXZlbnQoY20sIGUsIFwiZ3V0dGVyQ29udGV4dE1lbnVcIiwgZmFsc2UpXG4gIH1cblxuICBmdW5jdGlvbiB0aGVtZUNoYW5nZWQoY20pIHtcbiAgICBjbS5kaXNwbGF5LndyYXBwZXIuY2xhc3NOYW1lID0gY20uZGlzcGxheS53cmFwcGVyLmNsYXNzTmFtZS5yZXBsYWNlKC9cXHMqY20tcy1cXFMrL2csIFwiXCIpICtcbiAgICAgIGNtLm9wdGlvbnMudGhlbWUucmVwbGFjZSgvKF58XFxzKVxccyovZywgXCIgY20tcy1cIik7XG4gICAgY2xlYXJDYWNoZXMoY20pO1xuICB9XG5cbiAgdmFyIEluaXQgPSB7dG9TdHJpbmc6IGZ1bmN0aW9uKCl7cmV0dXJuIFwiQ29kZU1pcnJvci5Jbml0XCJ9fTtcblxuICB2YXIgZGVmYXVsdHMgPSB7fTtcbiAgdmFyIG9wdGlvbkhhbmRsZXJzID0ge307XG5cbiAgZnVuY3Rpb24gZGVmaW5lT3B0aW9ucyhDb2RlTWlycm9yKSB7XG4gICAgdmFyIG9wdGlvbkhhbmRsZXJzID0gQ29kZU1pcnJvci5vcHRpb25IYW5kbGVycztcblxuICAgIGZ1bmN0aW9uIG9wdGlvbihuYW1lLCBkZWZsdCwgaGFuZGxlLCBub3RPbkluaXQpIHtcbiAgICAgIENvZGVNaXJyb3IuZGVmYXVsdHNbbmFtZV0gPSBkZWZsdDtcbiAgICAgIGlmIChoYW5kbGUpIHsgb3B0aW9uSGFuZGxlcnNbbmFtZV0gPVxuICAgICAgICBub3RPbkluaXQgPyBmdW5jdGlvbiAoY20sIHZhbCwgb2xkKSB7aWYgKG9sZCAhPSBJbml0KSB7IGhhbmRsZShjbSwgdmFsLCBvbGQpOyB9fSA6IGhhbmRsZTsgfVxuICAgIH1cblxuICAgIENvZGVNaXJyb3IuZGVmaW5lT3B0aW9uID0gb3B0aW9uO1xuXG4gICAgLy8gUGFzc2VkIHRvIG9wdGlvbiBoYW5kbGVycyB3aGVuIHRoZXJlIGlzIG5vIG9sZCB2YWx1ZS5cbiAgICBDb2RlTWlycm9yLkluaXQgPSBJbml0O1xuXG4gICAgLy8gVGhlc2UgdHdvIGFyZSwgb24gaW5pdCwgY2FsbGVkIGZyb20gdGhlIGNvbnN0cnVjdG9yIGJlY2F1c2UgdGhleVxuICAgIC8vIGhhdmUgdG8gYmUgaW5pdGlhbGl6ZWQgYmVmb3JlIHRoZSBlZGl0b3IgY2FuIHN0YXJ0IGF0IGFsbC5cbiAgICBvcHRpb24oXCJ2YWx1ZVwiLCBcIlwiLCBmdW5jdGlvbiAoY20sIHZhbCkgeyByZXR1cm4gY20uc2V0VmFsdWUodmFsKTsgfSwgdHJ1ZSk7XG4gICAgb3B0aW9uKFwibW9kZVwiLCBudWxsLCBmdW5jdGlvbiAoY20sIHZhbCkge1xuICAgICAgY20uZG9jLm1vZGVPcHRpb24gPSB2YWw7XG4gICAgICBsb2FkTW9kZShjbSk7XG4gICAgfSwgdHJ1ZSk7XG5cbiAgICBvcHRpb24oXCJpbmRlbnRVbml0XCIsIDIsIGxvYWRNb2RlLCB0cnVlKTtcbiAgICBvcHRpb24oXCJpbmRlbnRXaXRoVGFic1wiLCBmYWxzZSk7XG4gICAgb3B0aW9uKFwic21hcnRJbmRlbnRcIiwgdHJ1ZSk7XG4gICAgb3B0aW9uKFwidGFiU2l6ZVwiLCA0LCBmdW5jdGlvbiAoY20pIHtcbiAgICAgIHJlc2V0TW9kZVN0YXRlKGNtKTtcbiAgICAgIGNsZWFyQ2FjaGVzKGNtKTtcbiAgICAgIHJlZ0NoYW5nZShjbSk7XG4gICAgfSwgdHJ1ZSk7XG5cbiAgICBvcHRpb24oXCJsaW5lU2VwYXJhdG9yXCIsIG51bGwsIGZ1bmN0aW9uIChjbSwgdmFsKSB7XG4gICAgICBjbS5kb2MubGluZVNlcCA9IHZhbDtcbiAgICAgIGlmICghdmFsKSB7IHJldHVybiB9XG4gICAgICB2YXIgbmV3QnJlYWtzID0gW10sIGxpbmVObyA9IGNtLmRvYy5maXJzdDtcbiAgICAgIGNtLmRvYy5pdGVyKGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgIGZvciAodmFyIHBvcyA9IDA7Oykge1xuICAgICAgICAgIHZhciBmb3VuZCA9IGxpbmUudGV4dC5pbmRleE9mKHZhbCwgcG9zKTtcbiAgICAgICAgICBpZiAoZm91bmQgPT0gLTEpIHsgYnJlYWsgfVxuICAgICAgICAgIHBvcyA9IGZvdW5kICsgdmFsLmxlbmd0aDtcbiAgICAgICAgICBuZXdCcmVha3MucHVzaChQb3MobGluZU5vLCBmb3VuZCkpO1xuICAgICAgICB9XG4gICAgICAgIGxpbmVObysrO1xuICAgICAgfSk7XG4gICAgICBmb3IgKHZhciBpID0gbmV3QnJlYWtzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKVxuICAgICAgICB7IHJlcGxhY2VSYW5nZShjbS5kb2MsIHZhbCwgbmV3QnJlYWtzW2ldLCBQb3MobmV3QnJlYWtzW2ldLmxpbmUsIG5ld0JyZWFrc1tpXS5jaCArIHZhbC5sZW5ndGgpKTsgfVxuICAgIH0pO1xuICAgIG9wdGlvbihcInNwZWNpYWxDaGFyc1wiLCAvW1xcdTAwMDAtXFx1MDAxZlxcdTAwN2YtXFx1MDA5ZlxcdTAwYWRcXHUwNjFjXFx1MjAwYlxcdTIwMGVcXHUyMDBmXFx1MjAyOFxcdTIwMjlcXHUyMDJkXFx1MjAyZVxcdTIwNjZcXHUyMDY3XFx1MjA2OVxcdWZlZmZcXHVmZmY5LVxcdWZmZmNdL2csIGZ1bmN0aW9uIChjbSwgdmFsLCBvbGQpIHtcbiAgICAgIGNtLnN0YXRlLnNwZWNpYWxDaGFycyA9IG5ldyBSZWdFeHAodmFsLnNvdXJjZSArICh2YWwudGVzdChcIlxcdFwiKSA/IFwiXCIgOiBcInxcXHRcIiksIFwiZ1wiKTtcbiAgICAgIGlmIChvbGQgIT0gSW5pdCkgeyBjbS5yZWZyZXNoKCk7IH1cbiAgICB9KTtcbiAgICBvcHRpb24oXCJzcGVjaWFsQ2hhclBsYWNlaG9sZGVyXCIsIGRlZmF1bHRTcGVjaWFsQ2hhclBsYWNlaG9sZGVyLCBmdW5jdGlvbiAoY20pIHsgcmV0dXJuIGNtLnJlZnJlc2goKTsgfSwgdHJ1ZSk7XG4gICAgb3B0aW9uKFwiZWxlY3RyaWNDaGFyc1wiLCB0cnVlKTtcbiAgICBvcHRpb24oXCJpbnB1dFN0eWxlXCIsIG1vYmlsZSA/IFwiY29udGVudGVkaXRhYmxlXCIgOiBcInRleHRhcmVhXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcImlucHV0U3R5bGUgY2FuIG5vdCAoeWV0KSBiZSBjaGFuZ2VkIGluIGEgcnVubmluZyBlZGl0b3JcIikgLy8gRklYTUVcbiAgICB9LCB0cnVlKTtcbiAgICBvcHRpb24oXCJzcGVsbGNoZWNrXCIsIGZhbHNlLCBmdW5jdGlvbiAoY20sIHZhbCkgeyByZXR1cm4gY20uZ2V0SW5wdXRGaWVsZCgpLnNwZWxsY2hlY2sgPSB2YWw7IH0sIHRydWUpO1xuICAgIG9wdGlvbihcImF1dG9jb3JyZWN0XCIsIGZhbHNlLCBmdW5jdGlvbiAoY20sIHZhbCkgeyByZXR1cm4gY20uZ2V0SW5wdXRGaWVsZCgpLmF1dG9jb3JyZWN0ID0gdmFsOyB9LCB0cnVlKTtcbiAgICBvcHRpb24oXCJhdXRvY2FwaXRhbGl6ZVwiLCBmYWxzZSwgZnVuY3Rpb24gKGNtLCB2YWwpIHsgcmV0dXJuIGNtLmdldElucHV0RmllbGQoKS5hdXRvY2FwaXRhbGl6ZSA9IHZhbDsgfSwgdHJ1ZSk7XG4gICAgb3B0aW9uKFwicnRsTW92ZVZpc3VhbGx5XCIsICF3aW5kb3dzKTtcbiAgICBvcHRpb24oXCJ3aG9sZUxpbmVVcGRhdGVCZWZvcmVcIiwgdHJ1ZSk7XG5cbiAgICBvcHRpb24oXCJ0aGVtZVwiLCBcImRlZmF1bHRcIiwgZnVuY3Rpb24gKGNtKSB7XG4gICAgICB0aGVtZUNoYW5nZWQoY20pO1xuICAgICAgdXBkYXRlR3V0dGVycyhjbSk7XG4gICAgfSwgdHJ1ZSk7XG4gICAgb3B0aW9uKFwia2V5TWFwXCIsIFwiZGVmYXVsdFwiLCBmdW5jdGlvbiAoY20sIHZhbCwgb2xkKSB7XG4gICAgICB2YXIgbmV4dCA9IGdldEtleU1hcCh2YWwpO1xuICAgICAgdmFyIHByZXYgPSBvbGQgIT0gSW5pdCAmJiBnZXRLZXlNYXAob2xkKTtcbiAgICAgIGlmIChwcmV2ICYmIHByZXYuZGV0YWNoKSB7IHByZXYuZGV0YWNoKGNtLCBuZXh0KTsgfVxuICAgICAgaWYgKG5leHQuYXR0YWNoKSB7IG5leHQuYXR0YWNoKGNtLCBwcmV2IHx8IG51bGwpOyB9XG4gICAgfSk7XG4gICAgb3B0aW9uKFwiZXh0cmFLZXlzXCIsIG51bGwpO1xuICAgIG9wdGlvbihcImNvbmZpZ3VyZU1vdXNlXCIsIG51bGwpO1xuXG4gICAgb3B0aW9uKFwibGluZVdyYXBwaW5nXCIsIGZhbHNlLCB3cmFwcGluZ0NoYW5nZWQsIHRydWUpO1xuICAgIG9wdGlvbihcImd1dHRlcnNcIiwgW10sIGZ1bmN0aW9uIChjbSwgdmFsKSB7XG4gICAgICBjbS5kaXNwbGF5Lmd1dHRlclNwZWNzID0gZ2V0R3V0dGVycyh2YWwsIGNtLm9wdGlvbnMubGluZU51bWJlcnMpO1xuICAgICAgdXBkYXRlR3V0dGVycyhjbSk7XG4gICAgfSwgdHJ1ZSk7XG4gICAgb3B0aW9uKFwiZml4ZWRHdXR0ZXJcIiwgdHJ1ZSwgZnVuY3Rpb24gKGNtLCB2YWwpIHtcbiAgICAgIGNtLmRpc3BsYXkuZ3V0dGVycy5zdHlsZS5sZWZ0ID0gdmFsID8gY29tcGVuc2F0ZUZvckhTY3JvbGwoY20uZGlzcGxheSkgKyBcInB4XCIgOiBcIjBcIjtcbiAgICAgIGNtLnJlZnJlc2goKTtcbiAgICB9LCB0cnVlKTtcbiAgICBvcHRpb24oXCJjb3Zlckd1dHRlck5leHRUb1Njcm9sbGJhclwiLCBmYWxzZSwgZnVuY3Rpb24gKGNtKSB7IHJldHVybiB1cGRhdGVTY3JvbGxiYXJzKGNtKTsgfSwgdHJ1ZSk7XG4gICAgb3B0aW9uKFwic2Nyb2xsYmFyU3R5bGVcIiwgXCJuYXRpdmVcIiwgZnVuY3Rpb24gKGNtKSB7XG4gICAgICBpbml0U2Nyb2xsYmFycyhjbSk7XG4gICAgICB1cGRhdGVTY3JvbGxiYXJzKGNtKTtcbiAgICAgIGNtLmRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxUb3AoY20uZG9jLnNjcm9sbFRvcCk7XG4gICAgICBjbS5kaXNwbGF5LnNjcm9sbGJhcnMuc2V0U2Nyb2xsTGVmdChjbS5kb2Muc2Nyb2xsTGVmdCk7XG4gICAgfSwgdHJ1ZSk7XG4gICAgb3B0aW9uKFwibGluZU51bWJlcnNcIiwgZmFsc2UsIGZ1bmN0aW9uIChjbSwgdmFsKSB7XG4gICAgICBjbS5kaXNwbGF5Lmd1dHRlclNwZWNzID0gZ2V0R3V0dGVycyhjbS5vcHRpb25zLmd1dHRlcnMsIHZhbCk7XG4gICAgICB1cGRhdGVHdXR0ZXJzKGNtKTtcbiAgICB9LCB0cnVlKTtcbiAgICBvcHRpb24oXCJmaXJzdExpbmVOdW1iZXJcIiwgMSwgdXBkYXRlR3V0dGVycywgdHJ1ZSk7XG4gICAgb3B0aW9uKFwibGluZU51bWJlckZvcm1hdHRlclwiLCBmdW5jdGlvbiAoaW50ZWdlcikgeyByZXR1cm4gaW50ZWdlcjsgfSwgdXBkYXRlR3V0dGVycywgdHJ1ZSk7XG4gICAgb3B0aW9uKFwic2hvd0N1cnNvcldoZW5TZWxlY3RpbmdcIiwgZmFsc2UsIHVwZGF0ZVNlbGVjdGlvbiwgdHJ1ZSk7XG5cbiAgICBvcHRpb24oXCJyZXNldFNlbGVjdGlvbk9uQ29udGV4dE1lbnVcIiwgdHJ1ZSk7XG4gICAgb3B0aW9uKFwibGluZVdpc2VDb3B5Q3V0XCIsIHRydWUpO1xuICAgIG9wdGlvbihcInBhc3RlTGluZXNQZXJTZWxlY3Rpb25cIiwgdHJ1ZSk7XG4gICAgb3B0aW9uKFwic2VsZWN0aW9uc01heVRvdWNoXCIsIGZhbHNlKTtcblxuICAgIG9wdGlvbihcInJlYWRPbmx5XCIsIGZhbHNlLCBmdW5jdGlvbiAoY20sIHZhbCkge1xuICAgICAgaWYgKHZhbCA9PSBcIm5vY3Vyc29yXCIpIHtcbiAgICAgICAgb25CbHVyKGNtKTtcbiAgICAgICAgY20uZGlzcGxheS5pbnB1dC5ibHVyKCk7XG4gICAgICB9XG4gICAgICBjbS5kaXNwbGF5LmlucHV0LnJlYWRPbmx5Q2hhbmdlZCh2YWwpO1xuICAgIH0pO1xuXG4gICAgb3B0aW9uKFwic2NyZWVuUmVhZGVyTGFiZWxcIiwgbnVsbCwgZnVuY3Rpb24gKGNtLCB2YWwpIHtcbiAgICAgIHZhbCA9ICh2YWwgPT09ICcnKSA/IG51bGwgOiB2YWw7XG4gICAgICBjbS5kaXNwbGF5LmlucHV0LnNjcmVlblJlYWRlckxhYmVsQ2hhbmdlZCh2YWwpO1xuICAgIH0pO1xuXG4gICAgb3B0aW9uKFwiZGlzYWJsZUlucHV0XCIsIGZhbHNlLCBmdW5jdGlvbiAoY20sIHZhbCkge2lmICghdmFsKSB7IGNtLmRpc3BsYXkuaW5wdXQucmVzZXQoKTsgfX0sIHRydWUpO1xuICAgIG9wdGlvbihcImRyYWdEcm9wXCIsIHRydWUsIGRyYWdEcm9wQ2hhbmdlZCk7XG4gICAgb3B0aW9uKFwiYWxsb3dEcm9wRmlsZVR5cGVzXCIsIG51bGwpO1xuXG4gICAgb3B0aW9uKFwiY3Vyc29yQmxpbmtSYXRlXCIsIDUzMCk7XG4gICAgb3B0aW9uKFwiY3Vyc29yU2Nyb2xsTWFyZ2luXCIsIDApO1xuICAgIG9wdGlvbihcImN1cnNvckhlaWdodFwiLCAxLCB1cGRhdGVTZWxlY3Rpb24sIHRydWUpO1xuICAgIG9wdGlvbihcInNpbmdsZUN1cnNvckhlaWdodFBlckxpbmVcIiwgdHJ1ZSwgdXBkYXRlU2VsZWN0aW9uLCB0cnVlKTtcbiAgICBvcHRpb24oXCJ3b3JrVGltZVwiLCAxMDApO1xuICAgIG9wdGlvbihcIndvcmtEZWxheVwiLCAxMDApO1xuICAgIG9wdGlvbihcImZsYXR0ZW5TcGFuc1wiLCB0cnVlLCByZXNldE1vZGVTdGF0ZSwgdHJ1ZSk7XG4gICAgb3B0aW9uKFwiYWRkTW9kZUNsYXNzXCIsIGZhbHNlLCByZXNldE1vZGVTdGF0ZSwgdHJ1ZSk7XG4gICAgb3B0aW9uKFwicG9sbEludGVydmFsXCIsIDEwMCk7XG4gICAgb3B0aW9uKFwidW5kb0RlcHRoXCIsIDIwMCwgZnVuY3Rpb24gKGNtLCB2YWwpIHsgcmV0dXJuIGNtLmRvYy5oaXN0b3J5LnVuZG9EZXB0aCA9IHZhbDsgfSk7XG4gICAgb3B0aW9uKFwiaGlzdG9yeUV2ZW50RGVsYXlcIiwgMTI1MCk7XG4gICAgb3B0aW9uKFwidmlld3BvcnRNYXJnaW5cIiwgMTAsIGZ1bmN0aW9uIChjbSkgeyByZXR1cm4gY20ucmVmcmVzaCgpOyB9LCB0cnVlKTtcbiAgICBvcHRpb24oXCJtYXhIaWdobGlnaHRMZW5ndGhcIiwgMTAwMDAsIHJlc2V0TW9kZVN0YXRlLCB0cnVlKTtcbiAgICBvcHRpb24oXCJtb3ZlSW5wdXRXaXRoQ3Vyc29yXCIsIHRydWUsIGZ1bmN0aW9uIChjbSwgdmFsKSB7XG4gICAgICBpZiAoIXZhbCkgeyBjbS5kaXNwbGF5LmlucHV0LnJlc2V0UG9zaXRpb24oKTsgfVxuICAgIH0pO1xuXG4gICAgb3B0aW9uKFwidGFiaW5kZXhcIiwgbnVsbCwgZnVuY3Rpb24gKGNtLCB2YWwpIHsgcmV0dXJuIGNtLmRpc3BsYXkuaW5wdXQuZ2V0RmllbGQoKS50YWJJbmRleCA9IHZhbCB8fCBcIlwiOyB9KTtcbiAgICBvcHRpb24oXCJhdXRvZm9jdXNcIiwgbnVsbCk7XG4gICAgb3B0aW9uKFwiZGlyZWN0aW9uXCIsIFwibHRyXCIsIGZ1bmN0aW9uIChjbSwgdmFsKSB7IHJldHVybiBjbS5kb2Muc2V0RGlyZWN0aW9uKHZhbCk7IH0sIHRydWUpO1xuICAgIG9wdGlvbihcInBocmFzZXNcIiwgbnVsbCk7XG4gIH1cblxuICBmdW5jdGlvbiBkcmFnRHJvcENoYW5nZWQoY20sIHZhbHVlLCBvbGQpIHtcbiAgICB2YXIgd2FzT24gPSBvbGQgJiYgb2xkICE9IEluaXQ7XG4gICAgaWYgKCF2YWx1ZSAhPSAhd2FzT24pIHtcbiAgICAgIHZhciBmdW5jcyA9IGNtLmRpc3BsYXkuZHJhZ0Z1bmN0aW9ucztcbiAgICAgIHZhciB0b2dnbGUgPSB2YWx1ZSA/IG9uIDogb2ZmO1xuICAgICAgdG9nZ2xlKGNtLmRpc3BsYXkuc2Nyb2xsZXIsIFwiZHJhZ3N0YXJ0XCIsIGZ1bmNzLnN0YXJ0KTtcbiAgICAgIHRvZ2dsZShjbS5kaXNwbGF5LnNjcm9sbGVyLCBcImRyYWdlbnRlclwiLCBmdW5jcy5lbnRlcik7XG4gICAgICB0b2dnbGUoY20uZGlzcGxheS5zY3JvbGxlciwgXCJkcmFnb3ZlclwiLCBmdW5jcy5vdmVyKTtcbiAgICAgIHRvZ2dsZShjbS5kaXNwbGF5LnNjcm9sbGVyLCBcImRyYWdsZWF2ZVwiLCBmdW5jcy5sZWF2ZSk7XG4gICAgICB0b2dnbGUoY20uZGlzcGxheS5zY3JvbGxlciwgXCJkcm9wXCIsIGZ1bmNzLmRyb3ApO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHdyYXBwaW5nQ2hhbmdlZChjbSkge1xuICAgIGlmIChjbS5vcHRpb25zLmxpbmVXcmFwcGluZykge1xuICAgICAgYWRkQ2xhc3MoY20uZGlzcGxheS53cmFwcGVyLCBcIkNvZGVNaXJyb3Itd3JhcFwiKTtcbiAgICAgIGNtLmRpc3BsYXkuc2l6ZXIuc3R5bGUubWluV2lkdGggPSBcIlwiO1xuICAgICAgY20uZGlzcGxheS5zaXplcldpZHRoID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgcm1DbGFzcyhjbS5kaXNwbGF5LndyYXBwZXIsIFwiQ29kZU1pcnJvci13cmFwXCIpO1xuICAgICAgZmluZE1heExpbmUoY20pO1xuICAgIH1cbiAgICBlc3RpbWF0ZUxpbmVIZWlnaHRzKGNtKTtcbiAgICByZWdDaGFuZ2UoY20pO1xuICAgIGNsZWFyQ2FjaGVzKGNtKTtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsgcmV0dXJuIHVwZGF0ZVNjcm9sbGJhcnMoY20pOyB9LCAxMDApO1xuICB9XG5cbiAgLy8gQSBDb2RlTWlycm9yIGluc3RhbmNlIHJlcHJlc2VudHMgYW4gZWRpdG9yLiBUaGlzIGlzIHRoZSBvYmplY3RcbiAgLy8gdGhhdCB1c2VyIGNvZGUgaXMgdXN1YWxseSBkZWFsaW5nIHdpdGguXG5cbiAgZnVuY3Rpb24gQ29kZU1pcnJvcihwbGFjZSwgb3B0aW9ucykge1xuICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIENvZGVNaXJyb3IpKSB7IHJldHVybiBuZXcgQ29kZU1pcnJvcihwbGFjZSwgb3B0aW9ucykgfVxuXG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucyA9IG9wdGlvbnMgPyBjb3B5T2JqKG9wdGlvbnMpIDoge307XG4gICAgLy8gRGV0ZXJtaW5lIGVmZmVjdGl2ZSBvcHRpb25zIGJhc2VkIG9uIGdpdmVuIHZhbHVlcyBhbmQgZGVmYXVsdHMuXG4gICAgY29weU9iaihkZWZhdWx0cywgb3B0aW9ucywgZmFsc2UpO1xuXG4gICAgdmFyIGRvYyA9IG9wdGlvbnMudmFsdWU7XG4gICAgaWYgKHR5cGVvZiBkb2MgPT0gXCJzdHJpbmdcIikgeyBkb2MgPSBuZXcgRG9jKGRvYywgb3B0aW9ucy5tb2RlLCBudWxsLCBvcHRpb25zLmxpbmVTZXBhcmF0b3IsIG9wdGlvbnMuZGlyZWN0aW9uKTsgfVxuICAgIGVsc2UgaWYgKG9wdGlvbnMubW9kZSkgeyBkb2MubW9kZU9wdGlvbiA9IG9wdGlvbnMubW9kZTsgfVxuICAgIHRoaXMuZG9jID0gZG9jO1xuXG4gICAgdmFyIGlucHV0ID0gbmV3IENvZGVNaXJyb3IuaW5wdXRTdHlsZXNbb3B0aW9ucy5pbnB1dFN0eWxlXSh0aGlzKTtcbiAgICB2YXIgZGlzcGxheSA9IHRoaXMuZGlzcGxheSA9IG5ldyBEaXNwbGF5KHBsYWNlLCBkb2MsIGlucHV0LCBvcHRpb25zKTtcbiAgICBkaXNwbGF5LndyYXBwZXIuQ29kZU1pcnJvciA9IHRoaXM7XG4gICAgdGhlbWVDaGFuZ2VkKHRoaXMpO1xuICAgIGlmIChvcHRpb25zLmxpbmVXcmFwcGluZylcbiAgICAgIHsgdGhpcy5kaXNwbGF5LndyYXBwZXIuY2xhc3NOYW1lICs9IFwiIENvZGVNaXJyb3Itd3JhcFwiOyB9XG4gICAgaW5pdFNjcm9sbGJhcnModGhpcyk7XG5cbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAga2V5TWFwczogW10sICAvLyBzdG9yZXMgbWFwcyBhZGRlZCBieSBhZGRLZXlNYXBcbiAgICAgIG92ZXJsYXlzOiBbXSwgLy8gaGlnaGxpZ2h0aW5nIG92ZXJsYXlzLCBhcyBhZGRlZCBieSBhZGRPdmVybGF5XG4gICAgICBtb2RlR2VuOiAwLCAgIC8vIGJ1bXBlZCB3aGVuIG1vZGUvb3ZlcmxheSBjaGFuZ2VzLCB1c2VkIHRvIGludmFsaWRhdGUgaGlnaGxpZ2h0aW5nIGluZm9cbiAgICAgIG92ZXJ3cml0ZTogZmFsc2UsXG4gICAgICBkZWxheWluZ0JsdXJFdmVudDogZmFsc2UsXG4gICAgICBmb2N1c2VkOiBmYWxzZSxcbiAgICAgIHN1cHByZXNzRWRpdHM6IGZhbHNlLCAvLyB1c2VkIHRvIGRpc2FibGUgZWRpdGluZyBkdXJpbmcga2V5IGhhbmRsZXJzIHdoZW4gaW4gcmVhZE9ubHkgbW9kZVxuICAgICAgcGFzdGVJbmNvbWluZzogLTEsIGN1dEluY29taW5nOiAtMSwgLy8gaGVscCByZWNvZ25pemUgcGFzdGUvY3V0IGVkaXRzIGluIGlucHV0LnBvbGxcbiAgICAgIHNlbGVjdGluZ1RleHQ6IGZhbHNlLFxuICAgICAgZHJhZ2dpbmdUZXh0OiBmYWxzZSxcbiAgICAgIGhpZ2hsaWdodDogbmV3IERlbGF5ZWQoKSwgLy8gc3RvcmVzIGhpZ2hsaWdodCB3b3JrZXIgdGltZW91dFxuICAgICAga2V5U2VxOiBudWxsLCAgLy8gVW5maW5pc2hlZCBrZXkgc2VxdWVuY2VcbiAgICAgIHNwZWNpYWxDaGFyczogbnVsbFxuICAgIH07XG5cbiAgICBpZiAob3B0aW9ucy5hdXRvZm9jdXMgJiYgIW1vYmlsZSkgeyBkaXNwbGF5LmlucHV0LmZvY3VzKCk7IH1cblxuICAgIC8vIE92ZXJyaWRlIG1hZ2ljIHRleHRhcmVhIGNvbnRlbnQgcmVzdG9yZSB0aGF0IElFIHNvbWV0aW1lcyBkb2VzXG4gICAgLy8gb24gb3VyIGhpZGRlbiB0ZXh0YXJlYSBvbiByZWxvYWRcbiAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA8IDExKSB7IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcyQxLmRpc3BsYXkuaW5wdXQucmVzZXQodHJ1ZSk7IH0sIDIwKTsgfVxuXG4gICAgcmVnaXN0ZXJFdmVudEhhbmRsZXJzKHRoaXMpO1xuICAgIGVuc3VyZUdsb2JhbEhhbmRsZXJzKCk7XG5cbiAgICBzdGFydE9wZXJhdGlvbih0aGlzKTtcbiAgICB0aGlzLmN1ck9wLmZvcmNlVXBkYXRlID0gdHJ1ZTtcbiAgICBhdHRhY2hEb2ModGhpcywgZG9jKTtcblxuICAgIGlmICgob3B0aW9ucy5hdXRvZm9jdXMgJiYgIW1vYmlsZSkgfHwgdGhpcy5oYXNGb2N1cygpKVxuICAgICAgeyBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMkMS5oYXNGb2N1cygpICYmICF0aGlzJDEuc3RhdGUuZm9jdXNlZCkgeyBvbkZvY3VzKHRoaXMkMSk7IH1cbiAgICAgIH0sIDIwKTsgfVxuICAgIGVsc2VcbiAgICAgIHsgb25CbHVyKHRoaXMpOyB9XG5cbiAgICBmb3IgKHZhciBvcHQgaW4gb3B0aW9uSGFuZGxlcnMpIHsgaWYgKG9wdGlvbkhhbmRsZXJzLmhhc093blByb3BlcnR5KG9wdCkpXG4gICAgICB7IG9wdGlvbkhhbmRsZXJzW29wdF0odGhpcywgb3B0aW9uc1tvcHRdLCBJbml0KTsgfSB9XG4gICAgbWF5YmVVcGRhdGVMaW5lTnVtYmVyV2lkdGgodGhpcyk7XG4gICAgaWYgKG9wdGlvbnMuZmluaXNoSW5pdCkgeyBvcHRpb25zLmZpbmlzaEluaXQodGhpcyk7IH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGluaXRIb29rcy5sZW5ndGg7ICsraSkgeyBpbml0SG9va3NbaV0odGhpcyk7IH1cbiAgICBlbmRPcGVyYXRpb24odGhpcyk7XG4gICAgLy8gU3VwcHJlc3Mgb3B0aW1pemVsZWdpYmlsaXR5IGluIFdlYmtpdCwgc2luY2UgaXQgYnJlYWtzIHRleHRcbiAgICAvLyBtZWFzdXJpbmcgb24gbGluZSB3cmFwcGluZyBib3VuZGFyaWVzLlxuICAgIGlmICh3ZWJraXQgJiYgb3B0aW9ucy5saW5lV3JhcHBpbmcgJiZcbiAgICAgICAgZ2V0Q29tcHV0ZWRTdHlsZShkaXNwbGF5LmxpbmVEaXYpLnRleHRSZW5kZXJpbmcgPT0gXCJvcHRpbWl6ZWxlZ2liaWxpdHlcIilcbiAgICAgIHsgZGlzcGxheS5saW5lRGl2LnN0eWxlLnRleHRSZW5kZXJpbmcgPSBcImF1dG9cIjsgfVxuICB9XG5cbiAgLy8gVGhlIGRlZmF1bHQgY29uZmlndXJhdGlvbiBvcHRpb25zLlxuICBDb2RlTWlycm9yLmRlZmF1bHRzID0gZGVmYXVsdHM7XG4gIC8vIEZ1bmN0aW9ucyB0byBydW4gd2hlbiBvcHRpb25zIGFyZSBjaGFuZ2VkLlxuICBDb2RlTWlycm9yLm9wdGlvbkhhbmRsZXJzID0gb3B0aW9uSGFuZGxlcnM7XG5cbiAgLy8gQXR0YWNoIHRoZSBuZWNlc3NhcnkgZXZlbnQgaGFuZGxlcnMgd2hlbiBpbml0aWFsaXppbmcgdGhlIGVkaXRvclxuICBmdW5jdGlvbiByZWdpc3RlckV2ZW50SGFuZGxlcnMoY20pIHtcbiAgICB2YXIgZCA9IGNtLmRpc3BsYXk7XG4gICAgb24oZC5zY3JvbGxlciwgXCJtb3VzZWRvd25cIiwgb3BlcmF0aW9uKGNtLCBvbk1vdXNlRG93bikpO1xuICAgIC8vIE9sZGVyIElFJ3Mgd2lsbCBub3QgZmlyZSBhIHNlY29uZCBtb3VzZWRvd24gZm9yIGEgZG91YmxlIGNsaWNrXG4gICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCAxMSlcbiAgICAgIHsgb24oZC5zY3JvbGxlciwgXCJkYmxjbGlja1wiLCBvcGVyYXRpb24oY20sIGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGlmIChzaWduYWxET01FdmVudChjbSwgZSkpIHsgcmV0dXJuIH1cbiAgICAgICAgdmFyIHBvcyA9IHBvc0Zyb21Nb3VzZShjbSwgZSk7XG4gICAgICAgIGlmICghcG9zIHx8IGNsaWNrSW5HdXR0ZXIoY20sIGUpIHx8IGV2ZW50SW5XaWRnZXQoY20uZGlzcGxheSwgZSkpIHsgcmV0dXJuIH1cbiAgICAgICAgZV9wcmV2ZW50RGVmYXVsdChlKTtcbiAgICAgICAgdmFyIHdvcmQgPSBjbS5maW5kV29yZEF0KHBvcyk7XG4gICAgICAgIGV4dGVuZFNlbGVjdGlvbihjbS5kb2MsIHdvcmQuYW5jaG9yLCB3b3JkLmhlYWQpO1xuICAgICAgfSkpOyB9XG4gICAgZWxzZVxuICAgICAgeyBvbihkLnNjcm9sbGVyLCBcImRibGNsaWNrXCIsIGZ1bmN0aW9uIChlKSB7IHJldHVybiBzaWduYWxET01FdmVudChjbSwgZSkgfHwgZV9wcmV2ZW50RGVmYXVsdChlKTsgfSk7IH1cbiAgICAvLyBTb21lIGJyb3dzZXJzIGZpcmUgY29udGV4dG1lbnUgKmFmdGVyKiBvcGVuaW5nIHRoZSBtZW51LCBhdFxuICAgIC8vIHdoaWNoIHBvaW50IHdlIGNhbid0IG1lc3Mgd2l0aCBpdCBhbnltb3JlLiBDb250ZXh0IG1lbnUgaXNcbiAgICAvLyBoYW5kbGVkIGluIG9uTW91c2VEb3duIGZvciB0aGVzZSBicm93c2Vycy5cbiAgICBvbihkLnNjcm9sbGVyLCBcImNvbnRleHRtZW51XCIsIGZ1bmN0aW9uIChlKSB7IHJldHVybiBvbkNvbnRleHRNZW51KGNtLCBlKTsgfSk7XG4gICAgb24oZC5pbnB1dC5nZXRGaWVsZCgpLCBcImNvbnRleHRtZW51XCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoIWQuc2Nyb2xsZXIuY29udGFpbnMoZS50YXJnZXQpKSB7IG9uQ29udGV4dE1lbnUoY20sIGUpOyB9XG4gICAgfSk7XG5cbiAgICAvLyBVc2VkIHRvIHN1cHByZXNzIG1vdXNlIGV2ZW50IGhhbmRsaW5nIHdoZW4gYSB0b3VjaCBoYXBwZW5zXG4gICAgdmFyIHRvdWNoRmluaXNoZWQsIHByZXZUb3VjaCA9IHtlbmQ6IDB9O1xuICAgIGZ1bmN0aW9uIGZpbmlzaFRvdWNoKCkge1xuICAgICAgaWYgKGQuYWN0aXZlVG91Y2gpIHtcbiAgICAgICAgdG91Y2hGaW5pc2hlZCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgeyByZXR1cm4gZC5hY3RpdmVUb3VjaCA9IG51bGw7IH0sIDEwMDApO1xuICAgICAgICBwcmV2VG91Y2ggPSBkLmFjdGl2ZVRvdWNoO1xuICAgICAgICBwcmV2VG91Y2guZW5kID0gK25ldyBEYXRlO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBpc01vdXNlTGlrZVRvdWNoRXZlbnQoZSkge1xuICAgICAgaWYgKGUudG91Y2hlcy5sZW5ndGggIT0gMSkgeyByZXR1cm4gZmFsc2UgfVxuICAgICAgdmFyIHRvdWNoID0gZS50b3VjaGVzWzBdO1xuICAgICAgcmV0dXJuIHRvdWNoLnJhZGl1c1ggPD0gMSAmJiB0b3VjaC5yYWRpdXNZIDw9IDFcbiAgICB9XG4gICAgZnVuY3Rpb24gZmFyQXdheSh0b3VjaCwgb3RoZXIpIHtcbiAgICAgIGlmIChvdGhlci5sZWZ0ID09IG51bGwpIHsgcmV0dXJuIHRydWUgfVxuICAgICAgdmFyIGR4ID0gb3RoZXIubGVmdCAtIHRvdWNoLmxlZnQsIGR5ID0gb3RoZXIudG9wIC0gdG91Y2gudG9wO1xuICAgICAgcmV0dXJuIGR4ICogZHggKyBkeSAqIGR5ID4gMjAgKiAyMFxuICAgIH1cbiAgICBvbihkLnNjcm9sbGVyLCBcInRvdWNoc3RhcnRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICghc2lnbmFsRE9NRXZlbnQoY20sIGUpICYmICFpc01vdXNlTGlrZVRvdWNoRXZlbnQoZSkgJiYgIWNsaWNrSW5HdXR0ZXIoY20sIGUpKSB7XG4gICAgICAgIGQuaW5wdXQuZW5zdXJlUG9sbGVkKCk7XG4gICAgICAgIGNsZWFyVGltZW91dCh0b3VjaEZpbmlzaGVkKTtcbiAgICAgICAgdmFyIG5vdyA9ICtuZXcgRGF0ZTtcbiAgICAgICAgZC5hY3RpdmVUb3VjaCA9IHtzdGFydDogbm93LCBtb3ZlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgcHJldjogbm93IC0gcHJldlRvdWNoLmVuZCA8PSAzMDAgPyBwcmV2VG91Y2ggOiBudWxsfTtcbiAgICAgICAgaWYgKGUudG91Y2hlcy5sZW5ndGggPT0gMSkge1xuICAgICAgICAgIGQuYWN0aXZlVG91Y2gubGVmdCA9IGUudG91Y2hlc1swXS5wYWdlWDtcbiAgICAgICAgICBkLmFjdGl2ZVRvdWNoLnRvcCA9IGUudG91Y2hlc1swXS5wYWdlWTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIG9uKGQuc2Nyb2xsZXIsIFwidG91Y2htb3ZlXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChkLmFjdGl2ZVRvdWNoKSB7IGQuYWN0aXZlVG91Y2gubW92ZWQgPSB0cnVlOyB9XG4gICAgfSk7XG4gICAgb24oZC5zY3JvbGxlciwgXCJ0b3VjaGVuZFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIHRvdWNoID0gZC5hY3RpdmVUb3VjaDtcbiAgICAgIGlmICh0b3VjaCAmJiAhZXZlbnRJbldpZGdldChkLCBlKSAmJiB0b3VjaC5sZWZ0ICE9IG51bGwgJiZcbiAgICAgICAgICAhdG91Y2gubW92ZWQgJiYgbmV3IERhdGUgLSB0b3VjaC5zdGFydCA8IDMwMCkge1xuICAgICAgICB2YXIgcG9zID0gY20uY29vcmRzQ2hhcihkLmFjdGl2ZVRvdWNoLCBcInBhZ2VcIiksIHJhbmdlO1xuICAgICAgICBpZiAoIXRvdWNoLnByZXYgfHwgZmFyQXdheSh0b3VjaCwgdG91Y2gucHJldikpIC8vIFNpbmdsZSB0YXBcbiAgICAgICAgICB7IHJhbmdlID0gbmV3IFJhbmdlKHBvcywgcG9zKTsgfVxuICAgICAgICBlbHNlIGlmICghdG91Y2gucHJldi5wcmV2IHx8IGZhckF3YXkodG91Y2gsIHRvdWNoLnByZXYucHJldikpIC8vIERvdWJsZSB0YXBcbiAgICAgICAgICB7IHJhbmdlID0gY20uZmluZFdvcmRBdChwb3MpOyB9XG4gICAgICAgIGVsc2UgLy8gVHJpcGxlIHRhcFxuICAgICAgICAgIHsgcmFuZ2UgPSBuZXcgUmFuZ2UoUG9zKHBvcy5saW5lLCAwKSwgY2xpcFBvcyhjbS5kb2MsIFBvcyhwb3MubGluZSArIDEsIDApKSk7IH1cbiAgICAgICAgY20uc2V0U2VsZWN0aW9uKHJhbmdlLmFuY2hvciwgcmFuZ2UuaGVhZCk7XG4gICAgICAgIGNtLmZvY3VzKCk7XG4gICAgICAgIGVfcHJldmVudERlZmF1bHQoZSk7XG4gICAgICB9XG4gICAgICBmaW5pc2hUb3VjaCgpO1xuICAgIH0pO1xuICAgIG9uKGQuc2Nyb2xsZXIsIFwidG91Y2hjYW5jZWxcIiwgZmluaXNoVG91Y2gpO1xuXG4gICAgLy8gU3luYyBzY3JvbGxpbmcgYmV0d2VlbiBmYWtlIHNjcm9sbGJhcnMgYW5kIHJlYWwgc2Nyb2xsYWJsZVxuICAgIC8vIGFyZWEsIGVuc3VyZSB2aWV3cG9ydCBpcyB1cGRhdGVkIHdoZW4gc2Nyb2xsaW5nLlxuICAgIG9uKGQuc2Nyb2xsZXIsIFwic2Nyb2xsXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChkLnNjcm9sbGVyLmNsaWVudEhlaWdodCkge1xuICAgICAgICB1cGRhdGVTY3JvbGxUb3AoY20sIGQuc2Nyb2xsZXIuc2Nyb2xsVG9wKTtcbiAgICAgICAgc2V0U2Nyb2xsTGVmdChjbSwgZC5zY3JvbGxlci5zY3JvbGxMZWZ0LCB0cnVlKTtcbiAgICAgICAgc2lnbmFsKGNtLCBcInNjcm9sbFwiLCBjbSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBMaXN0ZW4gdG8gd2hlZWwgZXZlbnRzIGluIG9yZGVyIHRvIHRyeSBhbmQgdXBkYXRlIHRoZSB2aWV3cG9ydCBvbiB0aW1lLlxuICAgIG9uKGQuc2Nyb2xsZXIsIFwibW91c2V3aGVlbFwiLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gb25TY3JvbGxXaGVlbChjbSwgZSk7IH0pO1xuICAgIG9uKGQuc2Nyb2xsZXIsIFwiRE9NTW91c2VTY3JvbGxcIiwgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG9uU2Nyb2xsV2hlZWwoY20sIGUpOyB9KTtcblxuICAgIC8vIFByZXZlbnQgd3JhcHBlciBmcm9tIGV2ZXIgc2Nyb2xsaW5nXG4gICAgb24oZC53cmFwcGVyLCBcInNjcm9sbFwiLCBmdW5jdGlvbiAoKSB7IHJldHVybiBkLndyYXBwZXIuc2Nyb2xsVG9wID0gZC53cmFwcGVyLnNjcm9sbExlZnQgPSAwOyB9KTtcblxuICAgIGQuZHJhZ0Z1bmN0aW9ucyA9IHtcbiAgICAgIGVudGVyOiBmdW5jdGlvbiAoZSkge2lmICghc2lnbmFsRE9NRXZlbnQoY20sIGUpKSB7IGVfc3RvcChlKTsgfX0sXG4gICAgICBvdmVyOiBmdW5jdGlvbiAoZSkge2lmICghc2lnbmFsRE9NRXZlbnQoY20sIGUpKSB7IG9uRHJhZ092ZXIoY20sIGUpOyBlX3N0b3AoZSk7IH19LFxuICAgICAgc3RhcnQ6IGZ1bmN0aW9uIChlKSB7IHJldHVybiBvbkRyYWdTdGFydChjbSwgZSk7IH0sXG4gICAgICBkcm9wOiBvcGVyYXRpb24oY20sIG9uRHJvcCksXG4gICAgICBsZWF2ZTogZnVuY3Rpb24gKGUpIHtpZiAoIXNpZ25hbERPTUV2ZW50KGNtLCBlKSkgeyBjbGVhckRyYWdDdXJzb3IoY20pOyB9fVxuICAgIH07XG5cbiAgICB2YXIgaW5wID0gZC5pbnB1dC5nZXRGaWVsZCgpO1xuICAgIG9uKGlucCwgXCJrZXl1cFwiLCBmdW5jdGlvbiAoZSkgeyByZXR1cm4gb25LZXlVcC5jYWxsKGNtLCBlKTsgfSk7XG4gICAgb24oaW5wLCBcImtleWRvd25cIiwgb3BlcmF0aW9uKGNtLCBvbktleURvd24pKTtcbiAgICBvbihpbnAsIFwia2V5cHJlc3NcIiwgb3BlcmF0aW9uKGNtLCBvbktleVByZXNzKSk7XG4gICAgb24oaW5wLCBcImZvY3VzXCIsIGZ1bmN0aW9uIChlKSB7IHJldHVybiBvbkZvY3VzKGNtLCBlKTsgfSk7XG4gICAgb24oaW5wLCBcImJsdXJcIiwgZnVuY3Rpb24gKGUpIHsgcmV0dXJuIG9uQmx1cihjbSwgZSk7IH0pO1xuICB9XG5cbiAgdmFyIGluaXRIb29rcyA9IFtdO1xuICBDb2RlTWlycm9yLmRlZmluZUluaXRIb29rID0gZnVuY3Rpb24gKGYpIHsgcmV0dXJuIGluaXRIb29rcy5wdXNoKGYpOyB9O1xuXG4gIC8vIEluZGVudCB0aGUgZ2l2ZW4gbGluZS4gVGhlIGhvdyBwYXJhbWV0ZXIgY2FuIGJlIFwic21hcnRcIixcbiAgLy8gXCJhZGRcIi9udWxsLCBcInN1YnRyYWN0XCIsIG9yIFwicHJldlwiLiBXaGVuIGFnZ3Jlc3NpdmUgaXMgZmFsc2VcbiAgLy8gKHR5cGljYWxseSBzZXQgdG8gdHJ1ZSBmb3IgZm9yY2VkIHNpbmdsZS1saW5lIGluZGVudHMpLCBlbXB0eVxuICAvLyBsaW5lcyBhcmUgbm90IGluZGVudGVkLCBhbmQgcGxhY2VzIHdoZXJlIHRoZSBtb2RlIHJldHVybnMgUGFzc1xuICAvLyBhcmUgbGVmdCBhbG9uZS5cbiAgZnVuY3Rpb24gaW5kZW50TGluZShjbSwgbiwgaG93LCBhZ2dyZXNzaXZlKSB7XG4gICAgdmFyIGRvYyA9IGNtLmRvYywgc3RhdGU7XG4gICAgaWYgKGhvdyA9PSBudWxsKSB7IGhvdyA9IFwiYWRkXCI7IH1cbiAgICBpZiAoaG93ID09IFwic21hcnRcIikge1xuICAgICAgLy8gRmFsbCBiYWNrIHRvIFwicHJldlwiIHdoZW4gdGhlIG1vZGUgZG9lc24ndCBoYXZlIGFuIGluZGVudGF0aW9uXG4gICAgICAvLyBtZXRob2QuXG4gICAgICBpZiAoIWRvYy5tb2RlLmluZGVudCkgeyBob3cgPSBcInByZXZcIjsgfVxuICAgICAgZWxzZSB7IHN0YXRlID0gZ2V0Q29udGV4dEJlZm9yZShjbSwgbikuc3RhdGU7IH1cbiAgICB9XG5cbiAgICB2YXIgdGFiU2l6ZSA9IGNtLm9wdGlvbnMudGFiU2l6ZTtcbiAgICB2YXIgbGluZSA9IGdldExpbmUoZG9jLCBuKSwgY3VyU3BhY2UgPSBjb3VudENvbHVtbihsaW5lLnRleHQsIG51bGwsIHRhYlNpemUpO1xuICAgIGlmIChsaW5lLnN0YXRlQWZ0ZXIpIHsgbGluZS5zdGF0ZUFmdGVyID0gbnVsbDsgfVxuICAgIHZhciBjdXJTcGFjZVN0cmluZyA9IGxpbmUudGV4dC5tYXRjaCgvXlxccyovKVswXSwgaW5kZW50YXRpb247XG4gICAgaWYgKCFhZ2dyZXNzaXZlICYmICEvXFxTLy50ZXN0KGxpbmUudGV4dCkpIHtcbiAgICAgIGluZGVudGF0aW9uID0gMDtcbiAgICAgIGhvdyA9IFwibm90XCI7XG4gICAgfSBlbHNlIGlmIChob3cgPT0gXCJzbWFydFwiKSB7XG4gICAgICBpbmRlbnRhdGlvbiA9IGRvYy5tb2RlLmluZGVudChzdGF0ZSwgbGluZS50ZXh0LnNsaWNlKGN1clNwYWNlU3RyaW5nLmxlbmd0aCksIGxpbmUudGV4dCk7XG4gICAgICBpZiAoaW5kZW50YXRpb24gPT0gUGFzcyB8fCBpbmRlbnRhdGlvbiA+IDE1MCkge1xuICAgICAgICBpZiAoIWFnZ3Jlc3NpdmUpIHsgcmV0dXJuIH1cbiAgICAgICAgaG93ID0gXCJwcmV2XCI7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChob3cgPT0gXCJwcmV2XCIpIHtcbiAgICAgIGlmIChuID4gZG9jLmZpcnN0KSB7IGluZGVudGF0aW9uID0gY291bnRDb2x1bW4oZ2V0TGluZShkb2MsIG4tMSkudGV4dCwgbnVsbCwgdGFiU2l6ZSk7IH1cbiAgICAgIGVsc2UgeyBpbmRlbnRhdGlvbiA9IDA7IH1cbiAgICB9IGVsc2UgaWYgKGhvdyA9PSBcImFkZFwiKSB7XG4gICAgICBpbmRlbnRhdGlvbiA9IGN1clNwYWNlICsgY20ub3B0aW9ucy5pbmRlbnRVbml0O1xuICAgIH0gZWxzZSBpZiAoaG93ID09IFwic3VidHJhY3RcIikge1xuICAgICAgaW5kZW50YXRpb24gPSBjdXJTcGFjZSAtIGNtLm9wdGlvbnMuaW5kZW50VW5pdDtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBob3cgPT0gXCJudW1iZXJcIikge1xuICAgICAgaW5kZW50YXRpb24gPSBjdXJTcGFjZSArIGhvdztcbiAgICB9XG4gICAgaW5kZW50YXRpb24gPSBNYXRoLm1heCgwLCBpbmRlbnRhdGlvbik7XG5cbiAgICB2YXIgaW5kZW50U3RyaW5nID0gXCJcIiwgcG9zID0gMDtcbiAgICBpZiAoY20ub3B0aW9ucy5pbmRlbnRXaXRoVGFicylcbiAgICAgIHsgZm9yICh2YXIgaSA9IE1hdGguZmxvb3IoaW5kZW50YXRpb24gLyB0YWJTaXplKTsgaTsgLS1pKSB7cG9zICs9IHRhYlNpemU7IGluZGVudFN0cmluZyArPSBcIlxcdFwiO30gfVxuICAgIGlmIChwb3MgPCBpbmRlbnRhdGlvbikgeyBpbmRlbnRTdHJpbmcgKz0gc3BhY2VTdHIoaW5kZW50YXRpb24gLSBwb3MpOyB9XG5cbiAgICBpZiAoaW5kZW50U3RyaW5nICE9IGN1clNwYWNlU3RyaW5nKSB7XG4gICAgICByZXBsYWNlUmFuZ2UoZG9jLCBpbmRlbnRTdHJpbmcsIFBvcyhuLCAwKSwgUG9zKG4sIGN1clNwYWNlU3RyaW5nLmxlbmd0aCksIFwiK2lucHV0XCIpO1xuICAgICAgbGluZS5zdGF0ZUFmdGVyID0gbnVsbDtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEVuc3VyZSB0aGF0LCBpZiB0aGUgY3Vyc29yIHdhcyBpbiB0aGUgd2hpdGVzcGFjZSBhdCB0aGUgc3RhcnRcbiAgICAgIC8vIG9mIHRoZSBsaW5lLCBpdCBpcyBtb3ZlZCB0byB0aGUgZW5kIG9mIHRoYXQgc3BhY2UuXG4gICAgICBmb3IgKHZhciBpJDEgPSAwOyBpJDEgPCBkb2Muc2VsLnJhbmdlcy5sZW5ndGg7IGkkMSsrKSB7XG4gICAgICAgIHZhciByYW5nZSA9IGRvYy5zZWwucmFuZ2VzW2kkMV07XG4gICAgICAgIGlmIChyYW5nZS5oZWFkLmxpbmUgPT0gbiAmJiByYW5nZS5oZWFkLmNoIDwgY3VyU3BhY2VTdHJpbmcubGVuZ3RoKSB7XG4gICAgICAgICAgdmFyIHBvcyQxID0gUG9zKG4sIGN1clNwYWNlU3RyaW5nLmxlbmd0aCk7XG4gICAgICAgICAgcmVwbGFjZU9uZVNlbGVjdGlvbihkb2MsIGkkMSwgbmV3IFJhbmdlKHBvcyQxLCBwb3MkMSkpO1xuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBUaGlzIHdpbGwgYmUgc2V0IHRvIGEge2xpbmVXaXNlOiBib29sLCB0ZXh0OiBbc3RyaW5nXX0gb2JqZWN0LCBzb1xuICAvLyB0aGF0LCB3aGVuIHBhc3RpbmcsIHdlIGtub3cgd2hhdCBraW5kIG9mIHNlbGVjdGlvbnMgdGhlIGNvcGllZFxuICAvLyB0ZXh0IHdhcyBtYWRlIG91dCBvZi5cbiAgdmFyIGxhc3RDb3BpZWQgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIHNldExhc3RDb3BpZWQobmV3TGFzdENvcGllZCkge1xuICAgIGxhc3RDb3BpZWQgPSBuZXdMYXN0Q29waWVkO1xuICB9XG5cbiAgZnVuY3Rpb24gYXBwbHlUZXh0SW5wdXQoY20sIGluc2VydGVkLCBkZWxldGVkLCBzZWwsIG9yaWdpbikge1xuICAgIHZhciBkb2MgPSBjbS5kb2M7XG4gICAgY20uZGlzcGxheS5zaGlmdCA9IGZhbHNlO1xuICAgIGlmICghc2VsKSB7IHNlbCA9IGRvYy5zZWw7IH1cblxuICAgIHZhciByZWNlbnQgPSArbmV3IERhdGUgLSAyMDA7XG4gICAgdmFyIHBhc3RlID0gb3JpZ2luID09IFwicGFzdGVcIiB8fCBjbS5zdGF0ZS5wYXN0ZUluY29taW5nID4gcmVjZW50O1xuICAgIHZhciB0ZXh0TGluZXMgPSBzcGxpdExpbmVzQXV0byhpbnNlcnRlZCksIG11bHRpUGFzdGUgPSBudWxsO1xuICAgIC8vIFdoZW4gcGFzdGluZyBOIGxpbmVzIGludG8gTiBzZWxlY3Rpb25zLCBpbnNlcnQgb25lIGxpbmUgcGVyIHNlbGVjdGlvblxuICAgIGlmIChwYXN0ZSAmJiBzZWwucmFuZ2VzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGlmIChsYXN0Q29waWVkICYmIGxhc3RDb3BpZWQudGV4dC5qb2luKFwiXFxuXCIpID09IGluc2VydGVkKSB7XG4gICAgICAgIGlmIChzZWwucmFuZ2VzLmxlbmd0aCAlIGxhc3RDb3BpZWQudGV4dC5sZW5ndGggPT0gMCkge1xuICAgICAgICAgIG11bHRpUGFzdGUgPSBbXTtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RDb3BpZWQudGV4dC5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHsgbXVsdGlQYXN0ZS5wdXNoKGRvYy5zcGxpdExpbmVzKGxhc3RDb3BpZWQudGV4dFtpXSkpOyB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGV4dExpbmVzLmxlbmd0aCA9PSBzZWwucmFuZ2VzLmxlbmd0aCAmJiBjbS5vcHRpb25zLnBhc3RlTGluZXNQZXJTZWxlY3Rpb24pIHtcbiAgICAgICAgbXVsdGlQYXN0ZSA9IG1hcCh0ZXh0TGluZXMsIGZ1bmN0aW9uIChsKSB7IHJldHVybiBbbF07IH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB1cGRhdGVJbnB1dCA9IGNtLmN1ck9wLnVwZGF0ZUlucHV0O1xuICAgIC8vIE5vcm1hbCBiZWhhdmlvciBpcyB0byBpbnNlcnQgdGhlIG5ldyB0ZXh0IGludG8gZXZlcnkgc2VsZWN0aW9uXG4gICAgZm9yICh2YXIgaSQxID0gc2VsLnJhbmdlcy5sZW5ndGggLSAxOyBpJDEgPj0gMDsgaSQxLS0pIHtcbiAgICAgIHZhciByYW5nZSA9IHNlbC5yYW5nZXNbaSQxXTtcbiAgICAgIHZhciBmcm9tID0gcmFuZ2UuZnJvbSgpLCB0byA9IHJhbmdlLnRvKCk7XG4gICAgICBpZiAocmFuZ2UuZW1wdHkoKSkge1xuICAgICAgICBpZiAoZGVsZXRlZCAmJiBkZWxldGVkID4gMCkgLy8gSGFuZGxlIGRlbGV0aW9uXG4gICAgICAgICAgeyBmcm9tID0gUG9zKGZyb20ubGluZSwgZnJvbS5jaCAtIGRlbGV0ZWQpOyB9XG4gICAgICAgIGVsc2UgaWYgKGNtLnN0YXRlLm92ZXJ3cml0ZSAmJiAhcGFzdGUpIC8vIEhhbmRsZSBvdmVyd3JpdGVcbiAgICAgICAgICB7IHRvID0gUG9zKHRvLmxpbmUsIE1hdGgubWluKGdldExpbmUoZG9jLCB0by5saW5lKS50ZXh0Lmxlbmd0aCwgdG8uY2ggKyBsc3QodGV4dExpbmVzKS5sZW5ndGgpKTsgfVxuICAgICAgICBlbHNlIGlmIChwYXN0ZSAmJiBsYXN0Q29waWVkICYmIGxhc3RDb3BpZWQubGluZVdpc2UgJiYgbGFzdENvcGllZC50ZXh0LmpvaW4oXCJcXG5cIikgPT0gdGV4dExpbmVzLmpvaW4oXCJcXG5cIikpXG4gICAgICAgICAgeyBmcm9tID0gdG8gPSBQb3MoZnJvbS5saW5lLCAwKTsgfVxuICAgICAgfVxuICAgICAgdmFyIGNoYW5nZUV2ZW50ID0ge2Zyb206IGZyb20sIHRvOiB0bywgdGV4dDogbXVsdGlQYXN0ZSA/IG11bHRpUGFzdGVbaSQxICUgbXVsdGlQYXN0ZS5sZW5ndGhdIDogdGV4dExpbmVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbjogb3JpZ2luIHx8IChwYXN0ZSA/IFwicGFzdGVcIiA6IGNtLnN0YXRlLmN1dEluY29taW5nID4gcmVjZW50ID8gXCJjdXRcIiA6IFwiK2lucHV0XCIpfTtcbiAgICAgIG1ha2VDaGFuZ2UoY20uZG9jLCBjaGFuZ2VFdmVudCk7XG4gICAgICBzaWduYWxMYXRlcihjbSwgXCJpbnB1dFJlYWRcIiwgY20sIGNoYW5nZUV2ZW50KTtcbiAgICB9XG4gICAgaWYgKGluc2VydGVkICYmICFwYXN0ZSlcbiAgICAgIHsgdHJpZ2dlckVsZWN0cmljKGNtLCBpbnNlcnRlZCk7IH1cblxuICAgIGVuc3VyZUN1cnNvclZpc2libGUoY20pO1xuICAgIGlmIChjbS5jdXJPcC51cGRhdGVJbnB1dCA8IDIpIHsgY20uY3VyT3AudXBkYXRlSW5wdXQgPSB1cGRhdGVJbnB1dDsgfVxuICAgIGNtLmN1ck9wLnR5cGluZyA9IHRydWU7XG4gICAgY20uc3RhdGUucGFzdGVJbmNvbWluZyA9IGNtLnN0YXRlLmN1dEluY29taW5nID0gLTE7XG4gIH1cblxuICBmdW5jdGlvbiBoYW5kbGVQYXN0ZShlLCBjbSkge1xuICAgIHZhciBwYXN0ZWQgPSBlLmNsaXBib2FyZERhdGEgJiYgZS5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJUZXh0XCIpO1xuICAgIGlmIChwYXN0ZWQpIHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmICghY20uaXNSZWFkT25seSgpICYmICFjbS5vcHRpb25zLmRpc2FibGVJbnB1dCAmJiBjbS5oYXNGb2N1cygpKVxuICAgICAgICB7IHJ1bkluT3AoY20sIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGFwcGx5VGV4dElucHV0KGNtLCBwYXN0ZWQsIDAsIG51bGwsIFwicGFzdGVcIik7IH0pOyB9XG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRyaWdnZXJFbGVjdHJpYyhjbSwgaW5zZXJ0ZWQpIHtcbiAgICAvLyBXaGVuIGFuICdlbGVjdHJpYycgY2hhcmFjdGVyIGlzIGluc2VydGVkLCBpbW1lZGlhdGVseSB0cmlnZ2VyIGEgcmVpbmRlbnRcbiAgICBpZiAoIWNtLm9wdGlvbnMuZWxlY3RyaWNDaGFycyB8fCAhY20ub3B0aW9ucy5zbWFydEluZGVudCkgeyByZXR1cm4gfVxuICAgIHZhciBzZWwgPSBjbS5kb2Muc2VsO1xuXG4gICAgZm9yICh2YXIgaSA9IHNlbC5yYW5nZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIHZhciByYW5nZSA9IHNlbC5yYW5nZXNbaV07XG4gICAgICBpZiAocmFuZ2UuaGVhZC5jaCA+IDEwMCB8fCAoaSAmJiBzZWwucmFuZ2VzW2kgLSAxXS5oZWFkLmxpbmUgPT0gcmFuZ2UuaGVhZC5saW5lKSkgeyBjb250aW51ZSB9XG4gICAgICB2YXIgbW9kZSA9IGNtLmdldE1vZGVBdChyYW5nZS5oZWFkKTtcbiAgICAgIHZhciBpbmRlbnRlZCA9IGZhbHNlO1xuICAgICAgaWYgKG1vZGUuZWxlY3RyaWNDaGFycykge1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1vZGUuZWxlY3RyaWNDaGFycy5sZW5ndGg7IGorKylcbiAgICAgICAgICB7IGlmIChpbnNlcnRlZC5pbmRleE9mKG1vZGUuZWxlY3RyaWNDaGFycy5jaGFyQXQoaikpID4gLTEpIHtcbiAgICAgICAgICAgIGluZGVudGVkID0gaW5kZW50TGluZShjbSwgcmFuZ2UuaGVhZC5saW5lLCBcInNtYXJ0XCIpO1xuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9IH1cbiAgICAgIH0gZWxzZSBpZiAobW9kZS5lbGVjdHJpY0lucHV0KSB7XG4gICAgICAgIGlmIChtb2RlLmVsZWN0cmljSW5wdXQudGVzdChnZXRMaW5lKGNtLmRvYywgcmFuZ2UuaGVhZC5saW5lKS50ZXh0LnNsaWNlKDAsIHJhbmdlLmhlYWQuY2gpKSlcbiAgICAgICAgICB7IGluZGVudGVkID0gaW5kZW50TGluZShjbSwgcmFuZ2UuaGVhZC5saW5lLCBcInNtYXJ0XCIpOyB9XG4gICAgICB9XG4gICAgICBpZiAoaW5kZW50ZWQpIHsgc2lnbmFsTGF0ZXIoY20sIFwiZWxlY3RyaWNJbnB1dFwiLCBjbSwgcmFuZ2UuaGVhZC5saW5lKTsgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvcHlhYmxlUmFuZ2VzKGNtKSB7XG4gICAgdmFyIHRleHQgPSBbXSwgcmFuZ2VzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjbS5kb2Muc2VsLnJhbmdlcy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGxpbmUgPSBjbS5kb2Muc2VsLnJhbmdlc1tpXS5oZWFkLmxpbmU7XG4gICAgICB2YXIgbGluZVJhbmdlID0ge2FuY2hvcjogUG9zKGxpbmUsIDApLCBoZWFkOiBQb3MobGluZSArIDEsIDApfTtcbiAgICAgIHJhbmdlcy5wdXNoKGxpbmVSYW5nZSk7XG4gICAgICB0ZXh0LnB1c2goY20uZ2V0UmFuZ2UobGluZVJhbmdlLmFuY2hvciwgbGluZVJhbmdlLmhlYWQpKTtcbiAgICB9XG4gICAgcmV0dXJuIHt0ZXh0OiB0ZXh0LCByYW5nZXM6IHJhbmdlc31cbiAgfVxuXG4gIGZ1bmN0aW9uIGRpc2FibGVCcm93c2VyTWFnaWMoZmllbGQsIHNwZWxsY2hlY2ssIGF1dG9jb3JyZWN0LCBhdXRvY2FwaXRhbGl6ZSkge1xuICAgIGZpZWxkLnNldEF0dHJpYnV0ZShcImF1dG9jb3JyZWN0XCIsIGF1dG9jb3JyZWN0ID8gXCJvblwiIDogXCJvZmZcIik7XG4gICAgZmllbGQuc2V0QXR0cmlidXRlKFwiYXV0b2NhcGl0YWxpemVcIiwgYXV0b2NhcGl0YWxpemUgPyBcIm9uXCIgOiBcIm9mZlwiKTtcbiAgICBmaWVsZC5zZXRBdHRyaWJ1dGUoXCJzcGVsbGNoZWNrXCIsICEhc3BlbGxjaGVjayk7XG4gIH1cblxuICBmdW5jdGlvbiBoaWRkZW5UZXh0YXJlYSgpIHtcbiAgICB2YXIgdGUgPSBlbHQoXCJ0ZXh0YXJlYVwiLCBudWxsLCBudWxsLCBcInBvc2l0aW9uOiBhYnNvbHV0ZTsgYm90dG9tOiAtMWVtOyBwYWRkaW5nOiAwOyB3aWR0aDogMXB4OyBoZWlnaHQ6IDFlbTsgbWluLWhlaWdodDogMWVtOyBvdXRsaW5lOiBub25lXCIpO1xuICAgIHZhciBkaXYgPSBlbHQoXCJkaXZcIiwgW3RlXSwgbnVsbCwgXCJvdmVyZmxvdzogaGlkZGVuOyBwb3NpdGlvbjogcmVsYXRpdmU7IHdpZHRoOiAzcHg7IGhlaWdodDogMHB4O1wiKTtcbiAgICAvLyBUaGUgdGV4dGFyZWEgaXMga2VwdCBwb3NpdGlvbmVkIG5lYXIgdGhlIGN1cnNvciB0byBwcmV2ZW50IHRoZVxuICAgIC8vIGZhY3QgdGhhdCBpdCdsbCBiZSBzY3JvbGxlZCBpbnRvIHZpZXcgb24gaW5wdXQgZnJvbSBzY3JvbGxpbmdcbiAgICAvLyBvdXIgZmFrZSBjdXJzb3Igb3V0IG9mIHZpZXcuIE9uIHdlYmtpdCwgd2hlbiB3cmFwPW9mZiwgcGFzdGUgaXNcbiAgICAvLyB2ZXJ5IHNsb3cuIFNvIG1ha2UgdGhlIGFyZWEgd2lkZSBpbnN0ZWFkLlxuICAgIGlmICh3ZWJraXQpIHsgdGUuc3R5bGUud2lkdGggPSBcIjEwMDBweFwiOyB9XG4gICAgZWxzZSB7IHRlLnNldEF0dHJpYnV0ZShcIndyYXBcIiwgXCJvZmZcIik7IH1cbiAgICAvLyBJZiBib3JkZXI6IDA7IC0tIGlPUyBmYWlscyB0byBvcGVuIGtleWJvYXJkIChpc3N1ZSAjMTI4NylcbiAgICBpZiAoaW9zKSB7IHRlLnN0eWxlLmJvcmRlciA9IFwiMXB4IHNvbGlkIGJsYWNrXCI7IH1cbiAgICByZXR1cm4gZGl2XG4gIH1cblxuICAvLyBUaGUgcHVibGljbHkgdmlzaWJsZSBBUEkuIE5vdGUgdGhhdCBtZXRob2RPcChmKSBtZWFuc1xuICAvLyAnd3JhcCBmIGluIGFuIG9wZXJhdGlvbiwgcGVyZm9ybWVkIG9uIGl0cyBgdGhpc2AgcGFyYW1ldGVyJy5cblxuICAvLyBUaGlzIGlzIG5vdCB0aGUgY29tcGxldGUgc2V0IG9mIGVkaXRvciBtZXRob2RzLiBNb3N0IG9mIHRoZVxuICAvLyBtZXRob2RzIGRlZmluZWQgb24gdGhlIERvYyB0eXBlIGFyZSBhbHNvIGluamVjdGVkIGludG9cbiAgLy8gQ29kZU1pcnJvci5wcm90b3R5cGUsIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSBhbmRcbiAgLy8gY29udmVuaWVuY2UuXG5cbiAgZnVuY3Rpb24gYWRkRWRpdG9yTWV0aG9kcyhDb2RlTWlycm9yKSB7XG4gICAgdmFyIG9wdGlvbkhhbmRsZXJzID0gQ29kZU1pcnJvci5vcHRpb25IYW5kbGVycztcblxuICAgIHZhciBoZWxwZXJzID0gQ29kZU1pcnJvci5oZWxwZXJzID0ge307XG5cbiAgICBDb2RlTWlycm9yLnByb3RvdHlwZSA9IHtcbiAgICAgIGNvbnN0cnVjdG9yOiBDb2RlTWlycm9yLFxuICAgICAgZm9jdXM6IGZ1bmN0aW9uKCl7d2luKHRoaXMpLmZvY3VzKCk7IHRoaXMuZGlzcGxheS5pbnB1dC5mb2N1cygpO30sXG5cbiAgICAgIHNldE9wdGlvbjogZnVuY3Rpb24ob3B0aW9uLCB2YWx1ZSkge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHRoaXMub3B0aW9ucywgb2xkID0gb3B0aW9uc1tvcHRpb25dO1xuICAgICAgICBpZiAob3B0aW9uc1tvcHRpb25dID09IHZhbHVlICYmIG9wdGlvbiAhPSBcIm1vZGVcIikgeyByZXR1cm4gfVxuICAgICAgICBvcHRpb25zW29wdGlvbl0gPSB2YWx1ZTtcbiAgICAgICAgaWYgKG9wdGlvbkhhbmRsZXJzLmhhc093blByb3BlcnR5KG9wdGlvbikpXG4gICAgICAgICAgeyBvcGVyYXRpb24odGhpcywgb3B0aW9uSGFuZGxlcnNbb3B0aW9uXSkodGhpcywgdmFsdWUsIG9sZCk7IH1cbiAgICAgICAgc2lnbmFsKHRoaXMsIFwib3B0aW9uQ2hhbmdlXCIsIHRoaXMsIG9wdGlvbik7XG4gICAgICB9LFxuXG4gICAgICBnZXRPcHRpb246IGZ1bmN0aW9uKG9wdGlvbikge3JldHVybiB0aGlzLm9wdGlvbnNbb3B0aW9uXX0sXG4gICAgICBnZXREb2M6IGZ1bmN0aW9uKCkge3JldHVybiB0aGlzLmRvY30sXG5cbiAgICAgIGFkZEtleU1hcDogZnVuY3Rpb24obWFwLCBib3R0b20pIHtcbiAgICAgICAgdGhpcy5zdGF0ZS5rZXlNYXBzW2JvdHRvbSA/IFwicHVzaFwiIDogXCJ1bnNoaWZ0XCJdKGdldEtleU1hcChtYXApKTtcbiAgICAgIH0sXG4gICAgICByZW1vdmVLZXlNYXA6IGZ1bmN0aW9uKG1hcCkge1xuICAgICAgICB2YXIgbWFwcyA9IHRoaXMuc3RhdGUua2V5TWFwcztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXBzLmxlbmd0aDsgKytpKVxuICAgICAgICAgIHsgaWYgKG1hcHNbaV0gPT0gbWFwIHx8IG1hcHNbaV0ubmFtZSA9PSBtYXApIHtcbiAgICAgICAgICAgIG1hcHMuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgICAgICB9IH1cbiAgICAgIH0sXG5cbiAgICAgIGFkZE92ZXJsYXk6IG1ldGhvZE9wKGZ1bmN0aW9uKHNwZWMsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIG1vZGUgPSBzcGVjLnRva2VuID8gc3BlYyA6IENvZGVNaXJyb3IuZ2V0TW9kZSh0aGlzLm9wdGlvbnMsIHNwZWMpO1xuICAgICAgICBpZiAobW9kZS5zdGFydFN0YXRlKSB7IHRocm93IG5ldyBFcnJvcihcIk92ZXJsYXlzIG1heSBub3QgYmUgc3RhdGVmdWwuXCIpIH1cbiAgICAgICAgaW5zZXJ0U29ydGVkKHRoaXMuc3RhdGUub3ZlcmxheXMsXG4gICAgICAgICAgICAgICAgICAgICB7bW9kZTogbW9kZSwgbW9kZVNwZWM6IHNwZWMsIG9wYXF1ZTogb3B0aW9ucyAmJiBvcHRpb25zLm9wYXF1ZSxcbiAgICAgICAgICAgICAgICAgICAgICBwcmlvcml0eTogKG9wdGlvbnMgJiYgb3B0aW9ucy5wcmlvcml0eSkgfHwgMH0sXG4gICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiAob3ZlcmxheSkgeyByZXR1cm4gb3ZlcmxheS5wcmlvcml0eTsgfSk7XG4gICAgICAgIHRoaXMuc3RhdGUubW9kZUdlbisrO1xuICAgICAgICByZWdDaGFuZ2UodGhpcyk7XG4gICAgICB9KSxcbiAgICAgIHJlbW92ZU92ZXJsYXk6IG1ldGhvZE9wKGZ1bmN0aW9uKHNwZWMpIHtcbiAgICAgICAgdmFyIG92ZXJsYXlzID0gdGhpcy5zdGF0ZS5vdmVybGF5cztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvdmVybGF5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIHZhciBjdXIgPSBvdmVybGF5c1tpXS5tb2RlU3BlYztcbiAgICAgICAgICBpZiAoY3VyID09IHNwZWMgfHwgdHlwZW9mIHNwZWMgPT0gXCJzdHJpbmdcIiAmJiBjdXIubmFtZSA9PSBzcGVjKSB7XG4gICAgICAgICAgICBvdmVybGF5cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICB0aGlzLnN0YXRlLm1vZGVHZW4rKztcbiAgICAgICAgICAgIHJlZ0NoYW5nZSh0aGlzKTtcbiAgICAgICAgICAgIHJldHVyblxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSksXG5cbiAgICAgIGluZGVudExpbmU6IG1ldGhvZE9wKGZ1bmN0aW9uKG4sIGRpciwgYWdncmVzc2l2ZSkge1xuICAgICAgICBpZiAodHlwZW9mIGRpciAhPSBcInN0cmluZ1wiICYmIHR5cGVvZiBkaXIgIT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIGlmIChkaXIgPT0gbnVsbCkgeyBkaXIgPSB0aGlzLm9wdGlvbnMuc21hcnRJbmRlbnQgPyBcInNtYXJ0XCIgOiBcInByZXZcIjsgfVxuICAgICAgICAgIGVsc2UgeyBkaXIgPSBkaXIgPyBcImFkZFwiIDogXCJzdWJ0cmFjdFwiOyB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTGluZSh0aGlzLmRvYywgbikpIHsgaW5kZW50TGluZSh0aGlzLCBuLCBkaXIsIGFnZ3Jlc3NpdmUpOyB9XG4gICAgICB9KSxcbiAgICAgIGluZGVudFNlbGVjdGlvbjogbWV0aG9kT3AoZnVuY3Rpb24oaG93KSB7XG4gICAgICAgIHZhciByYW5nZXMgPSB0aGlzLmRvYy5zZWwucmFuZ2VzLCBlbmQgPSAtMTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCByYW5nZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgcmFuZ2UgPSByYW5nZXNbaV07XG4gICAgICAgICAgaWYgKCFyYW5nZS5lbXB0eSgpKSB7XG4gICAgICAgICAgICB2YXIgZnJvbSA9IHJhbmdlLmZyb20oKSwgdG8gPSByYW5nZS50bygpO1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gTWF0aC5tYXgoZW5kLCBmcm9tLmxpbmUpO1xuICAgICAgICAgICAgZW5kID0gTWF0aC5taW4odGhpcy5sYXN0TGluZSgpLCB0by5saW5lIC0gKHRvLmNoID8gMCA6IDEpKSArIDE7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gc3RhcnQ7IGogPCBlbmQ7ICsrailcbiAgICAgICAgICAgICAgeyBpbmRlbnRMaW5lKHRoaXMsIGosIGhvdyk7IH1cbiAgICAgICAgICAgIHZhciBuZXdSYW5nZXMgPSB0aGlzLmRvYy5zZWwucmFuZ2VzO1xuICAgICAgICAgICAgaWYgKGZyb20uY2ggPT0gMCAmJiByYW5nZXMubGVuZ3RoID09IG5ld1Jhbmdlcy5sZW5ndGggJiYgbmV3UmFuZ2VzW2ldLmZyb20oKS5jaCA+IDApXG4gICAgICAgICAgICAgIHsgcmVwbGFjZU9uZVNlbGVjdGlvbih0aGlzLmRvYywgaSwgbmV3IFJhbmdlKGZyb20sIG5ld1Jhbmdlc1tpXS50bygpKSwgc2VsX2RvbnRTY3JvbGwpOyB9XG4gICAgICAgICAgfSBlbHNlIGlmIChyYW5nZS5oZWFkLmxpbmUgPiBlbmQpIHtcbiAgICAgICAgICAgIGluZGVudExpbmUodGhpcywgcmFuZ2UuaGVhZC5saW5lLCBob3csIHRydWUpO1xuICAgICAgICAgICAgZW5kID0gcmFuZ2UuaGVhZC5saW5lO1xuICAgICAgICAgICAgaWYgKGkgPT0gdGhpcy5kb2Muc2VsLnByaW1JbmRleCkgeyBlbnN1cmVDdXJzb3JWaXNpYmxlKHRoaXMpOyB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KSxcblxuICAgICAgLy8gRmV0Y2ggdGhlIHBhcnNlciB0b2tlbiBmb3IgYSBnaXZlbiBjaGFyYWN0ZXIuIFVzZWZ1bCBmb3IgaGFja3NcbiAgICAgIC8vIHRoYXQgd2FudCB0byBpbnNwZWN0IHRoZSBtb2RlIHN0YXRlIChzYXksIGZvciBjb21wbGV0aW9uKS5cbiAgICAgIGdldFRva2VuQXQ6IGZ1bmN0aW9uKHBvcywgcHJlY2lzZSkge1xuICAgICAgICByZXR1cm4gdGFrZVRva2VuKHRoaXMsIHBvcywgcHJlY2lzZSlcbiAgICAgIH0sXG5cbiAgICAgIGdldExpbmVUb2tlbnM6IGZ1bmN0aW9uKGxpbmUsIHByZWNpc2UpIHtcbiAgICAgICAgcmV0dXJuIHRha2VUb2tlbih0aGlzLCBQb3MobGluZSksIHByZWNpc2UsIHRydWUpXG4gICAgICB9LFxuXG4gICAgICBnZXRUb2tlblR5cGVBdDogZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgIHBvcyA9IGNsaXBQb3ModGhpcy5kb2MsIHBvcyk7XG4gICAgICAgIHZhciBzdHlsZXMgPSBnZXRMaW5lU3R5bGVzKHRoaXMsIGdldExpbmUodGhpcy5kb2MsIHBvcy5saW5lKSk7XG4gICAgICAgIHZhciBiZWZvcmUgPSAwLCBhZnRlciA9IChzdHlsZXMubGVuZ3RoIC0gMSkgLyAyLCBjaCA9IHBvcy5jaDtcbiAgICAgICAgdmFyIHR5cGU7XG4gICAgICAgIGlmIChjaCA9PSAwKSB7IHR5cGUgPSBzdHlsZXNbMl07IH1cbiAgICAgICAgZWxzZSB7IGZvciAoOzspIHtcbiAgICAgICAgICB2YXIgbWlkID0gKGJlZm9yZSArIGFmdGVyKSA+PiAxO1xuICAgICAgICAgIGlmICgobWlkID8gc3R5bGVzW21pZCAqIDIgLSAxXSA6IDApID49IGNoKSB7IGFmdGVyID0gbWlkOyB9XG4gICAgICAgICAgZWxzZSBpZiAoc3R5bGVzW21pZCAqIDIgKyAxXSA8IGNoKSB7IGJlZm9yZSA9IG1pZCArIDE7IH1cbiAgICAgICAgICBlbHNlIHsgdHlwZSA9IHN0eWxlc1ttaWQgKiAyICsgMl07IGJyZWFrIH1cbiAgICAgICAgfSB9XG4gICAgICAgIHZhciBjdXQgPSB0eXBlID8gdHlwZS5pbmRleE9mKFwib3ZlcmxheSBcIikgOiAtMTtcbiAgICAgICAgcmV0dXJuIGN1dCA8IDAgPyB0eXBlIDogY3V0ID09IDAgPyBudWxsIDogdHlwZS5zbGljZSgwLCBjdXQgLSAxKVxuICAgICAgfSxcblxuICAgICAgZ2V0TW9kZUF0OiBmdW5jdGlvbihwb3MpIHtcbiAgICAgICAgdmFyIG1vZGUgPSB0aGlzLmRvYy5tb2RlO1xuICAgICAgICBpZiAoIW1vZGUuaW5uZXJNb2RlKSB7IHJldHVybiBtb2RlIH1cbiAgICAgICAgcmV0dXJuIENvZGVNaXJyb3IuaW5uZXJNb2RlKG1vZGUsIHRoaXMuZ2V0VG9rZW5BdChwb3MpLnN0YXRlKS5tb2RlXG4gICAgICB9LFxuXG4gICAgICBnZXRIZWxwZXI6IGZ1bmN0aW9uKHBvcywgdHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRIZWxwZXJzKHBvcywgdHlwZSlbMF1cbiAgICAgIH0sXG5cbiAgICAgIGdldEhlbHBlcnM6IGZ1bmN0aW9uKHBvcywgdHlwZSkge1xuICAgICAgICB2YXIgZm91bmQgPSBbXTtcbiAgICAgICAgaWYgKCFoZWxwZXJzLmhhc093blByb3BlcnR5KHR5cGUpKSB7IHJldHVybiBmb3VuZCB9XG4gICAgICAgIHZhciBoZWxwID0gaGVscGVyc1t0eXBlXSwgbW9kZSA9IHRoaXMuZ2V0TW9kZUF0KHBvcyk7XG4gICAgICAgIGlmICh0eXBlb2YgbW9kZVt0eXBlXSA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgaWYgKGhlbHBbbW9kZVt0eXBlXV0pIHsgZm91bmQucHVzaChoZWxwW21vZGVbdHlwZV1dKTsgfVxuICAgICAgICB9IGVsc2UgaWYgKG1vZGVbdHlwZV0pIHtcbiAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1vZGVbdHlwZV0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSBoZWxwW21vZGVbdHlwZV1baV1dO1xuICAgICAgICAgICAgaWYgKHZhbCkgeyBmb3VuZC5wdXNoKHZhbCk7IH1cbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAobW9kZS5oZWxwZXJUeXBlICYmIGhlbHBbbW9kZS5oZWxwZXJUeXBlXSkge1xuICAgICAgICAgIGZvdW5kLnB1c2goaGVscFttb2RlLmhlbHBlclR5cGVdKTtcbiAgICAgICAgfSBlbHNlIGlmIChoZWxwW21vZGUubmFtZV0pIHtcbiAgICAgICAgICBmb3VuZC5wdXNoKGhlbHBbbW9kZS5uYW1lXSk7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSQxID0gMDsgaSQxIDwgaGVscC5fZ2xvYmFsLmxlbmd0aDsgaSQxKyspIHtcbiAgICAgICAgICB2YXIgY3VyID0gaGVscC5fZ2xvYmFsW2kkMV07XG4gICAgICAgICAgaWYgKGN1ci5wcmVkKG1vZGUsIHRoaXMpICYmIGluZGV4T2YoZm91bmQsIGN1ci52YWwpID09IC0xKVxuICAgICAgICAgICAgeyBmb3VuZC5wdXNoKGN1ci52YWwpOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvdW5kXG4gICAgICB9LFxuXG4gICAgICBnZXRTdGF0ZUFmdGVyOiBmdW5jdGlvbihsaW5lLCBwcmVjaXNlKSB7XG4gICAgICAgIHZhciBkb2MgPSB0aGlzLmRvYztcbiAgICAgICAgbGluZSA9IGNsaXBMaW5lKGRvYywgbGluZSA9PSBudWxsID8gZG9jLmZpcnN0ICsgZG9jLnNpemUgLSAxOiBsaW5lKTtcbiAgICAgICAgcmV0dXJuIGdldENvbnRleHRCZWZvcmUodGhpcywgbGluZSArIDEsIHByZWNpc2UpLnN0YXRlXG4gICAgICB9LFxuXG4gICAgICBjdXJzb3JDb29yZHM6IGZ1bmN0aW9uKHN0YXJ0LCBtb2RlKSB7XG4gICAgICAgIHZhciBwb3MsIHJhbmdlID0gdGhpcy5kb2Muc2VsLnByaW1hcnkoKTtcbiAgICAgICAgaWYgKHN0YXJ0ID09IG51bGwpIHsgcG9zID0gcmFuZ2UuaGVhZDsgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc3RhcnQgPT0gXCJvYmplY3RcIikgeyBwb3MgPSBjbGlwUG9zKHRoaXMuZG9jLCBzdGFydCk7IH1cbiAgICAgICAgZWxzZSB7IHBvcyA9IHN0YXJ0ID8gcmFuZ2UuZnJvbSgpIDogcmFuZ2UudG8oKTsgfVxuICAgICAgICByZXR1cm4gY3Vyc29yQ29vcmRzKHRoaXMsIHBvcywgbW9kZSB8fCBcInBhZ2VcIilcbiAgICAgIH0sXG5cbiAgICAgIGNoYXJDb29yZHM6IGZ1bmN0aW9uKHBvcywgbW9kZSkge1xuICAgICAgICByZXR1cm4gY2hhckNvb3Jkcyh0aGlzLCBjbGlwUG9zKHRoaXMuZG9jLCBwb3MpLCBtb2RlIHx8IFwicGFnZVwiKVxuICAgICAgfSxcblxuICAgICAgY29vcmRzQ2hhcjogZnVuY3Rpb24oY29vcmRzLCBtb2RlKSB7XG4gICAgICAgIGNvb3JkcyA9IGZyb21Db29yZFN5c3RlbSh0aGlzLCBjb29yZHMsIG1vZGUgfHwgXCJwYWdlXCIpO1xuICAgICAgICByZXR1cm4gY29vcmRzQ2hhcih0aGlzLCBjb29yZHMubGVmdCwgY29vcmRzLnRvcClcbiAgICAgIH0sXG5cbiAgICAgIGxpbmVBdEhlaWdodDogZnVuY3Rpb24oaGVpZ2h0LCBtb2RlKSB7XG4gICAgICAgIGhlaWdodCA9IGZyb21Db29yZFN5c3RlbSh0aGlzLCB7dG9wOiBoZWlnaHQsIGxlZnQ6IDB9LCBtb2RlIHx8IFwicGFnZVwiKS50b3A7XG4gICAgICAgIHJldHVybiBsaW5lQXRIZWlnaHQodGhpcy5kb2MsIGhlaWdodCArIHRoaXMuZGlzcGxheS52aWV3T2Zmc2V0KVxuICAgICAgfSxcbiAgICAgIGhlaWdodEF0TGluZTogZnVuY3Rpb24obGluZSwgbW9kZSwgaW5jbHVkZVdpZGdldHMpIHtcbiAgICAgICAgdmFyIGVuZCA9IGZhbHNlLCBsaW5lT2JqO1xuICAgICAgICBpZiAodHlwZW9mIGxpbmUgPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgIHZhciBsYXN0ID0gdGhpcy5kb2MuZmlyc3QgKyB0aGlzLmRvYy5zaXplIC0gMTtcbiAgICAgICAgICBpZiAobGluZSA8IHRoaXMuZG9jLmZpcnN0KSB7IGxpbmUgPSB0aGlzLmRvYy5maXJzdDsgfVxuICAgICAgICAgIGVsc2UgaWYgKGxpbmUgPiBsYXN0KSB7IGxpbmUgPSBsYXN0OyBlbmQgPSB0cnVlOyB9XG4gICAgICAgICAgbGluZU9iaiA9IGdldExpbmUodGhpcy5kb2MsIGxpbmUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxpbmVPYmogPSBsaW5lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpbnRvQ29vcmRTeXN0ZW0odGhpcywgbGluZU9iaiwge3RvcDogMCwgbGVmdDogMH0sIG1vZGUgfHwgXCJwYWdlXCIsIGluY2x1ZGVXaWRnZXRzIHx8IGVuZCkudG9wICtcbiAgICAgICAgICAoZW5kID8gdGhpcy5kb2MuaGVpZ2h0IC0gaGVpZ2h0QXRMaW5lKGxpbmVPYmopIDogMClcbiAgICAgIH0sXG5cbiAgICAgIGRlZmF1bHRUZXh0SGVpZ2h0OiBmdW5jdGlvbigpIHsgcmV0dXJuIHRleHRIZWlnaHQodGhpcy5kaXNwbGF5KSB9LFxuICAgICAgZGVmYXVsdENoYXJXaWR0aDogZnVuY3Rpb24oKSB7IHJldHVybiBjaGFyV2lkdGgodGhpcy5kaXNwbGF5KSB9LFxuXG4gICAgICBnZXRWaWV3cG9ydDogZnVuY3Rpb24oKSB7IHJldHVybiB7ZnJvbTogdGhpcy5kaXNwbGF5LnZpZXdGcm9tLCB0bzogdGhpcy5kaXNwbGF5LnZpZXdUb319LFxuXG4gICAgICBhZGRXaWRnZXQ6IGZ1bmN0aW9uKHBvcywgbm9kZSwgc2Nyb2xsLCB2ZXJ0LCBob3Jpeikge1xuICAgICAgICB2YXIgZGlzcGxheSA9IHRoaXMuZGlzcGxheTtcbiAgICAgICAgcG9zID0gY3Vyc29yQ29vcmRzKHRoaXMsIGNsaXBQb3ModGhpcy5kb2MsIHBvcykpO1xuICAgICAgICB2YXIgdG9wID0gcG9zLmJvdHRvbSwgbGVmdCA9IHBvcy5sZWZ0O1xuICAgICAgICBub2RlLnN0eWxlLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShcImNtLWlnbm9yZS1ldmVudHNcIiwgXCJ0cnVlXCIpO1xuICAgICAgICB0aGlzLmRpc3BsYXkuaW5wdXQuc2V0VW5lZGl0YWJsZShub2RlKTtcbiAgICAgICAgZGlzcGxheS5zaXplci5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgICAgaWYgKHZlcnQgPT0gXCJvdmVyXCIpIHtcbiAgICAgICAgICB0b3AgPSBwb3MudG9wO1xuICAgICAgICB9IGVsc2UgaWYgKHZlcnQgPT0gXCJhYm92ZVwiIHx8IHZlcnQgPT0gXCJuZWFyXCIpIHtcbiAgICAgICAgICB2YXIgdnNwYWNlID0gTWF0aC5tYXgoZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodCwgdGhpcy5kb2MuaGVpZ2h0KSxcbiAgICAgICAgICBoc3BhY2UgPSBNYXRoLm1heChkaXNwbGF5LnNpemVyLmNsaWVudFdpZHRoLCBkaXNwbGF5LmxpbmVTcGFjZS5jbGllbnRXaWR0aCk7XG4gICAgICAgICAgLy8gRGVmYXVsdCB0byBwb3NpdGlvbmluZyBhYm92ZSAoaWYgc3BlY2lmaWVkIGFuZCBwb3NzaWJsZSk7IG90aGVyd2lzZSBkZWZhdWx0IHRvIHBvc2l0aW9uaW5nIGJlbG93XG4gICAgICAgICAgaWYgKCh2ZXJ0ID09ICdhYm92ZScgfHwgcG9zLmJvdHRvbSArIG5vZGUub2Zmc2V0SGVpZ2h0ID4gdnNwYWNlKSAmJiBwb3MudG9wID4gbm9kZS5vZmZzZXRIZWlnaHQpXG4gICAgICAgICAgICB7IHRvcCA9IHBvcy50b3AgLSBub2RlLm9mZnNldEhlaWdodDsgfVxuICAgICAgICAgIGVsc2UgaWYgKHBvcy5ib3R0b20gKyBub2RlLm9mZnNldEhlaWdodCA8PSB2c3BhY2UpXG4gICAgICAgICAgICB7IHRvcCA9IHBvcy5ib3R0b207IH1cbiAgICAgICAgICBpZiAobGVmdCArIG5vZGUub2Zmc2V0V2lkdGggPiBoc3BhY2UpXG4gICAgICAgICAgICB7IGxlZnQgPSBoc3BhY2UgLSBub2RlLm9mZnNldFdpZHRoOyB9XG4gICAgICAgIH1cbiAgICAgICAgbm9kZS5zdHlsZS50b3AgPSB0b3AgKyBcInB4XCI7XG4gICAgICAgIG5vZGUuc3R5bGUubGVmdCA9IG5vZGUuc3R5bGUucmlnaHQgPSBcIlwiO1xuICAgICAgICBpZiAoaG9yaXogPT0gXCJyaWdodFwiKSB7XG4gICAgICAgICAgbGVmdCA9IGRpc3BsYXkuc2l6ZXIuY2xpZW50V2lkdGggLSBub2RlLm9mZnNldFdpZHRoO1xuICAgICAgICAgIG5vZGUuc3R5bGUucmlnaHQgPSBcIjBweFwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmIChob3JpeiA9PSBcImxlZnRcIikgeyBsZWZ0ID0gMDsgfVxuICAgICAgICAgIGVsc2UgaWYgKGhvcml6ID09IFwibWlkZGxlXCIpIHsgbGVmdCA9IChkaXNwbGF5LnNpemVyLmNsaWVudFdpZHRoIC0gbm9kZS5vZmZzZXRXaWR0aCkgLyAyOyB9XG4gICAgICAgICAgbm9kZS5zdHlsZS5sZWZ0ID0gbGVmdCArIFwicHhcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2Nyb2xsKVxuICAgICAgICAgIHsgc2Nyb2xsSW50b1ZpZXcodGhpcywge2xlZnQ6IGxlZnQsIHRvcDogdG9wLCByaWdodDogbGVmdCArIG5vZGUub2Zmc2V0V2lkdGgsIGJvdHRvbTogdG9wICsgbm9kZS5vZmZzZXRIZWlnaHR9KTsgfVxuICAgICAgfSxcblxuICAgICAgdHJpZ2dlck9uS2V5RG93bjogbWV0aG9kT3Aob25LZXlEb3duKSxcbiAgICAgIHRyaWdnZXJPbktleVByZXNzOiBtZXRob2RPcChvbktleVByZXNzKSxcbiAgICAgIHRyaWdnZXJPbktleVVwOiBvbktleVVwLFxuICAgICAgdHJpZ2dlck9uTW91c2VEb3duOiBtZXRob2RPcChvbk1vdXNlRG93biksXG5cbiAgICAgIGV4ZWNDb21tYW5kOiBmdW5jdGlvbihjbWQpIHtcbiAgICAgICAgaWYgKGNvbW1hbmRzLmhhc093blByb3BlcnR5KGNtZCkpXG4gICAgICAgICAgeyByZXR1cm4gY29tbWFuZHNbY21kXS5jYWxsKG51bGwsIHRoaXMpIH1cbiAgICAgIH0sXG5cbiAgICAgIHRyaWdnZXJFbGVjdHJpYzogbWV0aG9kT3AoZnVuY3Rpb24odGV4dCkgeyB0cmlnZ2VyRWxlY3RyaWModGhpcywgdGV4dCk7IH0pLFxuXG4gICAgICBmaW5kUG9zSDogZnVuY3Rpb24oZnJvbSwgYW1vdW50LCB1bml0LCB2aXN1YWxseSkge1xuICAgICAgICB2YXIgZGlyID0gMTtcbiAgICAgICAgaWYgKGFtb3VudCA8IDApIHsgZGlyID0gLTE7IGFtb3VudCA9IC1hbW91bnQ7IH1cbiAgICAgICAgdmFyIGN1ciA9IGNsaXBQb3ModGhpcy5kb2MsIGZyb20pO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFtb3VudDsgKytpKSB7XG4gICAgICAgICAgY3VyID0gZmluZFBvc0godGhpcy5kb2MsIGN1ciwgZGlyLCB1bml0LCB2aXN1YWxseSk7XG4gICAgICAgICAgaWYgKGN1ci5oaXRTaWRlKSB7IGJyZWFrIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VyXG4gICAgICB9LFxuXG4gICAgICBtb3ZlSDogbWV0aG9kT3AoZnVuY3Rpb24oZGlyLCB1bml0KSB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIHRoaXMuZXh0ZW5kU2VsZWN0aW9uc0J5KGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICAgIGlmICh0aGlzJDEuZGlzcGxheS5zaGlmdCB8fCB0aGlzJDEuZG9jLmV4dGVuZCB8fCByYW5nZS5lbXB0eSgpKVxuICAgICAgICAgICAgeyByZXR1cm4gZmluZFBvc0godGhpcyQxLmRvYywgcmFuZ2UuaGVhZCwgZGlyLCB1bml0LCB0aGlzJDEub3B0aW9ucy5ydGxNb3ZlVmlzdWFsbHkpIH1cbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7IHJldHVybiBkaXIgPCAwID8gcmFuZ2UuZnJvbSgpIDogcmFuZ2UudG8oKSB9XG4gICAgICAgIH0sIHNlbF9tb3ZlKTtcbiAgICAgIH0pLFxuXG4gICAgICBkZWxldGVIOiBtZXRob2RPcChmdW5jdGlvbihkaXIsIHVuaXQpIHtcbiAgICAgICAgdmFyIHNlbCA9IHRoaXMuZG9jLnNlbCwgZG9jID0gdGhpcy5kb2M7XG4gICAgICAgIGlmIChzZWwuc29tZXRoaW5nU2VsZWN0ZWQoKSlcbiAgICAgICAgICB7IGRvYy5yZXBsYWNlU2VsZWN0aW9uKFwiXCIsIG51bGwsIFwiK2RlbGV0ZVwiKTsgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgeyBkZWxldGVOZWFyU2VsZWN0aW9uKHRoaXMsIGZ1bmN0aW9uIChyYW5nZSkge1xuICAgICAgICAgICAgdmFyIG90aGVyID0gZmluZFBvc0goZG9jLCByYW5nZS5oZWFkLCBkaXIsIHVuaXQsIGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiBkaXIgPCAwID8ge2Zyb206IG90aGVyLCB0bzogcmFuZ2UuaGVhZH0gOiB7ZnJvbTogcmFuZ2UuaGVhZCwgdG86IG90aGVyfVxuICAgICAgICAgIH0pOyB9XG4gICAgICB9KSxcblxuICAgICAgZmluZFBvc1Y6IGZ1bmN0aW9uKGZyb20sIGFtb3VudCwgdW5pdCwgZ29hbENvbHVtbikge1xuICAgICAgICB2YXIgZGlyID0gMSwgeCA9IGdvYWxDb2x1bW47XG4gICAgICAgIGlmIChhbW91bnQgPCAwKSB7IGRpciA9IC0xOyBhbW91bnQgPSAtYW1vdW50OyB9XG4gICAgICAgIHZhciBjdXIgPSBjbGlwUG9zKHRoaXMuZG9jLCBmcm9tKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbW91bnQ7ICsraSkge1xuICAgICAgICAgIHZhciBjb29yZHMgPSBjdXJzb3JDb29yZHModGhpcywgY3VyLCBcImRpdlwiKTtcbiAgICAgICAgICBpZiAoeCA9PSBudWxsKSB7IHggPSBjb29yZHMubGVmdDsgfVxuICAgICAgICAgIGVsc2UgeyBjb29yZHMubGVmdCA9IHg7IH1cbiAgICAgICAgICBjdXIgPSBmaW5kUG9zVih0aGlzLCBjb29yZHMsIGRpciwgdW5pdCk7XG4gICAgICAgICAgaWYgKGN1ci5oaXRTaWRlKSB7IGJyZWFrIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VyXG4gICAgICB9LFxuXG4gICAgICBtb3ZlVjogbWV0aG9kT3AoZnVuY3Rpb24oZGlyLCB1bml0KSB7XG4gICAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgICAgIHZhciBkb2MgPSB0aGlzLmRvYywgZ29hbHMgPSBbXTtcbiAgICAgICAgdmFyIGNvbGxhcHNlID0gIXRoaXMuZGlzcGxheS5zaGlmdCAmJiAhZG9jLmV4dGVuZCAmJiBkb2Muc2VsLnNvbWV0aGluZ1NlbGVjdGVkKCk7XG4gICAgICAgIGRvYy5leHRlbmRTZWxlY3Rpb25zQnkoZnVuY3Rpb24gKHJhbmdlKSB7XG4gICAgICAgICAgaWYgKGNvbGxhcHNlKVxuICAgICAgICAgICAgeyByZXR1cm4gZGlyIDwgMCA/IHJhbmdlLmZyb20oKSA6IHJhbmdlLnRvKCkgfVxuICAgICAgICAgIHZhciBoZWFkUG9zID0gY3Vyc29yQ29vcmRzKHRoaXMkMSwgcmFuZ2UuaGVhZCwgXCJkaXZcIik7XG4gICAgICAgICAgaWYgKHJhbmdlLmdvYWxDb2x1bW4gIT0gbnVsbCkgeyBoZWFkUG9zLmxlZnQgPSByYW5nZS5nb2FsQ29sdW1uOyB9XG4gICAgICAgICAgZ29hbHMucHVzaChoZWFkUG9zLmxlZnQpO1xuICAgICAgICAgIHZhciBwb3MgPSBmaW5kUG9zVih0aGlzJDEsIGhlYWRQb3MsIGRpciwgdW5pdCk7XG4gICAgICAgICAgaWYgKHVuaXQgPT0gXCJwYWdlXCIgJiYgcmFuZ2UgPT0gZG9jLnNlbC5wcmltYXJ5KCkpXG4gICAgICAgICAgICB7IGFkZFRvU2Nyb2xsVG9wKHRoaXMkMSwgY2hhckNvb3Jkcyh0aGlzJDEsIHBvcywgXCJkaXZcIikudG9wIC0gaGVhZFBvcy50b3ApOyB9XG4gICAgICAgICAgcmV0dXJuIHBvc1xuICAgICAgICB9LCBzZWxfbW92ZSk7XG4gICAgICAgIGlmIChnb2Fscy5sZW5ndGgpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2Muc2VsLnJhbmdlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICB7IGRvYy5zZWwucmFuZ2VzW2ldLmdvYWxDb2x1bW4gPSBnb2Fsc1tpXTsgfSB9XG4gICAgICB9KSxcblxuICAgICAgLy8gRmluZCB0aGUgd29yZCBhdCB0aGUgZ2l2ZW4gcG9zaXRpb24gKGFzIHJldHVybmVkIGJ5IGNvb3Jkc0NoYXIpLlxuICAgICAgZmluZFdvcmRBdDogZnVuY3Rpb24ocG9zKSB7XG4gICAgICAgIHZhciBkb2MgPSB0aGlzLmRvYywgbGluZSA9IGdldExpbmUoZG9jLCBwb3MubGluZSkudGV4dDtcbiAgICAgICAgdmFyIHN0YXJ0ID0gcG9zLmNoLCBlbmQgPSBwb3MuY2g7XG4gICAgICAgIGlmIChsaW5lKSB7XG4gICAgICAgICAgdmFyIGhlbHBlciA9IHRoaXMuZ2V0SGVscGVyKHBvcywgXCJ3b3JkQ2hhcnNcIik7XG4gICAgICAgICAgaWYgKChwb3Muc3RpY2t5ID09IFwiYmVmb3JlXCIgfHwgZW5kID09IGxpbmUubGVuZ3RoKSAmJiBzdGFydCkgeyAtLXN0YXJ0OyB9IGVsc2UgeyArK2VuZDsgfVxuICAgICAgICAgIHZhciBzdGFydENoYXIgPSBsaW5lLmNoYXJBdChzdGFydCk7XG4gICAgICAgICAgdmFyIGNoZWNrID0gaXNXb3JkQ2hhcihzdGFydENoYXIsIGhlbHBlcilcbiAgICAgICAgICAgID8gZnVuY3Rpb24gKGNoKSB7IHJldHVybiBpc1dvcmRDaGFyKGNoLCBoZWxwZXIpOyB9XG4gICAgICAgICAgICA6IC9cXHMvLnRlc3Qoc3RhcnRDaGFyKSA/IGZ1bmN0aW9uIChjaCkgeyByZXR1cm4gL1xccy8udGVzdChjaCk7IH1cbiAgICAgICAgICAgIDogZnVuY3Rpb24gKGNoKSB7IHJldHVybiAoIS9cXHMvLnRlc3QoY2gpICYmICFpc1dvcmRDaGFyKGNoKSk7IH07XG4gICAgICAgICAgd2hpbGUgKHN0YXJ0ID4gMCAmJiBjaGVjayhsaW5lLmNoYXJBdChzdGFydCAtIDEpKSkgeyAtLXN0YXJ0OyB9XG4gICAgICAgICAgd2hpbGUgKGVuZCA8IGxpbmUubGVuZ3RoICYmIGNoZWNrKGxpbmUuY2hhckF0KGVuZCkpKSB7ICsrZW5kOyB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShQb3MocG9zLmxpbmUsIHN0YXJ0KSwgUG9zKHBvcy5saW5lLCBlbmQpKVxuICAgICAgfSxcblxuICAgICAgdG9nZ2xlT3ZlcndyaXRlOiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJiB2YWx1ZSA9PSB0aGlzLnN0YXRlLm92ZXJ3cml0ZSkgeyByZXR1cm4gfVxuICAgICAgICBpZiAodGhpcy5zdGF0ZS5vdmVyd3JpdGUgPSAhdGhpcy5zdGF0ZS5vdmVyd3JpdGUpXG4gICAgICAgICAgeyBhZGRDbGFzcyh0aGlzLmRpc3BsYXkuY3Vyc29yRGl2LCBcIkNvZGVNaXJyb3Itb3ZlcndyaXRlXCIpOyB9XG4gICAgICAgIGVsc2VcbiAgICAgICAgICB7IHJtQ2xhc3ModGhpcy5kaXNwbGF5LmN1cnNvckRpdiwgXCJDb2RlTWlycm9yLW92ZXJ3cml0ZVwiKTsgfVxuXG4gICAgICAgIHNpZ25hbCh0aGlzLCBcIm92ZXJ3cml0ZVRvZ2dsZVwiLCB0aGlzLCB0aGlzLnN0YXRlLm92ZXJ3cml0ZSk7XG4gICAgICB9LFxuICAgICAgaGFzRm9jdXM6IGZ1bmN0aW9uKCkgeyByZXR1cm4gdGhpcy5kaXNwbGF5LmlucHV0LmdldEZpZWxkKCkgPT0gYWN0aXZlRWx0KHJvb3QodGhpcykpIH0sXG4gICAgICBpc1JlYWRPbmx5OiBmdW5jdGlvbigpIHsgcmV0dXJuICEhKHRoaXMub3B0aW9ucy5yZWFkT25seSB8fCB0aGlzLmRvYy5jYW50RWRpdCkgfSxcblxuICAgICAgc2Nyb2xsVG86IG1ldGhvZE9wKGZ1bmN0aW9uICh4LCB5KSB7IHNjcm9sbFRvQ29vcmRzKHRoaXMsIHgsIHkpOyB9KSxcbiAgICAgIGdldFNjcm9sbEluZm86IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2Nyb2xsZXIgPSB0aGlzLmRpc3BsYXkuc2Nyb2xsZXI7XG4gICAgICAgIHJldHVybiB7bGVmdDogc2Nyb2xsZXIuc2Nyb2xsTGVmdCwgdG9wOiBzY3JvbGxlci5zY3JvbGxUb3AsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBzY3JvbGxlci5zY3JvbGxIZWlnaHQgLSBzY3JvbGxHYXAodGhpcykgLSB0aGlzLmRpc3BsYXkuYmFySGVpZ2h0LFxuICAgICAgICAgICAgICAgIHdpZHRoOiBzY3JvbGxlci5zY3JvbGxXaWR0aCAtIHNjcm9sbEdhcCh0aGlzKSAtIHRoaXMuZGlzcGxheS5iYXJXaWR0aCxcbiAgICAgICAgICAgICAgICBjbGllbnRIZWlnaHQ6IGRpc3BsYXlIZWlnaHQodGhpcyksIGNsaWVudFdpZHRoOiBkaXNwbGF5V2lkdGgodGhpcyl9XG4gICAgICB9LFxuXG4gICAgICBzY3JvbGxJbnRvVmlldzogbWV0aG9kT3AoZnVuY3Rpb24ocmFuZ2UsIG1hcmdpbikge1xuICAgICAgICBpZiAocmFuZ2UgPT0gbnVsbCkge1xuICAgICAgICAgIHJhbmdlID0ge2Zyb206IHRoaXMuZG9jLnNlbC5wcmltYXJ5KCkuaGVhZCwgdG86IG51bGx9O1xuICAgICAgICAgIGlmIChtYXJnaW4gPT0gbnVsbCkgeyBtYXJnaW4gPSB0aGlzLm9wdGlvbnMuY3Vyc29yU2Nyb2xsTWFyZ2luOyB9XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHJhbmdlID09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgICByYW5nZSA9IHtmcm9tOiBQb3MocmFuZ2UsIDApLCB0bzogbnVsbH07XG4gICAgICAgIH0gZWxzZSBpZiAocmFuZ2UuZnJvbSA9PSBudWxsKSB7XG4gICAgICAgICAgcmFuZ2UgPSB7ZnJvbTogcmFuZ2UsIHRvOiBudWxsfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXJhbmdlLnRvKSB7IHJhbmdlLnRvID0gcmFuZ2UuZnJvbTsgfVxuICAgICAgICByYW5nZS5tYXJnaW4gPSBtYXJnaW4gfHwgMDtcblxuICAgICAgICBpZiAocmFuZ2UuZnJvbS5saW5lICE9IG51bGwpIHtcbiAgICAgICAgICBzY3JvbGxUb1JhbmdlKHRoaXMsIHJhbmdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzY3JvbGxUb0Nvb3Jkc1JhbmdlKHRoaXMsIHJhbmdlLmZyb20sIHJhbmdlLnRvLCByYW5nZS5tYXJnaW4pO1xuICAgICAgICB9XG4gICAgICB9KSxcblxuICAgICAgc2V0U2l6ZTogbWV0aG9kT3AoZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuICAgICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgICAgICB2YXIgaW50ZXJwcmV0ID0gZnVuY3Rpb24gKHZhbCkgeyByZXR1cm4gdHlwZW9mIHZhbCA9PSBcIm51bWJlclwiIHx8IC9eXFxkKyQvLnRlc3QoU3RyaW5nKHZhbCkpID8gdmFsICsgXCJweFwiIDogdmFsOyB9O1xuICAgICAgICBpZiAod2lkdGggIT0gbnVsbCkgeyB0aGlzLmRpc3BsYXkud3JhcHBlci5zdHlsZS53aWR0aCA9IGludGVycHJldCh3aWR0aCk7IH1cbiAgICAgICAgaWYgKGhlaWdodCAhPSBudWxsKSB7IHRoaXMuZGlzcGxheS53cmFwcGVyLnN0eWxlLmhlaWdodCA9IGludGVycHJldChoZWlnaHQpOyB9XG4gICAgICAgIGlmICh0aGlzLm9wdGlvbnMubGluZVdyYXBwaW5nKSB7IGNsZWFyTGluZU1lYXN1cmVtZW50Q2FjaGUodGhpcyk7IH1cbiAgICAgICAgdmFyIGxpbmVObyA9IHRoaXMuZGlzcGxheS52aWV3RnJvbTtcbiAgICAgICAgdGhpcy5kb2MuaXRlcihsaW5lTm8sIHRoaXMuZGlzcGxheS52aWV3VG8sIGZ1bmN0aW9uIChsaW5lKSB7XG4gICAgICAgICAgaWYgKGxpbmUud2lkZ2V0cykgeyBmb3IgKHZhciBpID0gMDsgaSA8IGxpbmUud2lkZ2V0cy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIHsgaWYgKGxpbmUud2lkZ2V0c1tpXS5ub0hTY3JvbGwpIHsgcmVnTGluZUNoYW5nZSh0aGlzJDEsIGxpbmVObywgXCJ3aWRnZXRcIik7IGJyZWFrIH0gfSB9XG4gICAgICAgICAgKytsaW5lTm87XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmN1ck9wLmZvcmNlVXBkYXRlID0gdHJ1ZTtcbiAgICAgICAgc2lnbmFsKHRoaXMsIFwicmVmcmVzaFwiLCB0aGlzKTtcbiAgICAgIH0pLFxuXG4gICAgICBvcGVyYXRpb246IGZ1bmN0aW9uKGYpe3JldHVybiBydW5Jbk9wKHRoaXMsIGYpfSxcbiAgICAgIHN0YXJ0T3BlcmF0aW9uOiBmdW5jdGlvbigpe3JldHVybiBzdGFydE9wZXJhdGlvbih0aGlzKX0sXG4gICAgICBlbmRPcGVyYXRpb246IGZ1bmN0aW9uKCl7cmV0dXJuIGVuZE9wZXJhdGlvbih0aGlzKX0sXG5cbiAgICAgIHJlZnJlc2g6IG1ldGhvZE9wKGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgb2xkSGVpZ2h0ID0gdGhpcy5kaXNwbGF5LmNhY2hlZFRleHRIZWlnaHQ7XG4gICAgICAgIHJlZ0NoYW5nZSh0aGlzKTtcbiAgICAgICAgdGhpcy5jdXJPcC5mb3JjZVVwZGF0ZSA9IHRydWU7XG4gICAgICAgIGNsZWFyQ2FjaGVzKHRoaXMpO1xuICAgICAgICBzY3JvbGxUb0Nvb3Jkcyh0aGlzLCB0aGlzLmRvYy5zY3JvbGxMZWZ0LCB0aGlzLmRvYy5zY3JvbGxUb3ApO1xuICAgICAgICB1cGRhdGVHdXR0ZXJTcGFjZSh0aGlzLmRpc3BsYXkpO1xuICAgICAgICBpZiAob2xkSGVpZ2h0ID09IG51bGwgfHwgTWF0aC5hYnMob2xkSGVpZ2h0IC0gdGV4dEhlaWdodCh0aGlzLmRpc3BsYXkpKSA+IC41IHx8IHRoaXMub3B0aW9ucy5saW5lV3JhcHBpbmcpXG4gICAgICAgICAgeyBlc3RpbWF0ZUxpbmVIZWlnaHRzKHRoaXMpOyB9XG4gICAgICAgIHNpZ25hbCh0aGlzLCBcInJlZnJlc2hcIiwgdGhpcyk7XG4gICAgICB9KSxcblxuICAgICAgc3dhcERvYzogbWV0aG9kT3AoZnVuY3Rpb24oZG9jKSB7XG4gICAgICAgIHZhciBvbGQgPSB0aGlzLmRvYztcbiAgICAgICAgb2xkLmNtID0gbnVsbDtcbiAgICAgICAgLy8gQ2FuY2VsIHRoZSBjdXJyZW50IHRleHQgc2VsZWN0aW9uIGlmIGFueSAoIzU4MjEpXG4gICAgICAgIGlmICh0aGlzLnN0YXRlLnNlbGVjdGluZ1RleHQpIHsgdGhpcy5zdGF0ZS5zZWxlY3RpbmdUZXh0KCk7IH1cbiAgICAgICAgYXR0YWNoRG9jKHRoaXMsIGRvYyk7XG4gICAgICAgIGNsZWFyQ2FjaGVzKHRoaXMpO1xuICAgICAgICB0aGlzLmRpc3BsYXkuaW5wdXQucmVzZXQoKTtcbiAgICAgICAgc2Nyb2xsVG9Db29yZHModGhpcywgZG9jLnNjcm9sbExlZnQsIGRvYy5zY3JvbGxUb3ApO1xuICAgICAgICB0aGlzLmN1ck9wLmZvcmNlU2Nyb2xsID0gdHJ1ZTtcbiAgICAgICAgc2lnbmFsTGF0ZXIodGhpcywgXCJzd2FwRG9jXCIsIHRoaXMsIG9sZCk7XG4gICAgICAgIHJldHVybiBvbGRcbiAgICAgIH0pLFxuXG4gICAgICBwaHJhc2U6IGZ1bmN0aW9uKHBocmFzZVRleHQpIHtcbiAgICAgICAgdmFyIHBocmFzZXMgPSB0aGlzLm9wdGlvbnMucGhyYXNlcztcbiAgICAgICAgcmV0dXJuIHBocmFzZXMgJiYgT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHBocmFzZXMsIHBocmFzZVRleHQpID8gcGhyYXNlc1twaHJhc2VUZXh0XSA6IHBocmFzZVRleHRcbiAgICAgIH0sXG5cbiAgICAgIGdldElucHV0RmllbGQ6IGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcGxheS5pbnB1dC5nZXRGaWVsZCgpfSxcbiAgICAgIGdldFdyYXBwZXJFbGVtZW50OiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3BsYXkud3JhcHBlcn0sXG4gICAgICBnZXRTY3JvbGxlckVsZW1lbnQ6IGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZGlzcGxheS5zY3JvbGxlcn0sXG4gICAgICBnZXRHdXR0ZXJFbGVtZW50OiBmdW5jdGlvbigpe3JldHVybiB0aGlzLmRpc3BsYXkuZ3V0dGVyc31cbiAgICB9O1xuICAgIGV2ZW50TWl4aW4oQ29kZU1pcnJvcik7XG5cbiAgICBDb2RlTWlycm9yLnJlZ2lzdGVySGVscGVyID0gZnVuY3Rpb24odHlwZSwgbmFtZSwgdmFsdWUpIHtcbiAgICAgIGlmICghaGVscGVycy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkgeyBoZWxwZXJzW3R5cGVdID0gQ29kZU1pcnJvclt0eXBlXSA9IHtfZ2xvYmFsOiBbXX07IH1cbiAgICAgIGhlbHBlcnNbdHlwZV1bbmFtZV0gPSB2YWx1ZTtcbiAgICB9O1xuICAgIENvZGVNaXJyb3IucmVnaXN0ZXJHbG9iYWxIZWxwZXIgPSBmdW5jdGlvbih0eXBlLCBuYW1lLCBwcmVkaWNhdGUsIHZhbHVlKSB7XG4gICAgICBDb2RlTWlycm9yLnJlZ2lzdGVySGVscGVyKHR5cGUsIG5hbWUsIHZhbHVlKTtcbiAgICAgIGhlbHBlcnNbdHlwZV0uX2dsb2JhbC5wdXNoKHtwcmVkOiBwcmVkaWNhdGUsIHZhbDogdmFsdWV9KTtcbiAgICB9O1xuICB9XG5cbiAgLy8gVXNlZCBmb3IgaG9yaXpvbnRhbCByZWxhdGl2ZSBtb3Rpb24uIERpciBpcyAtMSBvciAxIChsZWZ0IG9yXG4gIC8vIHJpZ2h0KSwgdW5pdCBjYW4gYmUgXCJjb2RlcG9pbnRcIiwgXCJjaGFyXCIsIFwiY29sdW1uXCIgKGxpa2UgY2hhciwgYnV0XG4gIC8vIGRvZXNuJ3QgY3Jvc3MgbGluZSBib3VuZGFyaWVzKSwgXCJ3b3JkXCIgKGFjcm9zcyBuZXh0IHdvcmQpLCBvclxuICAvLyBcImdyb3VwXCIgKHRvIHRoZSBzdGFydCBvZiBuZXh0IGdyb3VwIG9mIHdvcmQgb3JcbiAgLy8gbm9uLXdvcmQtbm9uLXdoaXRlc3BhY2UgY2hhcnMpLiBUaGUgdmlzdWFsbHkgcGFyYW0gY29udHJvbHNcbiAgLy8gd2hldGhlciwgaW4gcmlnaHQtdG8tbGVmdCB0ZXh0LCBkaXJlY3Rpb24gMSBtZWFucyB0byBtb3ZlIHRvd2FyZHNcbiAgLy8gdGhlIG5leHQgaW5kZXggaW4gdGhlIHN0cmluZywgb3IgdG93YXJkcyB0aGUgY2hhcmFjdGVyIHRvIHRoZSByaWdodFxuICAvLyBvZiB0aGUgY3VycmVudCBwb3NpdGlvbi4gVGhlIHJlc3VsdGluZyBwb3NpdGlvbiB3aWxsIGhhdmUgYVxuICAvLyBoaXRTaWRlPXRydWUgcHJvcGVydHkgaWYgaXQgcmVhY2hlZCB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudC5cbiAgZnVuY3Rpb24gZmluZFBvc0goZG9jLCBwb3MsIGRpciwgdW5pdCwgdmlzdWFsbHkpIHtcbiAgICB2YXIgb2xkUG9zID0gcG9zO1xuICAgIHZhciBvcmlnRGlyID0gZGlyO1xuICAgIHZhciBsaW5lT2JqID0gZ2V0TGluZShkb2MsIHBvcy5saW5lKTtcbiAgICB2YXIgbGluZURpciA9IHZpc3VhbGx5ICYmIGRvYy5kaXJlY3Rpb24gPT0gXCJydGxcIiA/IC1kaXIgOiBkaXI7XG4gICAgZnVuY3Rpb24gZmluZE5leHRMaW5lKCkge1xuICAgICAgdmFyIGwgPSBwb3MubGluZSArIGxpbmVEaXI7XG4gICAgICBpZiAobCA8IGRvYy5maXJzdCB8fCBsID49IGRvYy5maXJzdCArIGRvYy5zaXplKSB7IHJldHVybiBmYWxzZSB9XG4gICAgICBwb3MgPSBuZXcgUG9zKGwsIHBvcy5jaCwgcG9zLnN0aWNreSk7XG4gICAgICByZXR1cm4gbGluZU9iaiA9IGdldExpbmUoZG9jLCBsKVxuICAgIH1cbiAgICBmdW5jdGlvbiBtb3ZlT25jZShib3VuZFRvTGluZSkge1xuICAgICAgdmFyIG5leHQ7XG4gICAgICBpZiAodW5pdCA9PSBcImNvZGVwb2ludFwiKSB7XG4gICAgICAgIHZhciBjaCA9IGxpbmVPYmoudGV4dC5jaGFyQ29kZUF0KHBvcy5jaCArIChkaXIgPiAwID8gMCA6IC0xKSk7XG4gICAgICAgIGlmIChpc05hTihjaCkpIHtcbiAgICAgICAgICBuZXh0ID0gbnVsbDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2YXIgYXN0cmFsID0gZGlyID4gMCA/IGNoID49IDB4RDgwMCAmJiBjaCA8IDB4REMwMCA6IGNoID49IDB4REMwMCAmJiBjaCA8IDB4REZGRjtcbiAgICAgICAgICBuZXh0ID0gbmV3IFBvcyhwb3MubGluZSwgTWF0aC5tYXgoMCwgTWF0aC5taW4obGluZU9iai50ZXh0Lmxlbmd0aCwgcG9zLmNoICsgZGlyICogKGFzdHJhbCA/IDIgOiAxKSkpLCAtZGlyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh2aXN1YWxseSkge1xuICAgICAgICBuZXh0ID0gbW92ZVZpc3VhbGx5KGRvYy5jbSwgbGluZU9iaiwgcG9zLCBkaXIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV4dCA9IG1vdmVMb2dpY2FsbHkobGluZU9iaiwgcG9zLCBkaXIpO1xuICAgICAgfVxuICAgICAgaWYgKG5leHQgPT0gbnVsbCkge1xuICAgICAgICBpZiAoIWJvdW5kVG9MaW5lICYmIGZpbmROZXh0TGluZSgpKVxuICAgICAgICAgIHsgcG9zID0gZW5kT2ZMaW5lKHZpc3VhbGx5LCBkb2MuY20sIGxpbmVPYmosIHBvcy5saW5lLCBsaW5lRGlyKTsgfVxuICAgICAgICBlbHNlXG4gICAgICAgICAgeyByZXR1cm4gZmFsc2UgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcG9zID0gbmV4dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuXG4gICAgaWYgKHVuaXQgPT0gXCJjaGFyXCIgfHwgdW5pdCA9PSBcImNvZGVwb2ludFwiKSB7XG4gICAgICBtb3ZlT25jZSgpO1xuICAgIH0gZWxzZSBpZiAodW5pdCA9PSBcImNvbHVtblwiKSB7XG4gICAgICBtb3ZlT25jZSh0cnVlKTtcbiAgICB9IGVsc2UgaWYgKHVuaXQgPT0gXCJ3b3JkXCIgfHwgdW5pdCA9PSBcImdyb3VwXCIpIHtcbiAgICAgIHZhciBzYXdUeXBlID0gbnVsbCwgZ3JvdXAgPSB1bml0ID09IFwiZ3JvdXBcIjtcbiAgICAgIHZhciBoZWxwZXIgPSBkb2MuY20gJiYgZG9jLmNtLmdldEhlbHBlcihwb3MsIFwid29yZENoYXJzXCIpO1xuICAgICAgZm9yICh2YXIgZmlyc3QgPSB0cnVlOzsgZmlyc3QgPSBmYWxzZSkge1xuICAgICAgICBpZiAoZGlyIDwgMCAmJiAhbW92ZU9uY2UoIWZpcnN0KSkgeyBicmVhayB9XG4gICAgICAgIHZhciBjdXIgPSBsaW5lT2JqLnRleHQuY2hhckF0KHBvcy5jaCkgfHwgXCJcXG5cIjtcbiAgICAgICAgdmFyIHR5cGUgPSBpc1dvcmRDaGFyKGN1ciwgaGVscGVyKSA/IFwid1wiXG4gICAgICAgICAgOiBncm91cCAmJiBjdXIgPT0gXCJcXG5cIiA/IFwiblwiXG4gICAgICAgICAgOiAhZ3JvdXAgfHwgL1xccy8udGVzdChjdXIpID8gbnVsbFxuICAgICAgICAgIDogXCJwXCI7XG4gICAgICAgIGlmIChncm91cCAmJiAhZmlyc3QgJiYgIXR5cGUpIHsgdHlwZSA9IFwic1wiOyB9XG4gICAgICAgIGlmIChzYXdUeXBlICYmIHNhd1R5cGUgIT0gdHlwZSkge1xuICAgICAgICAgIGlmIChkaXIgPCAwKSB7ZGlyID0gMTsgbW92ZU9uY2UoKTsgcG9zLnN0aWNreSA9IFwiYWZ0ZXJcIjt9XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0eXBlKSB7IHNhd1R5cGUgPSB0eXBlOyB9XG4gICAgICAgIGlmIChkaXIgPiAwICYmICFtb3ZlT25jZSghZmlyc3QpKSB7IGJyZWFrIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIHJlc3VsdCA9IHNraXBBdG9taWMoZG9jLCBwb3MsIG9sZFBvcywgb3JpZ0RpciwgdHJ1ZSk7XG4gICAgaWYgKGVxdWFsQ3Vyc29yUG9zKG9sZFBvcywgcmVzdWx0KSkgeyByZXN1bHQuaGl0U2lkZSA9IHRydWU7IH1cbiAgICByZXR1cm4gcmVzdWx0XG4gIH1cblxuICAvLyBGb3IgcmVsYXRpdmUgdmVydGljYWwgbW92ZW1lbnQuIERpciBtYXkgYmUgLTEgb3IgMS4gVW5pdCBjYW4gYmVcbiAgLy8gXCJwYWdlXCIgb3IgXCJsaW5lXCIuIFRoZSByZXN1bHRpbmcgcG9zaXRpb24gd2lsbCBoYXZlIGEgaGl0U2lkZT10cnVlXG4gIC8vIHByb3BlcnR5IGlmIGl0IHJlYWNoZWQgdGhlIGVuZCBvZiB0aGUgZG9jdW1lbnQuXG4gIGZ1bmN0aW9uIGZpbmRQb3NWKGNtLCBwb3MsIGRpciwgdW5pdCkge1xuICAgIHZhciBkb2MgPSBjbS5kb2MsIHggPSBwb3MubGVmdCwgeTtcbiAgICBpZiAodW5pdCA9PSBcInBhZ2VcIikge1xuICAgICAgdmFyIHBhZ2VTaXplID0gTWF0aC5taW4oY20uZGlzcGxheS53cmFwcGVyLmNsaWVudEhlaWdodCwgd2luKGNtKS5pbm5lckhlaWdodCB8fCBkb2MoY20pLmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQpO1xuICAgICAgdmFyIG1vdmVBbW91bnQgPSBNYXRoLm1heChwYWdlU2l6ZSAtIC41ICogdGV4dEhlaWdodChjbS5kaXNwbGF5KSwgMyk7XG4gICAgICB5ID0gKGRpciA+IDAgPyBwb3MuYm90dG9tIDogcG9zLnRvcCkgKyBkaXIgKiBtb3ZlQW1vdW50O1xuXG4gICAgfSBlbHNlIGlmICh1bml0ID09IFwibGluZVwiKSB7XG4gICAgICB5ID0gZGlyID4gMCA/IHBvcy5ib3R0b20gKyAzIDogcG9zLnRvcCAtIDM7XG4gICAgfVxuICAgIHZhciB0YXJnZXQ7XG4gICAgZm9yICg7Oykge1xuICAgICAgdGFyZ2V0ID0gY29vcmRzQ2hhcihjbSwgeCwgeSk7XG4gICAgICBpZiAoIXRhcmdldC5vdXRzaWRlKSB7IGJyZWFrIH1cbiAgICAgIGlmIChkaXIgPCAwID8geSA8PSAwIDogeSA+PSBkb2MuaGVpZ2h0KSB7IHRhcmdldC5oaXRTaWRlID0gdHJ1ZTsgYnJlYWsgfVxuICAgICAgeSArPSBkaXIgKiA1O1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0XG4gIH1cblxuICAvLyBDT05URU5URURJVEFCTEUgSU5QVVQgU1RZTEVcblxuICB2YXIgQ29udGVudEVkaXRhYmxlSW5wdXQgPSBmdW5jdGlvbihjbSkge1xuICAgIHRoaXMuY20gPSBjbTtcbiAgICB0aGlzLmxhc3RBbmNob3JOb2RlID0gdGhpcy5sYXN0QW5jaG9yT2Zmc2V0ID0gdGhpcy5sYXN0Rm9jdXNOb2RlID0gdGhpcy5sYXN0Rm9jdXNPZmZzZXQgPSBudWxsO1xuICAgIHRoaXMucG9sbGluZyA9IG5ldyBEZWxheWVkKCk7XG4gICAgdGhpcy5jb21wb3NpbmcgPSBudWxsO1xuICAgIHRoaXMuZ3JhY2VQZXJpb2QgPSBmYWxzZTtcbiAgICB0aGlzLnJlYWRET01UaW1lb3V0ID0gbnVsbDtcbiAgfTtcblxuICBDb250ZW50RWRpdGFibGVJbnB1dC5wcm90b3R5cGUuaW5pdCA9IGZ1bmN0aW9uIChkaXNwbGF5KSB7XG4gICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBpbnB1dCA9IHRoaXMsIGNtID0gaW5wdXQuY207XG4gICAgdmFyIGRpdiA9IGlucHV0LmRpdiA9IGRpc3BsYXkubGluZURpdjtcbiAgICBkaXYuY29udGVudEVkaXRhYmxlID0gdHJ1ZTtcbiAgICBkaXNhYmxlQnJvd3Nlck1hZ2ljKGRpdiwgY20ub3B0aW9ucy5zcGVsbGNoZWNrLCBjbS5vcHRpb25zLmF1dG9jb3JyZWN0LCBjbS5vcHRpb25zLmF1dG9jYXBpdGFsaXplKTtcblxuICAgIGZ1bmN0aW9uIGJlbG9uZ3NUb0lucHV0KGUpIHtcbiAgICAgIGZvciAodmFyIHQgPSBlLnRhcmdldDsgdDsgdCA9IHQucGFyZW50Tm9kZSkge1xuICAgICAgICBpZiAodCA9PSBkaXYpIHsgcmV0dXJuIHRydWUgfVxuICAgICAgICBpZiAoL1xcYkNvZGVNaXJyb3ItKD86bGluZSk/d2lkZ2V0XFxiLy50ZXN0KHQuY2xhc3NOYW1lKSkgeyBicmVhayB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBvbihkaXYsIFwicGFzdGVcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICghYmVsb25nc1RvSW5wdXQoZSkgfHwgc2lnbmFsRE9NRXZlbnQoY20sIGUpIHx8IGhhbmRsZVBhc3RlKGUsIGNtKSkgeyByZXR1cm4gfVxuICAgICAgLy8gSUUgZG9lc24ndCBmaXJlIGlucHV0IGV2ZW50cywgc28gd2Ugc2NoZWR1bGUgYSByZWFkIGZvciB0aGUgcGFzdGVkIGNvbnRlbnQgaW4gdGhpcyB3YXlcbiAgICAgIGlmIChpZV92ZXJzaW9uIDw9IDExKSB7IHNldFRpbWVvdXQob3BlcmF0aW9uKGNtLCBmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzJDEudXBkYXRlRnJvbURPTSgpOyB9KSwgMjApOyB9XG4gICAgfSk7XG5cbiAgICBvbihkaXYsIFwiY29tcG9zaXRpb25zdGFydFwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgdGhpcyQxLmNvbXBvc2luZyA9IHtkYXRhOiBlLmRhdGEsIGRvbmU6IGZhbHNlfTtcbiAgICB9KTtcbiAgICBvbihkaXYsIFwiY29tcG9zaXRpb251cGRhdGVcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICghdGhpcyQxLmNvbXBvc2luZykgeyB0aGlzJDEuY29tcG9zaW5nID0ge2RhdGE6IGUuZGF0YSwgZG9uZTogZmFsc2V9OyB9XG4gICAgfSk7XG4gICAgb24oZGl2LCBcImNvbXBvc2l0aW9uZW5kXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAodGhpcyQxLmNvbXBvc2luZykge1xuICAgICAgICBpZiAoZS5kYXRhICE9IHRoaXMkMS5jb21wb3NpbmcuZGF0YSkgeyB0aGlzJDEucmVhZEZyb21ET01Tb29uKCk7IH1cbiAgICAgICAgdGhpcyQxLmNvbXBvc2luZy5kb25lID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIG9uKGRpdiwgXCJ0b3VjaHN0YXJ0XCIsIGZ1bmN0aW9uICgpIHsgcmV0dXJuIGlucHV0LmZvcmNlQ29tcG9zaXRpb25FbmQoKTsgfSk7XG5cbiAgICBvbihkaXYsIFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKCF0aGlzJDEuY29tcG9zaW5nKSB7IHRoaXMkMS5yZWFkRnJvbURPTVNvb24oKTsgfVxuICAgIH0pO1xuXG4gICAgZnVuY3Rpb24gb25Db3B5Q3V0KGUpIHtcbiAgICAgIGlmICghYmVsb25nc1RvSW5wdXQoZSkgfHwgc2lnbmFsRE9NRXZlbnQoY20sIGUpKSB7IHJldHVybiB9XG4gICAgICBpZiAoY20uc29tZXRoaW5nU2VsZWN0ZWQoKSkge1xuICAgICAgICBzZXRMYXN0Q29waWVkKHtsaW5lV2lzZTogZmFsc2UsIHRleHQ6IGNtLmdldFNlbGVjdGlvbnMoKX0pO1xuICAgICAgICBpZiAoZS50eXBlID09IFwiY3V0XCIpIHsgY20ucmVwbGFjZVNlbGVjdGlvbihcIlwiLCBudWxsLCBcImN1dFwiKTsgfVxuICAgICAgfSBlbHNlIGlmICghY20ub3B0aW9ucy5saW5lV2lzZUNvcHlDdXQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcmFuZ2VzID0gY29weWFibGVSYW5nZXMoY20pO1xuICAgICAgICBzZXRMYXN0Q29waWVkKHtsaW5lV2lzZTogdHJ1ZSwgdGV4dDogcmFuZ2VzLnRleHR9KTtcbiAgICAgICAgaWYgKGUudHlwZSA9PSBcImN1dFwiKSB7XG4gICAgICAgICAgY20ub3BlcmF0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNtLnNldFNlbGVjdGlvbnMocmFuZ2VzLnJhbmdlcywgMCwgc2VsX2RvbnRTY3JvbGwpO1xuICAgICAgICAgICAgY20ucmVwbGFjZVNlbGVjdGlvbihcIlwiLCBudWxsLCBcImN1dFwiKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGUuY2xpcGJvYXJkRGF0YSkge1xuICAgICAgICBlLmNsaXBib2FyZERhdGEuY2xlYXJEYXRhKCk7XG4gICAgICAgIHZhciBjb250ZW50ID0gbGFzdENvcGllZC50ZXh0LmpvaW4oXCJcXG5cIik7XG4gICAgICAgIC8vIGlPUyBleHBvc2VzIHRoZSBjbGlwYm9hcmQgQVBJLCBidXQgc2VlbXMgdG8gZGlzY2FyZCBjb250ZW50IGluc2VydGVkIGludG8gaXRcbiAgICAgICAgZS5jbGlwYm9hcmREYXRhLnNldERhdGEoXCJUZXh0XCIsIGNvbnRlbnQpO1xuICAgICAgICBpZiAoZS5jbGlwYm9hcmREYXRhLmdldERhdGEoXCJUZXh0XCIpID09IGNvbnRlbnQpIHtcbiAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIE9sZC1mYXNoaW9uZWQgYnJpZWZseS1mb2N1cy1hLXRleHRhcmVhIGhhY2tcbiAgICAgIHZhciBrbHVkZ2UgPSBoaWRkZW5UZXh0YXJlYSgpLCB0ZSA9IGtsdWRnZS5maXJzdENoaWxkO1xuICAgICAgZGlzYWJsZUJyb3dzZXJNYWdpYyh0ZSk7XG4gICAgICBjbS5kaXNwbGF5LmxpbmVTcGFjZS5pbnNlcnRCZWZvcmUoa2x1ZGdlLCBjbS5kaXNwbGF5LmxpbmVTcGFjZS5maXJzdENoaWxkKTtcbiAgICAgIHRlLnZhbHVlID0gbGFzdENvcGllZC50ZXh0LmpvaW4oXCJcXG5cIik7XG4gICAgICB2YXIgaGFkRm9jdXMgPSBhY3RpdmVFbHQocm9vdE5vZGUoZGl2KSk7XG4gICAgICBzZWxlY3RJbnB1dCh0ZSk7XG4gICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY20uZGlzcGxheS5saW5lU3BhY2UucmVtb3ZlQ2hpbGQoa2x1ZGdlKTtcbiAgICAgICAgaGFkRm9jdXMuZm9jdXMoKTtcbiAgICAgICAgaWYgKGhhZEZvY3VzID09IGRpdikgeyBpbnB1dC5zaG93UHJpbWFyeVNlbGVjdGlvbigpOyB9XG4gICAgICB9LCA1MCk7XG4gICAgfVxuICAgIG9uKGRpdiwgXCJjb3B5XCIsIG9uQ29weUN1dCk7XG4gICAgb24oZGl2LCBcImN1dFwiLCBvbkNvcHlDdXQpO1xuICB9O1xuXG4gIENvbnRlbnRFZGl0YWJsZUlucHV0LnByb3RvdHlwZS5zY3JlZW5SZWFkZXJMYWJlbENoYW5nZWQgPSBmdW5jdGlvbiAobGFiZWwpIHtcbiAgICAvLyBMYWJlbCBmb3Igc2NyZWVucmVhZGVycywgYWNjZXNzaWJpbGl0eVxuICAgIGlmKGxhYmVsKSB7XG4gICAgICB0aGlzLmRpdi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBsYWJlbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuZGl2LnJlbW92ZUF0dHJpYnV0ZSgnYXJpYS1sYWJlbCcpO1xuICAgIH1cbiAgfTtcblxuICBDb250ZW50RWRpdGFibGVJbnB1dC5wcm90b3R5cGUucHJlcGFyZVNlbGVjdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgcmVzdWx0ID0gcHJlcGFyZVNlbGVjdGlvbih0aGlzLmNtLCBmYWxzZSk7XG4gICAgcmVzdWx0LmZvY3VzID0gYWN0aXZlRWx0KHJvb3ROb2RlKHRoaXMuZGl2KSkgPT0gdGhpcy5kaXY7XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9O1xuXG4gIENvbnRlbnRFZGl0YWJsZUlucHV0LnByb3RvdHlwZS5zaG93U2VsZWN0aW9uID0gZnVuY3Rpb24gKGluZm8sIHRha2VGb2N1cykge1xuICAgIGlmICghaW5mbyB8fCAhdGhpcy5jbS5kaXNwbGF5LnZpZXcubGVuZ3RoKSB7IHJldHVybiB9XG4gICAgaWYgKGluZm8uZm9jdXMgfHwgdGFrZUZvY3VzKSB7IHRoaXMuc2hvd1ByaW1hcnlTZWxlY3Rpb24oKTsgfVxuICAgIHRoaXMuc2hvd011bHRpcGxlU2VsZWN0aW9ucyhpbmZvKTtcbiAgfTtcblxuICBDb250ZW50RWRpdGFibGVJbnB1dC5wcm90b3R5cGUuZ2V0U2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLmNtLmRpc3BsYXkud3JhcHBlci5vd25lckRvY3VtZW50LmdldFNlbGVjdGlvbigpXG4gIH07XG5cbiAgQ29udGVudEVkaXRhYmxlSW5wdXQucHJvdG90eXBlLnNob3dQcmltYXJ5U2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWwgPSB0aGlzLmdldFNlbGVjdGlvbigpLCBjbSA9IHRoaXMuY20sIHByaW0gPSBjbS5kb2Muc2VsLnByaW1hcnkoKTtcbiAgICB2YXIgZnJvbSA9IHByaW0uZnJvbSgpLCB0byA9IHByaW0udG8oKTtcblxuICAgIGlmIChjbS5kaXNwbGF5LnZpZXdUbyA9PSBjbS5kaXNwbGF5LnZpZXdGcm9tIHx8IGZyb20ubGluZSA+PSBjbS5kaXNwbGF5LnZpZXdUbyB8fCB0by5saW5lIDwgY20uZGlzcGxheS52aWV3RnJvbSkge1xuICAgICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIGN1ckFuY2hvciA9IGRvbVRvUG9zKGNtLCBzZWwuYW5jaG9yTm9kZSwgc2VsLmFuY2hvck9mZnNldCk7XG4gICAgdmFyIGN1ckZvY3VzID0gZG9tVG9Qb3MoY20sIHNlbC5mb2N1c05vZGUsIHNlbC5mb2N1c09mZnNldCk7XG4gICAgaWYgKGN1ckFuY2hvciAmJiAhY3VyQW5jaG9yLmJhZCAmJiBjdXJGb2N1cyAmJiAhY3VyRm9jdXMuYmFkICYmXG4gICAgICAgIGNtcChtaW5Qb3MoY3VyQW5jaG9yLCBjdXJGb2N1cyksIGZyb20pID09IDAgJiZcbiAgICAgICAgY21wKG1heFBvcyhjdXJBbmNob3IsIGN1ckZvY3VzKSwgdG8pID09IDApXG4gICAgICB7IHJldHVybiB9XG5cbiAgICB2YXIgdmlldyA9IGNtLmRpc3BsYXkudmlldztcbiAgICB2YXIgc3RhcnQgPSAoZnJvbS5saW5lID49IGNtLmRpc3BsYXkudmlld0Zyb20gJiYgcG9zVG9ET00oY20sIGZyb20pKSB8fFxuICAgICAgICB7bm9kZTogdmlld1swXS5tZWFzdXJlLm1hcFsyXSwgb2Zmc2V0OiAwfTtcbiAgICB2YXIgZW5kID0gdG8ubGluZSA8IGNtLmRpc3BsYXkudmlld1RvICYmIHBvc1RvRE9NKGNtLCB0byk7XG4gICAgaWYgKCFlbmQpIHtcbiAgICAgIHZhciBtZWFzdXJlID0gdmlld1t2aWV3Lmxlbmd0aCAtIDFdLm1lYXN1cmU7XG4gICAgICB2YXIgbWFwID0gbWVhc3VyZS5tYXBzID8gbWVhc3VyZS5tYXBzW21lYXN1cmUubWFwcy5sZW5ndGggLSAxXSA6IG1lYXN1cmUubWFwO1xuICAgICAgZW5kID0ge25vZGU6IG1hcFttYXAubGVuZ3RoIC0gMV0sIG9mZnNldDogbWFwW21hcC5sZW5ndGggLSAyXSAtIG1hcFttYXAubGVuZ3RoIC0gM119O1xuICAgIH1cblxuICAgIGlmICghc3RhcnQgfHwgIWVuZCkge1xuICAgICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgcmV0dXJuXG4gICAgfVxuXG4gICAgdmFyIG9sZCA9IHNlbC5yYW5nZUNvdW50ICYmIHNlbC5nZXRSYW5nZUF0KDApLCBybmc7XG4gICAgdHJ5IHsgcm5nID0gcmFuZ2Uoc3RhcnQubm9kZSwgc3RhcnQub2Zmc2V0LCBlbmQub2Zmc2V0LCBlbmQubm9kZSk7IH1cbiAgICBjYXRjaChlKSB7fSAvLyBPdXIgbW9kZWwgb2YgdGhlIERPTSBtaWdodCBiZSBvdXRkYXRlZCwgaW4gd2hpY2ggY2FzZSB0aGUgcmFuZ2Ugd2UgdHJ5IHRvIHNldCBjYW4gYmUgaW1wb3NzaWJsZVxuICAgIGlmIChybmcpIHtcbiAgICAgIGlmICghZ2Vja28gJiYgY20uc3RhdGUuZm9jdXNlZCkge1xuICAgICAgICBzZWwuY29sbGFwc2Uoc3RhcnQubm9kZSwgc3RhcnQub2Zmc2V0KTtcbiAgICAgICAgaWYgKCFybmcuY29sbGFwc2VkKSB7XG4gICAgICAgICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICAgIHNlbC5hZGRSYW5nZShybmcpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgIHNlbC5hZGRSYW5nZShybmcpO1xuICAgICAgfVxuICAgICAgaWYgKG9sZCAmJiBzZWwuYW5jaG9yTm9kZSA9PSBudWxsKSB7IHNlbC5hZGRSYW5nZShvbGQpOyB9XG4gICAgICBlbHNlIGlmIChnZWNrbykgeyB0aGlzLnN0YXJ0R3JhY2VQZXJpb2QoKTsgfVxuICAgIH1cbiAgICB0aGlzLnJlbWVtYmVyU2VsZWN0aW9uKCk7XG4gIH07XG5cbiAgQ29udGVudEVkaXRhYmxlSW5wdXQucHJvdG90eXBlLnN0YXJ0R3JhY2VQZXJpb2QgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGNsZWFyVGltZW91dCh0aGlzLmdyYWNlUGVyaW9kKTtcbiAgICB0aGlzLmdyYWNlUGVyaW9kID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzJDEuZ3JhY2VQZXJpb2QgPSBmYWxzZTtcbiAgICAgIGlmICh0aGlzJDEuc2VsZWN0aW9uQ2hhbmdlZCgpKVxuICAgICAgICB7IHRoaXMkMS5jbS5vcGVyYXRpb24oZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcyQxLmNtLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQgPSB0cnVlOyB9KTsgfVxuICAgIH0sIDIwKTtcbiAgfTtcblxuICBDb250ZW50RWRpdGFibGVJbnB1dC5wcm90b3R5cGUuc2hvd011bHRpcGxlU2VsZWN0aW9ucyA9IGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQodGhpcy5jbS5kaXNwbGF5LmN1cnNvckRpdiwgaW5mby5jdXJzb3JzKTtcbiAgICByZW1vdmVDaGlsZHJlbkFuZEFkZCh0aGlzLmNtLmRpc3BsYXkuc2VsZWN0aW9uRGl2LCBpbmZvLnNlbGVjdGlvbik7XG4gIH07XG5cbiAgQ29udGVudEVkaXRhYmxlSW5wdXQucHJvdG90eXBlLnJlbWVtYmVyU2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBzZWwgPSB0aGlzLmdldFNlbGVjdGlvbigpO1xuICAgIHRoaXMubGFzdEFuY2hvck5vZGUgPSBzZWwuYW5jaG9yTm9kZTsgdGhpcy5sYXN0QW5jaG9yT2Zmc2V0ID0gc2VsLmFuY2hvck9mZnNldDtcbiAgICB0aGlzLmxhc3RGb2N1c05vZGUgPSBzZWwuZm9jdXNOb2RlOyB0aGlzLmxhc3RGb2N1c09mZnNldCA9IHNlbC5mb2N1c09mZnNldDtcbiAgfTtcblxuICBDb250ZW50RWRpdGFibGVJbnB1dC5wcm90b3R5cGUuc2VsZWN0aW9uSW5FZGl0b3IgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbCA9IHRoaXMuZ2V0U2VsZWN0aW9uKCk7XG4gICAgaWYgKCFzZWwucmFuZ2VDb3VudCkgeyByZXR1cm4gZmFsc2UgfVxuICAgIHZhciBub2RlID0gc2VsLmdldFJhbmdlQXQoMCkuY29tbW9uQW5jZXN0b3JDb250YWluZXI7XG4gICAgcmV0dXJuIGNvbnRhaW5zKHRoaXMuZGl2LCBub2RlKVxuICB9O1xuXG4gIENvbnRlbnRFZGl0YWJsZUlucHV0LnByb3RvdHlwZS5mb2N1cyA9IGZ1bmN0aW9uICgpIHtcbiAgICBpZiAodGhpcy5jbS5vcHRpb25zLnJlYWRPbmx5ICE9IFwibm9jdXJzb3JcIikge1xuICAgICAgaWYgKCF0aGlzLnNlbGVjdGlvbkluRWRpdG9yKCkgfHwgYWN0aXZlRWx0KHJvb3ROb2RlKHRoaXMuZGl2KSkgIT0gdGhpcy5kaXYpXG4gICAgICAgIHsgdGhpcy5zaG93U2VsZWN0aW9uKHRoaXMucHJlcGFyZVNlbGVjdGlvbigpLCB0cnVlKTsgfVxuICAgICAgdGhpcy5kaXYuZm9jdXMoKTtcbiAgICB9XG4gIH07XG4gIENvbnRlbnRFZGl0YWJsZUlucHV0LnByb3RvdHlwZS5ibHVyID0gZnVuY3Rpb24gKCkgeyB0aGlzLmRpdi5ibHVyKCk7IH07XG4gIENvbnRlbnRFZGl0YWJsZUlucHV0LnByb3RvdHlwZS5nZXRGaWVsZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXMuZGl2IH07XG5cbiAgQ29udGVudEVkaXRhYmxlSW5wdXQucHJvdG90eXBlLnN1cHBvcnRzVG91Y2ggPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0cnVlIH07XG5cbiAgQ29udGVudEVkaXRhYmxlSW5wdXQucHJvdG90eXBlLnJlY2VpdmVkRm9jdXMgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBpbnB1dCA9IHRoaXM7XG4gICAgaWYgKHRoaXMuc2VsZWN0aW9uSW5FZGl0b3IoKSlcbiAgICAgIHsgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7IHJldHVybiB0aGlzJDEucG9sbFNlbGVjdGlvbigpOyB9LCAyMCk7IH1cbiAgICBlbHNlXG4gICAgICB7IHJ1bkluT3AodGhpcy5jbSwgZnVuY3Rpb24gKCkgeyByZXR1cm4gaW5wdXQuY20uY3VyT3Auc2VsZWN0aW9uQ2hhbmdlZCA9IHRydWU7IH0pOyB9XG5cbiAgICBmdW5jdGlvbiBwb2xsKCkge1xuICAgICAgaWYgKGlucHV0LmNtLnN0YXRlLmZvY3VzZWQpIHtcbiAgICAgICAgaW5wdXQucG9sbFNlbGVjdGlvbigpO1xuICAgICAgICBpbnB1dC5wb2xsaW5nLnNldChpbnB1dC5jbS5vcHRpb25zLnBvbGxJbnRlcnZhbCwgcG9sbCk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMucG9sbGluZy5zZXQodGhpcy5jbS5vcHRpb25zLnBvbGxJbnRlcnZhbCwgcG9sbCk7XG4gIH07XG5cbiAgQ29udGVudEVkaXRhYmxlSW5wdXQucHJvdG90eXBlLnNlbGVjdGlvbkNoYW5nZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbCA9IHRoaXMuZ2V0U2VsZWN0aW9uKCk7XG4gICAgcmV0dXJuIHNlbC5hbmNob3JOb2RlICE9IHRoaXMubGFzdEFuY2hvck5vZGUgfHwgc2VsLmFuY2hvck9mZnNldCAhPSB0aGlzLmxhc3RBbmNob3JPZmZzZXQgfHxcbiAgICAgIHNlbC5mb2N1c05vZGUgIT0gdGhpcy5sYXN0Rm9jdXNOb2RlIHx8IHNlbC5mb2N1c09mZnNldCAhPSB0aGlzLmxhc3RGb2N1c09mZnNldFxuICB9O1xuXG4gIENvbnRlbnRFZGl0YWJsZUlucHV0LnByb3RvdHlwZS5wb2xsU2VsZWN0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnJlYWRET01UaW1lb3V0ICE9IG51bGwgfHwgdGhpcy5ncmFjZVBlcmlvZCB8fCAhdGhpcy5zZWxlY3Rpb25DaGFuZ2VkKCkpIHsgcmV0dXJuIH1cbiAgICB2YXIgc2VsID0gdGhpcy5nZXRTZWxlY3Rpb24oKSwgY20gPSB0aGlzLmNtO1xuICAgIC8vIE9uIEFuZHJvaWQgQ2hyb21lICh2ZXJzaW9uIDU2LCBhdCBsZWFzdCksIGJhY2tzcGFjaW5nIGludG8gYW5cbiAgICAvLyB1bmVkaXRhYmxlIGJsb2NrIGVsZW1lbnQgd2lsbCBwdXQgdGhlIGN1cnNvciBpbiB0aGF0IGVsZW1lbnQsXG4gICAgLy8gYW5kIHRoZW4sIGJlY2F1c2UgaXQncyBub3QgZWRpdGFibGUsIGhpZGUgdGhlIHZpcnR1YWwga2V5Ym9hcmQuXG4gICAgLy8gQmVjYXVzZSBBbmRyb2lkIGRvZXNuJ3QgYWxsb3cgdXMgdG8gYWN0dWFsbHkgZGV0ZWN0IGJhY2tzcGFjZVxuICAgIC8vIHByZXNzZXMgaW4gYSBzYW5lIHdheSwgdGhpcyBjb2RlIGNoZWNrcyBmb3Igd2hlbiB0aGF0IGhhcHBlbnNcbiAgICAvLyBhbmQgc2ltdWxhdGVzIGEgYmFja3NwYWNlIHByZXNzIGluIHRoaXMgY2FzZS5cbiAgICBpZiAoYW5kcm9pZCAmJiBjaHJvbWUgJiYgdGhpcy5jbS5kaXNwbGF5Lmd1dHRlclNwZWNzLmxlbmd0aCAmJiBpc0luR3V0dGVyKHNlbC5hbmNob3JOb2RlKSkge1xuICAgICAgdGhpcy5jbS50cmlnZ2VyT25LZXlEb3duKHt0eXBlOiBcImtleWRvd25cIiwga2V5Q29kZTogOCwgcHJldmVudERlZmF1bHQ6IE1hdGguYWJzfSk7XG4gICAgICB0aGlzLmJsdXIoKTtcbiAgICAgIHRoaXMuZm9jdXMoKTtcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBpZiAodGhpcy5jb21wb3NpbmcpIHsgcmV0dXJuIH1cbiAgICB0aGlzLnJlbWVtYmVyU2VsZWN0aW9uKCk7XG4gICAgdmFyIGFuY2hvciA9IGRvbVRvUG9zKGNtLCBzZWwuYW5jaG9yTm9kZSwgc2VsLmFuY2hvck9mZnNldCk7XG4gICAgdmFyIGhlYWQgPSBkb21Ub1BvcyhjbSwgc2VsLmZvY3VzTm9kZSwgc2VsLmZvY3VzT2Zmc2V0KTtcbiAgICBpZiAoYW5jaG9yICYmIGhlYWQpIHsgcnVuSW5PcChjbSwgZnVuY3Rpb24gKCkge1xuICAgICAgc2V0U2VsZWN0aW9uKGNtLmRvYywgc2ltcGxlU2VsZWN0aW9uKGFuY2hvciwgaGVhZCksIHNlbF9kb250U2Nyb2xsKTtcbiAgICAgIGlmIChhbmNob3IuYmFkIHx8IGhlYWQuYmFkKSB7IGNtLmN1ck9wLnNlbGVjdGlvbkNoYW5nZWQgPSB0cnVlOyB9XG4gICAgfSk7IH1cbiAgfTtcblxuICBDb250ZW50RWRpdGFibGVJbnB1dC5wcm90b3R5cGUucG9sbENvbnRlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHRoaXMucmVhZERPTVRpbWVvdXQgIT0gbnVsbCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMucmVhZERPTVRpbWVvdXQpO1xuICAgICAgdGhpcy5yZWFkRE9NVGltZW91dCA9IG51bGw7XG4gICAgfVxuXG4gICAgdmFyIGNtID0gdGhpcy5jbSwgZGlzcGxheSA9IGNtLmRpc3BsYXksIHNlbCA9IGNtLmRvYy5zZWwucHJpbWFyeSgpO1xuICAgIHZhciBmcm9tID0gc2VsLmZyb20oKSwgdG8gPSBzZWwudG8oKTtcbiAgICBpZiAoZnJvbS5jaCA9PSAwICYmIGZyb20ubGluZSA+IGNtLmZpcnN0TGluZSgpKVxuICAgICAgeyBmcm9tID0gUG9zKGZyb20ubGluZSAtIDEsIGdldExpbmUoY20uZG9jLCBmcm9tLmxpbmUgLSAxKS5sZW5ndGgpOyB9XG4gICAgaWYgKHRvLmNoID09IGdldExpbmUoY20uZG9jLCB0by5saW5lKS50ZXh0Lmxlbmd0aCAmJiB0by5saW5lIDwgY20ubGFzdExpbmUoKSlcbiAgICAgIHsgdG8gPSBQb3ModG8ubGluZSArIDEsIDApOyB9XG4gICAgaWYgKGZyb20ubGluZSA8IGRpc3BsYXkudmlld0Zyb20gfHwgdG8ubGluZSA+IGRpc3BsYXkudmlld1RvIC0gMSkgeyByZXR1cm4gZmFsc2UgfVxuXG4gICAgdmFyIGZyb21JbmRleCwgZnJvbUxpbmUsIGZyb21Ob2RlO1xuICAgIGlmIChmcm9tLmxpbmUgPT0gZGlzcGxheS52aWV3RnJvbSB8fCAoZnJvbUluZGV4ID0gZmluZFZpZXdJbmRleChjbSwgZnJvbS5saW5lKSkgPT0gMCkge1xuICAgICAgZnJvbUxpbmUgPSBsaW5lTm8oZGlzcGxheS52aWV3WzBdLmxpbmUpO1xuICAgICAgZnJvbU5vZGUgPSBkaXNwbGF5LnZpZXdbMF0ubm9kZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZnJvbUxpbmUgPSBsaW5lTm8oZGlzcGxheS52aWV3W2Zyb21JbmRleF0ubGluZSk7XG4gICAgICBmcm9tTm9kZSA9IGRpc3BsYXkudmlld1tmcm9tSW5kZXggLSAxXS5ub2RlLm5leHRTaWJsaW5nO1xuICAgIH1cbiAgICB2YXIgdG9JbmRleCA9IGZpbmRWaWV3SW5kZXgoY20sIHRvLmxpbmUpO1xuICAgIHZhciB0b0xpbmUsIHRvTm9kZTtcbiAgICBpZiAodG9JbmRleCA9PSBkaXNwbGF5LnZpZXcubGVuZ3RoIC0gMSkge1xuICAgICAgdG9MaW5lID0gZGlzcGxheS52aWV3VG8gLSAxO1xuICAgICAgdG9Ob2RlID0gZGlzcGxheS5saW5lRGl2Lmxhc3RDaGlsZDtcbiAgICB9IGVsc2Uge1xuICAgICAgdG9MaW5lID0gbGluZU5vKGRpc3BsYXkudmlld1t0b0luZGV4ICsgMV0ubGluZSkgLSAxO1xuICAgICAgdG9Ob2RlID0gZGlzcGxheS52aWV3W3RvSW5kZXggKyAxXS5ub2RlLnByZXZpb3VzU2libGluZztcbiAgICB9XG5cbiAgICBpZiAoIWZyb21Ob2RlKSB7IHJldHVybiBmYWxzZSB9XG4gICAgdmFyIG5ld1RleHQgPSBjbS5kb2Muc3BsaXRMaW5lcyhkb21UZXh0QmV0d2VlbihjbSwgZnJvbU5vZGUsIHRvTm9kZSwgZnJvbUxpbmUsIHRvTGluZSkpO1xuICAgIHZhciBvbGRUZXh0ID0gZ2V0QmV0d2VlbihjbS5kb2MsIFBvcyhmcm9tTGluZSwgMCksIFBvcyh0b0xpbmUsIGdldExpbmUoY20uZG9jLCB0b0xpbmUpLnRleHQubGVuZ3RoKSk7XG4gICAgd2hpbGUgKG5ld1RleHQubGVuZ3RoID4gMSAmJiBvbGRUZXh0Lmxlbmd0aCA+IDEpIHtcbiAgICAgIGlmIChsc3QobmV3VGV4dCkgPT0gbHN0KG9sZFRleHQpKSB7IG5ld1RleHQucG9wKCk7IG9sZFRleHQucG9wKCk7IHRvTGluZS0tOyB9XG4gICAgICBlbHNlIGlmIChuZXdUZXh0WzBdID09IG9sZFRleHRbMF0pIHsgbmV3VGV4dC5zaGlmdCgpOyBvbGRUZXh0LnNoaWZ0KCk7IGZyb21MaW5lKys7IH1cbiAgICAgIGVsc2UgeyBicmVhayB9XG4gICAgfVxuXG4gICAgdmFyIGN1dEZyb250ID0gMCwgY3V0RW5kID0gMDtcbiAgICB2YXIgbmV3VG9wID0gbmV3VGV4dFswXSwgb2xkVG9wID0gb2xkVGV4dFswXSwgbWF4Q3V0RnJvbnQgPSBNYXRoLm1pbihuZXdUb3AubGVuZ3RoLCBvbGRUb3AubGVuZ3RoKTtcbiAgICB3aGlsZSAoY3V0RnJvbnQgPCBtYXhDdXRGcm9udCAmJiBuZXdUb3AuY2hhckNvZGVBdChjdXRGcm9udCkgPT0gb2xkVG9wLmNoYXJDb2RlQXQoY3V0RnJvbnQpKVxuICAgICAgeyArK2N1dEZyb250OyB9XG4gICAgdmFyIG5ld0JvdCA9IGxzdChuZXdUZXh0KSwgb2xkQm90ID0gbHN0KG9sZFRleHQpO1xuICAgIHZhciBtYXhDdXRFbmQgPSBNYXRoLm1pbihuZXdCb3QubGVuZ3RoIC0gKG5ld1RleHQubGVuZ3RoID09IDEgPyBjdXRGcm9udCA6IDApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbGRCb3QubGVuZ3RoIC0gKG9sZFRleHQubGVuZ3RoID09IDEgPyBjdXRGcm9udCA6IDApKTtcbiAgICB3aGlsZSAoY3V0RW5kIDwgbWF4Q3V0RW5kICYmXG4gICAgICAgICAgIG5ld0JvdC5jaGFyQ29kZUF0KG5ld0JvdC5sZW5ndGggLSBjdXRFbmQgLSAxKSA9PSBvbGRCb3QuY2hhckNvZGVBdChvbGRCb3QubGVuZ3RoIC0gY3V0RW5kIC0gMSkpXG4gICAgICB7ICsrY3V0RW5kOyB9XG4gICAgLy8gVHJ5IHRvIG1vdmUgc3RhcnQgb2YgY2hhbmdlIHRvIHN0YXJ0IG9mIHNlbGVjdGlvbiBpZiBhbWJpZ3VvdXNcbiAgICBpZiAobmV3VGV4dC5sZW5ndGggPT0gMSAmJiBvbGRUZXh0Lmxlbmd0aCA9PSAxICYmIGZyb21MaW5lID09IGZyb20ubGluZSkge1xuICAgICAgd2hpbGUgKGN1dEZyb250ICYmIGN1dEZyb250ID4gZnJvbS5jaCAmJlxuICAgICAgICAgICAgIG5ld0JvdC5jaGFyQ29kZUF0KG5ld0JvdC5sZW5ndGggLSBjdXRFbmQgLSAxKSA9PSBvbGRCb3QuY2hhckNvZGVBdChvbGRCb3QubGVuZ3RoIC0gY3V0RW5kIC0gMSkpIHtcbiAgICAgICAgY3V0RnJvbnQtLTtcbiAgICAgICAgY3V0RW5kKys7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbmV3VGV4dFtuZXdUZXh0Lmxlbmd0aCAtIDFdID0gbmV3Qm90LnNsaWNlKDAsIG5ld0JvdC5sZW5ndGggLSBjdXRFbmQpLnJlcGxhY2UoL15cXHUyMDBiKy8sIFwiXCIpO1xuICAgIG5ld1RleHRbMF0gPSBuZXdUZXh0WzBdLnNsaWNlKGN1dEZyb250KS5yZXBsYWNlKC9cXHUyMDBiKyQvLCBcIlwiKTtcblxuICAgIHZhciBjaEZyb20gPSBQb3MoZnJvbUxpbmUsIGN1dEZyb250KTtcbiAgICB2YXIgY2hUbyA9IFBvcyh0b0xpbmUsIG9sZFRleHQubGVuZ3RoID8gbHN0KG9sZFRleHQpLmxlbmd0aCAtIGN1dEVuZCA6IDApO1xuICAgIGlmIChuZXdUZXh0Lmxlbmd0aCA+IDEgfHwgbmV3VGV4dFswXSB8fCBjbXAoY2hGcm9tLCBjaFRvKSkge1xuICAgICAgcmVwbGFjZVJhbmdlKGNtLmRvYywgbmV3VGV4dCwgY2hGcm9tLCBjaFRvLCBcIitpbnB1dFwiKTtcbiAgICAgIHJldHVybiB0cnVlXG4gICAgfVxuICB9O1xuXG4gIENvbnRlbnRFZGl0YWJsZUlucHV0LnByb3RvdHlwZS5lbnN1cmVQb2xsZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mb3JjZUNvbXBvc2l0aW9uRW5kKCk7XG4gIH07XG4gIENvbnRlbnRFZGl0YWJsZUlucHV0LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZvcmNlQ29tcG9zaXRpb25FbmQoKTtcbiAgfTtcbiAgQ29udGVudEVkaXRhYmxlSW5wdXQucHJvdG90eXBlLmZvcmNlQ29tcG9zaXRpb25FbmQgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKCF0aGlzLmNvbXBvc2luZykgeyByZXR1cm4gfVxuICAgIGNsZWFyVGltZW91dCh0aGlzLnJlYWRET01UaW1lb3V0KTtcbiAgICB0aGlzLmNvbXBvc2luZyA9IG51bGw7XG4gICAgdGhpcy51cGRhdGVGcm9tRE9NKCk7XG4gICAgdGhpcy5kaXYuYmx1cigpO1xuICAgIHRoaXMuZGl2LmZvY3VzKCk7XG4gIH07XG4gIENvbnRlbnRFZGl0YWJsZUlucHV0LnByb3RvdHlwZS5yZWFkRnJvbURPTVNvb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIGlmICh0aGlzLnJlYWRET01UaW1lb3V0ICE9IG51bGwpIHsgcmV0dXJuIH1cbiAgICB0aGlzLnJlYWRET01UaW1lb3V0ID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7XG4gICAgICB0aGlzJDEucmVhZERPTVRpbWVvdXQgPSBudWxsO1xuICAgICAgaWYgKHRoaXMkMS5jb21wb3NpbmcpIHtcbiAgICAgICAgaWYgKHRoaXMkMS5jb21wb3NpbmcuZG9uZSkgeyB0aGlzJDEuY29tcG9zaW5nID0gbnVsbDsgfVxuICAgICAgICBlbHNlIHsgcmV0dXJuIH1cbiAgICAgIH1cbiAgICAgIHRoaXMkMS51cGRhdGVGcm9tRE9NKCk7XG4gICAgfSwgODApO1xuICB9O1xuXG4gIENvbnRlbnRFZGl0YWJsZUlucHV0LnByb3RvdHlwZS51cGRhdGVGcm9tRE9NID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHRoaXMkMSA9IHRoaXM7XG5cbiAgICBpZiAodGhpcy5jbS5pc1JlYWRPbmx5KCkgfHwgIXRoaXMucG9sbENvbnRlbnQoKSlcbiAgICAgIHsgcnVuSW5PcCh0aGlzLmNtLCBmdW5jdGlvbiAoKSB7IHJldHVybiByZWdDaGFuZ2UodGhpcyQxLmNtKTsgfSk7IH1cbiAgfTtcblxuICBDb250ZW50RWRpdGFibGVJbnB1dC5wcm90b3R5cGUuc2V0VW5lZGl0YWJsZSA9IGZ1bmN0aW9uIChub2RlKSB7XG4gICAgbm9kZS5jb250ZW50RWRpdGFibGUgPSBcImZhbHNlXCI7XG4gIH07XG5cbiAgQ29udGVudEVkaXRhYmxlSW5wdXQucHJvdG90eXBlLm9uS2V5UHJlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgIGlmIChlLmNoYXJDb2RlID09IDAgfHwgdGhpcy5jb21wb3NpbmcpIHsgcmV0dXJuIH1cbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgaWYgKCF0aGlzLmNtLmlzUmVhZE9ubHkoKSlcbiAgICAgIHsgb3BlcmF0aW9uKHRoaXMuY20sIGFwcGx5VGV4dElucHV0KSh0aGlzLmNtLCBTdHJpbmcuZnJvbUNoYXJDb2RlKGUuY2hhckNvZGUgPT0gbnVsbCA/IGUua2V5Q29kZSA6IGUuY2hhckNvZGUpLCAwKTsgfVxuICB9O1xuXG4gIENvbnRlbnRFZGl0YWJsZUlucHV0LnByb3RvdHlwZS5yZWFkT25seUNoYW5nZWQgPSBmdW5jdGlvbiAodmFsKSB7XG4gICAgdGhpcy5kaXYuY29udGVudEVkaXRhYmxlID0gU3RyaW5nKHZhbCAhPSBcIm5vY3Vyc29yXCIpO1xuICB9O1xuXG4gIENvbnRlbnRFZGl0YWJsZUlucHV0LnByb3RvdHlwZS5vbkNvbnRleHRNZW51ID0gZnVuY3Rpb24gKCkge307XG4gIENvbnRlbnRFZGl0YWJsZUlucHV0LnByb3RvdHlwZS5yZXNldFBvc2l0aW9uID0gZnVuY3Rpb24gKCkge307XG5cbiAgQ29udGVudEVkaXRhYmxlSW5wdXQucHJvdG90eXBlLm5lZWRzQ29udGVudEF0dHJpYnV0ZSA9IHRydWU7XG5cbiAgZnVuY3Rpb24gcG9zVG9ET00oY20sIHBvcykge1xuICAgIHZhciB2aWV3ID0gZmluZFZpZXdGb3JMaW5lKGNtLCBwb3MubGluZSk7XG4gICAgaWYgKCF2aWV3IHx8IHZpZXcuaGlkZGVuKSB7IHJldHVybiBudWxsIH1cbiAgICB2YXIgbGluZSA9IGdldExpbmUoY20uZG9jLCBwb3MubGluZSk7XG4gICAgdmFyIGluZm8gPSBtYXBGcm9tTGluZVZpZXcodmlldywgbGluZSwgcG9zLmxpbmUpO1xuXG4gICAgdmFyIG9yZGVyID0gZ2V0T3JkZXIobGluZSwgY20uZG9jLmRpcmVjdGlvbiksIHNpZGUgPSBcImxlZnRcIjtcbiAgICBpZiAob3JkZXIpIHtcbiAgICAgIHZhciBwYXJ0UG9zID0gZ2V0QmlkaVBhcnRBdChvcmRlciwgcG9zLmNoKTtcbiAgICAgIHNpZGUgPSBwYXJ0UG9zICUgMiA/IFwicmlnaHRcIiA6IFwibGVmdFwiO1xuICAgIH1cbiAgICB2YXIgcmVzdWx0ID0gbm9kZUFuZE9mZnNldEluTGluZU1hcChpbmZvLm1hcCwgcG9zLmNoLCBzaWRlKTtcbiAgICByZXN1bHQub2Zmc2V0ID0gcmVzdWx0LmNvbGxhcHNlID09IFwicmlnaHRcIiA/IHJlc3VsdC5lbmQgOiByZXN1bHQuc3RhcnQ7XG4gICAgcmV0dXJuIHJlc3VsdFxuICB9XG5cbiAgZnVuY3Rpb24gaXNJbkd1dHRlcihub2RlKSB7XG4gICAgZm9yICh2YXIgc2NhbiA9IG5vZGU7IHNjYW47IHNjYW4gPSBzY2FuLnBhcmVudE5vZGUpXG4gICAgICB7IGlmICgvQ29kZU1pcnJvci1ndXR0ZXItd3JhcHBlci8udGVzdChzY2FuLmNsYXNzTmFtZSkpIHsgcmV0dXJuIHRydWUgfSB9XG4gICAgcmV0dXJuIGZhbHNlXG4gIH1cblxuICBmdW5jdGlvbiBiYWRQb3MocG9zLCBiYWQpIHsgaWYgKGJhZCkgeyBwb3MuYmFkID0gdHJ1ZTsgfSByZXR1cm4gcG9zIH1cblxuICBmdW5jdGlvbiBkb21UZXh0QmV0d2VlbihjbSwgZnJvbSwgdG8sIGZyb21MaW5lLCB0b0xpbmUpIHtcbiAgICB2YXIgdGV4dCA9IFwiXCIsIGNsb3NpbmcgPSBmYWxzZSwgbGluZVNlcCA9IGNtLmRvYy5saW5lU2VwYXJhdG9yKCksIGV4dHJhTGluZWJyZWFrID0gZmFsc2U7XG4gICAgZnVuY3Rpb24gcmVjb2duaXplTWFya2VyKGlkKSB7IHJldHVybiBmdW5jdGlvbiAobWFya2VyKSB7IHJldHVybiBtYXJrZXIuaWQgPT0gaWQ7IH0gfVxuICAgIGZ1bmN0aW9uIGNsb3NlKCkge1xuICAgICAgaWYgKGNsb3NpbmcpIHtcbiAgICAgICAgdGV4dCArPSBsaW5lU2VwO1xuICAgICAgICBpZiAoZXh0cmFMaW5lYnJlYWspIHsgdGV4dCArPSBsaW5lU2VwOyB9XG4gICAgICAgIGNsb3NpbmcgPSBleHRyYUxpbmVicmVhayA9IGZhbHNlO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBhZGRUZXh0KHN0cikge1xuICAgICAgaWYgKHN0cikge1xuICAgICAgICBjbG9zZSgpO1xuICAgICAgICB0ZXh0ICs9IHN0cjtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gd2Fsayhub2RlKSB7XG4gICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAxKSB7XG4gICAgICAgIHZhciBjbVRleHQgPSBub2RlLmdldEF0dHJpYnV0ZShcImNtLXRleHRcIik7XG4gICAgICAgIGlmIChjbVRleHQpIHtcbiAgICAgICAgICBhZGRUZXh0KGNtVGV4dCk7XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1hcmtlcklEID0gbm9kZS5nZXRBdHRyaWJ1dGUoXCJjbS1tYXJrZXJcIiksIHJhbmdlO1xuICAgICAgICBpZiAobWFya2VySUQpIHtcbiAgICAgICAgICB2YXIgZm91bmQgPSBjbS5maW5kTWFya3MoUG9zKGZyb21MaW5lLCAwKSwgUG9zKHRvTGluZSArIDEsIDApLCByZWNvZ25pemVNYXJrZXIoK21hcmtlcklEKSk7XG4gICAgICAgICAgaWYgKGZvdW5kLmxlbmd0aCAmJiAocmFuZ2UgPSBmb3VuZFswXS5maW5kKDApKSlcbiAgICAgICAgICAgIHsgYWRkVGV4dChnZXRCZXR3ZWVuKGNtLmRvYywgcmFuZ2UuZnJvbSwgcmFuZ2UudG8pLmpvaW4obGluZVNlcCkpOyB9XG4gICAgICAgICAgcmV0dXJuXG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5vZGUuZ2V0QXR0cmlidXRlKFwiY29udGVudGVkaXRhYmxlXCIpID09IFwiZmFsc2VcIikgeyByZXR1cm4gfVxuICAgICAgICB2YXIgaXNCbG9jayA9IC9eKHByZXxkaXZ8cHxsaXx0YWJsZXxicikkL2kudGVzdChub2RlLm5vZGVOYW1lKTtcbiAgICAgICAgaWYgKCEvXmJyJC9pLnRlc3Qobm9kZS5ub2RlTmFtZSkgJiYgbm9kZS50ZXh0Q29udGVudC5sZW5ndGggPT0gMCkgeyByZXR1cm4gfVxuXG4gICAgICAgIGlmIChpc0Jsb2NrKSB7IGNsb3NlKCk7IH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub2RlLmNoaWxkTm9kZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgeyB3YWxrKG5vZGUuY2hpbGROb2Rlc1tpXSk7IH1cblxuICAgICAgICBpZiAoL14ocHJlfHApJC9pLnRlc3Qobm9kZS5ub2RlTmFtZSkpIHsgZXh0cmFMaW5lYnJlYWsgPSB0cnVlOyB9XG4gICAgICAgIGlmIChpc0Jsb2NrKSB7IGNsb3NpbmcgPSB0cnVlOyB9XG4gICAgICB9IGVsc2UgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykge1xuICAgICAgICBhZGRUZXh0KG5vZGUubm9kZVZhbHVlLnJlcGxhY2UoL1xcdTIwMGIvZywgXCJcIikucmVwbGFjZSgvXFx1MDBhMC9nLCBcIiBcIikpO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKDs7KSB7XG4gICAgICB3YWxrKGZyb20pO1xuICAgICAgaWYgKGZyb20gPT0gdG8pIHsgYnJlYWsgfVxuICAgICAgZnJvbSA9IGZyb20ubmV4dFNpYmxpbmc7XG4gICAgICBleHRyYUxpbmVicmVhayA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdGV4dFxuICB9XG5cbiAgZnVuY3Rpb24gZG9tVG9Qb3MoY20sIG5vZGUsIG9mZnNldCkge1xuICAgIHZhciBsaW5lTm9kZTtcbiAgICBpZiAobm9kZSA9PSBjbS5kaXNwbGF5LmxpbmVEaXYpIHtcbiAgICAgIGxpbmVOb2RlID0gY20uZGlzcGxheS5saW5lRGl2LmNoaWxkTm9kZXNbb2Zmc2V0XTtcbiAgICAgIGlmICghbGluZU5vZGUpIHsgcmV0dXJuIGJhZFBvcyhjbS5jbGlwUG9zKFBvcyhjbS5kaXNwbGF5LnZpZXdUbyAtIDEpKSwgdHJ1ZSkgfVxuICAgICAgbm9kZSA9IG51bGw7IG9mZnNldCA9IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvciAobGluZU5vZGUgPSBub2RlOzsgbGluZU5vZGUgPSBsaW5lTm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgIGlmICghbGluZU5vZGUgfHwgbGluZU5vZGUgPT0gY20uZGlzcGxheS5saW5lRGl2KSB7IHJldHVybiBudWxsIH1cbiAgICAgICAgaWYgKGxpbmVOb2RlLnBhcmVudE5vZGUgJiYgbGluZU5vZGUucGFyZW50Tm9kZSA9PSBjbS5kaXNwbGF5LmxpbmVEaXYpIHsgYnJlYWsgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNtLmRpc3BsYXkudmlldy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGxpbmVWaWV3ID0gY20uZGlzcGxheS52aWV3W2ldO1xuICAgICAgaWYgKGxpbmVWaWV3Lm5vZGUgPT0gbGluZU5vZGUpXG4gICAgICAgIHsgcmV0dXJuIGxvY2F0ZU5vZGVJbkxpbmVWaWV3KGxpbmVWaWV3LCBub2RlLCBvZmZzZXQpIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBsb2NhdGVOb2RlSW5MaW5lVmlldyhsaW5lVmlldywgbm9kZSwgb2Zmc2V0KSB7XG4gICAgdmFyIHdyYXBwZXIgPSBsaW5lVmlldy50ZXh0LmZpcnN0Q2hpbGQsIGJhZCA9IGZhbHNlO1xuICAgIGlmICghbm9kZSB8fCAhY29udGFpbnMod3JhcHBlciwgbm9kZSkpIHsgcmV0dXJuIGJhZFBvcyhQb3MobGluZU5vKGxpbmVWaWV3LmxpbmUpLCAwKSwgdHJ1ZSkgfVxuICAgIGlmIChub2RlID09IHdyYXBwZXIpIHtcbiAgICAgIGJhZCA9IHRydWU7XG4gICAgICBub2RlID0gd3JhcHBlci5jaGlsZE5vZGVzW29mZnNldF07XG4gICAgICBvZmZzZXQgPSAwO1xuICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgIHZhciBsaW5lID0gbGluZVZpZXcucmVzdCA/IGxzdChsaW5lVmlldy5yZXN0KSA6IGxpbmVWaWV3LmxpbmU7XG4gICAgICAgIHJldHVybiBiYWRQb3MoUG9zKGxpbmVObyhsaW5lKSwgbGluZS50ZXh0Lmxlbmd0aCksIGJhZClcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgdGV4dE5vZGUgPSBub2RlLm5vZGVUeXBlID09IDMgPyBub2RlIDogbnVsbCwgdG9wTm9kZSA9IG5vZGU7XG4gICAgaWYgKCF0ZXh0Tm9kZSAmJiBub2RlLmNoaWxkTm9kZXMubGVuZ3RoID09IDEgJiYgbm9kZS5maXJzdENoaWxkLm5vZGVUeXBlID09IDMpIHtcbiAgICAgIHRleHROb2RlID0gbm9kZS5maXJzdENoaWxkO1xuICAgICAgaWYgKG9mZnNldCkgeyBvZmZzZXQgPSB0ZXh0Tm9kZS5ub2RlVmFsdWUubGVuZ3RoOyB9XG4gICAgfVxuICAgIHdoaWxlICh0b3BOb2RlLnBhcmVudE5vZGUgIT0gd3JhcHBlcikgeyB0b3BOb2RlID0gdG9wTm9kZS5wYXJlbnROb2RlOyB9XG4gICAgdmFyIG1lYXN1cmUgPSBsaW5lVmlldy5tZWFzdXJlLCBtYXBzID0gbWVhc3VyZS5tYXBzO1xuXG4gICAgZnVuY3Rpb24gZmluZCh0ZXh0Tm9kZSwgdG9wTm9kZSwgb2Zmc2V0KSB7XG4gICAgICBmb3IgKHZhciBpID0gLTE7IGkgPCAobWFwcyA/IG1hcHMubGVuZ3RoIDogMCk7IGkrKykge1xuICAgICAgICB2YXIgbWFwID0gaSA8IDAgPyBtZWFzdXJlLm1hcCA6IG1hcHNbaV07XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbWFwLmxlbmd0aDsgaiArPSAzKSB7XG4gICAgICAgICAgdmFyIGN1ck5vZGUgPSBtYXBbaiArIDJdO1xuICAgICAgICAgIGlmIChjdXJOb2RlID09IHRleHROb2RlIHx8IGN1ck5vZGUgPT0gdG9wTm9kZSkge1xuICAgICAgICAgICAgdmFyIGxpbmUgPSBsaW5lTm8oaSA8IDAgPyBsaW5lVmlldy5saW5lIDogbGluZVZpZXcucmVzdFtpXSk7XG4gICAgICAgICAgICB2YXIgY2ggPSBtYXBbal0gKyBvZmZzZXQ7XG4gICAgICAgICAgICBpZiAob2Zmc2V0IDwgMCB8fCBjdXJOb2RlICE9IHRleHROb2RlKSB7IGNoID0gbWFwW2ogKyAob2Zmc2V0ID8gMSA6IDApXTsgfVxuICAgICAgICAgICAgcmV0dXJuIFBvcyhsaW5lLCBjaClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGZvdW5kID0gZmluZCh0ZXh0Tm9kZSwgdG9wTm9kZSwgb2Zmc2V0KTtcbiAgICBpZiAoZm91bmQpIHsgcmV0dXJuIGJhZFBvcyhmb3VuZCwgYmFkKSB9XG5cbiAgICAvLyBGSVhNRSB0aGlzIGlzIGFsbCByZWFsbHkgc2hha3kuIG1pZ2h0IGhhbmRsZSB0aGUgZmV3IGNhc2VzIGl0IG5lZWRzIHRvIGhhbmRsZSwgYnV0IGxpa2VseSB0byBjYXVzZSBwcm9ibGVtc1xuICAgIGZvciAodmFyIGFmdGVyID0gdG9wTm9kZS5uZXh0U2libGluZywgZGlzdCA9IHRleHROb2RlID8gdGV4dE5vZGUubm9kZVZhbHVlLmxlbmd0aCAtIG9mZnNldCA6IDA7IGFmdGVyOyBhZnRlciA9IGFmdGVyLm5leHRTaWJsaW5nKSB7XG4gICAgICBmb3VuZCA9IGZpbmQoYWZ0ZXIsIGFmdGVyLmZpcnN0Q2hpbGQsIDApO1xuICAgICAgaWYgKGZvdW5kKVxuICAgICAgICB7IHJldHVybiBiYWRQb3MoUG9zKGZvdW5kLmxpbmUsIGZvdW5kLmNoIC0gZGlzdCksIGJhZCkgfVxuICAgICAgZWxzZVxuICAgICAgICB7IGRpc3QgKz0gYWZ0ZXIudGV4dENvbnRlbnQubGVuZ3RoOyB9XG4gICAgfVxuICAgIGZvciAodmFyIGJlZm9yZSA9IHRvcE5vZGUucHJldmlvdXNTaWJsaW5nLCBkaXN0JDEgPSBvZmZzZXQ7IGJlZm9yZTsgYmVmb3JlID0gYmVmb3JlLnByZXZpb3VzU2libGluZykge1xuICAgICAgZm91bmQgPSBmaW5kKGJlZm9yZSwgYmVmb3JlLmZpcnN0Q2hpbGQsIC0xKTtcbiAgICAgIGlmIChmb3VuZClcbiAgICAgICAgeyByZXR1cm4gYmFkUG9zKFBvcyhmb3VuZC5saW5lLCBmb3VuZC5jaCArIGRpc3QkMSksIGJhZCkgfVxuICAgICAgZWxzZVxuICAgICAgICB7IGRpc3QkMSArPSBiZWZvcmUudGV4dENvbnRlbnQubGVuZ3RoOyB9XG4gICAgfVxuICB9XG5cbiAgLy8gVEVYVEFSRUEgSU5QVVQgU1RZTEVcblxuICB2YXIgVGV4dGFyZWFJbnB1dCA9IGZ1bmN0aW9uKGNtKSB7XG4gICAgdGhpcy5jbSA9IGNtO1xuICAgIC8vIFNlZSBpbnB1dC5wb2xsIGFuZCBpbnB1dC5yZXNldFxuICAgIHRoaXMucHJldklucHV0ID0gXCJcIjtcblxuICAgIC8vIEZsYWcgdGhhdCBpbmRpY2F0ZXMgd2hldGhlciB3ZSBleHBlY3QgaW5wdXQgdG8gYXBwZWFyIHJlYWwgc29vblxuICAgIC8vIG5vdyAoYWZ0ZXIgc29tZSBldmVudCBsaWtlICdrZXlwcmVzcycgb3IgJ2lucHV0JykgYW5kIGFyZVxuICAgIC8vIHBvbGxpbmcgaW50ZW5zaXZlbHkuXG4gICAgdGhpcy5wb2xsaW5nRmFzdCA9IGZhbHNlO1xuICAgIC8vIFNlbGYtcmVzZXR0aW5nIHRpbWVvdXQgZm9yIHRoZSBwb2xsZXJcbiAgICB0aGlzLnBvbGxpbmcgPSBuZXcgRGVsYXllZCgpO1xuICAgIC8vIFVzZWQgdG8gd29yayBhcm91bmQgSUUgaXNzdWUgd2l0aCBzZWxlY3Rpb24gYmVpbmcgZm9yZ290dGVuIHdoZW4gZm9jdXMgbW92ZXMgYXdheSBmcm9tIHRleHRhcmVhXG4gICAgdGhpcy5oYXNTZWxlY3Rpb24gPSBmYWxzZTtcbiAgICB0aGlzLmNvbXBvc2luZyA9IG51bGw7XG4gICAgdGhpcy5yZXNldHRpbmcgPSBmYWxzZTtcbiAgfTtcblxuICBUZXh0YXJlYUlucHV0LnByb3RvdHlwZS5pbml0ID0gZnVuY3Rpb24gKGRpc3BsYXkpIHtcbiAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgdmFyIGlucHV0ID0gdGhpcywgY20gPSB0aGlzLmNtO1xuICAgIHRoaXMuY3JlYXRlRmllbGQoZGlzcGxheSk7XG4gICAgdmFyIHRlID0gdGhpcy50ZXh0YXJlYTtcblxuICAgIGRpc3BsYXkud3JhcHBlci5pbnNlcnRCZWZvcmUodGhpcy53cmFwcGVyLCBkaXNwbGF5LndyYXBwZXIuZmlyc3RDaGlsZCk7XG5cbiAgICAvLyBOZWVkZWQgdG8gaGlkZSBiaWcgYmx1ZSBibGlua2luZyBjdXJzb3Igb24gTW9iaWxlIFNhZmFyaSAoZG9lc24ndCBzZWVtIHRvIHdvcmsgaW4gaU9TIDggYW55bW9yZSlcbiAgICBpZiAoaW9zKSB7IHRlLnN0eWxlLndpZHRoID0gXCIwcHhcIjsgfVxuXG4gICAgb24odGUsIFwiaW5wdXRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPj0gOSAmJiB0aGlzJDEuaGFzU2VsZWN0aW9uKSB7IHRoaXMkMS5oYXNTZWxlY3Rpb24gPSBudWxsOyB9XG4gICAgICBpbnB1dC5wb2xsKCk7XG4gICAgfSk7XG5cbiAgICBvbih0ZSwgXCJwYXN0ZVwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKHNpZ25hbERPTUV2ZW50KGNtLCBlKSB8fCBoYW5kbGVQYXN0ZShlLCBjbSkpIHsgcmV0dXJuIH1cblxuICAgICAgY20uc3RhdGUucGFzdGVJbmNvbWluZyA9ICtuZXcgRGF0ZTtcbiAgICAgIGlucHV0LmZhc3RQb2xsKCk7XG4gICAgfSk7XG5cbiAgICBmdW5jdGlvbiBwcmVwYXJlQ29weUN1dChlKSB7XG4gICAgICBpZiAoc2lnbmFsRE9NRXZlbnQoY20sIGUpKSB7IHJldHVybiB9XG4gICAgICBpZiAoY20uc29tZXRoaW5nU2VsZWN0ZWQoKSkge1xuICAgICAgICBzZXRMYXN0Q29waWVkKHtsaW5lV2lzZTogZmFsc2UsIHRleHQ6IGNtLmdldFNlbGVjdGlvbnMoKX0pO1xuICAgICAgfSBlbHNlIGlmICghY20ub3B0aW9ucy5saW5lV2lzZUNvcHlDdXQpIHtcbiAgICAgICAgcmV0dXJuXG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgcmFuZ2VzID0gY29weWFibGVSYW5nZXMoY20pO1xuICAgICAgICBzZXRMYXN0Q29waWVkKHtsaW5lV2lzZTogdHJ1ZSwgdGV4dDogcmFuZ2VzLnRleHR9KTtcbiAgICAgICAgaWYgKGUudHlwZSA9PSBcImN1dFwiKSB7XG4gICAgICAgICAgY20uc2V0U2VsZWN0aW9ucyhyYW5nZXMucmFuZ2VzLCBudWxsLCBzZWxfZG9udFNjcm9sbCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaW5wdXQucHJldklucHV0ID0gXCJcIjtcbiAgICAgICAgICB0ZS52YWx1ZSA9IHJhbmdlcy50ZXh0LmpvaW4oXCJcXG5cIik7XG4gICAgICAgICAgc2VsZWN0SW5wdXQodGUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoZS50eXBlID09IFwiY3V0XCIpIHsgY20uc3RhdGUuY3V0SW5jb21pbmcgPSArbmV3IERhdGU7IH1cbiAgICB9XG4gICAgb24odGUsIFwiY3V0XCIsIHByZXBhcmVDb3B5Q3V0KTtcbiAgICBvbih0ZSwgXCJjb3B5XCIsIHByZXBhcmVDb3B5Q3V0KTtcblxuICAgIG9uKGRpc3BsYXkuc2Nyb2xsZXIsIFwicGFzdGVcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmIChldmVudEluV2lkZ2V0KGRpc3BsYXksIGUpIHx8IHNpZ25hbERPTUV2ZW50KGNtLCBlKSkgeyByZXR1cm4gfVxuICAgICAgaWYgKCF0ZS5kaXNwYXRjaEV2ZW50KSB7XG4gICAgICAgIGNtLnN0YXRlLnBhc3RlSW5jb21pbmcgPSArbmV3IERhdGU7XG4gICAgICAgIGlucHV0LmZvY3VzKCk7XG4gICAgICAgIHJldHVyblxuICAgICAgfVxuXG4gICAgICAvLyBQYXNzIHRoZSBgcGFzdGVgIGV2ZW50IHRvIHRoZSB0ZXh0YXJlYSBzbyBpdCdzIGhhbmRsZWQgYnkgaXRzIGV2ZW50IGxpc3RlbmVyLlxuICAgICAgdmFyIGV2ZW50ID0gbmV3IEV2ZW50KFwicGFzdGVcIik7XG4gICAgICBldmVudC5jbGlwYm9hcmREYXRhID0gZS5jbGlwYm9hcmREYXRhO1xuICAgICAgdGUuZGlzcGF0Y2hFdmVudChldmVudCk7XG4gICAgfSk7XG5cbiAgICAvLyBQcmV2ZW50IG5vcm1hbCBzZWxlY3Rpb24gaW4gdGhlIGVkaXRvciAod2UgaGFuZGxlIG91ciBvd24pXG4gICAgb24oZGlzcGxheS5saW5lU3BhY2UsIFwic2VsZWN0c3RhcnRcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICghZXZlbnRJbldpZGdldChkaXNwbGF5LCBlKSkgeyBlX3ByZXZlbnREZWZhdWx0KGUpOyB9XG4gICAgfSk7XG5cbiAgICBvbih0ZSwgXCJjb21wb3NpdGlvbnN0YXJ0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzdGFydCA9IGNtLmdldEN1cnNvcihcImZyb21cIik7XG4gICAgICBpZiAoaW5wdXQuY29tcG9zaW5nKSB7IGlucHV0LmNvbXBvc2luZy5yYW5nZS5jbGVhcigpOyB9XG4gICAgICBpbnB1dC5jb21wb3NpbmcgPSB7XG4gICAgICAgIHN0YXJ0OiBzdGFydCxcbiAgICAgICAgcmFuZ2U6IGNtLm1hcmtUZXh0KHN0YXJ0LCBjbS5nZXRDdXJzb3IoXCJ0b1wiKSwge2NsYXNzTmFtZTogXCJDb2RlTWlycm9yLWNvbXBvc2luZ1wifSlcbiAgICAgIH07XG4gICAgfSk7XG4gICAgb24odGUsIFwiY29tcG9zaXRpb25lbmRcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlucHV0LmNvbXBvc2luZykge1xuICAgICAgICBpbnB1dC5wb2xsKCk7XG4gICAgICAgIGlucHV0LmNvbXBvc2luZy5yYW5nZS5jbGVhcigpO1xuICAgICAgICBpbnB1dC5jb21wb3NpbmcgPSBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuXG4gIFRleHRhcmVhSW5wdXQucHJvdG90eXBlLmNyZWF0ZUZpZWxkID0gZnVuY3Rpb24gKF9kaXNwbGF5KSB7XG4gICAgLy8gV3JhcHMgYW5kIGhpZGVzIGlucHV0IHRleHRhcmVhXG4gICAgdGhpcy53cmFwcGVyID0gaGlkZGVuVGV4dGFyZWEoKTtcbiAgICAvLyBUaGUgc2VtaWhpZGRlbiB0ZXh0YXJlYSB0aGF0IGlzIGZvY3VzZWQgd2hlbiB0aGUgZWRpdG9yIGlzXG4gICAgLy8gZm9jdXNlZCwgYW5kIHJlY2VpdmVzIGlucHV0LlxuICAgIHRoaXMudGV4dGFyZWEgPSB0aGlzLndyYXBwZXIuZmlyc3RDaGlsZDtcbiAgICB2YXIgb3B0cyA9IHRoaXMuY20ub3B0aW9ucztcbiAgICBkaXNhYmxlQnJvd3Nlck1hZ2ljKHRoaXMudGV4dGFyZWEsIG9wdHMuc3BlbGxjaGVjaywgb3B0cy5hdXRvY29ycmVjdCwgb3B0cy5hdXRvY2FwaXRhbGl6ZSk7XG4gIH07XG5cbiAgVGV4dGFyZWFJbnB1dC5wcm90b3R5cGUuc2NyZWVuUmVhZGVyTGFiZWxDaGFuZ2VkID0gZnVuY3Rpb24gKGxhYmVsKSB7XG4gICAgLy8gTGFiZWwgZm9yIHNjcmVlbnJlYWRlcnMsIGFjY2Vzc2liaWxpdHlcbiAgICBpZihsYWJlbCkge1xuICAgICAgdGhpcy50ZXh0YXJlYS5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBsYWJlbCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMudGV4dGFyZWEucmVtb3ZlQXR0cmlidXRlKCdhcmlhLWxhYmVsJyk7XG4gICAgfVxuICB9O1xuXG4gIFRleHRhcmVhSW5wdXQucHJvdG90eXBlLnByZXBhcmVTZWxlY3Rpb24gPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gUmVkcmF3IHRoZSBzZWxlY3Rpb24gYW5kL29yIGN1cnNvclxuICAgIHZhciBjbSA9IHRoaXMuY20sIGRpc3BsYXkgPSBjbS5kaXNwbGF5LCBkb2MgPSBjbS5kb2M7XG4gICAgdmFyIHJlc3VsdCA9IHByZXBhcmVTZWxlY3Rpb24oY20pO1xuXG4gICAgLy8gTW92ZSB0aGUgaGlkZGVuIHRleHRhcmVhIG5lYXIgdGhlIGN1cnNvciB0byBwcmV2ZW50IHNjcm9sbGluZyBhcnRpZmFjdHNcbiAgICBpZiAoY20ub3B0aW9ucy5tb3ZlSW5wdXRXaXRoQ3Vyc29yKSB7XG4gICAgICB2YXIgaGVhZFBvcyA9IGN1cnNvckNvb3JkcyhjbSwgZG9jLnNlbC5wcmltYXJ5KCkuaGVhZCwgXCJkaXZcIik7XG4gICAgICB2YXIgd3JhcE9mZiA9IGRpc3BsYXkud3JhcHBlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSwgbGluZU9mZiA9IGRpc3BsYXkubGluZURpdi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgIHJlc3VsdC50ZVRvcCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGRpc3BsYXkud3JhcHBlci5jbGllbnRIZWlnaHQgLSAxMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRQb3MudG9wICsgbGluZU9mZi50b3AgLSB3cmFwT2ZmLnRvcCkpO1xuICAgICAgcmVzdWx0LnRlTGVmdCA9IE1hdGgubWF4KDAsIE1hdGgubWluKGRpc3BsYXkud3JhcHBlci5jbGllbnRXaWR0aCAtIDEwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRQb3MubGVmdCArIGxpbmVPZmYubGVmdCAtIHdyYXBPZmYubGVmdCkpO1xuICAgIH1cblxuICAgIHJldHVybiByZXN1bHRcbiAgfTtcblxuICBUZXh0YXJlYUlucHV0LnByb3RvdHlwZS5zaG93U2VsZWN0aW9uID0gZnVuY3Rpb24gKGRyYXduKSB7XG4gICAgdmFyIGNtID0gdGhpcy5jbSwgZGlzcGxheSA9IGNtLmRpc3BsYXk7XG4gICAgcmVtb3ZlQ2hpbGRyZW5BbmRBZGQoZGlzcGxheS5jdXJzb3JEaXYsIGRyYXduLmN1cnNvcnMpO1xuICAgIHJlbW92ZUNoaWxkcmVuQW5kQWRkKGRpc3BsYXkuc2VsZWN0aW9uRGl2LCBkcmF3bi5zZWxlY3Rpb24pO1xuICAgIGlmIChkcmF3bi50ZVRvcCAhPSBudWxsKSB7XG4gICAgICB0aGlzLndyYXBwZXIuc3R5bGUudG9wID0gZHJhd24udGVUb3AgKyBcInB4XCI7XG4gICAgICB0aGlzLndyYXBwZXIuc3R5bGUubGVmdCA9IGRyYXduLnRlTGVmdCArIFwicHhcIjtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVzZXQgdGhlIGlucHV0IHRvIGNvcnJlc3BvbmQgdG8gdGhlIHNlbGVjdGlvbiAob3IgdG8gYmUgZW1wdHksXG4gIC8vIHdoZW4gbm90IHR5cGluZyBhbmQgbm90aGluZyBpcyBzZWxlY3RlZClcbiAgVGV4dGFyZWFJbnB1dC5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAodHlwaW5nKSB7XG4gICAgaWYgKHRoaXMuY29udGV4dE1lbnVQZW5kaW5nIHx8IHRoaXMuY29tcG9zaW5nICYmIHR5cGluZykgeyByZXR1cm4gfVxuICAgIHZhciBjbSA9IHRoaXMuY207XG4gICAgdGhpcy5yZXNldHRpbmcgPSB0cnVlO1xuICAgIGlmIChjbS5zb21ldGhpbmdTZWxlY3RlZCgpKSB7XG4gICAgICB0aGlzLnByZXZJbnB1dCA9IFwiXCI7XG4gICAgICB2YXIgY29udGVudCA9IGNtLmdldFNlbGVjdGlvbigpO1xuICAgICAgdGhpcy50ZXh0YXJlYS52YWx1ZSA9IGNvbnRlbnQ7XG4gICAgICBpZiAoY20uc3RhdGUuZm9jdXNlZCkgeyBzZWxlY3RJbnB1dCh0aGlzLnRleHRhcmVhKTsgfVxuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPj0gOSkgeyB0aGlzLmhhc1NlbGVjdGlvbiA9IGNvbnRlbnQ7IH1cbiAgICB9IGVsc2UgaWYgKCF0eXBpbmcpIHtcbiAgICAgIHRoaXMucHJldklucHV0ID0gdGhpcy50ZXh0YXJlYS52YWx1ZSA9IFwiXCI7XG4gICAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA+PSA5KSB7IHRoaXMuaGFzU2VsZWN0aW9uID0gbnVsbDsgfVxuICAgIH1cbiAgICB0aGlzLnJlc2V0dGluZyA9IGZhbHNlO1xuICB9O1xuXG4gIFRleHRhcmVhSW5wdXQucHJvdG90eXBlLmdldEZpZWxkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpcy50ZXh0YXJlYSB9O1xuXG4gIFRleHRhcmVhSW5wdXQucHJvdG90eXBlLnN1cHBvcnRzVG91Y2ggPSBmdW5jdGlvbiAoKSB7IHJldHVybiBmYWxzZSB9O1xuXG4gIFRleHRhcmVhSW5wdXQucHJvdG90eXBlLmZvY3VzID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLmNtLm9wdGlvbnMucmVhZE9ubHkgIT0gXCJub2N1cnNvclwiICYmICghbW9iaWxlIHx8IGFjdGl2ZUVsdChyb290Tm9kZSh0aGlzLnRleHRhcmVhKSkgIT0gdGhpcy50ZXh0YXJlYSkpIHtcbiAgICAgIHRyeSB7IHRoaXMudGV4dGFyZWEuZm9jdXMoKTsgfVxuICAgICAgY2F0Y2ggKGUpIHt9IC8vIElFOCB3aWxsIHRocm93IGlmIHRoZSB0ZXh0YXJlYSBpcyBkaXNwbGF5OiBub25lIG9yIG5vdCBpbiBET01cbiAgICB9XG4gIH07XG5cbiAgVGV4dGFyZWFJbnB1dC5wcm90b3R5cGUuYmx1ciA9IGZ1bmN0aW9uICgpIHsgdGhpcy50ZXh0YXJlYS5ibHVyKCk7IH07XG5cbiAgVGV4dGFyZWFJbnB1dC5wcm90b3R5cGUucmVzZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLndyYXBwZXIuc3R5bGUudG9wID0gdGhpcy53cmFwcGVyLnN0eWxlLmxlZnQgPSAwO1xuICB9O1xuXG4gIFRleHRhcmVhSW5wdXQucHJvdG90eXBlLnJlY2VpdmVkRm9jdXMgPSBmdW5jdGlvbiAoKSB7IHRoaXMuc2xvd1BvbGwoKTsgfTtcblxuICAvLyBQb2xsIGZvciBpbnB1dCBjaGFuZ2VzLCB1c2luZyB0aGUgbm9ybWFsIHJhdGUgb2YgcG9sbGluZy4gVGhpc1xuICAvLyBydW5zIGFzIGxvbmcgYXMgdGhlIGVkaXRvciBpcyBmb2N1c2VkLlxuICBUZXh0YXJlYUlucHV0LnByb3RvdHlwZS5zbG93UG9sbCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB0aGlzJDEgPSB0aGlzO1xuXG4gICAgaWYgKHRoaXMucG9sbGluZ0Zhc3QpIHsgcmV0dXJuIH1cbiAgICB0aGlzLnBvbGxpbmcuc2V0KHRoaXMuY20ub3B0aW9ucy5wb2xsSW50ZXJ2YWwsIGZ1bmN0aW9uICgpIHtcbiAgICAgIHRoaXMkMS5wb2xsKCk7XG4gICAgICBpZiAodGhpcyQxLmNtLnN0YXRlLmZvY3VzZWQpIHsgdGhpcyQxLnNsb3dQb2xsKCk7IH1cbiAgICB9KTtcbiAgfTtcblxuICAvLyBXaGVuIGFuIGV2ZW50IGhhcyBqdXN0IGNvbWUgaW4gdGhhdCBpcyBsaWtlbHkgdG8gYWRkIG9yIGNoYW5nZVxuICAvLyBzb21ldGhpbmcgaW4gdGhlIGlucHV0IHRleHRhcmVhLCB3ZSBwb2xsIGZhc3RlciwgdG8gZW5zdXJlIHRoYXRcbiAgLy8gdGhlIGNoYW5nZSBhcHBlYXJzIG9uIHRoZSBzY3JlZW4gcXVpY2tseS5cbiAgVGV4dGFyZWFJbnB1dC5wcm90b3R5cGUuZmFzdFBvbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIG1pc3NlZCA9IGZhbHNlLCBpbnB1dCA9IHRoaXM7XG4gICAgaW5wdXQucG9sbGluZ0Zhc3QgPSB0cnVlO1xuICAgIGZ1bmN0aW9uIHAoKSB7XG4gICAgICB2YXIgY2hhbmdlZCA9IGlucHV0LnBvbGwoKTtcbiAgICAgIGlmICghY2hhbmdlZCAmJiAhbWlzc2VkKSB7bWlzc2VkID0gdHJ1ZTsgaW5wdXQucG9sbGluZy5zZXQoNjAsIHApO31cbiAgICAgIGVsc2Uge2lucHV0LnBvbGxpbmdGYXN0ID0gZmFsc2U7IGlucHV0LnNsb3dQb2xsKCk7fVxuICAgIH1cbiAgICBpbnB1dC5wb2xsaW5nLnNldCgyMCwgcCk7XG4gIH07XG5cbiAgLy8gUmVhZCBpbnB1dCBmcm9tIHRoZSB0ZXh0YXJlYSwgYW5kIHVwZGF0ZSB0aGUgZG9jdW1lbnQgdG8gbWF0Y2guXG4gIC8vIFdoZW4gc29tZXRoaW5nIGlzIHNlbGVjdGVkLCBpdCBpcyBwcmVzZW50IGluIHRoZSB0ZXh0YXJlYSwgYW5kXG4gIC8vIHNlbGVjdGVkICh1bmxlc3MgaXQgaXMgaHVnZSwgaW4gd2hpY2ggY2FzZSBhIHBsYWNlaG9sZGVyIGlzXG4gIC8vIHVzZWQpLiBXaGVuIG5vdGhpbmcgaXMgc2VsZWN0ZWQsIHRoZSBjdXJzb3Igc2l0cyBhZnRlciBwcmV2aW91c2x5XG4gIC8vIHNlZW4gdGV4dCAoY2FuIGJlIGVtcHR5KSwgd2hpY2ggaXMgc3RvcmVkIGluIHByZXZJbnB1dCAod2UgbXVzdFxuICAvLyBub3QgcmVzZXQgdGhlIHRleHRhcmVhIHdoZW4gdHlwaW5nLCBiZWNhdXNlIHRoYXQgYnJlYWtzIElNRSkuXG4gIFRleHRhcmVhSW5wdXQucHJvdG90eXBlLnBvbGwgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdGhpcyQxID0gdGhpcztcblxuICAgIHZhciBjbSA9IHRoaXMuY20sIGlucHV0ID0gdGhpcy50ZXh0YXJlYSwgcHJldklucHV0ID0gdGhpcy5wcmV2SW5wdXQ7XG4gICAgLy8gU2luY2UgdGhpcyBpcyBjYWxsZWQgYSAqbG90KiwgdHJ5IHRvIGJhaWwgb3V0IGFzIGNoZWFwbHkgYXNcbiAgICAvLyBwb3NzaWJsZSB3aGVuIGl0IGlzIGNsZWFyIHRoYXQgbm90aGluZyBoYXBwZW5lZC4gaGFzU2VsZWN0aW9uXG4gICAgLy8gd2lsbCBiZSB0aGUgY2FzZSB3aGVuIHRoZXJlIGlzIGEgbG90IG9mIHRleHQgaW4gdGhlIHRleHRhcmVhLFxuICAgIC8vIGluIHdoaWNoIGNhc2UgcmVhZGluZyBpdHMgdmFsdWUgd291bGQgYmUgZXhwZW5zaXZlLlxuICAgIGlmICh0aGlzLmNvbnRleHRNZW51UGVuZGluZyB8fCB0aGlzLnJlc2V0dGluZyB8fCAhY20uc3RhdGUuZm9jdXNlZCB8fFxuICAgICAgICAoaGFzU2VsZWN0aW9uKGlucHV0KSAmJiAhcHJldklucHV0ICYmICF0aGlzLmNvbXBvc2luZykgfHxcbiAgICAgICAgY20uaXNSZWFkT25seSgpIHx8IGNtLm9wdGlvbnMuZGlzYWJsZUlucHV0IHx8IGNtLnN0YXRlLmtleVNlcSlcbiAgICAgIHsgcmV0dXJuIGZhbHNlIH1cblxuICAgIHZhciB0ZXh0ID0gaW5wdXQudmFsdWU7XG4gICAgLy8gSWYgbm90aGluZyBjaGFuZ2VkLCBiYWlsLlxuICAgIGlmICh0ZXh0ID09IHByZXZJbnB1dCAmJiAhY20uc29tZXRoaW5nU2VsZWN0ZWQoKSkgeyByZXR1cm4gZmFsc2UgfVxuICAgIC8vIFdvcmsgYXJvdW5kIG5vbnNlbnNpY2FsIHNlbGVjdGlvbiByZXNldHRpbmcgaW4gSUU5LzEwLCBhbmRcbiAgICAvLyBpbmV4cGxpY2FibGUgYXBwZWFyYW5jZSBvZiBwcml2YXRlIGFyZWEgdW5pY29kZSBjaGFyYWN0ZXJzIG9uXG4gICAgLy8gc29tZSBrZXkgY29tYm9zIGluIE1hYyAoIzI2ODkpLlxuICAgIGlmIChpZSAmJiBpZV92ZXJzaW9uID49IDkgJiYgdGhpcy5oYXNTZWxlY3Rpb24gPT09IHRleHQgfHxcbiAgICAgICAgbWFjICYmIC9bXFx1ZjcwMC1cXHVmN2ZmXS8udGVzdCh0ZXh0KSkge1xuICAgICAgY20uZGlzcGxheS5pbnB1dC5yZXNldCgpO1xuICAgICAgcmV0dXJuIGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKGNtLmRvYy5zZWwgPT0gY20uZGlzcGxheS5zZWxGb3JDb250ZXh0TWVudSkge1xuICAgICAgdmFyIGZpcnN0ID0gdGV4dC5jaGFyQ29kZUF0KDApO1xuICAgICAgaWYgKGZpcnN0ID09IDB4MjAwYiAmJiAhcHJldklucHV0KSB7IHByZXZJbnB1dCA9IFwiXFx1MjAwYlwiOyB9XG4gICAgICBpZiAoZmlyc3QgPT0gMHgyMWRhKSB7IHRoaXMucmVzZXQoKTsgcmV0dXJuIHRoaXMuY20uZXhlY0NvbW1hbmQoXCJ1bmRvXCIpIH1cbiAgICB9XG4gICAgLy8gRmluZCB0aGUgcGFydCBvZiB0aGUgaW5wdXQgdGhhdCBpcyBhY3R1YWxseSBuZXdcbiAgICB2YXIgc2FtZSA9IDAsIGwgPSBNYXRoLm1pbihwcmV2SW5wdXQubGVuZ3RoLCB0ZXh0Lmxlbmd0aCk7XG4gICAgd2hpbGUgKHNhbWUgPCBsICYmIHByZXZJbnB1dC5jaGFyQ29kZUF0KHNhbWUpID09IHRleHQuY2hhckNvZGVBdChzYW1lKSkgeyArK3NhbWU7IH1cblxuICAgIHJ1bkluT3AoY20sIGZ1bmN0aW9uICgpIHtcbiAgICAgIGFwcGx5VGV4dElucHV0KGNtLCB0ZXh0LnNsaWNlKHNhbWUpLCBwcmV2SW5wdXQubGVuZ3RoIC0gc2FtZSxcbiAgICAgICAgICAgICAgICAgICAgIG51bGwsIHRoaXMkMS5jb21wb3NpbmcgPyBcIipjb21wb3NlXCIgOiBudWxsKTtcblxuICAgICAgLy8gRG9uJ3QgbGVhdmUgbG9uZyB0ZXh0IGluIHRoZSB0ZXh0YXJlYSwgc2luY2UgaXQgbWFrZXMgZnVydGhlciBwb2xsaW5nIHNsb3dcbiAgICAgIGlmICh0ZXh0Lmxlbmd0aCA+IDEwMDAgfHwgdGV4dC5pbmRleE9mKFwiXFxuXCIpID4gLTEpIHsgaW5wdXQudmFsdWUgPSB0aGlzJDEucHJldklucHV0ID0gXCJcIjsgfVxuICAgICAgZWxzZSB7IHRoaXMkMS5wcmV2SW5wdXQgPSB0ZXh0OyB9XG5cbiAgICAgIGlmICh0aGlzJDEuY29tcG9zaW5nKSB7XG4gICAgICAgIHRoaXMkMS5jb21wb3NpbmcucmFuZ2UuY2xlYXIoKTtcbiAgICAgICAgdGhpcyQxLmNvbXBvc2luZy5yYW5nZSA9IGNtLm1hcmtUZXh0KHRoaXMkMS5jb21wb3Npbmcuc3RhcnQsIGNtLmdldEN1cnNvcihcInRvXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjbGFzc05hbWU6IFwiQ29kZU1pcnJvci1jb21wb3NpbmdcIn0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0cnVlXG4gIH07XG5cbiAgVGV4dGFyZWFJbnB1dC5wcm90b3R5cGUuZW5zdXJlUG9sbGVkID0gZnVuY3Rpb24gKCkge1xuICAgIGlmICh0aGlzLnBvbGxpbmdGYXN0ICYmIHRoaXMucG9sbCgpKSB7IHRoaXMucG9sbGluZ0Zhc3QgPSBmYWxzZTsgfVxuICB9O1xuXG4gIFRleHRhcmVhSW5wdXQucHJvdG90eXBlLm9uS2V5UHJlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKGllICYmIGllX3ZlcnNpb24gPj0gOSkgeyB0aGlzLmhhc1NlbGVjdGlvbiA9IG51bGw7IH1cbiAgICB0aGlzLmZhc3RQb2xsKCk7XG4gIH07XG5cbiAgVGV4dGFyZWFJbnB1dC5wcm90b3R5cGUub25Db250ZXh0TWVudSA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGlucHV0ID0gdGhpcywgY20gPSBpbnB1dC5jbSwgZGlzcGxheSA9IGNtLmRpc3BsYXksIHRlID0gaW5wdXQudGV4dGFyZWE7XG4gICAgaWYgKGlucHV0LmNvbnRleHRNZW51UGVuZGluZykgeyBpbnB1dC5jb250ZXh0TWVudVBlbmRpbmcoKTsgfVxuICAgIHZhciBwb3MgPSBwb3NGcm9tTW91c2UoY20sIGUpLCBzY3JvbGxQb3MgPSBkaXNwbGF5LnNjcm9sbGVyLnNjcm9sbFRvcDtcbiAgICBpZiAoIXBvcyB8fCBwcmVzdG8pIHsgcmV0dXJuIH0gLy8gT3BlcmEgaXMgZGlmZmljdWx0LlxuXG4gICAgLy8gUmVzZXQgdGhlIGN1cnJlbnQgdGV4dCBzZWxlY3Rpb24gb25seSBpZiB0aGUgY2xpY2sgaXMgZG9uZSBvdXRzaWRlIG9mIHRoZSBzZWxlY3Rpb25cbiAgICAvLyBhbmQgJ3Jlc2V0U2VsZWN0aW9uT25Db250ZXh0TWVudScgb3B0aW9uIGlzIHRydWUuXG4gICAgdmFyIHJlc2V0ID0gY20ub3B0aW9ucy5yZXNldFNlbGVjdGlvbk9uQ29udGV4dE1lbnU7XG4gICAgaWYgKHJlc2V0ICYmIGNtLmRvYy5zZWwuY29udGFpbnMocG9zKSA9PSAtMSlcbiAgICAgIHsgb3BlcmF0aW9uKGNtLCBzZXRTZWxlY3Rpb24pKGNtLmRvYywgc2ltcGxlU2VsZWN0aW9uKHBvcyksIHNlbF9kb250U2Nyb2xsKTsgfVxuXG4gICAgdmFyIG9sZENTUyA9IHRlLnN0eWxlLmNzc1RleHQsIG9sZFdyYXBwZXJDU1MgPSBpbnB1dC53cmFwcGVyLnN0eWxlLmNzc1RleHQ7XG4gICAgdmFyIHdyYXBwZXJCb3ggPSBpbnB1dC53cmFwcGVyLm9mZnNldFBhcmVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICBpbnB1dC53cmFwcGVyLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOiBzdGF0aWNcIjtcbiAgICB0ZS5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjogYWJzb2x1dGU7IHdpZHRoOiAzMHB4OyBoZWlnaHQ6IDMwcHg7XFxuICAgICAgdG9wOiBcIiArIChlLmNsaWVudFkgLSB3cmFwcGVyQm94LnRvcCAtIDUpICsgXCJweDsgbGVmdDogXCIgKyAoZS5jbGllbnRYIC0gd3JhcHBlckJveC5sZWZ0IC0gNSkgKyBcInB4O1xcbiAgICAgIHotaW5kZXg6IDEwMDA7IGJhY2tncm91bmQ6IFwiICsgKGllID8gXCJyZ2JhKDI1NSwgMjU1LCAyNTUsIC4wNSlcIiA6IFwidHJhbnNwYXJlbnRcIikgKyBcIjtcXG4gICAgICBvdXRsaW5lOiBub25lOyBib3JkZXItd2lkdGg6IDA7IG91dGxpbmU6IG5vbmU7IG92ZXJmbG93OiBoaWRkZW47IG9wYWNpdHk6IC4wNTsgZmlsdGVyOiBhbHBoYShvcGFjaXR5PTUpO1wiO1xuICAgIHZhciBvbGRTY3JvbGxZO1xuICAgIGlmICh3ZWJraXQpIHsgb2xkU2Nyb2xsWSA9IHRlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuc2Nyb2xsWTsgfSAvLyBXb3JrIGFyb3VuZCBDaHJvbWUgaXNzdWUgKCMyNzEyKVxuICAgIGRpc3BsYXkuaW5wdXQuZm9jdXMoKTtcbiAgICBpZiAod2Via2l0KSB7IHRlLm93bmVyRG9jdW1lbnQuZGVmYXVsdFZpZXcuc2Nyb2xsVG8obnVsbCwgb2xkU2Nyb2xsWSk7IH1cbiAgICBkaXNwbGF5LmlucHV0LnJlc2V0KCk7XG4gICAgLy8gQWRkcyBcIlNlbGVjdCBhbGxcIiB0byBjb250ZXh0IG1lbnUgaW4gRkZcbiAgICBpZiAoIWNtLnNvbWV0aGluZ1NlbGVjdGVkKCkpIHsgdGUudmFsdWUgPSBpbnB1dC5wcmV2SW5wdXQgPSBcIiBcIjsgfVxuICAgIGlucHV0LmNvbnRleHRNZW51UGVuZGluZyA9IHJlaGlkZTtcbiAgICBkaXNwbGF5LnNlbEZvckNvbnRleHRNZW51ID0gY20uZG9jLnNlbDtcbiAgICBjbGVhclRpbWVvdXQoZGlzcGxheS5kZXRlY3RpbmdTZWxlY3RBbGwpO1xuXG4gICAgLy8gU2VsZWN0LWFsbCB3aWxsIGJlIGdyZXllZCBvdXQgaWYgdGhlcmUncyBub3RoaW5nIHRvIHNlbGVjdCwgc29cbiAgICAvLyB0aGlzIGFkZHMgYSB6ZXJvLXdpZHRoIHNwYWNlIHNvIHRoYXQgd2UgY2FuIGxhdGVyIGNoZWNrIHdoZXRoZXJcbiAgICAvLyBpdCBnb3Qgc2VsZWN0ZWQuXG4gICAgZnVuY3Rpb24gcHJlcGFyZVNlbGVjdEFsbEhhY2soKSB7XG4gICAgICBpZiAodGUuc2VsZWN0aW9uU3RhcnQgIT0gbnVsbCkge1xuICAgICAgICB2YXIgc2VsZWN0ZWQgPSBjbS5zb21ldGhpbmdTZWxlY3RlZCgpO1xuICAgICAgICB2YXIgZXh0dmFsID0gXCJcXHUyMDBiXCIgKyAoc2VsZWN0ZWQgPyB0ZS52YWx1ZSA6IFwiXCIpO1xuICAgICAgICB0ZS52YWx1ZSA9IFwiXFx1MjFkYVwiOyAvLyBVc2VkIHRvIGNhdGNoIGNvbnRleHQtbWVudSB1bmRvXG4gICAgICAgIHRlLnZhbHVlID0gZXh0dmFsO1xuICAgICAgICBpbnB1dC5wcmV2SW5wdXQgPSBzZWxlY3RlZCA/IFwiXCIgOiBcIlxcdTIwMGJcIjtcbiAgICAgICAgdGUuc2VsZWN0aW9uU3RhcnQgPSAxOyB0ZS5zZWxlY3Rpb25FbmQgPSBleHR2YWwubGVuZ3RoO1xuICAgICAgICAvLyBSZS1zZXQgdGhpcywgaW4gY2FzZSBzb21lIG90aGVyIGhhbmRsZXIgdG91Y2hlZCB0aGVcbiAgICAgICAgLy8gc2VsZWN0aW9uIGluIHRoZSBtZWFudGltZS5cbiAgICAgICAgZGlzcGxheS5zZWxGb3JDb250ZXh0TWVudSA9IGNtLmRvYy5zZWw7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlaGlkZSgpIHtcbiAgICAgIGlmIChpbnB1dC5jb250ZXh0TWVudVBlbmRpbmcgIT0gcmVoaWRlKSB7IHJldHVybiB9XG4gICAgICBpbnB1dC5jb250ZXh0TWVudVBlbmRpbmcgPSBmYWxzZTtcbiAgICAgIGlucHV0LndyYXBwZXIuc3R5bGUuY3NzVGV4dCA9IG9sZFdyYXBwZXJDU1M7XG4gICAgICB0ZS5zdHlsZS5jc3NUZXh0ID0gb2xkQ1NTO1xuICAgICAgaWYgKGllICYmIGllX3ZlcnNpb24gPCA5KSB7IGRpc3BsYXkuc2Nyb2xsYmFycy5zZXRTY3JvbGxUb3AoZGlzcGxheS5zY3JvbGxlci5zY3JvbGxUb3AgPSBzY3JvbGxQb3MpOyB9XG5cbiAgICAgIC8vIFRyeSB0byBkZXRlY3QgdGhlIHVzZXIgY2hvb3Npbmcgc2VsZWN0LWFsbFxuICAgICAgaWYgKHRlLnNlbGVjdGlvblN0YXJ0ICE9IG51bGwpIHtcbiAgICAgICAgaWYgKCFpZSB8fCAoaWUgJiYgaWVfdmVyc2lvbiA8IDkpKSB7IHByZXBhcmVTZWxlY3RBbGxIYWNrKCk7IH1cbiAgICAgICAgdmFyIGkgPSAwLCBwb2xsID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGlmIChkaXNwbGF5LnNlbEZvckNvbnRleHRNZW51ID09IGNtLmRvYy5zZWwgJiYgdGUuc2VsZWN0aW9uU3RhcnQgPT0gMCAmJlxuICAgICAgICAgICAgICB0ZS5zZWxlY3Rpb25FbmQgPiAwICYmIGlucHV0LnByZXZJbnB1dCA9PSBcIlxcdTIwMGJcIikge1xuICAgICAgICAgICAgb3BlcmF0aW9uKGNtLCBzZWxlY3RBbGwpKGNtKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKGkrKyA8IDEwKSB7XG4gICAgICAgICAgICBkaXNwbGF5LmRldGVjdGluZ1NlbGVjdEFsbCA9IHNldFRpbWVvdXQocG9sbCwgNTAwKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGlzcGxheS5zZWxGb3JDb250ZXh0TWVudSA9IG51bGw7XG4gICAgICAgICAgICBkaXNwbGF5LmlucHV0LnJlc2V0KCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBkaXNwbGF5LmRldGVjdGluZ1NlbGVjdEFsbCA9IHNldFRpbWVvdXQocG9sbCwgMjAwKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaWUgJiYgaWVfdmVyc2lvbiA+PSA5KSB7IHByZXBhcmVTZWxlY3RBbGxIYWNrKCk7IH1cbiAgICBpZiAoY2FwdHVyZVJpZ2h0Q2xpY2spIHtcbiAgICAgIGVfc3RvcChlKTtcbiAgICAgIHZhciBtb3VzZXVwID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBvZmYod2luZG93LCBcIm1vdXNldXBcIiwgbW91c2V1cCk7XG4gICAgICAgIHNldFRpbWVvdXQocmVoaWRlLCAyMCk7XG4gICAgICB9O1xuICAgICAgb24od2luZG93LCBcIm1vdXNldXBcIiwgbW91c2V1cCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFRpbWVvdXQocmVoaWRlLCA1MCk7XG4gICAgfVxuICB9O1xuXG4gIFRleHRhcmVhSW5wdXQucHJvdG90eXBlLnJlYWRPbmx5Q2hhbmdlZCA9IGZ1bmN0aW9uICh2YWwpIHtcbiAgICBpZiAoIXZhbCkgeyB0aGlzLnJlc2V0KCk7IH1cbiAgICB0aGlzLnRleHRhcmVhLmRpc2FibGVkID0gdmFsID09IFwibm9jdXJzb3JcIjtcbiAgICB0aGlzLnRleHRhcmVhLnJlYWRPbmx5ID0gISF2YWw7XG4gIH07XG5cbiAgVGV4dGFyZWFJbnB1dC5wcm90b3R5cGUuc2V0VW5lZGl0YWJsZSA9IGZ1bmN0aW9uICgpIHt9O1xuXG4gIFRleHRhcmVhSW5wdXQucHJvdG90eXBlLm5lZWRzQ29udGVudEF0dHJpYnV0ZSA9IGZhbHNlO1xuXG4gIGZ1bmN0aW9uIGZyb21UZXh0QXJlYSh0ZXh0YXJlYSwgb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSBvcHRpb25zID8gY29weU9iaihvcHRpb25zKSA6IHt9O1xuICAgIG9wdGlvbnMudmFsdWUgPSB0ZXh0YXJlYS52YWx1ZTtcbiAgICBpZiAoIW9wdGlvbnMudGFiaW5kZXggJiYgdGV4dGFyZWEudGFiSW5kZXgpXG4gICAgICB7IG9wdGlvbnMudGFiaW5kZXggPSB0ZXh0YXJlYS50YWJJbmRleDsgfVxuICAgIGlmICghb3B0aW9ucy5wbGFjZWhvbGRlciAmJiB0ZXh0YXJlYS5wbGFjZWhvbGRlcilcbiAgICAgIHsgb3B0aW9ucy5wbGFjZWhvbGRlciA9IHRleHRhcmVhLnBsYWNlaG9sZGVyOyB9XG4gICAgLy8gU2V0IGF1dG9mb2N1cyB0byB0cnVlIGlmIHRoaXMgdGV4dGFyZWEgaXMgZm9jdXNlZCwgb3IgaWYgaXQgaGFzXG4gICAgLy8gYXV0b2ZvY3VzIGFuZCBubyBvdGhlciBlbGVtZW50IGlzIGZvY3VzZWQuXG4gICAgaWYgKG9wdGlvbnMuYXV0b2ZvY3VzID09IG51bGwpIHtcbiAgICAgIHZhciBoYXNGb2N1cyA9IGFjdGl2ZUVsdChyb290Tm9kZSh0ZXh0YXJlYSkpO1xuICAgICAgb3B0aW9ucy5hdXRvZm9jdXMgPSBoYXNGb2N1cyA9PSB0ZXh0YXJlYSB8fFxuICAgICAgICB0ZXh0YXJlYS5nZXRBdHRyaWJ1dGUoXCJhdXRvZm9jdXNcIikgIT0gbnVsbCAmJiBoYXNGb2N1cyA9PSBkb2N1bWVudC5ib2R5O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHNhdmUoKSB7dGV4dGFyZWEudmFsdWUgPSBjbS5nZXRWYWx1ZSgpO31cblxuICAgIHZhciByZWFsU3VibWl0O1xuICAgIGlmICh0ZXh0YXJlYS5mb3JtKSB7XG4gICAgICBvbih0ZXh0YXJlYS5mb3JtLCBcInN1Ym1pdFwiLCBzYXZlKTtcbiAgICAgIC8vIERlcGxvcmFibGUgaGFjayB0byBtYWtlIHRoZSBzdWJtaXQgbWV0aG9kIGRvIHRoZSByaWdodCB0aGluZy5cbiAgICAgIGlmICghb3B0aW9ucy5sZWF2ZVN1Ym1pdE1ldGhvZEFsb25lKSB7XG4gICAgICAgIHZhciBmb3JtID0gdGV4dGFyZWEuZm9ybTtcbiAgICAgICAgcmVhbFN1Ym1pdCA9IGZvcm0uc3VibWl0O1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHZhciB3cmFwcGVkU3VibWl0ID0gZm9ybS5zdWJtaXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzYXZlKCk7XG4gICAgICAgICAgICBmb3JtLnN1Ym1pdCA9IHJlYWxTdWJtaXQ7XG4gICAgICAgICAgICBmb3JtLnN1Ym1pdCgpO1xuICAgICAgICAgICAgZm9ybS5zdWJtaXQgPSB3cmFwcGVkU3VibWl0O1xuICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2goZSkge31cbiAgICAgIH1cbiAgICB9XG5cbiAgICBvcHRpb25zLmZpbmlzaEluaXQgPSBmdW5jdGlvbiAoY20pIHtcbiAgICAgIGNtLnNhdmUgPSBzYXZlO1xuICAgICAgY20uZ2V0VGV4dEFyZWEgPSBmdW5jdGlvbiAoKSB7IHJldHVybiB0ZXh0YXJlYTsgfTtcbiAgICAgIGNtLnRvVGV4dEFyZWEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNtLnRvVGV4dEFyZWEgPSBpc05hTjsgLy8gUHJldmVudCB0aGlzIGZyb20gYmVpbmcgcmFuIHR3aWNlXG4gICAgICAgIHNhdmUoKTtcbiAgICAgICAgdGV4dGFyZWEucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjbS5nZXRXcmFwcGVyRWxlbWVudCgpKTtcbiAgICAgICAgdGV4dGFyZWEuc3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICAgIGlmICh0ZXh0YXJlYS5mb3JtKSB7XG4gICAgICAgICAgb2ZmKHRleHRhcmVhLmZvcm0sIFwic3VibWl0XCIsIHNhdmUpO1xuICAgICAgICAgIGlmICghb3B0aW9ucy5sZWF2ZVN1Ym1pdE1ldGhvZEFsb25lICYmIHR5cGVvZiB0ZXh0YXJlYS5mb3JtLnN1Ym1pdCA9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgICAgICB7IHRleHRhcmVhLmZvcm0uc3VibWl0ID0gcmVhbFN1Ym1pdDsgfVxuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG5cbiAgICB0ZXh0YXJlYS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgdmFyIGNtID0gQ29kZU1pcnJvcihmdW5jdGlvbiAobm9kZSkgeyByZXR1cm4gdGV4dGFyZWEucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgdGV4dGFyZWEubmV4dFNpYmxpbmcpOyB9LFxuICAgICAgb3B0aW9ucyk7XG4gICAgcmV0dXJuIGNtXG4gIH1cblxuICBmdW5jdGlvbiBhZGRMZWdhY3lQcm9wcyhDb2RlTWlycm9yKSB7XG4gICAgQ29kZU1pcnJvci5vZmYgPSBvZmY7XG4gICAgQ29kZU1pcnJvci5vbiA9IG9uO1xuICAgIENvZGVNaXJyb3Iud2hlZWxFdmVudFBpeGVscyA9IHdoZWVsRXZlbnRQaXhlbHM7XG4gICAgQ29kZU1pcnJvci5Eb2MgPSBEb2M7XG4gICAgQ29kZU1pcnJvci5zcGxpdExpbmVzID0gc3BsaXRMaW5lc0F1dG87XG4gICAgQ29kZU1pcnJvci5jb3VudENvbHVtbiA9IGNvdW50Q29sdW1uO1xuICAgIENvZGVNaXJyb3IuZmluZENvbHVtbiA9IGZpbmRDb2x1bW47XG4gICAgQ29kZU1pcnJvci5pc1dvcmRDaGFyID0gaXNXb3JkQ2hhckJhc2ljO1xuICAgIENvZGVNaXJyb3IuUGFzcyA9IFBhc3M7XG4gICAgQ29kZU1pcnJvci5zaWduYWwgPSBzaWduYWw7XG4gICAgQ29kZU1pcnJvci5MaW5lID0gTGluZTtcbiAgICBDb2RlTWlycm9yLmNoYW5nZUVuZCA9IGNoYW5nZUVuZDtcbiAgICBDb2RlTWlycm9yLnNjcm9sbGJhck1vZGVsID0gc2Nyb2xsYmFyTW9kZWw7XG4gICAgQ29kZU1pcnJvci5Qb3MgPSBQb3M7XG4gICAgQ29kZU1pcnJvci5jbXBQb3MgPSBjbXA7XG4gICAgQ29kZU1pcnJvci5tb2RlcyA9IG1vZGVzO1xuICAgIENvZGVNaXJyb3IubWltZU1vZGVzID0gbWltZU1vZGVzO1xuICAgIENvZGVNaXJyb3IucmVzb2x2ZU1vZGUgPSByZXNvbHZlTW9kZTtcbiAgICBDb2RlTWlycm9yLmdldE1vZGUgPSBnZXRNb2RlO1xuICAgIENvZGVNaXJyb3IubW9kZUV4dGVuc2lvbnMgPSBtb2RlRXh0ZW5zaW9ucztcbiAgICBDb2RlTWlycm9yLmV4dGVuZE1vZGUgPSBleHRlbmRNb2RlO1xuICAgIENvZGVNaXJyb3IuY29weVN0YXRlID0gY29weVN0YXRlO1xuICAgIENvZGVNaXJyb3Iuc3RhcnRTdGF0ZSA9IHN0YXJ0U3RhdGU7XG4gICAgQ29kZU1pcnJvci5pbm5lck1vZGUgPSBpbm5lck1vZGU7XG4gICAgQ29kZU1pcnJvci5jb21tYW5kcyA9IGNvbW1hbmRzO1xuICAgIENvZGVNaXJyb3Iua2V5TWFwID0ga2V5TWFwO1xuICAgIENvZGVNaXJyb3Iua2V5TmFtZSA9IGtleU5hbWU7XG4gICAgQ29kZU1pcnJvci5pc01vZGlmaWVyS2V5ID0gaXNNb2RpZmllcktleTtcbiAgICBDb2RlTWlycm9yLmxvb2t1cEtleSA9IGxvb2t1cEtleTtcbiAgICBDb2RlTWlycm9yLm5vcm1hbGl6ZUtleU1hcCA9IG5vcm1hbGl6ZUtleU1hcDtcbiAgICBDb2RlTWlycm9yLlN0cmluZ1N0cmVhbSA9IFN0cmluZ1N0cmVhbTtcbiAgICBDb2RlTWlycm9yLlNoYXJlZFRleHRNYXJrZXIgPSBTaGFyZWRUZXh0TWFya2VyO1xuICAgIENvZGVNaXJyb3IuVGV4dE1hcmtlciA9IFRleHRNYXJrZXI7XG4gICAgQ29kZU1pcnJvci5MaW5lV2lkZ2V0ID0gTGluZVdpZGdldDtcbiAgICBDb2RlTWlycm9yLmVfcHJldmVudERlZmF1bHQgPSBlX3ByZXZlbnREZWZhdWx0O1xuICAgIENvZGVNaXJyb3IuZV9zdG9wUHJvcGFnYXRpb24gPSBlX3N0b3BQcm9wYWdhdGlvbjtcbiAgICBDb2RlTWlycm9yLmVfc3RvcCA9IGVfc3RvcDtcbiAgICBDb2RlTWlycm9yLmFkZENsYXNzID0gYWRkQ2xhc3M7XG4gICAgQ29kZU1pcnJvci5jb250YWlucyA9IGNvbnRhaW5zO1xuICAgIENvZGVNaXJyb3Iucm1DbGFzcyA9IHJtQ2xhc3M7XG4gICAgQ29kZU1pcnJvci5rZXlOYW1lcyA9IGtleU5hbWVzO1xuICB9XG5cbiAgLy8gRURJVE9SIENPTlNUUlVDVE9SXG5cbiAgZGVmaW5lT3B0aW9ucyhDb2RlTWlycm9yKTtcblxuICBhZGRFZGl0b3JNZXRob2RzKENvZGVNaXJyb3IpO1xuXG4gIC8vIFNldCB1cCBtZXRob2RzIG9uIENvZGVNaXJyb3IncyBwcm90b3R5cGUgdG8gcmVkaXJlY3QgdG8gdGhlIGVkaXRvcidzIGRvY3VtZW50LlxuICB2YXIgZG9udERlbGVnYXRlID0gXCJpdGVyIGluc2VydCByZW1vdmUgY29weSBnZXRFZGl0b3IgY29uc3RydWN0b3JcIi5zcGxpdChcIiBcIik7XG4gIGZvciAodmFyIHByb3AgaW4gRG9jLnByb3RvdHlwZSkgeyBpZiAoRG9jLnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eShwcm9wKSAmJiBpbmRleE9mKGRvbnREZWxlZ2F0ZSwgcHJvcCkgPCAwKVxuICAgIHsgQ29kZU1pcnJvci5wcm90b3R5cGVbcHJvcF0gPSAoZnVuY3Rpb24obWV0aG9kKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7cmV0dXJuIG1ldGhvZC5hcHBseSh0aGlzLmRvYywgYXJndW1lbnRzKX1cbiAgICB9KShEb2MucHJvdG90eXBlW3Byb3BdKTsgfSB9XG5cbiAgZXZlbnRNaXhpbihEb2MpO1xuICBDb2RlTWlycm9yLmlucHV0U3R5bGVzID0ge1widGV4dGFyZWFcIjogVGV4dGFyZWFJbnB1dCwgXCJjb250ZW50ZWRpdGFibGVcIjogQ29udGVudEVkaXRhYmxlSW5wdXR9O1xuXG4gIC8vIEV4dHJhIGFyZ3VtZW50cyBhcmUgc3RvcmVkIGFzIHRoZSBtb2RlJ3MgZGVwZW5kZW5jaWVzLCB3aGljaCBpc1xuICAvLyB1c2VkIGJ5IChsZWdhY3kpIG1lY2hhbmlzbXMgbGlrZSBsb2FkbW9kZS5qcyB0byBhdXRvbWF0aWNhbGx5XG4gIC8vIGxvYWQgYSBtb2RlLiAoUHJlZmVycmVkIG1lY2hhbmlzbSBpcyB0aGUgcmVxdWlyZS9kZWZpbmUgY2FsbHMuKVxuICBDb2RlTWlycm9yLmRlZmluZU1vZGUgPSBmdW5jdGlvbihuYW1lLyosIG1vZGUsIOKApiovKSB7XG4gICAgaWYgKCFDb2RlTWlycm9yLmRlZmF1bHRzLm1vZGUgJiYgbmFtZSAhPSBcIm51bGxcIikgeyBDb2RlTWlycm9yLmRlZmF1bHRzLm1vZGUgPSBuYW1lOyB9XG4gICAgZGVmaW5lTW9kZS5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICB9O1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lTUlNRSA9IGRlZmluZU1JTUU7XG5cbiAgLy8gTWluaW1hbCBkZWZhdWx0IG1vZGUuXG4gIENvZGVNaXJyb3IuZGVmaW5lTW9kZShcIm51bGxcIiwgZnVuY3Rpb24gKCkgeyByZXR1cm4gKHt0b2tlbjogZnVuY3Rpb24gKHN0cmVhbSkgeyByZXR1cm4gc3RyZWFtLnNraXBUb0VuZCgpOyB9fSk7IH0pO1xuICBDb2RlTWlycm9yLmRlZmluZU1JTUUoXCJ0ZXh0L3BsYWluXCIsIFwibnVsbFwiKTtcblxuICAvLyBFWFRFTlNJT05TXG5cbiAgQ29kZU1pcnJvci5kZWZpbmVFeHRlbnNpb24gPSBmdW5jdGlvbiAobmFtZSwgZnVuYykge1xuICAgIENvZGVNaXJyb3IucHJvdG90eXBlW25hbWVdID0gZnVuYztcbiAgfTtcbiAgQ29kZU1pcnJvci5kZWZpbmVEb2NFeHRlbnNpb24gPSBmdW5jdGlvbiAobmFtZSwgZnVuYykge1xuICAgIERvYy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jO1xuICB9O1xuXG4gIENvZGVNaXJyb3IuZnJvbVRleHRBcmVhID0gZnJvbVRleHRBcmVhO1xuXG4gIGFkZExlZ2FjeVByb3BzKENvZGVNaXJyb3IpO1xuXG4gIENvZGVNaXJyb3IudmVyc2lvbiA9IFwiNS42NS4xOFwiO1xuXG4gIHJldHVybiBDb2RlTWlycm9yO1xuXG59KSkpO1xuIiwiLy8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwczovL2NvZGVtaXJyb3IubmV0LzUvTElDRU5TRVxuXG4oZnVuY3Rpb24obW9kKSB7XG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT0gXCJvYmplY3RcIikgLy8gQ29tbW9uSlNcbiAgICBtb2QocmVxdWlyZShcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCIpKTtcbiAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkgLy8gQU1EXG4gICAgZGVmaW5lKFtcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCJdLCBtb2QpO1xuICBlbHNlIC8vIFBsYWluIGJyb3dzZXIgZW52XG4gICAgbW9kKENvZGVNaXJyb3IpO1xufSkoZnVuY3Rpb24oQ29kZU1pcnJvcikge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbkNvZGVNaXJyb3IuZGVmaW5lTW9kZShcImNzc1wiLCBmdW5jdGlvbihjb25maWcsIHBhcnNlckNvbmZpZykge1xuICB2YXIgaW5saW5lID0gcGFyc2VyQ29uZmlnLmlubGluZVxuICBpZiAoIXBhcnNlckNvbmZpZy5wcm9wZXJ0eUtleXdvcmRzKSBwYXJzZXJDb25maWcgPSBDb2RlTWlycm9yLnJlc29sdmVNb2RlKFwidGV4dC9jc3NcIik7XG5cbiAgdmFyIGluZGVudFVuaXQgPSBjb25maWcuaW5kZW50VW5pdCxcbiAgICAgIHRva2VuSG9va3MgPSBwYXJzZXJDb25maWcudG9rZW5Ib29rcyxcbiAgICAgIGRvY3VtZW50VHlwZXMgPSBwYXJzZXJDb25maWcuZG9jdW1lbnRUeXBlcyB8fCB7fSxcbiAgICAgIG1lZGlhVHlwZXMgPSBwYXJzZXJDb25maWcubWVkaWFUeXBlcyB8fCB7fSxcbiAgICAgIG1lZGlhRmVhdHVyZXMgPSBwYXJzZXJDb25maWcubWVkaWFGZWF0dXJlcyB8fCB7fSxcbiAgICAgIG1lZGlhVmFsdWVLZXl3b3JkcyA9IHBhcnNlckNvbmZpZy5tZWRpYVZhbHVlS2V5d29yZHMgfHwge30sXG4gICAgICBwcm9wZXJ0eUtleXdvcmRzID0gcGFyc2VyQ29uZmlnLnByb3BlcnR5S2V5d29yZHMgfHwge30sXG4gICAgICBub25TdGFuZGFyZFByb3BlcnR5S2V5d29yZHMgPSBwYXJzZXJDb25maWcubm9uU3RhbmRhcmRQcm9wZXJ0eUtleXdvcmRzIHx8IHt9LFxuICAgICAgZm9udFByb3BlcnRpZXMgPSBwYXJzZXJDb25maWcuZm9udFByb3BlcnRpZXMgfHwge30sXG4gICAgICBjb3VudGVyRGVzY3JpcHRvcnMgPSBwYXJzZXJDb25maWcuY291bnRlckRlc2NyaXB0b3JzIHx8IHt9LFxuICAgICAgY29sb3JLZXl3b3JkcyA9IHBhcnNlckNvbmZpZy5jb2xvcktleXdvcmRzIHx8IHt9LFxuICAgICAgdmFsdWVLZXl3b3JkcyA9IHBhcnNlckNvbmZpZy52YWx1ZUtleXdvcmRzIHx8IHt9LFxuICAgICAgYWxsb3dOZXN0ZWQgPSBwYXJzZXJDb25maWcuYWxsb3dOZXN0ZWQsXG4gICAgICBsaW5lQ29tbWVudCA9IHBhcnNlckNvbmZpZy5saW5lQ29tbWVudCxcbiAgICAgIHN1cHBvcnRzQXRDb21wb25lbnQgPSBwYXJzZXJDb25maWcuc3VwcG9ydHNBdENvbXBvbmVudCA9PT0gdHJ1ZSxcbiAgICAgIGhpZ2hsaWdodE5vblN0YW5kYXJkUHJvcGVydHlLZXl3b3JkcyA9IGNvbmZpZy5oaWdobGlnaHROb25TdGFuZGFyZFByb3BlcnR5S2V5d29yZHMgIT09IGZhbHNlO1xuXG4gIHZhciB0eXBlLCBvdmVycmlkZTtcbiAgZnVuY3Rpb24gcmV0KHN0eWxlLCB0cCkgeyB0eXBlID0gdHA7IHJldHVybiBzdHlsZTsgfVxuXG4gIC8vIFRva2VuaXplcnNcblxuICBmdW5jdGlvbiB0b2tlbkJhc2Uoc3RyZWFtLCBzdGF0ZSkge1xuICAgIHZhciBjaCA9IHN0cmVhbS5uZXh0KCk7XG4gICAgaWYgKHRva2VuSG9va3NbY2hdKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdG9rZW5Ib29rc1tjaF0oc3RyZWFtLCBzdGF0ZSk7XG4gICAgICBpZiAocmVzdWx0ICE9PSBmYWxzZSkgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgaWYgKGNoID09IFwiQFwiKSB7XG4gICAgICBzdHJlYW0uZWF0V2hpbGUoL1tcXHdcXFxcXFwtXS8pO1xuICAgICAgcmV0dXJuIHJldChcImRlZlwiLCBzdHJlYW0uY3VycmVudCgpKTtcbiAgICB9IGVsc2UgaWYgKGNoID09IFwiPVwiIHx8IChjaCA9PSBcIn5cIiB8fCBjaCA9PSBcInxcIikgJiYgc3RyZWFtLmVhdChcIj1cIikpIHtcbiAgICAgIHJldHVybiByZXQobnVsbCwgXCJjb21wYXJlXCIpO1xuICAgIH0gZWxzZSBpZiAoY2ggPT0gXCJcXFwiXCIgfHwgY2ggPT0gXCInXCIpIHtcbiAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5TdHJpbmcoY2gpO1xuICAgICAgcmV0dXJuIHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgIH0gZWxzZSBpZiAoY2ggPT0gXCIjXCIpIHtcbiAgICAgIHN0cmVhbS5lYXRXaGlsZSgvW1xcd1xcXFxcXC1dLyk7XG4gICAgICByZXR1cm4gcmV0KFwiYXRvbVwiLCBcImhhc2hcIik7XG4gICAgfSBlbHNlIGlmIChjaCA9PSBcIiFcIikge1xuICAgICAgc3RyZWFtLm1hdGNoKC9eXFxzKlxcdyovKTtcbiAgICAgIHJldHVybiByZXQoXCJrZXl3b3JkXCIsIFwiaW1wb3J0YW50XCIpO1xuICAgIH0gZWxzZSBpZiAoL1xcZC8udGVzdChjaCkgfHwgY2ggPT0gXCIuXCIgJiYgc3RyZWFtLmVhdCgvXFxkLykpIHtcbiAgICAgIHN0cmVhbS5lYXRXaGlsZSgvW1xcdy4lXS8pO1xuICAgICAgcmV0dXJuIHJldChcIm51bWJlclwiLCBcInVuaXRcIik7XG4gICAgfSBlbHNlIGlmIChjaCA9PT0gXCItXCIpIHtcbiAgICAgIGlmICgvW1xcZC5dLy50ZXN0KHN0cmVhbS5wZWVrKCkpKSB7XG4gICAgICAgIHN0cmVhbS5lYXRXaGlsZSgvW1xcdy4lXS8pO1xuICAgICAgICByZXR1cm4gcmV0KFwibnVtYmVyXCIsIFwidW5pdFwiKTtcbiAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLm1hdGNoKC9eLVtcXHdcXFxcXFwtXSovKSkge1xuICAgICAgICBzdHJlYW0uZWF0V2hpbGUoL1tcXHdcXFxcXFwtXS8pO1xuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9eXFxzKjovLCBmYWxzZSkpXG4gICAgICAgICAgcmV0dXJuIHJldChcInZhcmlhYmxlLTJcIiwgXCJ2YXJpYWJsZS1kZWZpbml0aW9uXCIpO1xuICAgICAgICByZXR1cm4gcmV0KFwidmFyaWFibGUtMlwiLCBcInZhcmlhYmxlXCIpO1xuICAgICAgfSBlbHNlIGlmIChzdHJlYW0ubWF0Y2goL15cXHcrLS8pKSB7XG4gICAgICAgIHJldHVybiByZXQoXCJtZXRhXCIsIFwibWV0YVwiKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKC9bLCs+KlxcL10vLnRlc3QoY2gpKSB7XG4gICAgICByZXR1cm4gcmV0KG51bGwsIFwic2VsZWN0LW9wXCIpO1xuICAgIH0gZWxzZSBpZiAoY2ggPT0gXCIuXCIgJiYgc3RyZWFtLm1hdGNoKC9eLT9bX2Etel1bX2EtejAtOS1dKi9pKSkge1xuICAgICAgcmV0dXJuIHJldChcInF1YWxpZmllclwiLCBcInF1YWxpZmllclwiKTtcbiAgICB9IGVsc2UgaWYgKC9bOjt7fVxcW1xcXVxcKFxcKV0vLnRlc3QoY2gpKSB7XG4gICAgICByZXR1cm4gcmV0KG51bGwsIGNoKTtcbiAgICB9IGVsc2UgaWYgKHN0cmVhbS5tYXRjaCgvXltcXHctLl0rKD89XFwoKS8pKSB7XG4gICAgICBpZiAoL14odXJsKC1wcmVmaXgpP3xkb21haW58cmVnZXhwKSQvaS50ZXN0KHN0cmVhbS5jdXJyZW50KCkpKSB7XG4gICAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5QYXJlbnRoZXNpemVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJldChcInZhcmlhYmxlIGNhbGxlZVwiLCBcInZhcmlhYmxlXCIpO1xuICAgIH0gZWxzZSBpZiAoL1tcXHdcXFxcXFwtXS8udGVzdChjaCkpIHtcbiAgICAgIHN0cmVhbS5lYXRXaGlsZSgvW1xcd1xcXFxcXC1dLyk7XG4gICAgICByZXR1cm4gcmV0KFwicHJvcGVydHlcIiwgXCJ3b3JkXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gcmV0KG51bGwsIG51bGwpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRva2VuU3RyaW5nKHF1b3RlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgIHZhciBlc2NhcGVkID0gZmFsc2UsIGNoO1xuICAgICAgd2hpbGUgKChjaCA9IHN0cmVhbS5uZXh0KCkpICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGNoID09IHF1b3RlICYmICFlc2NhcGVkKSB7XG4gICAgICAgICAgaWYgKHF1b3RlID09IFwiKVwiKSBzdHJlYW0uYmFja1VwKDEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGVzY2FwZWQgPSAhZXNjYXBlZCAmJiBjaCA9PSBcIlxcXFxcIjtcbiAgICAgIH1cbiAgICAgIGlmIChjaCA9PSBxdW90ZSB8fCAhZXNjYXBlZCAmJiBxdW90ZSAhPSBcIilcIikgc3RhdGUudG9rZW5pemUgPSBudWxsO1xuICAgICAgcmV0dXJuIHJldChcInN0cmluZ1wiLCBcInN0cmluZ1wiKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gdG9rZW5QYXJlbnRoZXNpemVkKHN0cmVhbSwgc3RhdGUpIHtcbiAgICBzdHJlYW0ubmV4dCgpOyAvLyBNdXN0IGJlICcoJ1xuICAgIGlmICghc3RyZWFtLm1hdGNoKC9eXFxzKltcXFwiXFwnKV0vLCBmYWxzZSkpXG4gICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuU3RyaW5nKFwiKVwiKTtcbiAgICBlbHNlXG4gICAgICBzdGF0ZS50b2tlbml6ZSA9IG51bGw7XG4gICAgcmV0dXJuIHJldChudWxsLCBcIihcIik7XG4gIH1cblxuICAvLyBDb250ZXh0IG1hbmFnZW1lbnRcblxuICBmdW5jdGlvbiBDb250ZXh0KHR5cGUsIGluZGVudCwgcHJldikge1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gICAgdGhpcy5pbmRlbnQgPSBpbmRlbnQ7XG4gICAgdGhpcy5wcmV2ID0gcHJldjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHB1c2hDb250ZXh0KHN0YXRlLCBzdHJlYW0sIHR5cGUsIGluZGVudCkge1xuICAgIHN0YXRlLmNvbnRleHQgPSBuZXcgQ29udGV4dCh0eXBlLCBzdHJlYW0uaW5kZW50YXRpb24oKSArIChpbmRlbnQgPT09IGZhbHNlID8gMCA6IGluZGVudFVuaXQpLCBzdGF0ZS5jb250ZXh0KTtcbiAgICByZXR1cm4gdHlwZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvcENvbnRleHQoc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUuY29udGV4dC5wcmV2KVxuICAgICAgc3RhdGUuY29udGV4dCA9IHN0YXRlLmNvbnRleHQucHJldjtcbiAgICByZXR1cm4gc3RhdGUuY29udGV4dC50eXBlO1xuICB9XG5cbiAgZnVuY3Rpb24gcGFzcyh0eXBlLCBzdHJlYW0sIHN0YXRlKSB7XG4gICAgcmV0dXJuIHN0YXRlc1tzdGF0ZS5jb250ZXh0LnR5cGVdKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICB9XG4gIGZ1bmN0aW9uIHBvcEFuZFBhc3ModHlwZSwgc3RyZWFtLCBzdGF0ZSwgbikge1xuICAgIGZvciAodmFyIGkgPSBuIHx8IDE7IGkgPiAwOyBpLS0pXG4gICAgICBzdGF0ZS5jb250ZXh0ID0gc3RhdGUuY29udGV4dC5wcmV2O1xuICAgIHJldHVybiBwYXNzKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICB9XG5cbiAgLy8gUGFyc2VyXG5cbiAgZnVuY3Rpb24gd29yZEFzVmFsdWUoc3RyZWFtKSB7XG4gICAgdmFyIHdvcmQgPSBzdHJlYW0uY3VycmVudCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKHZhbHVlS2V5d29yZHMuaGFzT3duUHJvcGVydHkod29yZCkpXG4gICAgICBvdmVycmlkZSA9IFwiYXRvbVwiO1xuICAgIGVsc2UgaWYgKGNvbG9yS2V5d29yZHMuaGFzT3duUHJvcGVydHkod29yZCkpXG4gICAgICBvdmVycmlkZSA9IFwia2V5d29yZFwiO1xuICAgIGVsc2VcbiAgICAgIG92ZXJyaWRlID0gXCJ2YXJpYWJsZVwiO1xuICB9XG5cbiAgdmFyIHN0YXRlcyA9IHt9O1xuXG4gIHN0YXRlcy50b3AgPSBmdW5jdGlvbih0eXBlLCBzdHJlYW0sIHN0YXRlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ7XCIpIHtcbiAgICAgIHJldHVybiBwdXNoQ29udGV4dChzdGF0ZSwgc3RyZWFtLCBcImJsb2NrXCIpO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcIn1cIiAmJiBzdGF0ZS5jb250ZXh0LnByZXYpIHtcbiAgICAgIHJldHVybiBwb3BDb250ZXh0KHN0YXRlKTtcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnRzQXRDb21wb25lbnQgJiYgL0Bjb21wb25lbnQvaS50ZXN0KHR5cGUpKSB7XG4gICAgICByZXR1cm4gcHVzaENvbnRleHQoc3RhdGUsIHN0cmVhbSwgXCJhdENvbXBvbmVudEJsb2NrXCIpO1xuICAgIH0gZWxzZSBpZiAoL15AKC1tb3otKT9kb2N1bWVudCQvaS50ZXN0KHR5cGUpKSB7XG4gICAgICByZXR1cm4gcHVzaENvbnRleHQoc3RhdGUsIHN0cmVhbSwgXCJkb2N1bWVudFR5cGVzXCIpO1xuICAgIH0gZWxzZSBpZiAoL15AKG1lZGlhfHN1cHBvcnRzfCgtbW96LSk/ZG9jdW1lbnR8aW1wb3J0KSQvaS50ZXN0KHR5cGUpKSB7XG4gICAgICByZXR1cm4gcHVzaENvbnRleHQoc3RhdGUsIHN0cmVhbSwgXCJhdEJsb2NrXCIpO1xuICAgIH0gZWxzZSBpZiAoL15AKGZvbnQtZmFjZXxjb3VudGVyLXN0eWxlKS9pLnRlc3QodHlwZSkpIHtcbiAgICAgIHN0YXRlLnN0YXRlQXJnID0gdHlwZTtcbiAgICAgIHJldHVybiBcInJlc3RyaWN0ZWRfYXRCbG9ja19iZWZvcmVcIjtcbiAgICB9IGVsc2UgaWYgKC9eQCgtKG1venxtc3xvfHdlYmtpdCktKT9rZXlmcmFtZXMkL2kudGVzdCh0eXBlKSkge1xuICAgICAgcmV0dXJuIFwia2V5ZnJhbWVzXCI7XG4gICAgfSBlbHNlIGlmICh0eXBlICYmIHR5cGUuY2hhckF0KDApID09IFwiQFwiKSB7XG4gICAgICByZXR1cm4gcHVzaENvbnRleHQoc3RhdGUsIHN0cmVhbSwgXCJhdFwiKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJoYXNoXCIpIHtcbiAgICAgIG92ZXJyaWRlID0gXCJidWlsdGluXCI7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwid29yZFwiKSB7XG4gICAgICBvdmVycmlkZSA9IFwidGFnXCI7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwidmFyaWFibGUtZGVmaW5pdGlvblwiKSB7XG4gICAgICByZXR1cm4gXCJtYXliZXByb3BcIjtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJpbnRlcnBvbGF0aW9uXCIpIHtcbiAgICAgIHJldHVybiBwdXNoQ29udGV4dChzdGF0ZSwgc3RyZWFtLCBcImludGVycG9sYXRpb25cIik7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwiOlwiKSB7XG4gICAgICByZXR1cm4gXCJwc2V1ZG9cIjtcbiAgICB9IGVsc2UgaWYgKGFsbG93TmVzdGVkICYmIHR5cGUgPT0gXCIoXCIpIHtcbiAgICAgIHJldHVybiBwdXNoQ29udGV4dChzdGF0ZSwgc3RyZWFtLCBcInBhcmVuc1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIHN0YXRlLmNvbnRleHQudHlwZTtcbiAgfTtcblxuICBzdGF0ZXMuYmxvY2sgPSBmdW5jdGlvbih0eXBlLCBzdHJlYW0sIHN0YXRlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ3b3JkXCIpIHtcbiAgICAgIHZhciB3b3JkID0gc3RyZWFtLmN1cnJlbnQoKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKHByb3BlcnR5S2V5d29yZHMuaGFzT3duUHJvcGVydHkod29yZCkpIHtcbiAgICAgICAgb3ZlcnJpZGUgPSBcInByb3BlcnR5XCI7XG4gICAgICAgIHJldHVybiBcIm1heWJlcHJvcFwiO1xuICAgICAgfSBlbHNlIGlmIChub25TdGFuZGFyZFByb3BlcnR5S2V5d29yZHMuaGFzT3duUHJvcGVydHkod29yZCkpIHtcbiAgICAgICAgb3ZlcnJpZGUgPSBoaWdobGlnaHROb25TdGFuZGFyZFByb3BlcnR5S2V5d29yZHMgPyBcInN0cmluZy0yXCIgOiBcInByb3BlcnR5XCI7XG4gICAgICAgIHJldHVybiBcIm1heWJlcHJvcFwiO1xuICAgICAgfSBlbHNlIGlmIChhbGxvd05lc3RlZCkge1xuICAgICAgICBvdmVycmlkZSA9IHN0cmVhbS5tYXRjaCgvXlxccyo6KD86XFxzfCQpLywgZmFsc2UpID8gXCJwcm9wZXJ0eVwiIDogXCJ0YWdcIjtcbiAgICAgICAgcmV0dXJuIFwiYmxvY2tcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG92ZXJyaWRlICs9IFwiIGVycm9yXCI7XG4gICAgICAgIHJldHVybiBcIm1heWJlcHJvcFwiO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcIm1ldGFcIikge1xuICAgICAgcmV0dXJuIFwiYmxvY2tcIjtcbiAgICB9IGVsc2UgaWYgKCFhbGxvd05lc3RlZCAmJiAodHlwZSA9PSBcImhhc2hcIiB8fCB0eXBlID09IFwicXVhbGlmaWVyXCIpKSB7XG4gICAgICBvdmVycmlkZSA9IFwiZXJyb3JcIjtcbiAgICAgIHJldHVybiBcImJsb2NrXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBzdGF0ZXMudG9wKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cbiAgfTtcblxuICBzdGF0ZXMubWF5YmVwcm9wID0gZnVuY3Rpb24odHlwZSwgc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwiOlwiKSByZXR1cm4gcHVzaENvbnRleHQoc3RhdGUsIHN0cmVhbSwgXCJwcm9wXCIpO1xuICAgIHJldHVybiBwYXNzKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICB9O1xuXG4gIHN0YXRlcy5wcm9wID0gZnVuY3Rpb24odHlwZSwgc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwiO1wiKSByZXR1cm4gcG9wQ29udGV4dChzdGF0ZSk7XG4gICAgaWYgKHR5cGUgPT0gXCJ7XCIgJiYgYWxsb3dOZXN0ZWQpIHJldHVybiBwdXNoQ29udGV4dChzdGF0ZSwgc3RyZWFtLCBcInByb3BCbG9ja1wiKTtcbiAgICBpZiAodHlwZSA9PSBcIn1cIiB8fCB0eXBlID09IFwie1wiKSByZXR1cm4gcG9wQW5kUGFzcyh0eXBlLCBzdHJlYW0sIHN0YXRlKTtcbiAgICBpZiAodHlwZSA9PSBcIihcIikgcmV0dXJuIHB1c2hDb250ZXh0KHN0YXRlLCBzdHJlYW0sIFwicGFyZW5zXCIpO1xuXG4gICAgaWYgKHR5cGUgPT0gXCJoYXNoXCIgJiYgIS9eIyhbMC05YS1mQS1GXXszLDR9fFswLTlhLWZBLUZdezZ9fFswLTlhLWZBLUZdezh9KSQvLnRlc3Qoc3RyZWFtLmN1cnJlbnQoKSkpIHtcbiAgICAgIG92ZXJyaWRlICs9IFwiIGVycm9yXCI7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwid29yZFwiKSB7XG4gICAgICB3b3JkQXNWYWx1ZShzdHJlYW0pO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcImludGVycG9sYXRpb25cIikge1xuICAgICAgcmV0dXJuIHB1c2hDb250ZXh0KHN0YXRlLCBzdHJlYW0sIFwiaW50ZXJwb2xhdGlvblwiKTtcbiAgICB9XG4gICAgcmV0dXJuIFwicHJvcFwiO1xuICB9O1xuXG4gIHN0YXRlcy5wcm9wQmxvY2sgPSBmdW5jdGlvbih0eXBlLCBfc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwifVwiKSByZXR1cm4gcG9wQ29udGV4dChzdGF0ZSk7XG4gICAgaWYgKHR5cGUgPT0gXCJ3b3JkXCIpIHsgb3ZlcnJpZGUgPSBcInByb3BlcnR5XCI7IHJldHVybiBcIm1heWJlcHJvcFwiOyB9XG4gICAgcmV0dXJuIHN0YXRlLmNvbnRleHQudHlwZTtcbiAgfTtcblxuICBzdGF0ZXMucGFyZW5zID0gZnVuY3Rpb24odHlwZSwgc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwie1wiIHx8IHR5cGUgPT0gXCJ9XCIpIHJldHVybiBwb3BBbmRQYXNzKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICAgIGlmICh0eXBlID09IFwiKVwiKSByZXR1cm4gcG9wQ29udGV4dChzdGF0ZSk7XG4gICAgaWYgKHR5cGUgPT0gXCIoXCIpIHJldHVybiBwdXNoQ29udGV4dChzdGF0ZSwgc3RyZWFtLCBcInBhcmVuc1wiKTtcbiAgICBpZiAodHlwZSA9PSBcImludGVycG9sYXRpb25cIikgcmV0dXJuIHB1c2hDb250ZXh0KHN0YXRlLCBzdHJlYW0sIFwiaW50ZXJwb2xhdGlvblwiKTtcbiAgICBpZiAodHlwZSA9PSBcIndvcmRcIikgd29yZEFzVmFsdWUoc3RyZWFtKTtcbiAgICByZXR1cm4gXCJwYXJlbnNcIjtcbiAgfTtcblxuICBzdGF0ZXMucHNldWRvID0gZnVuY3Rpb24odHlwZSwgc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwibWV0YVwiKSByZXR1cm4gXCJwc2V1ZG9cIjtcblxuICAgIGlmICh0eXBlID09IFwid29yZFwiKSB7XG4gICAgICBvdmVycmlkZSA9IFwidmFyaWFibGUtM1wiO1xuICAgICAgcmV0dXJuIHN0YXRlLmNvbnRleHQudHlwZTtcbiAgICB9XG4gICAgcmV0dXJuIHBhc3ModHlwZSwgc3RyZWFtLCBzdGF0ZSk7XG4gIH07XG5cbiAgc3RhdGVzLmRvY3VtZW50VHlwZXMgPSBmdW5jdGlvbih0eXBlLCBzdHJlYW0sIHN0YXRlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ3b3JkXCIgJiYgZG9jdW1lbnRUeXBlcy5oYXNPd25Qcm9wZXJ0eShzdHJlYW0uY3VycmVudCgpKSkge1xuICAgICAgb3ZlcnJpZGUgPSBcInRhZ1wiO1xuICAgICAgcmV0dXJuIHN0YXRlLmNvbnRleHQudHlwZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHN0YXRlcy5hdEJsb2NrKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cbiAgfTtcblxuICBzdGF0ZXMuYXRCbG9jayA9IGZ1bmN0aW9uKHR5cGUsIHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAodHlwZSA9PSBcIihcIikgcmV0dXJuIHB1c2hDb250ZXh0KHN0YXRlLCBzdHJlYW0sIFwiYXRCbG9ja19wYXJlbnNcIik7XG4gICAgaWYgKHR5cGUgPT0gXCJ9XCIgfHwgdHlwZSA9PSBcIjtcIikgcmV0dXJuIHBvcEFuZFBhc3ModHlwZSwgc3RyZWFtLCBzdGF0ZSk7XG4gICAgaWYgKHR5cGUgPT0gXCJ7XCIpIHJldHVybiBwb3BDb250ZXh0KHN0YXRlKSAmJiBwdXNoQ29udGV4dChzdGF0ZSwgc3RyZWFtLCBhbGxvd05lc3RlZCA/IFwiYmxvY2tcIiA6IFwidG9wXCIpO1xuXG4gICAgaWYgKHR5cGUgPT0gXCJpbnRlcnBvbGF0aW9uXCIpIHJldHVybiBwdXNoQ29udGV4dChzdGF0ZSwgc3RyZWFtLCBcImludGVycG9sYXRpb25cIik7XG5cbiAgICBpZiAodHlwZSA9PSBcIndvcmRcIikge1xuICAgICAgdmFyIHdvcmQgPSBzdHJlYW0uY3VycmVudCgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAod29yZCA9PSBcIm9ubHlcIiB8fCB3b3JkID09IFwibm90XCIgfHwgd29yZCA9PSBcImFuZFwiIHx8IHdvcmQgPT0gXCJvclwiKVxuICAgICAgICBvdmVycmlkZSA9IFwia2V5d29yZFwiO1xuICAgICAgZWxzZSBpZiAobWVkaWFUeXBlcy5oYXNPd25Qcm9wZXJ0eSh3b3JkKSlcbiAgICAgICAgb3ZlcnJpZGUgPSBcImF0dHJpYnV0ZVwiO1xuICAgICAgZWxzZSBpZiAobWVkaWFGZWF0dXJlcy5oYXNPd25Qcm9wZXJ0eSh3b3JkKSlcbiAgICAgICAgb3ZlcnJpZGUgPSBcInByb3BlcnR5XCI7XG4gICAgICBlbHNlIGlmIChtZWRpYVZhbHVlS2V5d29yZHMuaGFzT3duUHJvcGVydHkod29yZCkpXG4gICAgICAgIG92ZXJyaWRlID0gXCJrZXl3b3JkXCI7XG4gICAgICBlbHNlIGlmIChwcm9wZXJ0eUtleXdvcmRzLmhhc093blByb3BlcnR5KHdvcmQpKVxuICAgICAgICBvdmVycmlkZSA9IFwicHJvcGVydHlcIjtcbiAgICAgIGVsc2UgaWYgKG5vblN0YW5kYXJkUHJvcGVydHlLZXl3b3Jkcy5oYXNPd25Qcm9wZXJ0eSh3b3JkKSlcbiAgICAgICAgb3ZlcnJpZGUgPSBoaWdobGlnaHROb25TdGFuZGFyZFByb3BlcnR5S2V5d29yZHMgPyBcInN0cmluZy0yXCIgOiBcInByb3BlcnR5XCI7XG4gICAgICBlbHNlIGlmICh2YWx1ZUtleXdvcmRzLmhhc093blByb3BlcnR5KHdvcmQpKVxuICAgICAgICBvdmVycmlkZSA9IFwiYXRvbVwiO1xuICAgICAgZWxzZSBpZiAoY29sb3JLZXl3b3Jkcy5oYXNPd25Qcm9wZXJ0eSh3b3JkKSlcbiAgICAgICAgb3ZlcnJpZGUgPSBcImtleXdvcmRcIjtcbiAgICAgIGVsc2VcbiAgICAgICAgb3ZlcnJpZGUgPSBcImVycm9yXCI7XG4gICAgfVxuICAgIHJldHVybiBzdGF0ZS5jb250ZXh0LnR5cGU7XG4gIH07XG5cbiAgc3RhdGVzLmF0Q29tcG9uZW50QmxvY2sgPSBmdW5jdGlvbih0eXBlLCBzdHJlYW0sIHN0YXRlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ9XCIpXG4gICAgICByZXR1cm4gcG9wQW5kUGFzcyh0eXBlLCBzdHJlYW0sIHN0YXRlKTtcbiAgICBpZiAodHlwZSA9PSBcIntcIilcbiAgICAgIHJldHVybiBwb3BDb250ZXh0KHN0YXRlKSAmJiBwdXNoQ29udGV4dChzdGF0ZSwgc3RyZWFtLCBhbGxvd05lc3RlZCA/IFwiYmxvY2tcIiA6IFwidG9wXCIsIGZhbHNlKTtcbiAgICBpZiAodHlwZSA9PSBcIndvcmRcIilcbiAgICAgIG92ZXJyaWRlID0gXCJlcnJvclwiO1xuICAgIHJldHVybiBzdGF0ZS5jb250ZXh0LnR5cGU7XG4gIH07XG5cbiAgc3RhdGVzLmF0QmxvY2tfcGFyZW5zID0gZnVuY3Rpb24odHlwZSwgc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwiKVwiKSByZXR1cm4gcG9wQ29udGV4dChzdGF0ZSk7XG4gICAgaWYgKHR5cGUgPT0gXCJ7XCIgfHwgdHlwZSA9PSBcIn1cIikgcmV0dXJuIHBvcEFuZFBhc3ModHlwZSwgc3RyZWFtLCBzdGF0ZSwgMik7XG4gICAgcmV0dXJuIHN0YXRlcy5hdEJsb2NrKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICB9O1xuXG4gIHN0YXRlcy5yZXN0cmljdGVkX2F0QmxvY2tfYmVmb3JlID0gZnVuY3Rpb24odHlwZSwgc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwie1wiKVxuICAgICAgcmV0dXJuIHB1c2hDb250ZXh0KHN0YXRlLCBzdHJlYW0sIFwicmVzdHJpY3RlZF9hdEJsb2NrXCIpO1xuICAgIGlmICh0eXBlID09IFwid29yZFwiICYmIHN0YXRlLnN0YXRlQXJnID09IFwiQGNvdW50ZXItc3R5bGVcIikge1xuICAgICAgb3ZlcnJpZGUgPSBcInZhcmlhYmxlXCI7XG4gICAgICByZXR1cm4gXCJyZXN0cmljdGVkX2F0QmxvY2tfYmVmb3JlXCI7XG4gICAgfVxuICAgIHJldHVybiBwYXNzKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICB9O1xuXG4gIHN0YXRlcy5yZXN0cmljdGVkX2F0QmxvY2sgPSBmdW5jdGlvbih0eXBlLCBzdHJlYW0sIHN0YXRlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ9XCIpIHtcbiAgICAgIHN0YXRlLnN0YXRlQXJnID0gbnVsbDtcbiAgICAgIHJldHVybiBwb3BDb250ZXh0KHN0YXRlKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT0gXCJ3b3JkXCIpIHtcbiAgICAgIGlmICgoc3RhdGUuc3RhdGVBcmcgPT0gXCJAZm9udC1mYWNlXCIgJiYgIWZvbnRQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KHN0cmVhbS5jdXJyZW50KCkudG9Mb3dlckNhc2UoKSkpIHx8XG4gICAgICAgICAgKHN0YXRlLnN0YXRlQXJnID09IFwiQGNvdW50ZXItc3R5bGVcIiAmJiAhY291bnRlckRlc2NyaXB0b3JzLmhhc093blByb3BlcnR5KHN0cmVhbS5jdXJyZW50KCkudG9Mb3dlckNhc2UoKSkpKVxuICAgICAgICBvdmVycmlkZSA9IFwiZXJyb3JcIjtcbiAgICAgIGVsc2VcbiAgICAgICAgb3ZlcnJpZGUgPSBcInByb3BlcnR5XCI7XG4gICAgICByZXR1cm4gXCJtYXliZXByb3BcIjtcbiAgICB9XG4gICAgcmV0dXJuIFwicmVzdHJpY3RlZF9hdEJsb2NrXCI7XG4gIH07XG5cbiAgc3RhdGVzLmtleWZyYW1lcyA9IGZ1bmN0aW9uKHR5cGUsIHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAodHlwZSA9PSBcIndvcmRcIikgeyBvdmVycmlkZSA9IFwidmFyaWFibGVcIjsgcmV0dXJuIFwia2V5ZnJhbWVzXCI7IH1cbiAgICBpZiAodHlwZSA9PSBcIntcIikgcmV0dXJuIHB1c2hDb250ZXh0KHN0YXRlLCBzdHJlYW0sIFwidG9wXCIpO1xuICAgIHJldHVybiBwYXNzKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICB9O1xuXG4gIHN0YXRlcy5hdCA9IGZ1bmN0aW9uKHR5cGUsIHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAodHlwZSA9PSBcIjtcIikgcmV0dXJuIHBvcENvbnRleHQoc3RhdGUpO1xuICAgIGlmICh0eXBlID09IFwie1wiIHx8IHR5cGUgPT0gXCJ9XCIpIHJldHVybiBwb3BBbmRQYXNzKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICAgIGlmICh0eXBlID09IFwid29yZFwiKSBvdmVycmlkZSA9IFwidGFnXCI7XG4gICAgZWxzZSBpZiAodHlwZSA9PSBcImhhc2hcIikgb3ZlcnJpZGUgPSBcImJ1aWx0aW5cIjtcbiAgICByZXR1cm4gXCJhdFwiO1xuICB9O1xuXG4gIHN0YXRlcy5pbnRlcnBvbGF0aW9uID0gZnVuY3Rpb24odHlwZSwgc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwifVwiKSByZXR1cm4gcG9wQ29udGV4dChzdGF0ZSk7XG4gICAgaWYgKHR5cGUgPT0gXCJ7XCIgfHwgdHlwZSA9PSBcIjtcIikgcmV0dXJuIHBvcEFuZFBhc3ModHlwZSwgc3RyZWFtLCBzdGF0ZSk7XG4gICAgaWYgKHR5cGUgPT0gXCJ3b3JkXCIpIG92ZXJyaWRlID0gXCJ2YXJpYWJsZVwiO1xuICAgIGVsc2UgaWYgKHR5cGUgIT0gXCJ2YXJpYWJsZVwiICYmIHR5cGUgIT0gXCIoXCIgJiYgdHlwZSAhPSBcIilcIikgb3ZlcnJpZGUgPSBcImVycm9yXCI7XG4gICAgcmV0dXJuIFwiaW50ZXJwb2xhdGlvblwiO1xuICB9O1xuXG4gIHJldHVybiB7XG4gICAgc3RhcnRTdGF0ZTogZnVuY3Rpb24oYmFzZSkge1xuICAgICAgcmV0dXJuIHt0b2tlbml6ZTogbnVsbCxcbiAgICAgICAgICAgICAgc3RhdGU6IGlubGluZSA/IFwiYmxvY2tcIiA6IFwidG9wXCIsXG4gICAgICAgICAgICAgIHN0YXRlQXJnOiBudWxsLFxuICAgICAgICAgICAgICBjb250ZXh0OiBuZXcgQ29udGV4dChpbmxpbmUgPyBcImJsb2NrXCIgOiBcInRvcFwiLCBiYXNlIHx8IDAsIG51bGwpfTtcbiAgICB9LFxuXG4gICAgdG9rZW46IGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgIGlmICghc3RhdGUudG9rZW5pemUgJiYgc3RyZWFtLmVhdFNwYWNlKCkpIHJldHVybiBudWxsO1xuICAgICAgdmFyIHN0eWxlID0gKHN0YXRlLnRva2VuaXplIHx8IHRva2VuQmFzZSkoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICBpZiAoc3R5bGUgJiYgdHlwZW9mIHN0eWxlID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgdHlwZSA9IHN0eWxlWzFdO1xuICAgICAgICBzdHlsZSA9IHN0eWxlWzBdO1xuICAgICAgfVxuICAgICAgb3ZlcnJpZGUgPSBzdHlsZTtcbiAgICAgIGlmICh0eXBlICE9IFwiY29tbWVudFwiKVxuICAgICAgICBzdGF0ZS5zdGF0ZSA9IHN0YXRlc1tzdGF0ZS5zdGF0ZV0odHlwZSwgc3RyZWFtLCBzdGF0ZSk7XG4gICAgICByZXR1cm4gb3ZlcnJpZGU7XG4gICAgfSxcblxuICAgIGluZGVudDogZnVuY3Rpb24oc3RhdGUsIHRleHRBZnRlcikge1xuICAgICAgdmFyIGN4ID0gc3RhdGUuY29udGV4dCwgY2ggPSB0ZXh0QWZ0ZXIgJiYgdGV4dEFmdGVyLmNoYXJBdCgwKTtcbiAgICAgIHZhciBpbmRlbnQgPSBjeC5pbmRlbnQ7XG4gICAgICBpZiAoY3gudHlwZSA9PSBcInByb3BcIiAmJiAoY2ggPT0gXCJ9XCIgfHwgY2ggPT0gXCIpXCIpKSBjeCA9IGN4LnByZXY7XG4gICAgICBpZiAoY3gucHJldikge1xuICAgICAgICBpZiAoY2ggPT0gXCJ9XCIgJiYgKGN4LnR5cGUgPT0gXCJibG9ja1wiIHx8IGN4LnR5cGUgPT0gXCJ0b3BcIiB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgICBjeC50eXBlID09IFwiaW50ZXJwb2xhdGlvblwiIHx8IGN4LnR5cGUgPT0gXCJyZXN0cmljdGVkX2F0QmxvY2tcIikpIHtcbiAgICAgICAgICAvLyBSZXN1bWUgaW5kZW50YXRpb24gZnJvbSBwYXJlbnQgY29udGV4dC5cbiAgICAgICAgICBjeCA9IGN4LnByZXY7XG4gICAgICAgICAgaW5kZW50ID0gY3guaW5kZW50O1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09IFwiKVwiICYmIChjeC50eXBlID09IFwicGFyZW5zXCIgfHwgY3gudHlwZSA9PSBcImF0QmxvY2tfcGFyZW5zXCIpIHx8XG4gICAgICAgICAgICBjaCA9PSBcIntcIiAmJiAoY3gudHlwZSA9PSBcImF0XCIgfHwgY3gudHlwZSA9PSBcImF0QmxvY2tcIikpIHtcbiAgICAgICAgICAvLyBEZWRlbnQgcmVsYXRpdmUgdG8gY3VycmVudCBjb250ZXh0LlxuICAgICAgICAgIGluZGVudCA9IE1hdGgubWF4KDAsIGN4LmluZGVudCAtIGluZGVudFVuaXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5kZW50O1xuICAgIH0sXG5cbiAgICBlbGVjdHJpY0NoYXJzOiBcIn1cIixcbiAgICBibG9ja0NvbW1lbnRTdGFydDogXCIvKlwiLFxuICAgIGJsb2NrQ29tbWVudEVuZDogXCIqL1wiLFxuICAgIGJsb2NrQ29tbWVudENvbnRpbnVlOiBcIiAqIFwiLFxuICAgIGxpbmVDb21tZW50OiBsaW5lQ29tbWVudCxcbiAgICBmb2xkOiBcImJyYWNlXCJcbiAgfTtcbn0pO1xuXG4gIGZ1bmN0aW9uIGtleVNldChhcnJheSkge1xuICAgIHZhciBrZXlzID0ge307XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7ICsraSkge1xuICAgICAga2V5c1thcnJheVtpXS50b0xvd2VyQ2FzZSgpXSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBrZXlzO1xuICB9XG5cbiAgdmFyIGRvY3VtZW50VHlwZXNfID0gW1xuICAgIFwiZG9tYWluXCIsIFwicmVnZXhwXCIsIFwidXJsXCIsIFwidXJsLXByZWZpeFwiXG4gIF0sIGRvY3VtZW50VHlwZXMgPSBrZXlTZXQoZG9jdW1lbnRUeXBlc18pO1xuXG4gIHZhciBtZWRpYVR5cGVzXyA9IFtcbiAgICBcImFsbFwiLCBcImF1cmFsXCIsIFwiYnJhaWxsZVwiLCBcImhhbmRoZWxkXCIsIFwicHJpbnRcIiwgXCJwcm9qZWN0aW9uXCIsIFwic2NyZWVuXCIsXG4gICAgXCJ0dHlcIiwgXCJ0dlwiLCBcImVtYm9zc2VkXCJcbiAgXSwgbWVkaWFUeXBlcyA9IGtleVNldChtZWRpYVR5cGVzXyk7XG5cbiAgdmFyIG1lZGlhRmVhdHVyZXNfID0gW1xuICAgIFwid2lkdGhcIiwgXCJtaW4td2lkdGhcIiwgXCJtYXgtd2lkdGhcIiwgXCJoZWlnaHRcIiwgXCJtaW4taGVpZ2h0XCIsIFwibWF4LWhlaWdodFwiLFxuICAgIFwiZGV2aWNlLXdpZHRoXCIsIFwibWluLWRldmljZS13aWR0aFwiLCBcIm1heC1kZXZpY2Utd2lkdGhcIiwgXCJkZXZpY2UtaGVpZ2h0XCIsXG4gICAgXCJtaW4tZGV2aWNlLWhlaWdodFwiLCBcIm1heC1kZXZpY2UtaGVpZ2h0XCIsIFwiYXNwZWN0LXJhdGlvXCIsXG4gICAgXCJtaW4tYXNwZWN0LXJhdGlvXCIsIFwibWF4LWFzcGVjdC1yYXRpb1wiLCBcImRldmljZS1hc3BlY3QtcmF0aW9cIixcbiAgICBcIm1pbi1kZXZpY2UtYXNwZWN0LXJhdGlvXCIsIFwibWF4LWRldmljZS1hc3BlY3QtcmF0aW9cIiwgXCJjb2xvclwiLCBcIm1pbi1jb2xvclwiLFxuICAgIFwibWF4LWNvbG9yXCIsIFwiY29sb3ItaW5kZXhcIiwgXCJtaW4tY29sb3ItaW5kZXhcIiwgXCJtYXgtY29sb3ItaW5kZXhcIixcbiAgICBcIm1vbm9jaHJvbWVcIiwgXCJtaW4tbW9ub2Nocm9tZVwiLCBcIm1heC1tb25vY2hyb21lXCIsIFwicmVzb2x1dGlvblwiLFxuICAgIFwibWluLXJlc29sdXRpb25cIiwgXCJtYXgtcmVzb2x1dGlvblwiLCBcInNjYW5cIiwgXCJncmlkXCIsIFwib3JpZW50YXRpb25cIixcbiAgICBcImRldmljZS1waXhlbC1yYXRpb1wiLCBcIm1pbi1kZXZpY2UtcGl4ZWwtcmF0aW9cIiwgXCJtYXgtZGV2aWNlLXBpeGVsLXJhdGlvXCIsXG4gICAgXCJwb2ludGVyXCIsIFwiYW55LXBvaW50ZXJcIiwgXCJob3ZlclwiLCBcImFueS1ob3ZlclwiLCBcInByZWZlcnMtY29sb3Itc2NoZW1lXCIsXG4gICAgXCJkeW5hbWljLXJhbmdlXCIsIFwidmlkZW8tZHluYW1pYy1yYW5nZVwiXG4gIF0sIG1lZGlhRmVhdHVyZXMgPSBrZXlTZXQobWVkaWFGZWF0dXJlc18pO1xuXG4gIHZhciBtZWRpYVZhbHVlS2V5d29yZHNfID0gW1xuICAgIFwibGFuZHNjYXBlXCIsIFwicG9ydHJhaXRcIiwgXCJub25lXCIsIFwiY29hcnNlXCIsIFwiZmluZVwiLCBcIm9uLWRlbWFuZFwiLCBcImhvdmVyXCIsXG4gICAgXCJpbnRlcmxhY2VcIiwgXCJwcm9ncmVzc2l2ZVwiLFxuICAgIFwiZGFya1wiLCBcImxpZ2h0XCIsXG4gICAgXCJzdGFuZGFyZFwiLCBcImhpZ2hcIlxuICBdLCBtZWRpYVZhbHVlS2V5d29yZHMgPSBrZXlTZXQobWVkaWFWYWx1ZUtleXdvcmRzXyk7XG5cbiAgdmFyIHByb3BlcnR5S2V5d29yZHNfID0gW1xuICAgIFwiYWxpZ24tY29udGVudFwiLCBcImFsaWduLWl0ZW1zXCIsIFwiYWxpZ24tc2VsZlwiLCBcImFsaWdubWVudC1hZGp1c3RcIixcbiAgICBcImFsaWdubWVudC1iYXNlbGluZVwiLCBcImFsbFwiLCBcImFuY2hvci1wb2ludFwiLCBcImFuaW1hdGlvblwiLCBcImFuaW1hdGlvbi1kZWxheVwiLFxuICAgIFwiYW5pbWF0aW9uLWRpcmVjdGlvblwiLCBcImFuaW1hdGlvbi1kdXJhdGlvblwiLCBcImFuaW1hdGlvbi1maWxsLW1vZGVcIixcbiAgICBcImFuaW1hdGlvbi1pdGVyYXRpb24tY291bnRcIiwgXCJhbmltYXRpb24tbmFtZVwiLCBcImFuaW1hdGlvbi1wbGF5LXN0YXRlXCIsXG4gICAgXCJhbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uXCIsIFwiYXBwZWFyYW5jZVwiLCBcImF6aW11dGhcIiwgXCJiYWNrZHJvcC1maWx0ZXJcIixcbiAgICBcImJhY2tmYWNlLXZpc2liaWxpdHlcIiwgXCJiYWNrZ3JvdW5kXCIsIFwiYmFja2dyb3VuZC1hdHRhY2htZW50XCIsXG4gICAgXCJiYWNrZ3JvdW5kLWJsZW5kLW1vZGVcIiwgXCJiYWNrZ3JvdW5kLWNsaXBcIiwgXCJiYWNrZ3JvdW5kLWNvbG9yXCIsXG4gICAgXCJiYWNrZ3JvdW5kLWltYWdlXCIsIFwiYmFja2dyb3VuZC1vcmlnaW5cIiwgXCJiYWNrZ3JvdW5kLXBvc2l0aW9uXCIsXG4gICAgXCJiYWNrZ3JvdW5kLXBvc2l0aW9uLXhcIiwgXCJiYWNrZ3JvdW5kLXBvc2l0aW9uLXlcIiwgXCJiYWNrZ3JvdW5kLXJlcGVhdFwiLFxuICAgIFwiYmFja2dyb3VuZC1zaXplXCIsIFwiYmFzZWxpbmUtc2hpZnRcIiwgXCJiaW5kaW5nXCIsIFwiYmxlZWRcIiwgXCJibG9jay1zaXplXCIsXG4gICAgXCJib29rbWFyay1sYWJlbFwiLCBcImJvb2ttYXJrLWxldmVsXCIsIFwiYm9va21hcmstc3RhdGVcIiwgXCJib29rbWFyay10YXJnZXRcIixcbiAgICBcImJvcmRlclwiLCBcImJvcmRlci1ib3R0b21cIiwgXCJib3JkZXItYm90dG9tLWNvbG9yXCIsIFwiYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1c1wiLFxuICAgIFwiYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXNcIiwgXCJib3JkZXItYm90dG9tLXN0eWxlXCIsIFwiYm9yZGVyLWJvdHRvbS13aWR0aFwiLFxuICAgIFwiYm9yZGVyLWNvbGxhcHNlXCIsIFwiYm9yZGVyLWNvbG9yXCIsIFwiYm9yZGVyLWltYWdlXCIsIFwiYm9yZGVyLWltYWdlLW91dHNldFwiLFxuICAgIFwiYm9yZGVyLWltYWdlLXJlcGVhdFwiLCBcImJvcmRlci1pbWFnZS1zbGljZVwiLCBcImJvcmRlci1pbWFnZS1zb3VyY2VcIixcbiAgICBcImJvcmRlci1pbWFnZS13aWR0aFwiLCBcImJvcmRlci1sZWZ0XCIsIFwiYm9yZGVyLWxlZnQtY29sb3JcIiwgXCJib3JkZXItbGVmdC1zdHlsZVwiLFxuICAgIFwiYm9yZGVyLWxlZnQtd2lkdGhcIiwgXCJib3JkZXItcmFkaXVzXCIsIFwiYm9yZGVyLXJpZ2h0XCIsIFwiYm9yZGVyLXJpZ2h0LWNvbG9yXCIsXG4gICAgXCJib3JkZXItcmlnaHQtc3R5bGVcIiwgXCJib3JkZXItcmlnaHQtd2lkdGhcIiwgXCJib3JkZXItc3BhY2luZ1wiLCBcImJvcmRlci1zdHlsZVwiLFxuICAgIFwiYm9yZGVyLXRvcFwiLCBcImJvcmRlci10b3AtY29sb3JcIiwgXCJib3JkZXItdG9wLWxlZnQtcmFkaXVzXCIsXG4gICAgXCJib3JkZXItdG9wLXJpZ2h0LXJhZGl1c1wiLCBcImJvcmRlci10b3Atc3R5bGVcIiwgXCJib3JkZXItdG9wLXdpZHRoXCIsXG4gICAgXCJib3JkZXItd2lkdGhcIiwgXCJib3R0b21cIiwgXCJib3gtZGVjb3JhdGlvbi1icmVha1wiLCBcImJveC1zaGFkb3dcIiwgXCJib3gtc2l6aW5nXCIsXG4gICAgXCJicmVhay1hZnRlclwiLCBcImJyZWFrLWJlZm9yZVwiLCBcImJyZWFrLWluc2lkZVwiLCBcImNhcHRpb24tc2lkZVwiLCBcImNhcmV0LWNvbG9yXCIsXG4gICAgXCJjbGVhclwiLCBcImNsaXBcIiwgXCJjb2xvclwiLCBcImNvbG9yLXByb2ZpbGVcIiwgXCJjb2x1bW4tY291bnRcIiwgXCJjb2x1bW4tZmlsbFwiLFxuICAgIFwiY29sdW1uLWdhcFwiLCBcImNvbHVtbi1ydWxlXCIsIFwiY29sdW1uLXJ1bGUtY29sb3JcIiwgXCJjb2x1bW4tcnVsZS1zdHlsZVwiLFxuICAgIFwiY29sdW1uLXJ1bGUtd2lkdGhcIiwgXCJjb2x1bW4tc3BhblwiLCBcImNvbHVtbi13aWR0aFwiLCBcImNvbHVtbnNcIiwgXCJjb250YWluXCIsXG4gICAgXCJjb250ZW50XCIsIFwiY291bnRlci1pbmNyZW1lbnRcIiwgXCJjb3VudGVyLXJlc2V0XCIsIFwiY3JvcFwiLCBcImN1ZVwiLCBcImN1ZS1hZnRlclwiLFxuICAgIFwiY3VlLWJlZm9yZVwiLCBcImN1cnNvclwiLCBcImRpcmVjdGlvblwiLCBcImRpc3BsYXlcIiwgXCJkb21pbmFudC1iYXNlbGluZVwiLFxuICAgIFwiZHJvcC1pbml0aWFsLWFmdGVyLWFkanVzdFwiLCBcImRyb3AtaW5pdGlhbC1hZnRlci1hbGlnblwiLFxuICAgIFwiZHJvcC1pbml0aWFsLWJlZm9yZS1hZGp1c3RcIiwgXCJkcm9wLWluaXRpYWwtYmVmb3JlLWFsaWduXCIsIFwiZHJvcC1pbml0aWFsLXNpemVcIixcbiAgICBcImRyb3AtaW5pdGlhbC12YWx1ZVwiLCBcImVsZXZhdGlvblwiLCBcImVtcHR5LWNlbGxzXCIsIFwiZml0XCIsIFwiZml0LWNvbnRlbnRcIiwgXCJmaXQtcG9zaXRpb25cIixcbiAgICBcImZsZXhcIiwgXCJmbGV4LWJhc2lzXCIsIFwiZmxleC1kaXJlY3Rpb25cIiwgXCJmbGV4LWZsb3dcIiwgXCJmbGV4LWdyb3dcIixcbiAgICBcImZsZXgtc2hyaW5rXCIsIFwiZmxleC13cmFwXCIsIFwiZmxvYXRcIiwgXCJmbG9hdC1vZmZzZXRcIiwgXCJmbG93LWZyb21cIiwgXCJmbG93LWludG9cIixcbiAgICBcImZvbnRcIiwgXCJmb250LWZhbWlseVwiLCBcImZvbnQtZmVhdHVyZS1zZXR0aW5nc1wiLCBcImZvbnQta2VybmluZ1wiLFxuICAgIFwiZm9udC1sYW5ndWFnZS1vdmVycmlkZVwiLCBcImZvbnQtb3B0aWNhbC1zaXppbmdcIiwgXCJmb250LXNpemVcIixcbiAgICBcImZvbnQtc2l6ZS1hZGp1c3RcIiwgXCJmb250LXN0cmV0Y2hcIiwgXCJmb250LXN0eWxlXCIsIFwiZm9udC1zeW50aGVzaXNcIixcbiAgICBcImZvbnQtdmFyaWFudFwiLCBcImZvbnQtdmFyaWFudC1hbHRlcm5hdGVzXCIsIFwiZm9udC12YXJpYW50LWNhcHNcIixcbiAgICBcImZvbnQtdmFyaWFudC1lYXN0LWFzaWFuXCIsIFwiZm9udC12YXJpYW50LWxpZ2F0dXJlc1wiLCBcImZvbnQtdmFyaWFudC1udW1lcmljXCIsXG4gICAgXCJmb250LXZhcmlhbnQtcG9zaXRpb25cIiwgXCJmb250LXZhcmlhdGlvbi1zZXR0aW5nc1wiLCBcImZvbnQtd2VpZ2h0XCIsIFwiZ2FwXCIsXG4gICAgXCJncmlkXCIsIFwiZ3JpZC1hcmVhXCIsIFwiZ3JpZC1hdXRvLWNvbHVtbnNcIiwgXCJncmlkLWF1dG8tZmxvd1wiLCBcImdyaWQtYXV0by1yb3dzXCIsXG4gICAgXCJncmlkLWNvbHVtblwiLCBcImdyaWQtY29sdW1uLWVuZFwiLCBcImdyaWQtY29sdW1uLWdhcFwiLCBcImdyaWQtY29sdW1uLXN0YXJ0XCIsXG4gICAgXCJncmlkLWdhcFwiLCBcImdyaWQtcm93XCIsIFwiZ3JpZC1yb3ctZW5kXCIsIFwiZ3JpZC1yb3ctZ2FwXCIsIFwiZ3JpZC1yb3ctc3RhcnRcIixcbiAgICBcImdyaWQtdGVtcGxhdGVcIiwgXCJncmlkLXRlbXBsYXRlLWFyZWFzXCIsIFwiZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zXCIsXG4gICAgXCJncmlkLXRlbXBsYXRlLXJvd3NcIiwgXCJoYW5naW5nLXB1bmN0dWF0aW9uXCIsIFwiaGVpZ2h0XCIsIFwiaHlwaGVuc1wiLCBcImljb25cIixcbiAgICBcImltYWdlLW9yaWVudGF0aW9uXCIsIFwiaW1hZ2UtcmVuZGVyaW5nXCIsIFwiaW1hZ2UtcmVzb2x1dGlvblwiLCBcImlubGluZS1ib3gtYWxpZ25cIixcbiAgICBcImluc2V0XCIsIFwiaW5zZXQtYmxvY2tcIiwgXCJpbnNldC1ibG9jay1lbmRcIiwgXCJpbnNldC1ibG9jay1zdGFydFwiLCBcImluc2V0LWlubGluZVwiLFxuICAgIFwiaW5zZXQtaW5saW5lLWVuZFwiLCBcImluc2V0LWlubGluZS1zdGFydFwiLCBcImlzb2xhdGlvblwiLCBcImp1c3RpZnktY29udGVudFwiLFxuICAgIFwianVzdGlmeS1pdGVtc1wiLCBcImp1c3RpZnktc2VsZlwiLCBcImxlZnRcIiwgXCJsZXR0ZXItc3BhY2luZ1wiLCBcImxpbmUtYnJlYWtcIixcbiAgICBcImxpbmUtaGVpZ2h0XCIsIFwibGluZS1oZWlnaHQtc3RlcFwiLCBcImxpbmUtc3RhY2tpbmdcIiwgXCJsaW5lLXN0YWNraW5nLXJ1YnlcIixcbiAgICBcImxpbmUtc3RhY2tpbmctc2hpZnRcIiwgXCJsaW5lLXN0YWNraW5nLXN0cmF0ZWd5XCIsIFwibGlzdC1zdHlsZVwiLFxuICAgIFwibGlzdC1zdHlsZS1pbWFnZVwiLCBcImxpc3Qtc3R5bGUtcG9zaXRpb25cIiwgXCJsaXN0LXN0eWxlLXR5cGVcIiwgXCJtYXJnaW5cIixcbiAgICBcIm1hcmdpbi1ib3R0b21cIiwgXCJtYXJnaW4tbGVmdFwiLCBcIm1hcmdpbi1yaWdodFwiLCBcIm1hcmdpbi10b3BcIiwgXCJtYXJrc1wiLFxuICAgIFwibWFycXVlZS1kaXJlY3Rpb25cIiwgXCJtYXJxdWVlLWxvb3BcIiwgXCJtYXJxdWVlLXBsYXktY291bnRcIiwgXCJtYXJxdWVlLXNwZWVkXCIsXG4gICAgXCJtYXJxdWVlLXN0eWxlXCIsIFwibWFzay1jbGlwXCIsIFwibWFzay1jb21wb3NpdGVcIiwgXCJtYXNrLWltYWdlXCIsIFwibWFzay1tb2RlXCIsXG4gICAgXCJtYXNrLW9yaWdpblwiLCBcIm1hc2stcG9zaXRpb25cIiwgXCJtYXNrLXJlcGVhdFwiLCBcIm1hc2stc2l6ZVwiLFwibWFzay10eXBlXCIsXG4gICAgXCJtYXgtYmxvY2stc2l6ZVwiLCBcIm1heC1oZWlnaHRcIiwgXCJtYXgtaW5saW5lLXNpemVcIixcbiAgICBcIm1heC13aWR0aFwiLCBcIm1pbi1ibG9jay1zaXplXCIsIFwibWluLWhlaWdodFwiLCBcIm1pbi1pbmxpbmUtc2l6ZVwiLCBcIm1pbi13aWR0aFwiLFxuICAgIFwibWl4LWJsZW5kLW1vZGVcIiwgXCJtb3ZlLXRvXCIsIFwibmF2LWRvd25cIiwgXCJuYXYtaW5kZXhcIiwgXCJuYXYtbGVmdFwiLCBcIm5hdi1yaWdodFwiLFxuICAgIFwibmF2LXVwXCIsIFwib2JqZWN0LWZpdFwiLCBcIm9iamVjdC1wb3NpdGlvblwiLCBcIm9mZnNldFwiLCBcIm9mZnNldC1hbmNob3JcIixcbiAgICBcIm9mZnNldC1kaXN0YW5jZVwiLCBcIm9mZnNldC1wYXRoXCIsIFwib2Zmc2V0LXBvc2l0aW9uXCIsIFwib2Zmc2V0LXJvdGF0ZVwiLFxuICAgIFwib3BhY2l0eVwiLCBcIm9yZGVyXCIsIFwib3JwaGFuc1wiLCBcIm91dGxpbmVcIiwgXCJvdXRsaW5lLWNvbG9yXCIsIFwib3V0bGluZS1vZmZzZXRcIixcbiAgICBcIm91dGxpbmUtc3R5bGVcIiwgXCJvdXRsaW5lLXdpZHRoXCIsIFwib3ZlcmZsb3dcIiwgXCJvdmVyZmxvdy1zdHlsZVwiLFxuICAgIFwib3ZlcmZsb3ctd3JhcFwiLCBcIm92ZXJmbG93LXhcIiwgXCJvdmVyZmxvdy15XCIsIFwicGFkZGluZ1wiLCBcInBhZGRpbmctYm90dG9tXCIsXG4gICAgXCJwYWRkaW5nLWxlZnRcIiwgXCJwYWRkaW5nLXJpZ2h0XCIsIFwicGFkZGluZy10b3BcIiwgXCJwYWdlXCIsIFwicGFnZS1icmVhay1hZnRlclwiLFxuICAgIFwicGFnZS1icmVhay1iZWZvcmVcIiwgXCJwYWdlLWJyZWFrLWluc2lkZVwiLCBcInBhZ2UtcG9saWN5XCIsIFwicGF1c2VcIixcbiAgICBcInBhdXNlLWFmdGVyXCIsIFwicGF1c2UtYmVmb3JlXCIsIFwicGVyc3BlY3RpdmVcIiwgXCJwZXJzcGVjdGl2ZS1vcmlnaW5cIiwgXCJwaXRjaFwiLFxuICAgIFwicGl0Y2gtcmFuZ2VcIiwgXCJwbGFjZS1jb250ZW50XCIsIFwicGxhY2UtaXRlbXNcIiwgXCJwbGFjZS1zZWxmXCIsIFwicGxheS1kdXJpbmdcIixcbiAgICBcInBvc2l0aW9uXCIsIFwicHJlc2VudGF0aW9uLWxldmVsXCIsIFwicHVuY3R1YXRpb24tdHJpbVwiLCBcInF1b3Rlc1wiLFxuICAgIFwicmVnaW9uLWJyZWFrLWFmdGVyXCIsIFwicmVnaW9uLWJyZWFrLWJlZm9yZVwiLCBcInJlZ2lvbi1icmVhay1pbnNpZGVcIixcbiAgICBcInJlZ2lvbi1mcmFnbWVudFwiLCBcInJlbmRlcmluZy1pbnRlbnRcIiwgXCJyZXNpemVcIiwgXCJyZXN0XCIsIFwicmVzdC1hZnRlclwiLFxuICAgIFwicmVzdC1iZWZvcmVcIiwgXCJyaWNobmVzc1wiLCBcInJpZ2h0XCIsIFwicm90YXRlXCIsIFwicm90YXRpb25cIiwgXCJyb3RhdGlvbi1wb2ludFwiLFxuICAgIFwicm93LWdhcFwiLCBcInJ1YnktYWxpZ25cIiwgXCJydWJ5LW92ZXJoYW5nXCIsIFwicnVieS1wb3NpdGlvblwiLCBcInJ1Ynktc3BhblwiLFxuICAgIFwic2NhbGVcIiwgXCJzY3JvbGwtYmVoYXZpb3JcIiwgXCJzY3JvbGwtbWFyZ2luXCIsIFwic2Nyb2xsLW1hcmdpbi1ibG9ja1wiLFxuICAgIFwic2Nyb2xsLW1hcmdpbi1ibG9jay1lbmRcIiwgXCJzY3JvbGwtbWFyZ2luLWJsb2NrLXN0YXJ0XCIsIFwic2Nyb2xsLW1hcmdpbi1ib3R0b21cIixcbiAgICBcInNjcm9sbC1tYXJnaW4taW5saW5lXCIsIFwic2Nyb2xsLW1hcmdpbi1pbmxpbmUtZW5kXCIsXG4gICAgXCJzY3JvbGwtbWFyZ2luLWlubGluZS1zdGFydFwiLCBcInNjcm9sbC1tYXJnaW4tbGVmdFwiLCBcInNjcm9sbC1tYXJnaW4tcmlnaHRcIixcbiAgICBcInNjcm9sbC1tYXJnaW4tdG9wXCIsIFwic2Nyb2xsLXBhZGRpbmdcIiwgXCJzY3JvbGwtcGFkZGluZy1ibG9ja1wiLFxuICAgIFwic2Nyb2xsLXBhZGRpbmctYmxvY2stZW5kXCIsIFwic2Nyb2xsLXBhZGRpbmctYmxvY2stc3RhcnRcIixcbiAgICBcInNjcm9sbC1wYWRkaW5nLWJvdHRvbVwiLCBcInNjcm9sbC1wYWRkaW5nLWlubGluZVwiLCBcInNjcm9sbC1wYWRkaW5nLWlubGluZS1lbmRcIixcbiAgICBcInNjcm9sbC1wYWRkaW5nLWlubGluZS1zdGFydFwiLCBcInNjcm9sbC1wYWRkaW5nLWxlZnRcIiwgXCJzY3JvbGwtcGFkZGluZy1yaWdodFwiLFxuICAgIFwic2Nyb2xsLXBhZGRpbmctdG9wXCIsIFwic2Nyb2xsLXNuYXAtYWxpZ25cIiwgXCJzY3JvbGwtc25hcC10eXBlXCIsXG4gICAgXCJzaGFwZS1pbWFnZS10aHJlc2hvbGRcIiwgXCJzaGFwZS1pbnNpZGVcIiwgXCJzaGFwZS1tYXJnaW5cIiwgXCJzaGFwZS1vdXRzaWRlXCIsXG4gICAgXCJzaXplXCIsIFwic3BlYWtcIiwgXCJzcGVhay1hc1wiLCBcInNwZWFrLWhlYWRlclwiLCBcInNwZWFrLW51bWVyYWxcIixcbiAgICBcInNwZWFrLXB1bmN0dWF0aW9uXCIsIFwic3BlZWNoLXJhdGVcIiwgXCJzdHJlc3NcIiwgXCJzdHJpbmctc2V0XCIsIFwidGFiLXNpemVcIixcbiAgICBcInRhYmxlLWxheW91dFwiLCBcInRhcmdldFwiLCBcInRhcmdldC1uYW1lXCIsIFwidGFyZ2V0LW5ld1wiLCBcInRhcmdldC1wb3NpdGlvblwiLFxuICAgIFwidGV4dC1hbGlnblwiLCBcInRleHQtYWxpZ24tbGFzdFwiLCBcInRleHQtY29tYmluZS11cHJpZ2h0XCIsIFwidGV4dC1kZWNvcmF0aW9uXCIsXG4gICAgXCJ0ZXh0LWRlY29yYXRpb24tY29sb3JcIiwgXCJ0ZXh0LWRlY29yYXRpb24tbGluZVwiLCBcInRleHQtZGVjb3JhdGlvbi1za2lwXCIsXG4gICAgXCJ0ZXh0LWRlY29yYXRpb24tc2tpcC1pbmtcIiwgXCJ0ZXh0LWRlY29yYXRpb24tc3R5bGVcIiwgXCJ0ZXh0LWVtcGhhc2lzXCIsXG4gICAgXCJ0ZXh0LWVtcGhhc2lzLWNvbG9yXCIsIFwidGV4dC1lbXBoYXNpcy1wb3NpdGlvblwiLCBcInRleHQtZW1waGFzaXMtc3R5bGVcIixcbiAgICBcInRleHQtaGVpZ2h0XCIsIFwidGV4dC1pbmRlbnRcIiwgXCJ0ZXh0LWp1c3RpZnlcIiwgXCJ0ZXh0LW9yaWVudGF0aW9uXCIsXG4gICAgXCJ0ZXh0LW91dGxpbmVcIiwgXCJ0ZXh0LW92ZXJmbG93XCIsIFwidGV4dC1yZW5kZXJpbmdcIiwgXCJ0ZXh0LXNoYWRvd1wiLFxuICAgIFwidGV4dC1zaXplLWFkanVzdFwiLCBcInRleHQtc3BhY2UtY29sbGFwc2VcIiwgXCJ0ZXh0LXRyYW5zZm9ybVwiLFxuICAgIFwidGV4dC11bmRlcmxpbmUtcG9zaXRpb25cIiwgXCJ0ZXh0LXdyYXBcIiwgXCJ0b3BcIiwgXCJ0b3VjaC1hY3Rpb25cIiwgXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2Zvcm0tb3JpZ2luXCIsXG4gICAgXCJ0cmFuc2Zvcm0tc3R5bGVcIiwgXCJ0cmFuc2l0aW9uXCIsIFwidHJhbnNpdGlvbi1kZWxheVwiLCBcInRyYW5zaXRpb24tZHVyYXRpb25cIixcbiAgICBcInRyYW5zaXRpb24tcHJvcGVydHlcIiwgXCJ0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvblwiLCBcInRyYW5zbGF0ZVwiLFxuICAgIFwidW5pY29kZS1iaWRpXCIsIFwidXNlci1zZWxlY3RcIiwgXCJ2ZXJ0aWNhbC1hbGlnblwiLCBcInZpc2liaWxpdHlcIiwgXCJ2b2ljZS1iYWxhbmNlXCIsXG4gICAgXCJ2b2ljZS1kdXJhdGlvblwiLCBcInZvaWNlLWZhbWlseVwiLCBcInZvaWNlLXBpdGNoXCIsIFwidm9pY2UtcmFuZ2VcIiwgXCJ2b2ljZS1yYXRlXCIsXG4gICAgXCJ2b2ljZS1zdHJlc3NcIiwgXCJ2b2ljZS12b2x1bWVcIiwgXCJ2b2x1bWVcIiwgXCJ3aGl0ZS1zcGFjZVwiLCBcIndpZG93c1wiLCBcIndpZHRoXCIsXG4gICAgXCJ3aWxsLWNoYW5nZVwiLCBcIndvcmQtYnJlYWtcIiwgXCJ3b3JkLXNwYWNpbmdcIiwgXCJ3b3JkLXdyYXBcIiwgXCJ3cml0aW5nLW1vZGVcIiwgXCJ6LWluZGV4XCIsXG4gICAgLy8gU1ZHLXNwZWNpZmljXG4gICAgXCJjbGlwLXBhdGhcIiwgXCJjbGlwLXJ1bGVcIiwgXCJtYXNrXCIsIFwiZW5hYmxlLWJhY2tncm91bmRcIiwgXCJmaWx0ZXJcIiwgXCJmbG9vZC1jb2xvclwiLFxuICAgIFwiZmxvb2Qtb3BhY2l0eVwiLCBcImxpZ2h0aW5nLWNvbG9yXCIsIFwic3RvcC1jb2xvclwiLCBcInN0b3Atb3BhY2l0eVwiLCBcInBvaW50ZXItZXZlbnRzXCIsXG4gICAgXCJjb2xvci1pbnRlcnBvbGF0aW9uXCIsIFwiY29sb3ItaW50ZXJwb2xhdGlvbi1maWx0ZXJzXCIsXG4gICAgXCJjb2xvci1yZW5kZXJpbmdcIiwgXCJmaWxsXCIsIFwiZmlsbC1vcGFjaXR5XCIsIFwiZmlsbC1ydWxlXCIsIFwiaW1hZ2UtcmVuZGVyaW5nXCIsXG4gICAgXCJtYXJrZXJcIiwgXCJtYXJrZXItZW5kXCIsIFwibWFya2VyLW1pZFwiLCBcIm1hcmtlci1zdGFydFwiLCBcInBhaW50LW9yZGVyXCIsIFwic2hhcGUtcmVuZGVyaW5nXCIsIFwic3Ryb2tlXCIsXG4gICAgXCJzdHJva2UtZGFzaGFycmF5XCIsIFwic3Ryb2tlLWRhc2hvZmZzZXRcIiwgXCJzdHJva2UtbGluZWNhcFwiLCBcInN0cm9rZS1saW5lam9pblwiLFxuICAgIFwic3Ryb2tlLW1pdGVybGltaXRcIiwgXCJzdHJva2Utb3BhY2l0eVwiLCBcInN0cm9rZS13aWR0aFwiLCBcInRleHQtcmVuZGVyaW5nXCIsXG4gICAgXCJiYXNlbGluZS1zaGlmdFwiLCBcImRvbWluYW50LWJhc2VsaW5lXCIsIFwiZ2x5cGgtb3JpZW50YXRpb24taG9yaXpvbnRhbFwiLFxuICAgIFwiZ2x5cGgtb3JpZW50YXRpb24tdmVydGljYWxcIiwgXCJ0ZXh0LWFuY2hvclwiLCBcIndyaXRpbmctbW9kZVwiLFxuICBdLCBwcm9wZXJ0eUtleXdvcmRzID0ga2V5U2V0KHByb3BlcnR5S2V5d29yZHNfKTtcblxuICB2YXIgbm9uU3RhbmRhcmRQcm9wZXJ0eUtleXdvcmRzXyA9IFtcbiAgICBcImFjY2VudC1jb2xvclwiLCBcImFzcGVjdC1yYXRpb1wiLCBcImJvcmRlci1ibG9ja1wiLCBcImJvcmRlci1ibG9jay1jb2xvclwiLCBcImJvcmRlci1ibG9jay1lbmRcIixcbiAgICBcImJvcmRlci1ibG9jay1lbmQtY29sb3JcIiwgXCJib3JkZXItYmxvY2stZW5kLXN0eWxlXCIsIFwiYm9yZGVyLWJsb2NrLWVuZC13aWR0aFwiLFxuICAgIFwiYm9yZGVyLWJsb2NrLXN0YXJ0XCIsIFwiYm9yZGVyLWJsb2NrLXN0YXJ0LWNvbG9yXCIsIFwiYm9yZGVyLWJsb2NrLXN0YXJ0LXN0eWxlXCIsXG4gICAgXCJib3JkZXItYmxvY2stc3RhcnQtd2lkdGhcIiwgXCJib3JkZXItYmxvY2stc3R5bGVcIiwgXCJib3JkZXItYmxvY2std2lkdGhcIixcbiAgICBcImJvcmRlci1pbmxpbmVcIiwgXCJib3JkZXItaW5saW5lLWNvbG9yXCIsIFwiYm9yZGVyLWlubGluZS1lbmRcIixcbiAgICBcImJvcmRlci1pbmxpbmUtZW5kLWNvbG9yXCIsIFwiYm9yZGVyLWlubGluZS1lbmQtc3R5bGVcIixcbiAgICBcImJvcmRlci1pbmxpbmUtZW5kLXdpZHRoXCIsIFwiYm9yZGVyLWlubGluZS1zdGFydFwiLCBcImJvcmRlci1pbmxpbmUtc3RhcnQtY29sb3JcIixcbiAgICBcImJvcmRlci1pbmxpbmUtc3RhcnQtc3R5bGVcIiwgXCJib3JkZXItaW5saW5lLXN0YXJ0LXdpZHRoXCIsXG4gICAgXCJib3JkZXItaW5saW5lLXN0eWxlXCIsIFwiYm9yZGVyLWlubGluZS13aWR0aFwiLCBcImNvbnRlbnQtdmlzaWJpbGl0eVwiLCBcIm1hcmdpbi1ibG9ja1wiLFxuICAgIFwibWFyZ2luLWJsb2NrLWVuZFwiLCBcIm1hcmdpbi1ibG9jay1zdGFydFwiLCBcIm1hcmdpbi1pbmxpbmVcIiwgXCJtYXJnaW4taW5saW5lLWVuZFwiLFxuICAgIFwibWFyZ2luLWlubGluZS1zdGFydFwiLCBcIm92ZXJmbG93LWFuY2hvclwiLCBcIm92ZXJzY3JvbGwtYmVoYXZpb3JcIiwgXCJwYWRkaW5nLWJsb2NrXCIsIFwicGFkZGluZy1ibG9jay1lbmRcIixcbiAgICBcInBhZGRpbmctYmxvY2stc3RhcnRcIiwgXCJwYWRkaW5nLWlubGluZVwiLCBcInBhZGRpbmctaW5saW5lLWVuZFwiLFxuICAgIFwicGFkZGluZy1pbmxpbmUtc3RhcnRcIiwgXCJzY3JvbGwtc25hcC1zdG9wXCIsIFwic2Nyb2xsYmFyLTNkLWxpZ2h0LWNvbG9yXCIsXG4gICAgXCJzY3JvbGxiYXItYXJyb3ctY29sb3JcIiwgXCJzY3JvbGxiYXItYmFzZS1jb2xvclwiLCBcInNjcm9sbGJhci1kYXJrLXNoYWRvdy1jb2xvclwiLFxuICAgIFwic2Nyb2xsYmFyLWZhY2UtY29sb3JcIiwgXCJzY3JvbGxiYXItaGlnaGxpZ2h0LWNvbG9yXCIsIFwic2Nyb2xsYmFyLXNoYWRvdy1jb2xvclwiLFxuICAgIFwic2Nyb2xsYmFyLXRyYWNrLWNvbG9yXCIsIFwic2VhcmNoZmllbGQtY2FuY2VsLWJ1dHRvblwiLCBcInNlYXJjaGZpZWxkLWRlY29yYXRpb25cIixcbiAgICBcInNlYXJjaGZpZWxkLXJlc3VsdHMtYnV0dG9uXCIsIFwic2VhcmNoZmllbGQtcmVzdWx0cy1kZWNvcmF0aW9uXCIsIFwic2hhcGUtaW5zaWRlXCIsIFwiem9vbVwiXG4gIF0sIG5vblN0YW5kYXJkUHJvcGVydHlLZXl3b3JkcyA9IGtleVNldChub25TdGFuZGFyZFByb3BlcnR5S2V5d29yZHNfKTtcblxuICB2YXIgZm9udFByb3BlcnRpZXNfID0gW1xuICAgIFwiZm9udC1kaXNwbGF5XCIsIFwiZm9udC1mYW1pbHlcIiwgXCJzcmNcIiwgXCJ1bmljb2RlLXJhbmdlXCIsIFwiZm9udC12YXJpYW50XCIsXG4gICAgIFwiZm9udC1mZWF0dXJlLXNldHRpbmdzXCIsIFwiZm9udC1zdHJldGNoXCIsIFwiZm9udC13ZWlnaHRcIiwgXCJmb250LXN0eWxlXCJcbiAgXSwgZm9udFByb3BlcnRpZXMgPSBrZXlTZXQoZm9udFByb3BlcnRpZXNfKTtcblxuICB2YXIgY291bnRlckRlc2NyaXB0b3JzXyA9IFtcbiAgICBcImFkZGl0aXZlLXN5bWJvbHNcIiwgXCJmYWxsYmFja1wiLCBcIm5lZ2F0aXZlXCIsIFwicGFkXCIsIFwicHJlZml4XCIsIFwicmFuZ2VcIixcbiAgICBcInNwZWFrLWFzXCIsIFwic3VmZml4XCIsIFwic3ltYm9sc1wiLCBcInN5c3RlbVwiXG4gIF0sIGNvdW50ZXJEZXNjcmlwdG9ycyA9IGtleVNldChjb3VudGVyRGVzY3JpcHRvcnNfKTtcblxuICB2YXIgY29sb3JLZXl3b3Jkc18gPSBbXG4gICAgXCJhbGljZWJsdWVcIiwgXCJhbnRpcXVld2hpdGVcIiwgXCJhcXVhXCIsIFwiYXF1YW1hcmluZVwiLCBcImF6dXJlXCIsIFwiYmVpZ2VcIixcbiAgICBcImJpc3F1ZVwiLCBcImJsYWNrXCIsIFwiYmxhbmNoZWRhbG1vbmRcIiwgXCJibHVlXCIsIFwiYmx1ZXZpb2xldFwiLCBcImJyb3duXCIsXG4gICAgXCJidXJseXdvb2RcIiwgXCJjYWRldGJsdWVcIiwgXCJjaGFydHJldXNlXCIsIFwiY2hvY29sYXRlXCIsIFwiY29yYWxcIiwgXCJjb3JuZmxvd2VyYmx1ZVwiLFxuICAgIFwiY29ybnNpbGtcIiwgXCJjcmltc29uXCIsIFwiY3lhblwiLCBcImRhcmtibHVlXCIsIFwiZGFya2N5YW5cIiwgXCJkYXJrZ29sZGVucm9kXCIsXG4gICAgXCJkYXJrZ3JheVwiLCBcImRhcmtncmVlblwiLCBcImRhcmtncmV5XCIsIFwiZGFya2toYWtpXCIsIFwiZGFya21hZ2VudGFcIiwgXCJkYXJrb2xpdmVncmVlblwiLFxuICAgIFwiZGFya29yYW5nZVwiLCBcImRhcmtvcmNoaWRcIiwgXCJkYXJrcmVkXCIsIFwiZGFya3NhbG1vblwiLCBcImRhcmtzZWFncmVlblwiLFxuICAgIFwiZGFya3NsYXRlYmx1ZVwiLCBcImRhcmtzbGF0ZWdyYXlcIiwgXCJkYXJrc2xhdGVncmV5XCIsIFwiZGFya3R1cnF1b2lzZVwiLCBcImRhcmt2aW9sZXRcIixcbiAgICBcImRlZXBwaW5rXCIsIFwiZGVlcHNreWJsdWVcIiwgXCJkaW1ncmF5XCIsIFwiZGltZ3JleVwiLCBcImRvZGdlcmJsdWVcIiwgXCJmaXJlYnJpY2tcIixcbiAgICBcImZsb3JhbHdoaXRlXCIsIFwiZm9yZXN0Z3JlZW5cIiwgXCJmdWNoc2lhXCIsIFwiZ2FpbnNib3JvXCIsIFwiZ2hvc3R3aGl0ZVwiLFxuICAgIFwiZ29sZFwiLCBcImdvbGRlbnJvZFwiLCBcImdyYXlcIiwgXCJncmV5XCIsIFwiZ3JlZW5cIiwgXCJncmVlbnllbGxvd1wiLCBcImhvbmV5ZGV3XCIsXG4gICAgXCJob3RwaW5rXCIsIFwiaW5kaWFucmVkXCIsIFwiaW5kaWdvXCIsIFwiaXZvcnlcIiwgXCJraGFraVwiLCBcImxhdmVuZGVyXCIsXG4gICAgXCJsYXZlbmRlcmJsdXNoXCIsIFwibGF3bmdyZWVuXCIsIFwibGVtb25jaGlmZm9uXCIsIFwibGlnaHRibHVlXCIsIFwibGlnaHRjb3JhbFwiLFxuICAgIFwibGlnaHRjeWFuXCIsIFwibGlnaHRnb2xkZW5yb2R5ZWxsb3dcIiwgXCJsaWdodGdyYXlcIiwgXCJsaWdodGdyZWVuXCIsIFwibGlnaHRncmV5XCIsIFwibGlnaHRwaW5rXCIsXG4gICAgXCJsaWdodHNhbG1vblwiLCBcImxpZ2h0c2VhZ3JlZW5cIiwgXCJsaWdodHNreWJsdWVcIiwgXCJsaWdodHNsYXRlZ3JheVwiLCBcImxpZ2h0c2xhdGVncmV5XCIsXG4gICAgXCJsaWdodHN0ZWVsYmx1ZVwiLCBcImxpZ2h0eWVsbG93XCIsIFwibGltZVwiLCBcImxpbWVncmVlblwiLCBcImxpbmVuXCIsIFwibWFnZW50YVwiLFxuICAgIFwibWFyb29uXCIsIFwibWVkaXVtYXF1YW1hcmluZVwiLCBcIm1lZGl1bWJsdWVcIiwgXCJtZWRpdW1vcmNoaWRcIiwgXCJtZWRpdW1wdXJwbGVcIixcbiAgICBcIm1lZGl1bXNlYWdyZWVuXCIsIFwibWVkaXVtc2xhdGVibHVlXCIsIFwibWVkaXVtc3ByaW5nZ3JlZW5cIiwgXCJtZWRpdW10dXJxdW9pc2VcIixcbiAgICBcIm1lZGl1bXZpb2xldHJlZFwiLCBcIm1pZG5pZ2h0Ymx1ZVwiLCBcIm1pbnRjcmVhbVwiLCBcIm1pc3R5cm9zZVwiLCBcIm1vY2Nhc2luXCIsXG4gICAgXCJuYXZham93aGl0ZVwiLCBcIm5hdnlcIiwgXCJvbGRsYWNlXCIsIFwib2xpdmVcIiwgXCJvbGl2ZWRyYWJcIiwgXCJvcmFuZ2VcIiwgXCJvcmFuZ2VyZWRcIixcbiAgICBcIm9yY2hpZFwiLCBcInBhbGVnb2xkZW5yb2RcIiwgXCJwYWxlZ3JlZW5cIiwgXCJwYWxldHVycXVvaXNlXCIsIFwicGFsZXZpb2xldHJlZFwiLFxuICAgIFwicGFwYXlhd2hpcFwiLCBcInBlYWNocHVmZlwiLCBcInBlcnVcIiwgXCJwaW5rXCIsIFwicGx1bVwiLCBcInBvd2RlcmJsdWVcIixcbiAgICBcInB1cnBsZVwiLCBcInJlYmVjY2FwdXJwbGVcIiwgXCJyZWRcIiwgXCJyb3N5YnJvd25cIiwgXCJyb3lhbGJsdWVcIiwgXCJzYWRkbGVicm93blwiLFxuICAgIFwic2FsbW9uXCIsIFwic2FuZHlicm93blwiLCBcInNlYWdyZWVuXCIsIFwic2Vhc2hlbGxcIiwgXCJzaWVubmFcIiwgXCJzaWx2ZXJcIiwgXCJza3libHVlXCIsXG4gICAgXCJzbGF0ZWJsdWVcIiwgXCJzbGF0ZWdyYXlcIiwgXCJzbGF0ZWdyZXlcIiwgXCJzbm93XCIsIFwic3ByaW5nZ3JlZW5cIiwgXCJzdGVlbGJsdWVcIiwgXCJ0YW5cIixcbiAgICBcInRlYWxcIiwgXCJ0aGlzdGxlXCIsIFwidG9tYXRvXCIsIFwidHVycXVvaXNlXCIsIFwidmlvbGV0XCIsIFwid2hlYXRcIiwgXCJ3aGl0ZVwiLFxuICAgIFwid2hpdGVzbW9rZVwiLCBcInllbGxvd1wiLCBcInllbGxvd2dyZWVuXCJcbiAgXSwgY29sb3JLZXl3b3JkcyA9IGtleVNldChjb2xvcktleXdvcmRzXyk7XG5cbiAgdmFyIHZhbHVlS2V5d29yZHNfID0gW1xuICAgIFwiYWJvdmVcIiwgXCJhYnNvbHV0ZVwiLCBcImFjdGl2ZWJvcmRlclwiLCBcImFkZGl0aXZlXCIsIFwiYWN0aXZlY2FwdGlvblwiLCBcImFmYXJcIixcbiAgICBcImFmdGVyLXdoaXRlLXNwYWNlXCIsIFwiYWhlYWRcIiwgXCJhbGlhc1wiLCBcImFsbFwiLCBcImFsbC1zY3JvbGxcIiwgXCJhbHBoYWJldGljXCIsIFwiYWx0ZXJuYXRlXCIsXG4gICAgXCJhbHdheXNcIiwgXCJhbWhhcmljXCIsIFwiYW1oYXJpYy1hYmVnZWRlXCIsIFwiYW50aWFsaWFzZWRcIiwgXCJhcHB3b3Jrc3BhY2VcIixcbiAgICBcImFyYWJpYy1pbmRpY1wiLCBcImFybWVuaWFuXCIsIFwiYXN0ZXJpc2tzXCIsIFwiYXR0clwiLCBcImF1dG9cIiwgXCJhdXRvLWZsb3dcIiwgXCJhdm9pZFwiLCBcImF2b2lkLWNvbHVtblwiLCBcImF2b2lkLXBhZ2VcIixcbiAgICBcImF2b2lkLXJlZ2lvblwiLCBcImF4aXMtcGFuXCIsIFwiYmFja2dyb3VuZFwiLCBcImJhY2t3YXJkc1wiLCBcImJhc2VsaW5lXCIsIFwiYmVsb3dcIiwgXCJiaWRpLW92ZXJyaWRlXCIsIFwiYmluYXJ5XCIsXG4gICAgXCJiZW5nYWxpXCIsIFwiYmxpbmtcIiwgXCJibG9ja1wiLCBcImJsb2NrLWF4aXNcIiwgXCJibHVyXCIsIFwiYm9sZFwiLCBcImJvbGRlclwiLCBcImJvcmRlclwiLCBcImJvcmRlci1ib3hcIixcbiAgICBcImJvdGhcIiwgXCJib3R0b21cIiwgXCJicmVha1wiLCBcImJyZWFrLWFsbFwiLCBcImJyZWFrLXdvcmRcIiwgXCJicmlnaHRuZXNzXCIsIFwiYnVsbGV0c1wiLCBcImJ1dHRvblwiLFxuICAgIFwiYnV0dG9uZmFjZVwiLCBcImJ1dHRvbmhpZ2hsaWdodFwiLCBcImJ1dHRvbnNoYWRvd1wiLCBcImJ1dHRvbnRleHRcIiwgXCJjYWxjXCIsIFwiY2FtYm9kaWFuXCIsXG4gICAgXCJjYXBpdGFsaXplXCIsIFwiY2Fwcy1sb2NrLWluZGljYXRvclwiLCBcImNhcHRpb25cIiwgXCJjYXB0aW9udGV4dFwiLCBcImNhcmV0XCIsXG4gICAgXCJjZWxsXCIsIFwiY2VudGVyXCIsIFwiY2hlY2tib3hcIiwgXCJjaXJjbGVcIiwgXCJjamstZGVjaW1hbFwiLCBcImNqay1lYXJ0aGx5LWJyYW5jaFwiLFxuICAgIFwiY2prLWhlYXZlbmx5LXN0ZW1cIiwgXCJjamstaWRlb2dyYXBoaWNcIiwgXCJjbGVhclwiLCBcImNsaXBcIiwgXCJjbG9zZS1xdW90ZVwiLFxuICAgIFwiY29sLXJlc2l6ZVwiLCBcImNvbGxhcHNlXCIsIFwiY29sb3JcIiwgXCJjb2xvci1idXJuXCIsIFwiY29sb3ItZG9kZ2VcIiwgXCJjb2x1bW5cIiwgXCJjb2x1bW4tcmV2ZXJzZVwiLFxuICAgIFwiY29tcGFjdFwiLCBcImNvbmRlbnNlZFwiLCBcImNvbmljLWdyYWRpZW50XCIsIFwiY29udGFpblwiLCBcImNvbnRlbnRcIiwgXCJjb250ZW50c1wiLFxuICAgIFwiY29udGVudC1ib3hcIiwgXCJjb250ZXh0LW1lbnVcIiwgXCJjb250aW51b3VzXCIsIFwiY29udHJhc3RcIiwgXCJjb3B5XCIsIFwiY291bnRlclwiLCBcImNvdW50ZXJzXCIsIFwiY292ZXJcIiwgXCJjcm9wXCIsXG4gICAgXCJjcm9zc1wiLCBcImNyb3NzaGFpclwiLCBcImN1YmljLWJlemllclwiLCBcImN1cnJlbnRjb2xvclwiLCBcImN1cnNpdmVcIiwgXCJjeWNsaWNcIiwgXCJkYXJrZW5cIiwgXCJkYXNoZWRcIiwgXCJkZWNpbWFsXCIsXG4gICAgXCJkZWNpbWFsLWxlYWRpbmctemVyb1wiLCBcImRlZmF1bHRcIiwgXCJkZWZhdWx0LWJ1dHRvblwiLCBcImRlbnNlXCIsIFwiZGVzdGluYXRpb24tYXRvcFwiLFxuICAgIFwiZGVzdGluYXRpb24taW5cIiwgXCJkZXN0aW5hdGlvbi1vdXRcIiwgXCJkZXN0aW5hdGlvbi1vdmVyXCIsIFwiZGV2YW5hZ2FyaVwiLCBcImRpZmZlcmVuY2VcIixcbiAgICBcImRpc2NcIiwgXCJkaXNjYXJkXCIsIFwiZGlzY2xvc3VyZS1jbG9zZWRcIiwgXCJkaXNjbG9zdXJlLW9wZW5cIiwgXCJkb2N1bWVudFwiLFxuICAgIFwiZG90LWRhc2hcIiwgXCJkb3QtZG90LWRhc2hcIixcbiAgICBcImRvdHRlZFwiLCBcImRvdWJsZVwiLCBcImRvd25cIiwgXCJkcm9wLXNoYWRvd1wiLCBcImUtcmVzaXplXCIsIFwiZWFzZVwiLCBcImVhc2UtaW5cIiwgXCJlYXNlLWluLW91dFwiLCBcImVhc2Utb3V0XCIsXG4gICAgXCJlbGVtZW50XCIsIFwiZWxsaXBzZVwiLCBcImVsbGlwc2lzXCIsIFwiZW1iZWRcIiwgXCJlbmRcIiwgXCJldGhpb3BpY1wiLCBcImV0aGlvcGljLWFiZWdlZGVcIixcbiAgICBcImV0aGlvcGljLWFiZWdlZGUtYW0tZXRcIiwgXCJldGhpb3BpYy1hYmVnZWRlLWdlelwiLCBcImV0aGlvcGljLWFiZWdlZGUtdGktZXJcIixcbiAgICBcImV0aGlvcGljLWFiZWdlZGUtdGktZXRcIiwgXCJldGhpb3BpYy1oYWxlaGFtZS1hYS1lclwiLFxuICAgIFwiZXRoaW9waWMtaGFsZWhhbWUtYWEtZXRcIiwgXCJldGhpb3BpYy1oYWxlaGFtZS1hbS1ldFwiLFxuICAgIFwiZXRoaW9waWMtaGFsZWhhbWUtZ2V6XCIsIFwiZXRoaW9waWMtaGFsZWhhbWUtb20tZXRcIixcbiAgICBcImV0aGlvcGljLWhhbGVoYW1lLXNpZC1ldFwiLCBcImV0aGlvcGljLWhhbGVoYW1lLXNvLWV0XCIsXG4gICAgXCJldGhpb3BpYy1oYWxlaGFtZS10aS1lclwiLCBcImV0aGlvcGljLWhhbGVoYW1lLXRpLWV0XCIsIFwiZXRoaW9waWMtaGFsZWhhbWUtdGlnXCIsXG4gICAgXCJldGhpb3BpYy1udW1lcmljXCIsIFwiZXctcmVzaXplXCIsIFwiZXhjbHVzaW9uXCIsIFwiZXhwYW5kZWRcIiwgXCJleHRlbmRzXCIsIFwiZXh0cmEtY29uZGVuc2VkXCIsXG4gICAgXCJleHRyYS1leHBhbmRlZFwiLCBcImZhbnRhc3lcIiwgXCJmYXN0XCIsIFwiZmlsbFwiLCBcImZpbGwtYm94XCIsIFwiZml4ZWRcIiwgXCJmbGF0XCIsIFwiZmxleFwiLCBcImZsZXgtZW5kXCIsIFwiZmxleC1zdGFydFwiLCBcImZvb3Rub3Rlc1wiLFxuICAgIFwiZm9yd2FyZHNcIiwgXCJmcm9tXCIsIFwiZ2VvbWV0cmljUHJlY2lzaW9uXCIsIFwiZ2VvcmdpYW5cIiwgXCJncmF5c2NhbGVcIiwgXCJncmF5dGV4dFwiLCBcImdyaWRcIiwgXCJncm9vdmVcIixcbiAgICBcImd1amFyYXRpXCIsIFwiZ3VybXVraGlcIiwgXCJoYW5kXCIsIFwiaGFuZ3VsXCIsIFwiaGFuZ3VsLWNvbnNvbmFudFwiLCBcImhhcmQtbGlnaHRcIiwgXCJoZWJyZXdcIixcbiAgICBcImhlbHBcIiwgXCJoaWRkZW5cIiwgXCJoaWRlXCIsIFwiaGlnaGVyXCIsIFwiaGlnaGxpZ2h0XCIsIFwiaGlnaGxpZ2h0dGV4dFwiLFxuICAgIFwiaGlyYWdhbmFcIiwgXCJoaXJhZ2FuYS1pcm9oYVwiLCBcImhvcml6b250YWxcIiwgXCJoc2xcIiwgXCJoc2xhXCIsIFwiaHVlXCIsIFwiaHVlLXJvdGF0ZVwiLCBcImljb25cIiwgXCJpZ25vcmVcIixcbiAgICBcImluYWN0aXZlYm9yZGVyXCIsIFwiaW5hY3RpdmVjYXB0aW9uXCIsIFwiaW5hY3RpdmVjYXB0aW9udGV4dFwiLCBcImluZmluaXRlXCIsXG4gICAgXCJpbmZvYmFja2dyb3VuZFwiLCBcImluZm90ZXh0XCIsIFwiaW5oZXJpdFwiLCBcImluaXRpYWxcIiwgXCJpbmxpbmVcIiwgXCJpbmxpbmUtYXhpc1wiLFxuICAgIFwiaW5saW5lLWJsb2NrXCIsIFwiaW5saW5lLWZsZXhcIiwgXCJpbmxpbmUtZ3JpZFwiLCBcImlubGluZS10YWJsZVwiLCBcImluc2V0XCIsIFwiaW5zaWRlXCIsIFwiaW50cmluc2ljXCIsIFwiaW52ZXJ0XCIsXG4gICAgXCJpdGFsaWNcIiwgXCJqYXBhbmVzZS1mb3JtYWxcIiwgXCJqYXBhbmVzZS1pbmZvcm1hbFwiLCBcImp1c3RpZnlcIiwgXCJrYW5uYWRhXCIsXG4gICAgXCJrYXRha2FuYVwiLCBcImthdGFrYW5hLWlyb2hhXCIsIFwia2VlcC1hbGxcIiwgXCJraG1lclwiLFxuICAgIFwia29yZWFuLWhhbmd1bC1mb3JtYWxcIiwgXCJrb3JlYW4taGFuamEtZm9ybWFsXCIsIFwia29yZWFuLWhhbmphLWluZm9ybWFsXCIsXG4gICAgXCJsYW5kc2NhcGVcIiwgXCJsYW9cIiwgXCJsYXJnZVwiLCBcImxhcmdlclwiLCBcImxlZnRcIiwgXCJsZXZlbFwiLCBcImxpZ2h0ZXJcIiwgXCJsaWdodGVuXCIsXG4gICAgXCJsaW5lLXRocm91Z2hcIiwgXCJsaW5lYXJcIiwgXCJsaW5lYXItZ3JhZGllbnRcIiwgXCJsaW5lc1wiLCBcImxpc3QtaXRlbVwiLCBcImxpc3Rib3hcIiwgXCJsaXN0aXRlbVwiLFxuICAgIFwibG9jYWxcIiwgXCJsb2dpY2FsXCIsIFwibG91ZFwiLCBcImxvd2VyXCIsIFwibG93ZXItYWxwaGFcIiwgXCJsb3dlci1hcm1lbmlhblwiLFxuICAgIFwibG93ZXItZ3JlZWtcIiwgXCJsb3dlci1oZXhhZGVjaW1hbFwiLCBcImxvd2VyLWxhdGluXCIsIFwibG93ZXItbm9yd2VnaWFuXCIsXG4gICAgXCJsb3dlci1yb21hblwiLCBcImxvd2VyY2FzZVwiLCBcImx0clwiLCBcImx1bWlub3NpdHlcIiwgXCJtYWxheWFsYW1cIiwgXCJtYW5pcHVsYXRpb25cIiwgXCJtYXRjaFwiLCBcIm1hdHJpeFwiLCBcIm1hdHJpeDNkXCIsXG4gICAgXCJtZWRpYS1wbGF5LWJ1dHRvblwiLCBcIm1lZGlhLXNsaWRlclwiLCBcIm1lZGlhLXNsaWRlcnRodW1iXCIsXG4gICAgXCJtZWRpYS12b2x1bWUtc2xpZGVyXCIsIFwibWVkaWEtdm9sdW1lLXNsaWRlcnRodW1iXCIsIFwibWVkaXVtXCIsXG4gICAgXCJtZW51XCIsIFwibWVudWxpc3RcIiwgXCJtZW51bGlzdC1idXR0b25cIixcbiAgICBcIm1lbnV0ZXh0XCIsIFwibWVzc2FnZS1ib3hcIiwgXCJtaWRkbGVcIiwgXCJtaW4taW50cmluc2ljXCIsXG4gICAgXCJtaXhcIiwgXCJtb25nb2xpYW5cIiwgXCJtb25vc3BhY2VcIiwgXCJtb3ZlXCIsIFwibXVsdGlwbGVcIiwgXCJtdWx0aXBsZV9tYXNrX2ltYWdlc1wiLCBcIm11bHRpcGx5XCIsIFwibXlhbm1hclwiLCBcIm4tcmVzaXplXCIsXG4gICAgXCJuYXJyb3dlclwiLCBcIm5lLXJlc2l6ZVwiLCBcIm5lc3ctcmVzaXplXCIsIFwibm8tY2xvc2UtcXVvdGVcIiwgXCJuby1kcm9wXCIsXG4gICAgXCJuby1vcGVuLXF1b3RlXCIsIFwibm8tcmVwZWF0XCIsIFwibm9uZVwiLCBcIm5vcm1hbFwiLCBcIm5vdC1hbGxvd2VkXCIsIFwibm93cmFwXCIsXG4gICAgXCJucy1yZXNpemVcIiwgXCJudW1iZXJzXCIsIFwibnVtZXJpY1wiLCBcIm53LXJlc2l6ZVwiLCBcIm53c2UtcmVzaXplXCIsIFwib2JsaXF1ZVwiLCBcIm9jdGFsXCIsIFwib3BhY2l0eVwiLCBcIm9wZW4tcXVvdGVcIixcbiAgICBcIm9wdGltaXplTGVnaWJpbGl0eVwiLCBcIm9wdGltaXplU3BlZWRcIiwgXCJvcml5YVwiLCBcIm9yb21vXCIsIFwib3V0c2V0XCIsXG4gICAgXCJvdXRzaWRlXCIsIFwib3V0c2lkZS1zaGFwZVwiLCBcIm92ZXJsYXlcIiwgXCJvdmVybGluZVwiLCBcInBhZGRpbmdcIiwgXCJwYWRkaW5nLWJveFwiLFxuICAgIFwicGFpbnRlZFwiLCBcInBhZ2VcIiwgXCJwYXVzZWRcIiwgXCJwZXJzaWFuXCIsIFwicGVyc3BlY3RpdmVcIiwgXCJwaW5jaC16b29tXCIsIFwicGx1cy1kYXJrZXJcIiwgXCJwbHVzLWxpZ2h0ZXJcIixcbiAgICBcInBvaW50ZXJcIiwgXCJwb2x5Z29uXCIsIFwicG9ydHJhaXRcIiwgXCJwcmVcIiwgXCJwcmUtbGluZVwiLCBcInByZS13cmFwXCIsIFwicHJlc2VydmUtM2RcIixcbiAgICBcInByb2dyZXNzXCIsIFwicHVzaC1idXR0b25cIiwgXCJyYWRpYWwtZ3JhZGllbnRcIiwgXCJyYWRpb1wiLCBcInJlYWQtb25seVwiLFxuICAgIFwicmVhZC13cml0ZVwiLCBcInJlYWQtd3JpdGUtcGxhaW50ZXh0LW9ubHlcIiwgXCJyZWN0YW5nbGVcIiwgXCJyZWdpb25cIixcbiAgICBcInJlbGF0aXZlXCIsIFwicmVwZWF0XCIsIFwicmVwZWF0aW5nLWxpbmVhci1ncmFkaWVudFwiLCBcInJlcGVhdGluZy1yYWRpYWwtZ3JhZGllbnRcIixcbiAgICBcInJlcGVhdGluZy1jb25pYy1ncmFkaWVudFwiLCBcInJlcGVhdC14XCIsIFwicmVwZWF0LXlcIiwgXCJyZXNldFwiLCBcInJldmVyc2VcIixcbiAgICBcInJnYlwiLCBcInJnYmFcIiwgXCJyaWRnZVwiLCBcInJpZ2h0XCIsIFwicm90YXRlXCIsIFwicm90YXRlM2RcIiwgXCJyb3RhdGVYXCIsIFwicm90YXRlWVwiLFxuICAgIFwicm90YXRlWlwiLCBcInJvdW5kXCIsIFwicm93XCIsIFwicm93LXJlc2l6ZVwiLCBcInJvdy1yZXZlcnNlXCIsIFwicnRsXCIsIFwicnVuLWluXCIsIFwicnVubmluZ1wiLFxuICAgIFwicy1yZXNpemVcIiwgXCJzYW5zLXNlcmlmXCIsIFwic2F0dXJhdGVcIiwgXCJzYXR1cmF0aW9uXCIsIFwic2NhbGVcIiwgXCJzY2FsZTNkXCIsIFwic2NhbGVYXCIsIFwic2NhbGVZXCIsIFwic2NhbGVaXCIsIFwic2NyZWVuXCIsXG4gICAgXCJzY3JvbGxcIiwgXCJzY3JvbGxiYXJcIiwgXCJzY3JvbGwtcG9zaXRpb25cIiwgXCJzZS1yZXNpemVcIiwgXCJzZWFyY2hmaWVsZFwiLFxuICAgIFwic2VhcmNoZmllbGQtY2FuY2VsLWJ1dHRvblwiLCBcInNlYXJjaGZpZWxkLWRlY29yYXRpb25cIixcbiAgICBcInNlYXJjaGZpZWxkLXJlc3VsdHMtYnV0dG9uXCIsIFwic2VhcmNoZmllbGQtcmVzdWx0cy1kZWNvcmF0aW9uXCIsIFwic2VsZi1zdGFydFwiLCBcInNlbGYtZW5kXCIsXG4gICAgXCJzZW1pLWNvbmRlbnNlZFwiLCBcInNlbWktZXhwYW5kZWRcIiwgXCJzZXBhcmF0ZVwiLCBcInNlcGlhXCIsIFwic2VyaWZcIiwgXCJzaG93XCIsIFwic2lkYW1hXCIsXG4gICAgXCJzaW1wLWNoaW5lc2UtZm9ybWFsXCIsIFwic2ltcC1jaGluZXNlLWluZm9ybWFsXCIsIFwic2luZ2xlXCIsXG4gICAgXCJza2V3XCIsIFwic2tld1hcIiwgXCJza2V3WVwiLCBcInNraXAtd2hpdGUtc3BhY2VcIiwgXCJzbGlkZVwiLCBcInNsaWRlci1ob3Jpem9udGFsXCIsXG4gICAgXCJzbGlkZXItdmVydGljYWxcIiwgXCJzbGlkZXJ0aHVtYi1ob3Jpem9udGFsXCIsIFwic2xpZGVydGh1bWItdmVydGljYWxcIiwgXCJzbG93XCIsXG4gICAgXCJzbWFsbFwiLCBcInNtYWxsLWNhcHNcIiwgXCJzbWFsbC1jYXB0aW9uXCIsIFwic21hbGxlclwiLCBcInNvZnQtbGlnaHRcIiwgXCJzb2xpZFwiLCBcInNvbWFsaVwiLFxuICAgIFwic291cmNlLWF0b3BcIiwgXCJzb3VyY2UtaW5cIiwgXCJzb3VyY2Utb3V0XCIsIFwic291cmNlLW92ZXJcIiwgXCJzcGFjZVwiLCBcInNwYWNlLWFyb3VuZFwiLCBcInNwYWNlLWJldHdlZW5cIiwgXCJzcGFjZS1ldmVubHlcIiwgXCJzcGVsbC1vdXRcIiwgXCJzcXVhcmVcIixcbiAgICBcInNxdWFyZS1idXR0b25cIiwgXCJzdGFydFwiLCBcInN0YXRpY1wiLCBcInN0YXR1cy1iYXJcIiwgXCJzdHJldGNoXCIsIFwic3Ryb2tlXCIsIFwic3Ryb2tlLWJveFwiLCBcInN1YlwiLFxuICAgIFwic3VicGl4ZWwtYW50aWFsaWFzZWRcIiwgXCJzdmdfbWFza3NcIiwgXCJzdXBlclwiLCBcInN3LXJlc2l6ZVwiLCBcInN5bWJvbGljXCIsIFwic3ltYm9sc1wiLCBcInN5c3RlbS11aVwiLCBcInRhYmxlXCIsXG4gICAgXCJ0YWJsZS1jYXB0aW9uXCIsIFwidGFibGUtY2VsbFwiLCBcInRhYmxlLWNvbHVtblwiLCBcInRhYmxlLWNvbHVtbi1ncm91cFwiLFxuICAgIFwidGFibGUtZm9vdGVyLWdyb3VwXCIsIFwidGFibGUtaGVhZGVyLWdyb3VwXCIsIFwidGFibGUtcm93XCIsIFwidGFibGUtcm93LWdyb3VwXCIsXG4gICAgXCJ0YW1pbFwiLFxuICAgIFwidGVsdWd1XCIsIFwidGV4dFwiLCBcInRleHQtYm90dG9tXCIsIFwidGV4dC10b3BcIiwgXCJ0ZXh0YXJlYVwiLCBcInRleHRmaWVsZFwiLCBcInRoYWlcIixcbiAgICBcInRoaWNrXCIsIFwidGhpblwiLCBcInRocmVlZGRhcmtzaGFkb3dcIiwgXCJ0aHJlZWRmYWNlXCIsIFwidGhyZWVkaGlnaGxpZ2h0XCIsXG4gICAgXCJ0aHJlZWRsaWdodHNoYWRvd1wiLCBcInRocmVlZHNoYWRvd1wiLCBcInRpYmV0YW5cIiwgXCJ0aWdyZVwiLCBcInRpZ3JpbnlhLWVyXCIsXG4gICAgXCJ0aWdyaW55YS1lci1hYmVnZWRlXCIsIFwidGlncmlueWEtZXRcIiwgXCJ0aWdyaW55YS1ldC1hYmVnZWRlXCIsIFwidG9cIiwgXCJ0b3BcIixcbiAgICBcInRyYWQtY2hpbmVzZS1mb3JtYWxcIiwgXCJ0cmFkLWNoaW5lc2UtaW5mb3JtYWxcIiwgXCJ0cmFuc2Zvcm1cIixcbiAgICBcInRyYW5zbGF0ZVwiLCBcInRyYW5zbGF0ZTNkXCIsIFwidHJhbnNsYXRlWFwiLCBcInRyYW5zbGF0ZVlcIiwgXCJ0cmFuc2xhdGVaXCIsXG4gICAgXCJ0cmFuc3BhcmVudFwiLCBcInVsdHJhLWNvbmRlbnNlZFwiLCBcInVsdHJhLWV4cGFuZGVkXCIsIFwidW5kZXJsaW5lXCIsIFwidW5pZGlyZWN0aW9uYWwtcGFuXCIsIFwidW5zZXRcIiwgXCJ1cFwiLFxuICAgIFwidXBwZXItYWxwaGFcIiwgXCJ1cHBlci1hcm1lbmlhblwiLCBcInVwcGVyLWdyZWVrXCIsIFwidXBwZXItaGV4YWRlY2ltYWxcIixcbiAgICBcInVwcGVyLWxhdGluXCIsIFwidXBwZXItbm9yd2VnaWFuXCIsIFwidXBwZXItcm9tYW5cIiwgXCJ1cHBlcmNhc2VcIiwgXCJ1cmR1XCIsIFwidXJsXCIsXG4gICAgXCJ2YXJcIiwgXCJ2ZXJ0aWNhbFwiLCBcInZlcnRpY2FsLXRleHRcIiwgXCJ2aWV3LWJveFwiLCBcInZpc2libGVcIiwgXCJ2aXNpYmxlRmlsbFwiLCBcInZpc2libGVQYWludGVkXCIsXG4gICAgXCJ2aXNpYmxlU3Ryb2tlXCIsIFwidmlzdWFsXCIsIFwidy1yZXNpemVcIiwgXCJ3YWl0XCIsIFwid2F2ZVwiLCBcIndpZGVyXCIsXG4gICAgXCJ3aW5kb3dcIiwgXCJ3aW5kb3dmcmFtZVwiLCBcIndpbmRvd3RleHRcIiwgXCJ3b3Jkc1wiLCBcIndyYXBcIiwgXCJ3cmFwLXJldmVyc2VcIiwgXCJ4LWxhcmdlXCIsIFwieC1zbWFsbFwiLCBcInhvclwiLFxuICAgIFwieHgtbGFyZ2VcIiwgXCJ4eC1zbWFsbFwiXG4gIF0sIHZhbHVlS2V5d29yZHMgPSBrZXlTZXQodmFsdWVLZXl3b3Jkc18pO1xuXG4gIHZhciBhbGxXb3JkcyA9IGRvY3VtZW50VHlwZXNfLmNvbmNhdChtZWRpYVR5cGVzXykuY29uY2F0KG1lZGlhRmVhdHVyZXNfKS5jb25jYXQobWVkaWFWYWx1ZUtleXdvcmRzXylcbiAgICAuY29uY2F0KHByb3BlcnR5S2V5d29yZHNfKS5jb25jYXQobm9uU3RhbmRhcmRQcm9wZXJ0eUtleXdvcmRzXykuY29uY2F0KGNvbG9yS2V5d29yZHNfKVxuICAgIC5jb25jYXQodmFsdWVLZXl3b3Jkc18pO1xuICBDb2RlTWlycm9yLnJlZ2lzdGVySGVscGVyKFwiaGludFdvcmRzXCIsIFwiY3NzXCIsIGFsbFdvcmRzKTtcblxuICBmdW5jdGlvbiB0b2tlbkNDb21tZW50KHN0cmVhbSwgc3RhdGUpIHtcbiAgICB2YXIgbWF5YmVFbmQgPSBmYWxzZSwgY2g7XG4gICAgd2hpbGUgKChjaCA9IHN0cmVhbS5uZXh0KCkpICE9IG51bGwpIHtcbiAgICAgIGlmIChtYXliZUVuZCAmJiBjaCA9PSBcIi9cIikge1xuICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbWF5YmVFbmQgPSAoY2ggPT0gXCIqXCIpO1xuICAgIH1cbiAgICByZXR1cm4gW1wiY29tbWVudFwiLCBcImNvbW1lbnRcIl07XG4gIH1cblxuICBDb2RlTWlycm9yLmRlZmluZU1JTUUoXCJ0ZXh0L2Nzc1wiLCB7XG4gICAgZG9jdW1lbnRUeXBlczogZG9jdW1lbnRUeXBlcyxcbiAgICBtZWRpYVR5cGVzOiBtZWRpYVR5cGVzLFxuICAgIG1lZGlhRmVhdHVyZXM6IG1lZGlhRmVhdHVyZXMsXG4gICAgbWVkaWFWYWx1ZUtleXdvcmRzOiBtZWRpYVZhbHVlS2V5d29yZHMsXG4gICAgcHJvcGVydHlLZXl3b3JkczogcHJvcGVydHlLZXl3b3JkcyxcbiAgICBub25TdGFuZGFyZFByb3BlcnR5S2V5d29yZHM6IG5vblN0YW5kYXJkUHJvcGVydHlLZXl3b3JkcyxcbiAgICBmb250UHJvcGVydGllczogZm9udFByb3BlcnRpZXMsXG4gICAgY291bnRlckRlc2NyaXB0b3JzOiBjb3VudGVyRGVzY3JpcHRvcnMsXG4gICAgY29sb3JLZXl3b3JkczogY29sb3JLZXl3b3JkcyxcbiAgICB2YWx1ZUtleXdvcmRzOiB2YWx1ZUtleXdvcmRzLFxuICAgIHRva2VuSG9va3M6IHtcbiAgICAgIFwiL1wiOiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgICAgIGlmICghc3RyZWFtLmVhdChcIipcIikpIHJldHVybiBmYWxzZTtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkNDb21tZW50O1xuICAgICAgICByZXR1cm4gdG9rZW5DQ29tbWVudChzdHJlYW0sIHN0YXRlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG5hbWU6IFwiY3NzXCJcbiAgfSk7XG5cbiAgQ29kZU1pcnJvci5kZWZpbmVNSU1FKFwidGV4dC94LXNjc3NcIiwge1xuICAgIG1lZGlhVHlwZXM6IG1lZGlhVHlwZXMsXG4gICAgbWVkaWFGZWF0dXJlczogbWVkaWFGZWF0dXJlcyxcbiAgICBtZWRpYVZhbHVlS2V5d29yZHM6IG1lZGlhVmFsdWVLZXl3b3JkcyxcbiAgICBwcm9wZXJ0eUtleXdvcmRzOiBwcm9wZXJ0eUtleXdvcmRzLFxuICAgIG5vblN0YW5kYXJkUHJvcGVydHlLZXl3b3Jkczogbm9uU3RhbmRhcmRQcm9wZXJ0eUtleXdvcmRzLFxuICAgIGNvbG9yS2V5d29yZHM6IGNvbG9yS2V5d29yZHMsXG4gICAgdmFsdWVLZXl3b3JkczogdmFsdWVLZXl3b3JkcyxcbiAgICBmb250UHJvcGVydGllczogZm9udFByb3BlcnRpZXMsXG4gICAgYWxsb3dOZXN0ZWQ6IHRydWUsXG4gICAgbGluZUNvbW1lbnQ6IFwiLy9cIixcbiAgICB0b2tlbkhvb2tzOiB7XG4gICAgICBcIi9cIjogZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgICBpZiAoc3RyZWFtLmVhdChcIi9cIikpIHtcbiAgICAgICAgICBzdHJlYW0uc2tpcFRvRW5kKCk7XG4gICAgICAgICAgcmV0dXJuIFtcImNvbW1lbnRcIiwgXCJjb21tZW50XCJdO1xuICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5lYXQoXCIqXCIpKSB7XG4gICAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkNDb21tZW50O1xuICAgICAgICAgIHJldHVybiB0b2tlbkNDb21tZW50KHN0cmVhbSwgc3RhdGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBbXCJvcGVyYXRvclwiLCBcIm9wZXJhdG9yXCJdO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgXCI6XCI6IGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9eXFxzKlxcey8sIGZhbHNlKSlcbiAgICAgICAgICByZXR1cm4gW251bGwsIG51bGxdXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0sXG4gICAgICBcIiRcIjogZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgICAgIHN0cmVhbS5tYXRjaCgvXltcXHctXSsvKTtcbiAgICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXlxccyo6LywgZmFsc2UpKVxuICAgICAgICAgIHJldHVybiBbXCJ2YXJpYWJsZS0yXCIsIFwidmFyaWFibGUtZGVmaW5pdGlvblwiXTtcbiAgICAgICAgcmV0dXJuIFtcInZhcmlhYmxlLTJcIiwgXCJ2YXJpYWJsZVwiXTtcbiAgICAgIH0sXG4gICAgICBcIiNcIjogZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgICAgIGlmICghc3RyZWFtLmVhdChcIntcIikpIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIFtudWxsLCBcImludGVycG9sYXRpb25cIl07XG4gICAgICB9XG4gICAgfSxcbiAgICBuYW1lOiBcImNzc1wiLFxuICAgIGhlbHBlclR5cGU6IFwic2Nzc1wiXG4gIH0pO1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lTUlNRShcInRleHQveC1sZXNzXCIsIHtcbiAgICBtZWRpYVR5cGVzOiBtZWRpYVR5cGVzLFxuICAgIG1lZGlhRmVhdHVyZXM6IG1lZGlhRmVhdHVyZXMsXG4gICAgbWVkaWFWYWx1ZUtleXdvcmRzOiBtZWRpYVZhbHVlS2V5d29yZHMsXG4gICAgcHJvcGVydHlLZXl3b3JkczogcHJvcGVydHlLZXl3b3JkcyxcbiAgICBub25TdGFuZGFyZFByb3BlcnR5S2V5d29yZHM6IG5vblN0YW5kYXJkUHJvcGVydHlLZXl3b3JkcyxcbiAgICBjb2xvcktleXdvcmRzOiBjb2xvcktleXdvcmRzLFxuICAgIHZhbHVlS2V5d29yZHM6IHZhbHVlS2V5d29yZHMsXG4gICAgZm9udFByb3BlcnRpZXM6IGZvbnRQcm9wZXJ0aWVzLFxuICAgIGFsbG93TmVzdGVkOiB0cnVlLFxuICAgIGxpbmVDb21tZW50OiBcIi8vXCIsXG4gICAgdG9rZW5Ib29rczoge1xuICAgICAgXCIvXCI6IGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKHN0cmVhbS5lYXQoXCIvXCIpKSB7XG4gICAgICAgICAgc3RyZWFtLnNraXBUb0VuZCgpO1xuICAgICAgICAgIHJldHVybiBbXCJjb21tZW50XCIsIFwiY29tbWVudFwiXTtcbiAgICAgICAgfSBlbHNlIGlmIChzdHJlYW0uZWF0KFwiKlwiKSkge1xuICAgICAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5DQ29tbWVudDtcbiAgICAgICAgICByZXR1cm4gdG9rZW5DQ29tbWVudChzdHJlYW0sIHN0YXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gW1wib3BlcmF0b3JcIiwgXCJvcGVyYXRvclwiXTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIFwiQFwiOiBmdW5jdGlvbihzdHJlYW0pIHtcbiAgICAgICAgaWYgKHN0cmVhbS5lYXQoXCJ7XCIpKSByZXR1cm4gW251bGwsIFwiaW50ZXJwb2xhdGlvblwiXTtcbiAgICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXihjaGFyc2V0fGRvY3VtZW50fGZvbnQtZmFjZXxpbXBvcnR8KC0obW96fG1zfG98d2Via2l0KS0pP2tleWZyYW1lc3xtZWRpYXxuYW1lc3BhY2V8cGFnZXxzdXBwb3J0cylcXGIvaSwgZmFsc2UpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHN0cmVhbS5lYXRXaGlsZSgvW1xcd1xcXFxcXC1dLyk7XG4gICAgICAgIGlmIChzdHJlYW0ubWF0Y2goL15cXHMqOi8sIGZhbHNlKSlcbiAgICAgICAgICByZXR1cm4gW1widmFyaWFibGUtMlwiLCBcInZhcmlhYmxlLWRlZmluaXRpb25cIl07XG4gICAgICAgIHJldHVybiBbXCJ2YXJpYWJsZS0yXCIsIFwidmFyaWFibGVcIl07XG4gICAgICB9LFxuICAgICAgXCImXCI6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gW1wiYXRvbVwiLCBcImF0b21cIl07XG4gICAgICB9XG4gICAgfSxcbiAgICBuYW1lOiBcImNzc1wiLFxuICAgIGhlbHBlclR5cGU6IFwibGVzc1wiXG4gIH0pO1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lTUlNRShcInRleHQveC1nc3NcIiwge1xuICAgIGRvY3VtZW50VHlwZXM6IGRvY3VtZW50VHlwZXMsXG4gICAgbWVkaWFUeXBlczogbWVkaWFUeXBlcyxcbiAgICBtZWRpYUZlYXR1cmVzOiBtZWRpYUZlYXR1cmVzLFxuICAgIHByb3BlcnR5S2V5d29yZHM6IHByb3BlcnR5S2V5d29yZHMsXG4gICAgbm9uU3RhbmRhcmRQcm9wZXJ0eUtleXdvcmRzOiBub25TdGFuZGFyZFByb3BlcnR5S2V5d29yZHMsXG4gICAgZm9udFByb3BlcnRpZXM6IGZvbnRQcm9wZXJ0aWVzLFxuICAgIGNvdW50ZXJEZXNjcmlwdG9yczogY291bnRlckRlc2NyaXB0b3JzLFxuICAgIGNvbG9yS2V5d29yZHM6IGNvbG9yS2V5d29yZHMsXG4gICAgdmFsdWVLZXl3b3JkczogdmFsdWVLZXl3b3JkcyxcbiAgICBzdXBwb3J0c0F0Q29tcG9uZW50OiB0cnVlLFxuICAgIHRva2VuSG9va3M6IHtcbiAgICAgIFwiL1wiOiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgICAgIGlmICghc3RyZWFtLmVhdChcIipcIikpIHJldHVybiBmYWxzZTtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkNDb21tZW50O1xuICAgICAgICByZXR1cm4gdG9rZW5DQ29tbWVudChzdHJlYW0sIHN0YXRlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG5hbWU6IFwiY3NzXCIsXG4gICAgaGVscGVyVHlwZTogXCJnc3NcIlxuICB9KTtcblxufSk7XG4iLCIvLyBDb2RlTWlycm9yLCBjb3B5cmlnaHQgKGMpIGJ5IE1hcmlqbiBIYXZlcmJla2UgYW5kIG90aGVyc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgYW4gTUlUIGxpY2Vuc2U6IGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNS9MSUNFTlNFXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZChyZXF1aXJlKFwiLi4vLi4vbGliL2NvZGVtaXJyb3JcIikpO1xuICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSAvLyBBTURcbiAgICBkZWZpbmUoW1wiLi4vLi4vbGliL2NvZGVtaXJyb3JcIl0sIG1vZCk7XG4gIGVsc2UgLy8gUGxhaW4gYnJvd3NlciBlbnZcbiAgICBtb2QoQ29kZU1pcnJvcik7XG59KShmdW5jdGlvbihDb2RlTWlycm9yKSB7XG5cInVzZSBzdHJpY3RcIjtcblxudmFyIGh0bWxDb25maWcgPSB7XG4gIGF1dG9TZWxmQ2xvc2VyczogeydhcmVhJzogdHJ1ZSwgJ2Jhc2UnOiB0cnVlLCAnYnInOiB0cnVlLCAnY29sJzogdHJ1ZSwgJ2NvbW1hbmQnOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAnZW1iZWQnOiB0cnVlLCAnZnJhbWUnOiB0cnVlLCAnaHInOiB0cnVlLCAnaW1nJzogdHJ1ZSwgJ2lucHV0JzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgJ2tleWdlbic6IHRydWUsICdsaW5rJzogdHJ1ZSwgJ21ldGEnOiB0cnVlLCAncGFyYW0nOiB0cnVlLCAnc291cmNlJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgJ3RyYWNrJzogdHJ1ZSwgJ3dicic6IHRydWUsICdtZW51aXRlbSc6IHRydWV9LFxuICBpbXBsaWNpdGx5Q2xvc2VkOiB7J2RkJzogdHJ1ZSwgJ2xpJzogdHJ1ZSwgJ29wdGdyb3VwJzogdHJ1ZSwgJ29wdGlvbic6IHRydWUsICdwJzogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICdycCc6IHRydWUsICdydCc6IHRydWUsICd0Ym9keSc6IHRydWUsICd0ZCc6IHRydWUsICd0Zm9vdCc6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAndGgnOiB0cnVlLCAndHInOiB0cnVlfSxcbiAgY29udGV4dEdyYWJiZXJzOiB7XG4gICAgJ2RkJzogeydkZCc6IHRydWUsICdkdCc6IHRydWV9LFxuICAgICdkdCc6IHsnZGQnOiB0cnVlLCAnZHQnOiB0cnVlfSxcbiAgICAnbGknOiB7J2xpJzogdHJ1ZX0sXG4gICAgJ29wdGlvbic6IHsnb3B0aW9uJzogdHJ1ZSwgJ29wdGdyb3VwJzogdHJ1ZX0sXG4gICAgJ29wdGdyb3VwJzogeydvcHRncm91cCc6IHRydWV9LFxuICAgICdwJzogeydhZGRyZXNzJzogdHJ1ZSwgJ2FydGljbGUnOiB0cnVlLCAnYXNpZGUnOiB0cnVlLCAnYmxvY2txdW90ZSc6IHRydWUsICdkaXInOiB0cnVlLFxuICAgICAgICAgICdkaXYnOiB0cnVlLCAnZGwnOiB0cnVlLCAnZmllbGRzZXQnOiB0cnVlLCAnZm9vdGVyJzogdHJ1ZSwgJ2Zvcm0nOiB0cnVlLFxuICAgICAgICAgICdoMSc6IHRydWUsICdoMic6IHRydWUsICdoMyc6IHRydWUsICdoNCc6IHRydWUsICdoNSc6IHRydWUsICdoNic6IHRydWUsXG4gICAgICAgICAgJ2hlYWRlcic6IHRydWUsICdoZ3JvdXAnOiB0cnVlLCAnaHInOiB0cnVlLCAnbWVudSc6IHRydWUsICduYXYnOiB0cnVlLCAnb2wnOiB0cnVlLFxuICAgICAgICAgICdwJzogdHJ1ZSwgJ3ByZSc6IHRydWUsICdzZWN0aW9uJzogdHJ1ZSwgJ3RhYmxlJzogdHJ1ZSwgJ3VsJzogdHJ1ZX0sXG4gICAgJ3JwJzogeydycCc6IHRydWUsICdydCc6IHRydWV9LFxuICAgICdydCc6IHsncnAnOiB0cnVlLCAncnQnOiB0cnVlfSxcbiAgICAndGJvZHknOiB7J3Rib2R5JzogdHJ1ZSwgJ3Rmb290JzogdHJ1ZX0sXG4gICAgJ3RkJzogeyd0ZCc6IHRydWUsICd0aCc6IHRydWV9LFxuICAgICd0Zm9vdCc6IHsndGJvZHknOiB0cnVlfSxcbiAgICAndGgnOiB7J3RkJzogdHJ1ZSwgJ3RoJzogdHJ1ZX0sXG4gICAgJ3RoZWFkJzogeyd0Ym9keSc6IHRydWUsICd0Zm9vdCc6IHRydWV9LFxuICAgICd0cic6IHsndHInOiB0cnVlfVxuICB9LFxuICBkb05vdEluZGVudDoge1wicHJlXCI6IHRydWV9LFxuICBhbGxvd1VucXVvdGVkOiB0cnVlLFxuICBhbGxvd01pc3Npbmc6IHRydWUsXG4gIGNhc2VGb2xkOiB0cnVlXG59XG5cbnZhciB4bWxDb25maWcgPSB7XG4gIGF1dG9TZWxmQ2xvc2Vyczoge30sXG4gIGltcGxpY2l0bHlDbG9zZWQ6IHt9LFxuICBjb250ZXh0R3JhYmJlcnM6IHt9LFxuICBkb05vdEluZGVudDoge30sXG4gIGFsbG93VW5xdW90ZWQ6IGZhbHNlLFxuICBhbGxvd01pc3Npbmc6IGZhbHNlLFxuICBhbGxvd01pc3NpbmdUYWdOYW1lOiBmYWxzZSxcbiAgY2FzZUZvbGQ6IGZhbHNlXG59XG5cbkNvZGVNaXJyb3IuZGVmaW5lTW9kZShcInhtbFwiLCBmdW5jdGlvbihlZGl0b3JDb25mLCBjb25maWdfKSB7XG4gIHZhciBpbmRlbnRVbml0ID0gZWRpdG9yQ29uZi5pbmRlbnRVbml0XG4gIHZhciBjb25maWcgPSB7fVxuICB2YXIgZGVmYXVsdHMgPSBjb25maWdfLmh0bWxNb2RlID8gaHRtbENvbmZpZyA6IHhtbENvbmZpZ1xuICBmb3IgKHZhciBwcm9wIGluIGRlZmF1bHRzKSBjb25maWdbcHJvcF0gPSBkZWZhdWx0c1twcm9wXVxuICBmb3IgKHZhciBwcm9wIGluIGNvbmZpZ18pIGNvbmZpZ1twcm9wXSA9IGNvbmZpZ19bcHJvcF1cblxuICAvLyBSZXR1cm4gdmFyaWFibGVzIGZvciB0b2tlbml6ZXJzXG4gIHZhciB0eXBlLCBzZXRTdHlsZTtcblxuICBmdW5jdGlvbiBpblRleHQoc3RyZWFtLCBzdGF0ZSkge1xuICAgIGZ1bmN0aW9uIGNoYWluKHBhcnNlcikge1xuICAgICAgc3RhdGUudG9rZW5pemUgPSBwYXJzZXI7XG4gICAgICByZXR1cm4gcGFyc2VyKHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cblxuICAgIHZhciBjaCA9IHN0cmVhbS5uZXh0KCk7XG4gICAgaWYgKGNoID09IFwiPFwiKSB7XG4gICAgICBpZiAoc3RyZWFtLmVhdChcIiFcIikpIHtcbiAgICAgICAgaWYgKHN0cmVhbS5lYXQoXCJbXCIpKSB7XG4gICAgICAgICAgaWYgKHN0cmVhbS5tYXRjaChcIkNEQVRBW1wiKSkgcmV0dXJuIGNoYWluKGluQmxvY2soXCJhdG9tXCIsIFwiXV0+XCIpKTtcbiAgICAgICAgICBlbHNlIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5tYXRjaChcIi0tXCIpKSB7XG4gICAgICAgICAgcmV0dXJuIGNoYWluKGluQmxvY2soXCJjb21tZW50XCIsIFwiLS0+XCIpKTtcbiAgICAgICAgfSBlbHNlIGlmIChzdHJlYW0ubWF0Y2goXCJET0NUWVBFXCIsIHRydWUsIHRydWUpKSB7XG4gICAgICAgICAgc3RyZWFtLmVhdFdoaWxlKC9bXFx3XFwuX1xcLV0vKTtcbiAgICAgICAgICByZXR1cm4gY2hhaW4oZG9jdHlwZSgxKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLmVhdChcIj9cIikpIHtcbiAgICAgICAgc3RyZWFtLmVhdFdoaWxlKC9bXFx3XFwuX1xcLV0vKTtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSBpbkJsb2NrKFwibWV0YVwiLCBcIj8+XCIpO1xuICAgICAgICByZXR1cm4gXCJtZXRhXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0eXBlID0gc3RyZWFtLmVhdChcIi9cIikgPyBcImNsb3NlVGFnXCIgOiBcIm9wZW5UYWdcIjtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSBpblRhZztcbiAgICAgICAgcmV0dXJuIFwidGFnIGJyYWNrZXRcIjtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNoID09IFwiJlwiKSB7XG4gICAgICB2YXIgb2s7XG4gICAgICBpZiAoc3RyZWFtLmVhdChcIiNcIikpIHtcbiAgICAgICAgaWYgKHN0cmVhbS5lYXQoXCJ4XCIpKSB7XG4gICAgICAgICAgb2sgPSBzdHJlYW0uZWF0V2hpbGUoL1thLWZBLUZcXGRdLykgJiYgc3RyZWFtLmVhdChcIjtcIik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgb2sgPSBzdHJlYW0uZWF0V2hpbGUoL1tcXGRdLykgJiYgc3RyZWFtLmVhdChcIjtcIik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9rID0gc3RyZWFtLmVhdFdoaWxlKC9bXFx3XFwuXFwtOl0vKSAmJiBzdHJlYW0uZWF0KFwiO1wiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvayA/IFwiYXRvbVwiIDogXCJlcnJvclwiO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHJlYW0uZWF0V2hpbGUoL1teJjxdLyk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cbiAgaW5UZXh0LmlzSW5UZXh0ID0gdHJ1ZTtcblxuICBmdW5jdGlvbiBpblRhZyhzdHJlYW0sIHN0YXRlKSB7XG4gICAgdmFyIGNoID0gc3RyZWFtLm5leHQoKTtcbiAgICBpZiAoY2ggPT0gXCI+XCIgfHwgKGNoID09IFwiL1wiICYmIHN0cmVhbS5lYXQoXCI+XCIpKSkge1xuICAgICAgc3RhdGUudG9rZW5pemUgPSBpblRleHQ7XG4gICAgICB0eXBlID0gY2ggPT0gXCI+XCIgPyBcImVuZFRhZ1wiIDogXCJzZWxmY2xvc2VUYWdcIjtcbiAgICAgIHJldHVybiBcInRhZyBicmFja2V0XCI7XG4gICAgfSBlbHNlIGlmIChjaCA9PSBcIj1cIikge1xuICAgICAgdHlwZSA9IFwiZXF1YWxzXCI7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2UgaWYgKGNoID09IFwiPFwiKSB7XG4gICAgICBzdGF0ZS50b2tlbml6ZSA9IGluVGV4dDtcbiAgICAgIHN0YXRlLnN0YXRlID0gYmFzZVN0YXRlO1xuICAgICAgc3RhdGUudGFnTmFtZSA9IHN0YXRlLnRhZ1N0YXJ0ID0gbnVsbDtcbiAgICAgIHZhciBuZXh0ID0gc3RhdGUudG9rZW5pemUoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICByZXR1cm4gbmV4dCA/IG5leHQgKyBcIiB0YWcgZXJyb3JcIiA6IFwidGFnIGVycm9yXCI7XG4gICAgfSBlbHNlIGlmICgvW1xcJ1xcXCJdLy50ZXN0KGNoKSkge1xuICAgICAgc3RhdGUudG9rZW5pemUgPSBpbkF0dHJpYnV0ZShjaCk7XG4gICAgICBzdGF0ZS5zdHJpbmdTdGFydENvbCA9IHN0cmVhbS5jb2x1bW4oKTtcbiAgICAgIHJldHVybiBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RyZWFtLm1hdGNoKC9eW15cXHNcXHUwMGEwPTw+XFxcIlxcJ10qW15cXHNcXHUwMGEwPTw+XFxcIlxcJ1xcL10vKTtcbiAgICAgIHJldHVybiBcIndvcmRcIjtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpbkF0dHJpYnV0ZShxdW90ZSkge1xuICAgIHZhciBjbG9zdXJlID0gZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgd2hpbGUgKCFzdHJlYW0uZW9sKCkpIHtcbiAgICAgICAgaWYgKHN0cmVhbS5uZXh0KCkgPT0gcXVvdGUpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IGluVGFnO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICB9O1xuICAgIGNsb3N1cmUuaXNJbkF0dHJpYnV0ZSA9IHRydWU7XG4gICAgcmV0dXJuIGNsb3N1cmU7XG4gIH1cblxuICBmdW5jdGlvbiBpbkJsb2NrKHN0eWxlLCB0ZXJtaW5hdG9yKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgIHdoaWxlICghc3RyZWFtLmVvbCgpKSB7XG4gICAgICAgIGlmIChzdHJlYW0ubWF0Y2godGVybWluYXRvcikpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IGluVGV4dDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBzdHJlYW0ubmV4dCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRvY3R5cGUoZGVwdGgpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgdmFyIGNoO1xuICAgICAgd2hpbGUgKChjaCA9IHN0cmVhbS5uZXh0KCkpICE9IG51bGwpIHtcbiAgICAgICAgaWYgKGNoID09IFwiPFwiKSB7XG4gICAgICAgICAgc3RhdGUudG9rZW5pemUgPSBkb2N0eXBlKGRlcHRoICsgMSk7XG4gICAgICAgICAgcmV0dXJuIHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgICB9IGVsc2UgaWYgKGNoID09IFwiPlwiKSB7XG4gICAgICAgICAgaWYgKGRlcHRoID09IDEpIHtcbiAgICAgICAgICAgIHN0YXRlLnRva2VuaXplID0gaW5UZXh0O1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0YXRlLnRva2VuaXplID0gZG9jdHlwZShkZXB0aCAtIDEpO1xuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIFwibWV0YVwiO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBsb3dlcih0YWdOYW1lKSB7XG4gICAgcmV0dXJuIHRhZ05hbWUgJiYgdGFnTmFtZS50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gQ29udGV4dChzdGF0ZSwgdGFnTmFtZSwgc3RhcnRPZkxpbmUpIHtcbiAgICB0aGlzLnByZXYgPSBzdGF0ZS5jb250ZXh0O1xuICAgIHRoaXMudGFnTmFtZSA9IHRhZ05hbWUgfHwgXCJcIjtcbiAgICB0aGlzLmluZGVudCA9IHN0YXRlLmluZGVudGVkO1xuICAgIHRoaXMuc3RhcnRPZkxpbmUgPSBzdGFydE9mTGluZTtcbiAgICBpZiAoY29uZmlnLmRvTm90SW5kZW50Lmhhc093blByb3BlcnR5KHRhZ05hbWUpIHx8IChzdGF0ZS5jb250ZXh0ICYmIHN0YXRlLmNvbnRleHQubm9JbmRlbnQpKVxuICAgICAgdGhpcy5ub0luZGVudCA9IHRydWU7XG4gIH1cbiAgZnVuY3Rpb24gcG9wQ29udGV4dChzdGF0ZSkge1xuICAgIGlmIChzdGF0ZS5jb250ZXh0KSBzdGF0ZS5jb250ZXh0ID0gc3RhdGUuY29udGV4dC5wcmV2O1xuICB9XG4gIGZ1bmN0aW9uIG1heWJlUG9wQ29udGV4dChzdGF0ZSwgbmV4dFRhZ05hbWUpIHtcbiAgICB2YXIgcGFyZW50VGFnTmFtZTtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgaWYgKCFzdGF0ZS5jb250ZXh0KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhcmVudFRhZ05hbWUgPSBzdGF0ZS5jb250ZXh0LnRhZ05hbWU7XG4gICAgICBpZiAoIWNvbmZpZy5jb250ZXh0R3JhYmJlcnMuaGFzT3duUHJvcGVydHkobG93ZXIocGFyZW50VGFnTmFtZSkpIHx8XG4gICAgICAgICAgIWNvbmZpZy5jb250ZXh0R3JhYmJlcnNbbG93ZXIocGFyZW50VGFnTmFtZSldLmhhc093blByb3BlcnR5KGxvd2VyKG5leHRUYWdOYW1lKSkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcG9wQ29udGV4dChzdGF0ZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYmFzZVN0YXRlKHR5cGUsIHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAodHlwZSA9PSBcIm9wZW5UYWdcIikge1xuICAgICAgc3RhdGUudGFnU3RhcnQgPSBzdHJlYW0uY29sdW1uKCk7XG4gICAgICByZXR1cm4gdGFnTmFtZVN0YXRlO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcImNsb3NlVGFnXCIpIHtcbiAgICAgIHJldHVybiBjbG9zZVRhZ05hbWVTdGF0ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGJhc2VTdGF0ZTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdGFnTmFtZVN0YXRlKHR5cGUsIHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAodHlwZSA9PSBcIndvcmRcIikge1xuICAgICAgc3RhdGUudGFnTmFtZSA9IHN0cmVhbS5jdXJyZW50KCk7XG4gICAgICBzZXRTdHlsZSA9IFwidGFnXCI7XG4gICAgICByZXR1cm4gYXR0clN0YXRlO1xuICAgIH0gZWxzZSBpZiAoY29uZmlnLmFsbG93TWlzc2luZ1RhZ05hbWUgJiYgdHlwZSA9PSBcImVuZFRhZ1wiKSB7XG4gICAgICBzZXRTdHlsZSA9IFwidGFnIGJyYWNrZXRcIjtcbiAgICAgIHJldHVybiBhdHRyU3RhdGUodHlwZSwgc3RyZWFtLCBzdGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFN0eWxlID0gXCJlcnJvclwiO1xuICAgICAgcmV0dXJuIHRhZ05hbWVTdGF0ZTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gY2xvc2VUYWdOYW1lU3RhdGUodHlwZSwgc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlID09IFwid29yZFwiKSB7XG4gICAgICB2YXIgdGFnTmFtZSA9IHN0cmVhbS5jdXJyZW50KCk7XG4gICAgICBpZiAoc3RhdGUuY29udGV4dCAmJiBzdGF0ZS5jb250ZXh0LnRhZ05hbWUgIT0gdGFnTmFtZSAmJlxuICAgICAgICAgIGNvbmZpZy5pbXBsaWNpdGx5Q2xvc2VkLmhhc093blByb3BlcnR5KGxvd2VyKHN0YXRlLmNvbnRleHQudGFnTmFtZSkpKVxuICAgICAgICBwb3BDb250ZXh0KHN0YXRlKTtcbiAgICAgIGlmICgoc3RhdGUuY29udGV4dCAmJiBzdGF0ZS5jb250ZXh0LnRhZ05hbWUgPT0gdGFnTmFtZSkgfHwgY29uZmlnLm1hdGNoQ2xvc2luZyA9PT0gZmFsc2UpIHtcbiAgICAgICAgc2V0U3R5bGUgPSBcInRhZ1wiO1xuICAgICAgICByZXR1cm4gY2xvc2VTdGF0ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNldFN0eWxlID0gXCJ0YWcgZXJyb3JcIjtcbiAgICAgICAgcmV0dXJuIGNsb3NlU3RhdGVFcnI7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChjb25maWcuYWxsb3dNaXNzaW5nVGFnTmFtZSAmJiB0eXBlID09IFwiZW5kVGFnXCIpIHtcbiAgICAgIHNldFN0eWxlID0gXCJ0YWcgYnJhY2tldFwiO1xuICAgICAgcmV0dXJuIGNsb3NlU3RhdGUodHlwZSwgc3RyZWFtLCBzdGF0ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFN0eWxlID0gXCJlcnJvclwiO1xuICAgICAgcmV0dXJuIGNsb3NlU3RhdGVFcnI7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2xvc2VTdGF0ZSh0eXBlLCBfc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmICh0eXBlICE9IFwiZW5kVGFnXCIpIHtcbiAgICAgIHNldFN0eWxlID0gXCJlcnJvclwiO1xuICAgICAgcmV0dXJuIGNsb3NlU3RhdGU7XG4gICAgfVxuICAgIHBvcENvbnRleHQoc3RhdGUpO1xuICAgIHJldHVybiBiYXNlU3RhdGU7XG4gIH1cbiAgZnVuY3Rpb24gY2xvc2VTdGF0ZUVycih0eXBlLCBzdHJlYW0sIHN0YXRlKSB7XG4gICAgc2V0U3R5bGUgPSBcImVycm9yXCI7XG4gICAgcmV0dXJuIGNsb3NlU3RhdGUodHlwZSwgc3RyZWFtLCBzdGF0ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBhdHRyU3RhdGUodHlwZSwgX3N0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAodHlwZSA9PSBcIndvcmRcIikge1xuICAgICAgc2V0U3R5bGUgPSBcImF0dHJpYnV0ZVwiO1xuICAgICAgcmV0dXJuIGF0dHJFcVN0YXRlO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcImVuZFRhZ1wiIHx8IHR5cGUgPT0gXCJzZWxmY2xvc2VUYWdcIikge1xuICAgICAgdmFyIHRhZ05hbWUgPSBzdGF0ZS50YWdOYW1lLCB0YWdTdGFydCA9IHN0YXRlLnRhZ1N0YXJ0O1xuICAgICAgc3RhdGUudGFnTmFtZSA9IHN0YXRlLnRhZ1N0YXJ0ID0gbnVsbDtcbiAgICAgIGlmICh0eXBlID09IFwic2VsZmNsb3NlVGFnXCIgfHxcbiAgICAgICAgICBjb25maWcuYXV0b1NlbGZDbG9zZXJzLmhhc093blByb3BlcnR5KGxvd2VyKHRhZ05hbWUpKSkge1xuICAgICAgICBtYXliZVBvcENvbnRleHQoc3RhdGUsIHRhZ05hbWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWF5YmVQb3BDb250ZXh0KHN0YXRlLCB0YWdOYW1lKTtcbiAgICAgICAgc3RhdGUuY29udGV4dCA9IG5ldyBDb250ZXh0KHN0YXRlLCB0YWdOYW1lLCB0YWdTdGFydCA9PSBzdGF0ZS5pbmRlbnRlZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVN0YXRlO1xuICAgIH1cbiAgICBzZXRTdHlsZSA9IFwiZXJyb3JcIjtcbiAgICByZXR1cm4gYXR0clN0YXRlO1xuICB9XG4gIGZ1bmN0aW9uIGF0dHJFcVN0YXRlKHR5cGUsIHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAodHlwZSA9PSBcImVxdWFsc1wiKSByZXR1cm4gYXR0clZhbHVlU3RhdGU7XG4gICAgaWYgKCFjb25maWcuYWxsb3dNaXNzaW5nKSBzZXRTdHlsZSA9IFwiZXJyb3JcIjtcbiAgICByZXR1cm4gYXR0clN0YXRlKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICB9XG4gIGZ1bmN0aW9uIGF0dHJWYWx1ZVN0YXRlKHR5cGUsIHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAodHlwZSA9PSBcInN0cmluZ1wiKSByZXR1cm4gYXR0ckNvbnRpbnVlZFN0YXRlO1xuICAgIGlmICh0eXBlID09IFwid29yZFwiICYmIGNvbmZpZy5hbGxvd1VucXVvdGVkKSB7c2V0U3R5bGUgPSBcInN0cmluZ1wiOyByZXR1cm4gYXR0clN0YXRlO31cbiAgICBzZXRTdHlsZSA9IFwiZXJyb3JcIjtcbiAgICByZXR1cm4gYXR0clN0YXRlKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICB9XG4gIGZ1bmN0aW9uIGF0dHJDb250aW51ZWRTdGF0ZSh0eXBlLCBzdHJlYW0sIHN0YXRlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJzdHJpbmdcIikgcmV0dXJuIGF0dHJDb250aW51ZWRTdGF0ZTtcbiAgICByZXR1cm4gYXR0clN0YXRlKHR5cGUsIHN0cmVhbSwgc3RhdGUpO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICBzdGFydFN0YXRlOiBmdW5jdGlvbihiYXNlSW5kZW50KSB7XG4gICAgICB2YXIgc3RhdGUgPSB7dG9rZW5pemU6IGluVGV4dCxcbiAgICAgICAgICAgICAgICAgICBzdGF0ZTogYmFzZVN0YXRlLFxuICAgICAgICAgICAgICAgICAgIGluZGVudGVkOiBiYXNlSW5kZW50IHx8IDAsXG4gICAgICAgICAgICAgICAgICAgdGFnTmFtZTogbnVsbCwgdGFnU3RhcnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgY29udGV4dDogbnVsbH1cbiAgICAgIGlmIChiYXNlSW5kZW50ICE9IG51bGwpIHN0YXRlLmJhc2VJbmRlbnQgPSBiYXNlSW5kZW50XG4gICAgICByZXR1cm4gc3RhdGVcbiAgICB9LFxuXG4gICAgdG9rZW46IGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgIGlmICghc3RhdGUudGFnTmFtZSAmJiBzdHJlYW0uc29sKCkpXG4gICAgICAgIHN0YXRlLmluZGVudGVkID0gc3RyZWFtLmluZGVudGF0aW9uKCk7XG5cbiAgICAgIGlmIChzdHJlYW0uZWF0U3BhY2UoKSkgcmV0dXJuIG51bGw7XG4gICAgICB0eXBlID0gbnVsbDtcbiAgICAgIHZhciBzdHlsZSA9IHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgaWYgKChzdHlsZSB8fCB0eXBlKSAmJiBzdHlsZSAhPSBcImNvbW1lbnRcIikge1xuICAgICAgICBzZXRTdHlsZSA9IG51bGw7XG4gICAgICAgIHN0YXRlLnN0YXRlID0gc3RhdGUuc3RhdGUodHlwZSB8fCBzdHlsZSwgc3RyZWFtLCBzdGF0ZSk7XG4gICAgICAgIGlmIChzZXRTdHlsZSlcbiAgICAgICAgICBzdHlsZSA9IHNldFN0eWxlID09IFwiZXJyb3JcIiA/IHN0eWxlICsgXCIgZXJyb3JcIiA6IHNldFN0eWxlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIH0sXG5cbiAgICBpbmRlbnQ6IGZ1bmN0aW9uKHN0YXRlLCB0ZXh0QWZ0ZXIsIGZ1bGxMaW5lKSB7XG4gICAgICB2YXIgY29udGV4dCA9IHN0YXRlLmNvbnRleHQ7XG4gICAgICAvLyBJbmRlbnQgbXVsdGktbGluZSBzdHJpbmdzIChlLmcuIGNzcykuXG4gICAgICBpZiAoc3RhdGUudG9rZW5pemUuaXNJbkF0dHJpYnV0ZSkge1xuICAgICAgICBpZiAoc3RhdGUudGFnU3RhcnQgPT0gc3RhdGUuaW5kZW50ZWQpXG4gICAgICAgICAgcmV0dXJuIHN0YXRlLnN0cmluZ1N0YXJ0Q29sICsgMTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgIHJldHVybiBzdGF0ZS5pbmRlbnRlZCArIGluZGVudFVuaXQ7XG4gICAgICB9XG4gICAgICBpZiAoY29udGV4dCAmJiBjb250ZXh0Lm5vSW5kZW50KSByZXR1cm4gQ29kZU1pcnJvci5QYXNzO1xuICAgICAgaWYgKHN0YXRlLnRva2VuaXplICE9IGluVGFnICYmIHN0YXRlLnRva2VuaXplICE9IGluVGV4dClcbiAgICAgICAgcmV0dXJuIGZ1bGxMaW5lID8gZnVsbExpbmUubWF0Y2goL14oXFxzKikvKVswXS5sZW5ndGggOiAwO1xuICAgICAgLy8gSW5kZW50IHRoZSBzdGFydHMgb2YgYXR0cmlidXRlIG5hbWVzLlxuICAgICAgaWYgKHN0YXRlLnRhZ05hbWUpIHtcbiAgICAgICAgaWYgKGNvbmZpZy5tdWx0aWxpbmVUYWdJbmRlbnRQYXN0VGFnICE9PSBmYWxzZSlcbiAgICAgICAgICByZXR1cm4gc3RhdGUudGFnU3RhcnQgKyBzdGF0ZS50YWdOYW1lLmxlbmd0aCArIDI7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXR1cm4gc3RhdGUudGFnU3RhcnQgKyBpbmRlbnRVbml0ICogKGNvbmZpZy5tdWx0aWxpbmVUYWdJbmRlbnRGYWN0b3IgfHwgMSk7XG4gICAgICB9XG4gICAgICBpZiAoY29uZmlnLmFsaWduQ0RBVEEgJiYgLzwhXFxbQ0RBVEFcXFsvLnRlc3QodGV4dEFmdGVyKSkgcmV0dXJuIDA7XG4gICAgICB2YXIgdGFnQWZ0ZXIgPSB0ZXh0QWZ0ZXIgJiYgL148KFxcLyk/KFtcXHdfOlxcLi1dKikvLmV4ZWModGV4dEFmdGVyKTtcbiAgICAgIGlmICh0YWdBZnRlciAmJiB0YWdBZnRlclsxXSkgeyAvLyBDbG9zaW5nIHRhZyBzcG90dGVkXG4gICAgICAgIHdoaWxlIChjb250ZXh0KSB7XG4gICAgICAgICAgaWYgKGNvbnRleHQudGFnTmFtZSA9PSB0YWdBZnRlclsyXSkge1xuICAgICAgICAgICAgY29udGV4dCA9IGNvbnRleHQucHJldjtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH0gZWxzZSBpZiAoY29uZmlnLmltcGxpY2l0bHlDbG9zZWQuaGFzT3duUHJvcGVydHkobG93ZXIoY29udGV4dC50YWdOYW1lKSkpIHtcbiAgICAgICAgICAgIGNvbnRleHQgPSBjb250ZXh0LnByZXY7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0YWdBZnRlcikgeyAvLyBPcGVuaW5nIHRhZyBzcG90dGVkXG4gICAgICAgIHdoaWxlIChjb250ZXh0KSB7XG4gICAgICAgICAgdmFyIGdyYWJiZXJzID0gY29uZmlnLmNvbnRleHRHcmFiYmVyc1tsb3dlcihjb250ZXh0LnRhZ05hbWUpXTtcbiAgICAgICAgICBpZiAoZ3JhYmJlcnMgJiYgZ3JhYmJlcnMuaGFzT3duUHJvcGVydHkobG93ZXIodGFnQWZ0ZXJbMl0pKSlcbiAgICAgICAgICAgIGNvbnRleHQgPSBjb250ZXh0LnByZXY7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHdoaWxlIChjb250ZXh0ICYmIGNvbnRleHQucHJldiAmJiAhY29udGV4dC5zdGFydE9mTGluZSlcbiAgICAgICAgY29udGV4dCA9IGNvbnRleHQucHJldjtcbiAgICAgIGlmIChjb250ZXh0KSByZXR1cm4gY29udGV4dC5pbmRlbnQgKyBpbmRlbnRVbml0O1xuICAgICAgZWxzZSByZXR1cm4gc3RhdGUuYmFzZUluZGVudCB8fCAwO1xuICAgIH0sXG5cbiAgICBlbGVjdHJpY0lucHV0OiAvPFxcL1tcXHNcXHc6XSs+JC8sXG4gICAgYmxvY2tDb21tZW50U3RhcnQ6IFwiPCEtLVwiLFxuICAgIGJsb2NrQ29tbWVudEVuZDogXCItLT5cIixcblxuICAgIGNvbmZpZ3VyYXRpb246IGNvbmZpZy5odG1sTW9kZSA/IFwiaHRtbFwiIDogXCJ4bWxcIixcbiAgICBoZWxwZXJUeXBlOiBjb25maWcuaHRtbE1vZGUgPyBcImh0bWxcIiA6IFwieG1sXCIsXG5cbiAgICBza2lwQXR0cmlidXRlOiBmdW5jdGlvbihzdGF0ZSkge1xuICAgICAgaWYgKHN0YXRlLnN0YXRlID09IGF0dHJWYWx1ZVN0YXRlKVxuICAgICAgICBzdGF0ZS5zdGF0ZSA9IGF0dHJTdGF0ZVxuICAgIH0sXG5cbiAgICB4bWxDdXJyZW50VGFnOiBmdW5jdGlvbihzdGF0ZSkge1xuICAgICAgcmV0dXJuIHN0YXRlLnRhZ05hbWUgPyB7bmFtZTogc3RhdGUudGFnTmFtZSwgY2xvc2U6IHN0YXRlLnR5cGUgPT0gXCJjbG9zZVRhZ1wifSA6IG51bGxcbiAgICB9LFxuXG4gICAgeG1sQ3VycmVudENvbnRleHQ6IGZ1bmN0aW9uKHN0YXRlKSB7XG4gICAgICB2YXIgY29udGV4dCA9IFtdXG4gICAgICBmb3IgKHZhciBjeCA9IHN0YXRlLmNvbnRleHQ7IGN4OyBjeCA9IGN4LnByZXYpXG4gICAgICAgIGNvbnRleHQucHVzaChjeC50YWdOYW1lKVxuICAgICAgcmV0dXJuIGNvbnRleHQucmV2ZXJzZSgpXG4gICAgfVxuICB9O1xufSk7XG5cbkNvZGVNaXJyb3IuZGVmaW5lTUlNRShcInRleHQveG1sXCIsIFwieG1sXCIpO1xuQ29kZU1pcnJvci5kZWZpbmVNSU1FKFwiYXBwbGljYXRpb24veG1sXCIsIFwieG1sXCIpO1xuaWYgKCFDb2RlTWlycm9yLm1pbWVNb2Rlcy5oYXNPd25Qcm9wZXJ0eShcInRleHQvaHRtbFwiKSlcbiAgQ29kZU1pcnJvci5kZWZpbmVNSU1FKFwidGV4dC9odG1sXCIsIHtuYW1lOiBcInhtbFwiLCBodG1sTW9kZTogdHJ1ZX0pO1xuXG59KTtcbiIsIi8vIENvZGVNaXJyb3IsIGNvcHlyaWdodCAoYykgYnkgTWFyaWpuIEhhdmVyYmVrZSBhbmQgb3RoZXJzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBhbiBNSVQgbGljZW5zZTogaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC81L0xJQ0VOU0VcblxuKGZ1bmN0aW9uKG1vZCkge1xuICBpZiAodHlwZW9mIGV4cG9ydHMgPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlID09IFwib2JqZWN0XCIpIC8vIENvbW1vbkpTXG4gICAgbW9kKHJlcXVpcmUoXCIuLi8uLi9saWIvY29kZW1pcnJvclwiKSk7XG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIC8vIEFNRFxuICAgIGRlZmluZShbXCIuLi8uLi9saWIvY29kZW1pcnJvclwiXSwgbW9kKTtcbiAgZWxzZSAvLyBQbGFpbiBicm93c2VyIGVudlxuICAgIG1vZChDb2RlTWlycm9yKTtcbn0pKGZ1bmN0aW9uKENvZGVNaXJyb3IpIHtcblwidXNlIHN0cmljdFwiO1xuXG5Db2RlTWlycm9yLmRlZmluZU1vZGUoXCJqYXZhc2NyaXB0XCIsIGZ1bmN0aW9uKGNvbmZpZywgcGFyc2VyQ29uZmlnKSB7XG4gIHZhciBpbmRlbnRVbml0ID0gY29uZmlnLmluZGVudFVuaXQ7XG4gIHZhciBzdGF0ZW1lbnRJbmRlbnQgPSBwYXJzZXJDb25maWcuc3RhdGVtZW50SW5kZW50O1xuICB2YXIganNvbmxkTW9kZSA9IHBhcnNlckNvbmZpZy5qc29ubGQ7XG4gIHZhciBqc29uTW9kZSA9IHBhcnNlckNvbmZpZy5qc29uIHx8IGpzb25sZE1vZGU7XG4gIHZhciB0cmFja1Njb3BlID0gcGFyc2VyQ29uZmlnLnRyYWNrU2NvcGUgIT09IGZhbHNlXG4gIHZhciBpc1RTID0gcGFyc2VyQ29uZmlnLnR5cGVzY3JpcHQ7XG4gIHZhciB3b3JkUkUgPSBwYXJzZXJDb25maWcud29yZENoYXJhY3RlcnMgfHwgL1tcXHckXFx4YTEtXFx1ZmZmZl0vO1xuXG4gIC8vIFRva2VuaXplclxuXG4gIHZhciBrZXl3b3JkcyA9IGZ1bmN0aW9uKCl7XG4gICAgZnVuY3Rpb24ga3codHlwZSkge3JldHVybiB7dHlwZTogdHlwZSwgc3R5bGU6IFwia2V5d29yZFwifTt9XG4gICAgdmFyIEEgPSBrdyhcImtleXdvcmQgYVwiKSwgQiA9IGt3KFwia2V5d29yZCBiXCIpLCBDID0ga3coXCJrZXl3b3JkIGNcIiksIEQgPSBrdyhcImtleXdvcmQgZFwiKTtcbiAgICB2YXIgb3BlcmF0b3IgPSBrdyhcIm9wZXJhdG9yXCIpLCBhdG9tID0ge3R5cGU6IFwiYXRvbVwiLCBzdHlsZTogXCJhdG9tXCJ9O1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIFwiaWZcIjoga3coXCJpZlwiKSwgXCJ3aGlsZVwiOiBBLCBcIndpdGhcIjogQSwgXCJlbHNlXCI6IEIsIFwiZG9cIjogQiwgXCJ0cnlcIjogQiwgXCJmaW5hbGx5XCI6IEIsXG4gICAgICBcInJldHVyblwiOiBELCBcImJyZWFrXCI6IEQsIFwiY29udGludWVcIjogRCwgXCJuZXdcIjoga3coXCJuZXdcIiksIFwiZGVsZXRlXCI6IEMsIFwidm9pZFwiOiBDLCBcInRocm93XCI6IEMsXG4gICAgICBcImRlYnVnZ2VyXCI6IGt3KFwiZGVidWdnZXJcIiksIFwidmFyXCI6IGt3KFwidmFyXCIpLCBcImNvbnN0XCI6IGt3KFwidmFyXCIpLCBcImxldFwiOiBrdyhcInZhclwiKSxcbiAgICAgIFwiZnVuY3Rpb25cIjoga3coXCJmdW5jdGlvblwiKSwgXCJjYXRjaFwiOiBrdyhcImNhdGNoXCIpLFxuICAgICAgXCJmb3JcIjoga3coXCJmb3JcIiksIFwic3dpdGNoXCI6IGt3KFwic3dpdGNoXCIpLCBcImNhc2VcIjoga3coXCJjYXNlXCIpLCBcImRlZmF1bHRcIjoga3coXCJkZWZhdWx0XCIpLFxuICAgICAgXCJpblwiOiBvcGVyYXRvciwgXCJ0eXBlb2ZcIjogb3BlcmF0b3IsIFwiaW5zdGFuY2VvZlwiOiBvcGVyYXRvcixcbiAgICAgIFwidHJ1ZVwiOiBhdG9tLCBcImZhbHNlXCI6IGF0b20sIFwibnVsbFwiOiBhdG9tLCBcInVuZGVmaW5lZFwiOiBhdG9tLCBcIk5hTlwiOiBhdG9tLCBcIkluZmluaXR5XCI6IGF0b20sXG4gICAgICBcInRoaXNcIjoga3coXCJ0aGlzXCIpLCBcImNsYXNzXCI6IGt3KFwiY2xhc3NcIiksIFwic3VwZXJcIjoga3coXCJhdG9tXCIpLFxuICAgICAgXCJ5aWVsZFwiOiBDLCBcImV4cG9ydFwiOiBrdyhcImV4cG9ydFwiKSwgXCJpbXBvcnRcIjoga3coXCJpbXBvcnRcIiksIFwiZXh0ZW5kc1wiOiBDLFxuICAgICAgXCJhd2FpdFwiOiBDXG4gICAgfTtcbiAgfSgpO1xuXG4gIHZhciBpc09wZXJhdG9yQ2hhciA9IC9bK1xcLSomJT08PiE/fH5eQF0vO1xuICB2YXIgaXNKc29ubGRLZXl3b3JkID0gL15AKGNvbnRleHR8aWR8dmFsdWV8bGFuZ3VhZ2V8dHlwZXxjb250YWluZXJ8bGlzdHxzZXR8cmV2ZXJzZXxpbmRleHxiYXNlfHZvY2FifGdyYXBoKVwiLztcblxuICBmdW5jdGlvbiByZWFkUmVnZXhwKHN0cmVhbSkge1xuICAgIHZhciBlc2NhcGVkID0gZmFsc2UsIG5leHQsIGluU2V0ID0gZmFsc2U7XG4gICAgd2hpbGUgKChuZXh0ID0gc3RyZWFtLm5leHQoKSkgIT0gbnVsbCkge1xuICAgICAgaWYgKCFlc2NhcGVkKSB7XG4gICAgICAgIGlmIChuZXh0ID09IFwiL1wiICYmICFpblNldCkgcmV0dXJuO1xuICAgICAgICBpZiAobmV4dCA9PSBcIltcIikgaW5TZXQgPSB0cnVlO1xuICAgICAgICBlbHNlIGlmIChpblNldCAmJiBuZXh0ID09IFwiXVwiKSBpblNldCA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgZXNjYXBlZCA9ICFlc2NhcGVkICYmIG5leHQgPT0gXCJcXFxcXCI7XG4gICAgfVxuICB9XG5cbiAgLy8gVXNlZCBhcyBzY3JhdGNoIHZhcmlhYmxlcyB0byBjb21tdW5pY2F0ZSBtdWx0aXBsZSB2YWx1ZXMgd2l0aG91dFxuICAvLyBjb25zaW5nIHVwIHRvbnMgb2Ygb2JqZWN0cy5cbiAgdmFyIHR5cGUsIGNvbnRlbnQ7XG4gIGZ1bmN0aW9uIHJldCh0cCwgc3R5bGUsIGNvbnQpIHtcbiAgICB0eXBlID0gdHA7IGNvbnRlbnQgPSBjb250O1xuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuICBmdW5jdGlvbiB0b2tlbkJhc2Uoc3RyZWFtLCBzdGF0ZSkge1xuICAgIHZhciBjaCA9IHN0cmVhbS5uZXh0KCk7XG4gICAgaWYgKGNoID09ICdcIicgfHwgY2ggPT0gXCInXCIpIHtcbiAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5TdHJpbmcoY2gpO1xuICAgICAgcmV0dXJuIHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgIH0gZWxzZSBpZiAoY2ggPT0gXCIuXCIgJiYgc3RyZWFtLm1hdGNoKC9eXFxkW1xcZF9dKig/OltlRV1bK1xcLV0/W1xcZF9dKyk/LykpIHtcbiAgICAgIHJldHVybiByZXQoXCJudW1iZXJcIiwgXCJudW1iZXJcIik7XG4gICAgfSBlbHNlIGlmIChjaCA9PSBcIi5cIiAmJiBzdHJlYW0ubWF0Y2goXCIuLlwiKSkge1xuICAgICAgcmV0dXJuIHJldChcInNwcmVhZFwiLCBcIm1ldGFcIik7XG4gICAgfSBlbHNlIGlmICgvW1xcW1xcXXt9XFwoXFwpLDtcXDpcXC5dLy50ZXN0KGNoKSkge1xuICAgICAgcmV0dXJuIHJldChjaCk7XG4gICAgfSBlbHNlIGlmIChjaCA9PSBcIj1cIiAmJiBzdHJlYW0uZWF0KFwiPlwiKSkge1xuICAgICAgcmV0dXJuIHJldChcIj0+XCIsIFwib3BlcmF0b3JcIik7XG4gICAgfSBlbHNlIGlmIChjaCA9PSBcIjBcIiAmJiBzdHJlYW0ubWF0Y2goL14oPzp4W1xcZEEtRmEtZl9dK3xvWzAtN19dK3xiWzAxX10rKW4/LykpIHtcbiAgICAgIHJldHVybiByZXQoXCJudW1iZXJcIiwgXCJudW1iZXJcIik7XG4gICAgfSBlbHNlIGlmICgvXFxkLy50ZXN0KGNoKSkge1xuICAgICAgc3RyZWFtLm1hdGNoKC9eW1xcZF9dKig/Om58KD86XFwuW1xcZF9dKik/KD86W2VFXVsrXFwtXT9bXFxkX10rKT8pPy8pO1xuICAgICAgcmV0dXJuIHJldChcIm51bWJlclwiLCBcIm51bWJlclwiKTtcbiAgICB9IGVsc2UgaWYgKGNoID09IFwiL1wiKSB7XG4gICAgICBpZiAoc3RyZWFtLmVhdChcIipcIikpIHtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkNvbW1lbnQ7XG4gICAgICAgIHJldHVybiB0b2tlbkNvbW1lbnQoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICB9IGVsc2UgaWYgKHN0cmVhbS5lYXQoXCIvXCIpKSB7XG4gICAgICAgIHN0cmVhbS5za2lwVG9FbmQoKTtcbiAgICAgICAgcmV0dXJuIHJldChcImNvbW1lbnRcIiwgXCJjb21tZW50XCIpO1xuICAgICAgfSBlbHNlIGlmIChleHByZXNzaW9uQWxsb3dlZChzdHJlYW0sIHN0YXRlLCAxKSkge1xuICAgICAgICByZWFkUmVnZXhwKHN0cmVhbSk7XG4gICAgICAgIHN0cmVhbS5tYXRjaCgvXlxcYigoW2dpbXl1c10pKD8hW2dpbXl1c10qXFwyKSkrXFxiLyk7XG4gICAgICAgIHJldHVybiByZXQoXCJyZWdleHBcIiwgXCJzdHJpbmctMlwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0cmVhbS5lYXQoXCI9XCIpO1xuICAgICAgICByZXR1cm4gcmV0KFwib3BlcmF0b3JcIiwgXCJvcGVyYXRvclwiLCBzdHJlYW0uY3VycmVudCgpKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGNoID09IFwiYFwiKSB7XG4gICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuUXVhc2k7XG4gICAgICByZXR1cm4gdG9rZW5RdWFzaShzdHJlYW0sIHN0YXRlKTtcbiAgICB9IGVsc2UgaWYgKGNoID09IFwiI1wiICYmIHN0cmVhbS5wZWVrKCkgPT0gXCIhXCIpIHtcbiAgICAgIHN0cmVhbS5za2lwVG9FbmQoKTtcbiAgICAgIHJldHVybiByZXQoXCJtZXRhXCIsIFwibWV0YVwiKTtcbiAgICB9IGVsc2UgaWYgKGNoID09IFwiI1wiICYmIHN0cmVhbS5lYXRXaGlsZSh3b3JkUkUpKSB7XG4gICAgICByZXR1cm4gcmV0KFwidmFyaWFibGVcIiwgXCJwcm9wZXJ0eVwiKVxuICAgIH0gZWxzZSBpZiAoY2ggPT0gXCI8XCIgJiYgc3RyZWFtLm1hdGNoKFwiIS0tXCIpIHx8XG4gICAgICAgICAgICAgICAoY2ggPT0gXCItXCIgJiYgc3RyZWFtLm1hdGNoKFwiLT5cIikgJiYgIS9cXFMvLnRlc3Qoc3RyZWFtLnN0cmluZy5zbGljZSgwLCBzdHJlYW0uc3RhcnQpKSkpIHtcbiAgICAgIHN0cmVhbS5za2lwVG9FbmQoKVxuICAgICAgcmV0dXJuIHJldChcImNvbW1lbnRcIiwgXCJjb21tZW50XCIpXG4gICAgfSBlbHNlIGlmIChpc09wZXJhdG9yQ2hhci50ZXN0KGNoKSkge1xuICAgICAgaWYgKGNoICE9IFwiPlwiIHx8ICFzdGF0ZS5sZXhpY2FsIHx8IHN0YXRlLmxleGljYWwudHlwZSAhPSBcIj5cIikge1xuICAgICAgICBpZiAoc3RyZWFtLmVhdChcIj1cIikpIHtcbiAgICAgICAgICBpZiAoY2ggPT0gXCIhXCIgfHwgY2ggPT0gXCI9XCIpIHN0cmVhbS5lYXQoXCI9XCIpXG4gICAgICAgIH0gZWxzZSBpZiAoL1s8PiorXFwtfCY/XS8udGVzdChjaCkpIHtcbiAgICAgICAgICBzdHJlYW0uZWF0KGNoKVxuICAgICAgICAgIGlmIChjaCA9PSBcIj5cIikgc3RyZWFtLmVhdChjaClcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGNoID09IFwiP1wiICYmIHN0cmVhbS5lYXQoXCIuXCIpKSByZXR1cm4gcmV0KFwiLlwiKVxuICAgICAgcmV0dXJuIHJldChcIm9wZXJhdG9yXCIsIFwib3BlcmF0b3JcIiwgc3RyZWFtLmN1cnJlbnQoKSk7XG4gICAgfSBlbHNlIGlmICh3b3JkUkUudGVzdChjaCkpIHtcbiAgICAgIHN0cmVhbS5lYXRXaGlsZSh3b3JkUkUpO1xuICAgICAgdmFyIHdvcmQgPSBzdHJlYW0uY3VycmVudCgpXG4gICAgICBpZiAoc3RhdGUubGFzdFR5cGUgIT0gXCIuXCIpIHtcbiAgICAgICAgaWYgKGtleXdvcmRzLnByb3BlcnR5SXNFbnVtZXJhYmxlKHdvcmQpKSB7XG4gICAgICAgICAgdmFyIGt3ID0ga2V5d29yZHNbd29yZF1cbiAgICAgICAgICByZXR1cm4gcmV0KGt3LnR5cGUsIGt3LnN0eWxlLCB3b3JkKVxuICAgICAgICB9XG4gICAgICAgIGlmICh3b3JkID09IFwiYXN5bmNcIiAmJiBzdHJlYW0ubWF0Y2goL14oXFxzfFxcL1xcKihbXipdfFxcKig/IVxcLykpKj9cXCpcXC8pKltcXFtcXChcXHddLywgZmFsc2UpKVxuICAgICAgICAgIHJldHVybiByZXQoXCJhc3luY1wiLCBcImtleXdvcmRcIiwgd29yZClcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXQoXCJ2YXJpYWJsZVwiLCBcInZhcmlhYmxlXCIsIHdvcmQpXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdG9rZW5TdHJpbmcocXVvdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgdmFyIGVzY2FwZWQgPSBmYWxzZSwgbmV4dDtcbiAgICAgIGlmIChqc29ubGRNb2RlICYmIHN0cmVhbS5wZWVrKCkgPT0gXCJAXCIgJiYgc3RyZWFtLm1hdGNoKGlzSnNvbmxkS2V5d29yZCkpe1xuICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuQmFzZTtcbiAgICAgICAgcmV0dXJuIHJldChcImpzb25sZC1rZXl3b3JkXCIsIFwibWV0YVwiKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgobmV4dCA9IHN0cmVhbS5uZXh0KCkpICE9IG51bGwpIHtcbiAgICAgICAgaWYgKG5leHQgPT0gcXVvdGUgJiYgIWVzY2FwZWQpIGJyZWFrO1xuICAgICAgICBlc2NhcGVkID0gIWVzY2FwZWQgJiYgbmV4dCA9PSBcIlxcXFxcIjtcbiAgICAgIH1cbiAgICAgIGlmICghZXNjYXBlZCkgc3RhdGUudG9rZW5pemUgPSB0b2tlbkJhc2U7XG4gICAgICByZXR1cm4gcmV0KFwic3RyaW5nXCIsIFwic3RyaW5nXCIpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB0b2tlbkNvbW1lbnQoc3RyZWFtLCBzdGF0ZSkge1xuICAgIHZhciBtYXliZUVuZCA9IGZhbHNlLCBjaDtcbiAgICB3aGlsZSAoY2ggPSBzdHJlYW0ubmV4dCgpKSB7XG4gICAgICBpZiAoY2ggPT0gXCIvXCIgJiYgbWF5YmVFbmQpIHtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkJhc2U7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgbWF5YmVFbmQgPSAoY2ggPT0gXCIqXCIpO1xuICAgIH1cbiAgICByZXR1cm4gcmV0KFwiY29tbWVudFwiLCBcImNvbW1lbnRcIik7XG4gIH1cblxuICBmdW5jdGlvbiB0b2tlblF1YXNpKHN0cmVhbSwgc3RhdGUpIHtcbiAgICB2YXIgZXNjYXBlZCA9IGZhbHNlLCBuZXh0O1xuICAgIHdoaWxlICgobmV4dCA9IHN0cmVhbS5uZXh0KCkpICE9IG51bGwpIHtcbiAgICAgIGlmICghZXNjYXBlZCAmJiAobmV4dCA9PSBcImBcIiB8fCBuZXh0ID09IFwiJFwiICYmIHN0cmVhbS5lYXQoXCJ7XCIpKSkge1xuICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuQmFzZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBlc2NhcGVkID0gIWVzY2FwZWQgJiYgbmV4dCA9PSBcIlxcXFxcIjtcbiAgICB9XG4gICAgcmV0dXJuIHJldChcInF1YXNpXCIsIFwic3RyaW5nLTJcIiwgc3RyZWFtLmN1cnJlbnQoKSk7XG4gIH1cblxuICB2YXIgYnJhY2tldHMgPSBcIihbe31dKVwiO1xuICAvLyBUaGlzIGlzIGEgY3J1ZGUgbG9va2FoZWFkIHRyaWNrIHRvIHRyeSBhbmQgbm90aWNlIHRoYXQgd2UncmVcbiAgLy8gcGFyc2luZyB0aGUgYXJndW1lbnQgcGF0dGVybnMgZm9yIGEgZmF0LWFycm93IGZ1bmN0aW9uIGJlZm9yZSB3ZVxuICAvLyBhY3R1YWxseSBoaXQgdGhlIGFycm93IHRva2VuLiBJdCBvbmx5IHdvcmtzIGlmIHRoZSBhcnJvdyBpcyBvblxuICAvLyB0aGUgc2FtZSBsaW5lIGFzIHRoZSBhcmd1bWVudHMgYW5kIHRoZXJlJ3Mgbm8gc3RyYW5nZSBub2lzZVxuICAvLyAoY29tbWVudHMpIGluIGJldHdlZW4uIEZhbGxiYWNrIGlzIHRvIG9ubHkgbm90aWNlIHdoZW4gd2UgaGl0IHRoZVxuICAvLyBhcnJvdywgYW5kIG5vdCBkZWNsYXJlIHRoZSBhcmd1bWVudHMgYXMgbG9jYWxzIGZvciB0aGUgYXJyb3dcbiAgLy8gYm9keS5cbiAgZnVuY3Rpb24gZmluZEZhdEFycm93KHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUuZmF0QXJyb3dBdCkgc3RhdGUuZmF0QXJyb3dBdCA9IG51bGw7XG4gICAgdmFyIGFycm93ID0gc3RyZWFtLnN0cmluZy5pbmRleE9mKFwiPT5cIiwgc3RyZWFtLnN0YXJ0KTtcbiAgICBpZiAoYXJyb3cgPCAwKSByZXR1cm47XG5cbiAgICBpZiAoaXNUUykgeyAvLyBUcnkgdG8gc2tpcCBUeXBlU2NyaXB0IHJldHVybiB0eXBlIGRlY2xhcmF0aW9ucyBhZnRlciB0aGUgYXJndW1lbnRzXG4gICAgICB2YXIgbSA9IC86XFxzKig/OlxcdysoPzo8W14+XSo+fFxcW1xcXSk/fFxce1tefV0qXFx9KVxccyokLy5leGVjKHN0cmVhbS5zdHJpbmcuc2xpY2Uoc3RyZWFtLnN0YXJ0LCBhcnJvdykpXG4gICAgICBpZiAobSkgYXJyb3cgPSBtLmluZGV4XG4gICAgfVxuXG4gICAgdmFyIGRlcHRoID0gMCwgc2F3U29tZXRoaW5nID0gZmFsc2U7XG4gICAgZm9yICh2YXIgcG9zID0gYXJyb3cgLSAxOyBwb3MgPj0gMDsgLS1wb3MpIHtcbiAgICAgIHZhciBjaCA9IHN0cmVhbS5zdHJpbmcuY2hhckF0KHBvcyk7XG4gICAgICB2YXIgYnJhY2tldCA9IGJyYWNrZXRzLmluZGV4T2YoY2gpO1xuICAgICAgaWYgKGJyYWNrZXQgPj0gMCAmJiBicmFja2V0IDwgMykge1xuICAgICAgICBpZiAoIWRlcHRoKSB7ICsrcG9zOyBicmVhazsgfVxuICAgICAgICBpZiAoLS1kZXB0aCA9PSAwKSB7IGlmIChjaCA9PSBcIihcIikgc2F3U29tZXRoaW5nID0gdHJ1ZTsgYnJlYWs7IH1cbiAgICAgIH0gZWxzZSBpZiAoYnJhY2tldCA+PSAzICYmIGJyYWNrZXQgPCA2KSB7XG4gICAgICAgICsrZGVwdGg7XG4gICAgICB9IGVsc2UgaWYgKHdvcmRSRS50ZXN0KGNoKSkge1xuICAgICAgICBzYXdTb21ldGhpbmcgPSB0cnVlO1xuICAgICAgfSBlbHNlIGlmICgvW1wiJ1xcL2BdLy50ZXN0KGNoKSkge1xuICAgICAgICBmb3IgKDs7IC0tcG9zKSB7XG4gICAgICAgICAgaWYgKHBvcyA9PSAwKSByZXR1cm5cbiAgICAgICAgICB2YXIgbmV4dCA9IHN0cmVhbS5zdHJpbmcuY2hhckF0KHBvcyAtIDEpXG4gICAgICAgICAgaWYgKG5leHQgPT0gY2ggJiYgc3RyZWFtLnN0cmluZy5jaGFyQXQocG9zIC0gMikgIT0gXCJcXFxcXCIpIHsgcG9zLS07IGJyZWFrIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChzYXdTb21ldGhpbmcgJiYgIWRlcHRoKSB7XG4gICAgICAgICsrcG9zO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHNhd1NvbWV0aGluZyAmJiAhZGVwdGgpIHN0YXRlLmZhdEFycm93QXQgPSBwb3M7XG4gIH1cblxuICAvLyBQYXJzZXJcblxuICB2YXIgYXRvbWljVHlwZXMgPSB7XCJhdG9tXCI6IHRydWUsIFwibnVtYmVyXCI6IHRydWUsIFwidmFyaWFibGVcIjogdHJ1ZSwgXCJzdHJpbmdcIjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgIFwicmVnZXhwXCI6IHRydWUsIFwidGhpc1wiOiB0cnVlLCBcImltcG9ydFwiOiB0cnVlLCBcImpzb25sZC1rZXl3b3JkXCI6IHRydWV9O1xuXG4gIGZ1bmN0aW9uIEpTTGV4aWNhbChpbmRlbnRlZCwgY29sdW1uLCB0eXBlLCBhbGlnbiwgcHJldiwgaW5mbykge1xuICAgIHRoaXMuaW5kZW50ZWQgPSBpbmRlbnRlZDtcbiAgICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICAgIHRoaXMucHJldiA9IHByZXY7XG4gICAgdGhpcy5pbmZvID0gaW5mbztcbiAgICBpZiAoYWxpZ24gIT0gbnVsbCkgdGhpcy5hbGlnbiA9IGFsaWduO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5TY29wZShzdGF0ZSwgdmFybmFtZSkge1xuICAgIGlmICghdHJhY2tTY29wZSkgcmV0dXJuIGZhbHNlXG4gICAgZm9yICh2YXIgdiA9IHN0YXRlLmxvY2FsVmFyczsgdjsgdiA9IHYubmV4dClcbiAgICAgIGlmICh2Lm5hbWUgPT0gdmFybmFtZSkgcmV0dXJuIHRydWU7XG4gICAgZm9yICh2YXIgY3ggPSBzdGF0ZS5jb250ZXh0OyBjeDsgY3ggPSBjeC5wcmV2KSB7XG4gICAgICBmb3IgKHZhciB2ID0gY3gudmFyczsgdjsgdiA9IHYubmV4dClcbiAgICAgICAgaWYgKHYubmFtZSA9PSB2YXJuYW1lKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwYXJzZUpTKHN0YXRlLCBzdHlsZSwgdHlwZSwgY29udGVudCwgc3RyZWFtKSB7XG4gICAgdmFyIGNjID0gc3RhdGUuY2M7XG4gICAgLy8gQ29tbXVuaWNhdGUgb3VyIGNvbnRleHQgdG8gdGhlIGNvbWJpbmF0b3JzLlxuICAgIC8vIChMZXNzIHdhc3RlZnVsIHRoYW4gY29uc2luZyB1cCBhIGh1bmRyZWQgY2xvc3VyZXMgb24gZXZlcnkgY2FsbC4pXG4gICAgY3guc3RhdGUgPSBzdGF0ZTsgY3guc3RyZWFtID0gc3RyZWFtOyBjeC5tYXJrZWQgPSBudWxsLCBjeC5jYyA9IGNjOyBjeC5zdHlsZSA9IHN0eWxlO1xuXG4gICAgaWYgKCFzdGF0ZS5sZXhpY2FsLmhhc093blByb3BlcnR5KFwiYWxpZ25cIikpXG4gICAgICBzdGF0ZS5sZXhpY2FsLmFsaWduID0gdHJ1ZTtcblxuICAgIHdoaWxlKHRydWUpIHtcbiAgICAgIHZhciBjb21iaW5hdG9yID0gY2MubGVuZ3RoID8gY2MucG9wKCkgOiBqc29uTW9kZSA/IGV4cHJlc3Npb24gOiBzdGF0ZW1lbnQ7XG4gICAgICBpZiAoY29tYmluYXRvcih0eXBlLCBjb250ZW50KSkge1xuICAgICAgICB3aGlsZShjYy5sZW5ndGggJiYgY2NbY2MubGVuZ3RoIC0gMV0ubGV4KVxuICAgICAgICAgIGNjLnBvcCgpKCk7XG4gICAgICAgIGlmIChjeC5tYXJrZWQpIHJldHVybiBjeC5tYXJrZWQ7XG4gICAgICAgIGlmICh0eXBlID09IFwidmFyaWFibGVcIiAmJiBpblNjb3BlKHN0YXRlLCBjb250ZW50KSkgcmV0dXJuIFwidmFyaWFibGUtMlwiO1xuICAgICAgICByZXR1cm4gc3R5bGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gQ29tYmluYXRvciB1dGlsc1xuXG4gIHZhciBjeCA9IHtzdGF0ZTogbnVsbCwgY29sdW1uOiBudWxsLCBtYXJrZWQ6IG51bGwsIGNjOiBudWxsfTtcbiAgZnVuY3Rpb24gcGFzcygpIHtcbiAgICBmb3IgKHZhciBpID0gYXJndW1lbnRzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBjeC5jYy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIH1cbiAgZnVuY3Rpb24gY29udCgpIHtcbiAgICBwYXNzLmFwcGx5KG51bGwsIGFyZ3VtZW50cyk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZnVuY3Rpb24gaW5MaXN0KG5hbWUsIGxpc3QpIHtcbiAgICBmb3IgKHZhciB2ID0gbGlzdDsgdjsgdiA9IHYubmV4dCkgaWYgKHYubmFtZSA9PSBuYW1lKSByZXR1cm4gdHJ1ZVxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiByZWdpc3Rlcih2YXJuYW1lKSB7XG4gICAgdmFyIHN0YXRlID0gY3guc3RhdGU7XG4gICAgY3gubWFya2VkID0gXCJkZWZcIjtcbiAgICBpZiAoIXRyYWNrU2NvcGUpIHJldHVyblxuICAgIGlmIChzdGF0ZS5jb250ZXh0KSB7XG4gICAgICBpZiAoc3RhdGUubGV4aWNhbC5pbmZvID09IFwidmFyXCIgJiYgc3RhdGUuY29udGV4dCAmJiBzdGF0ZS5jb250ZXh0LmJsb2NrKSB7XG4gICAgICAgIC8vIEZJWE1FIGZ1bmN0aW9uIGRlY2xzIGFyZSBhbHNvIG5vdCBibG9jayBzY29wZWRcbiAgICAgICAgdmFyIG5ld0NvbnRleHQgPSByZWdpc3RlclZhclNjb3BlZCh2YXJuYW1lLCBzdGF0ZS5jb250ZXh0KVxuICAgICAgICBpZiAobmV3Q29udGV4dCAhPSBudWxsKSB7XG4gICAgICAgICAgc3RhdGUuY29udGV4dCA9IG5ld0NvbnRleHRcbiAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghaW5MaXN0KHZhcm5hbWUsIHN0YXRlLmxvY2FsVmFycykpIHtcbiAgICAgICAgc3RhdGUubG9jYWxWYXJzID0gbmV3IFZhcih2YXJuYW1lLCBzdGF0ZS5sb2NhbFZhcnMpXG4gICAgICAgIHJldHVyblxuICAgICAgfVxuICAgIH1cbiAgICAvLyBGYWxsIHRocm91Z2ggbWVhbnMgdGhpcyBpcyBnbG9iYWxcbiAgICBpZiAocGFyc2VyQ29uZmlnLmdsb2JhbFZhcnMgJiYgIWluTGlzdCh2YXJuYW1lLCBzdGF0ZS5nbG9iYWxWYXJzKSlcbiAgICAgIHN0YXRlLmdsb2JhbFZhcnMgPSBuZXcgVmFyKHZhcm5hbWUsIHN0YXRlLmdsb2JhbFZhcnMpXG4gIH1cbiAgZnVuY3Rpb24gcmVnaXN0ZXJWYXJTY29wZWQodmFybmFtZSwgY29udGV4dCkge1xuICAgIGlmICghY29udGV4dCkge1xuICAgICAgcmV0dXJuIG51bGxcbiAgICB9IGVsc2UgaWYgKGNvbnRleHQuYmxvY2spIHtcbiAgICAgIHZhciBpbm5lciA9IHJlZ2lzdGVyVmFyU2NvcGVkKHZhcm5hbWUsIGNvbnRleHQucHJldilcbiAgICAgIGlmICghaW5uZXIpIHJldHVybiBudWxsXG4gICAgICBpZiAoaW5uZXIgPT0gY29udGV4dC5wcmV2KSByZXR1cm4gY29udGV4dFxuICAgICAgcmV0dXJuIG5ldyBDb250ZXh0KGlubmVyLCBjb250ZXh0LnZhcnMsIHRydWUpXG4gICAgfSBlbHNlIGlmIChpbkxpc3QodmFybmFtZSwgY29udGV4dC52YXJzKSkge1xuICAgICAgcmV0dXJuIGNvbnRleHRcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBDb250ZXh0KGNvbnRleHQucHJldiwgbmV3IFZhcih2YXJuYW1lLCBjb250ZXh0LnZhcnMpLCBmYWxzZSlcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBpc01vZGlmaWVyKG5hbWUpIHtcbiAgICByZXR1cm4gbmFtZSA9PSBcInB1YmxpY1wiIHx8IG5hbWUgPT0gXCJwcml2YXRlXCIgfHwgbmFtZSA9PSBcInByb3RlY3RlZFwiIHx8IG5hbWUgPT0gXCJhYnN0cmFjdFwiIHx8IG5hbWUgPT0gXCJyZWFkb25seVwiXG4gIH1cblxuICAvLyBDb21iaW5hdG9yc1xuXG4gIGZ1bmN0aW9uIENvbnRleHQocHJldiwgdmFycywgYmxvY2spIHsgdGhpcy5wcmV2ID0gcHJldjsgdGhpcy52YXJzID0gdmFyczsgdGhpcy5ibG9jayA9IGJsb2NrIH1cbiAgZnVuY3Rpb24gVmFyKG5hbWUsIG5leHQpIHsgdGhpcy5uYW1lID0gbmFtZTsgdGhpcy5uZXh0ID0gbmV4dCB9XG5cbiAgdmFyIGRlZmF1bHRWYXJzID0gbmV3IFZhcihcInRoaXNcIiwgbmV3IFZhcihcImFyZ3VtZW50c1wiLCBudWxsKSlcbiAgZnVuY3Rpb24gcHVzaGNvbnRleHQoKSB7XG4gICAgY3guc3RhdGUuY29udGV4dCA9IG5ldyBDb250ZXh0KGN4LnN0YXRlLmNvbnRleHQsIGN4LnN0YXRlLmxvY2FsVmFycywgZmFsc2UpXG4gICAgY3guc3RhdGUubG9jYWxWYXJzID0gZGVmYXVsdFZhcnNcbiAgfVxuICBmdW5jdGlvbiBwdXNoYmxvY2tjb250ZXh0KCkge1xuICAgIGN4LnN0YXRlLmNvbnRleHQgPSBuZXcgQ29udGV4dChjeC5zdGF0ZS5jb250ZXh0LCBjeC5zdGF0ZS5sb2NhbFZhcnMsIHRydWUpXG4gICAgY3guc3RhdGUubG9jYWxWYXJzID0gbnVsbFxuICB9XG4gIHB1c2hjb250ZXh0LmxleCA9IHB1c2hibG9ja2NvbnRleHQubGV4ID0gdHJ1ZVxuICBmdW5jdGlvbiBwb3Bjb250ZXh0KCkge1xuICAgIGN4LnN0YXRlLmxvY2FsVmFycyA9IGN4LnN0YXRlLmNvbnRleHQudmFyc1xuICAgIGN4LnN0YXRlLmNvbnRleHQgPSBjeC5zdGF0ZS5jb250ZXh0LnByZXZcbiAgfVxuICBwb3Bjb250ZXh0LmxleCA9IHRydWVcbiAgZnVuY3Rpb24gcHVzaGxleCh0eXBlLCBpbmZvKSB7XG4gICAgdmFyIHJlc3VsdCA9IGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHN0YXRlID0gY3guc3RhdGUsIGluZGVudCA9IHN0YXRlLmluZGVudGVkO1xuICAgICAgaWYgKHN0YXRlLmxleGljYWwudHlwZSA9PSBcInN0YXRcIikgaW5kZW50ID0gc3RhdGUubGV4aWNhbC5pbmRlbnRlZDtcbiAgICAgIGVsc2UgZm9yICh2YXIgb3V0ZXIgPSBzdGF0ZS5sZXhpY2FsOyBvdXRlciAmJiBvdXRlci50eXBlID09IFwiKVwiICYmIG91dGVyLmFsaWduOyBvdXRlciA9IG91dGVyLnByZXYpXG4gICAgICAgIGluZGVudCA9IG91dGVyLmluZGVudGVkO1xuICAgICAgc3RhdGUubGV4aWNhbCA9IG5ldyBKU0xleGljYWwoaW5kZW50LCBjeC5zdHJlYW0uY29sdW1uKCksIHR5cGUsIG51bGwsIHN0YXRlLmxleGljYWwsIGluZm8pO1xuICAgIH07XG4gICAgcmVzdWx0LmxleCA9IHRydWU7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICBmdW5jdGlvbiBwb3BsZXgoKSB7XG4gICAgdmFyIHN0YXRlID0gY3guc3RhdGU7XG4gICAgaWYgKHN0YXRlLmxleGljYWwucHJldikge1xuICAgICAgaWYgKHN0YXRlLmxleGljYWwudHlwZSA9PSBcIilcIilcbiAgICAgICAgc3RhdGUuaW5kZW50ZWQgPSBzdGF0ZS5sZXhpY2FsLmluZGVudGVkO1xuICAgICAgc3RhdGUubGV4aWNhbCA9IHN0YXRlLmxleGljYWwucHJldjtcbiAgICB9XG4gIH1cbiAgcG9wbGV4LmxleCA9IHRydWU7XG5cbiAgZnVuY3Rpb24gZXhwZWN0KHdhbnRlZCkge1xuICAgIGZ1bmN0aW9uIGV4cCh0eXBlKSB7XG4gICAgICBpZiAodHlwZSA9PSB3YW50ZWQpIHJldHVybiBjb250KCk7XG4gICAgICBlbHNlIGlmICh3YW50ZWQgPT0gXCI7XCIgfHwgdHlwZSA9PSBcIn1cIiB8fCB0eXBlID09IFwiKVwiIHx8IHR5cGUgPT0gXCJdXCIpIHJldHVybiBwYXNzKCk7XG4gICAgICBlbHNlIHJldHVybiBjb250KGV4cCk7XG4gICAgfTtcbiAgICByZXR1cm4gZXhwO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhdGVtZW50KHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJcIikgcmV0dXJuIGNvbnQocHVzaGxleChcInZhcmRlZlwiLCB2YWx1ZSksIHZhcmRlZiwgZXhwZWN0KFwiO1wiKSwgcG9wbGV4KTtcbiAgICBpZiAodHlwZSA9PSBcImtleXdvcmQgYVwiKSByZXR1cm4gY29udChwdXNobGV4KFwiZm9ybVwiKSwgcGFyZW5FeHByLCBzdGF0ZW1lbnQsIHBvcGxleCk7XG4gICAgaWYgKHR5cGUgPT0gXCJrZXl3b3JkIGJcIikgcmV0dXJuIGNvbnQocHVzaGxleChcImZvcm1cIiksIHN0YXRlbWVudCwgcG9wbGV4KTtcbiAgICBpZiAodHlwZSA9PSBcImtleXdvcmQgZFwiKSByZXR1cm4gY3guc3RyZWFtLm1hdGNoKC9eXFxzKiQvLCBmYWxzZSkgPyBjb250KCkgOiBjb250KHB1c2hsZXgoXCJzdGF0XCIpLCBtYXliZWV4cHJlc3Npb24sIGV4cGVjdChcIjtcIiksIHBvcGxleCk7XG4gICAgaWYgKHR5cGUgPT0gXCJkZWJ1Z2dlclwiKSByZXR1cm4gY29udChleHBlY3QoXCI7XCIpKTtcbiAgICBpZiAodHlwZSA9PSBcIntcIikgcmV0dXJuIGNvbnQocHVzaGxleChcIn1cIiksIHB1c2hibG9ja2NvbnRleHQsIGJsb2NrLCBwb3BsZXgsIHBvcGNvbnRleHQpO1xuICAgIGlmICh0eXBlID09IFwiO1wiKSByZXR1cm4gY29udCgpO1xuICAgIGlmICh0eXBlID09IFwiaWZcIikge1xuICAgICAgaWYgKGN4LnN0YXRlLmxleGljYWwuaW5mbyA9PSBcImVsc2VcIiAmJiBjeC5zdGF0ZS5jY1tjeC5zdGF0ZS5jYy5sZW5ndGggLSAxXSA9PSBwb3BsZXgpXG4gICAgICAgIGN4LnN0YXRlLmNjLnBvcCgpKCk7XG4gICAgICByZXR1cm4gY29udChwdXNobGV4KFwiZm9ybVwiKSwgcGFyZW5FeHByLCBzdGF0ZW1lbnQsIHBvcGxleCwgbWF5YmVlbHNlKTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gY29udChmdW5jdGlvbmRlZik7XG4gICAgaWYgKHR5cGUgPT0gXCJmb3JcIikgcmV0dXJuIGNvbnQocHVzaGxleChcImZvcm1cIiksIHB1c2hibG9ja2NvbnRleHQsIGZvcnNwZWMsIHN0YXRlbWVudCwgcG9wY29udGV4dCwgcG9wbGV4KTtcbiAgICBpZiAodHlwZSA9PSBcImNsYXNzXCIgfHwgKGlzVFMgJiYgdmFsdWUgPT0gXCJpbnRlcmZhY2VcIikpIHtcbiAgICAgIGN4Lm1hcmtlZCA9IFwia2V5d29yZFwiXG4gICAgICByZXR1cm4gY29udChwdXNobGV4KFwiZm9ybVwiLCB0eXBlID09IFwiY2xhc3NcIiA/IHR5cGUgOiB2YWx1ZSksIGNsYXNzTmFtZSwgcG9wbGV4KVxuICAgIH1cbiAgICBpZiAodHlwZSA9PSBcInZhcmlhYmxlXCIpIHtcbiAgICAgIGlmIChpc1RTICYmIHZhbHVlID09IFwiZGVjbGFyZVwiKSB7XG4gICAgICAgIGN4Lm1hcmtlZCA9IFwia2V5d29yZFwiXG4gICAgICAgIHJldHVybiBjb250KHN0YXRlbWVudClcbiAgICAgIH0gZWxzZSBpZiAoaXNUUyAmJiAodmFsdWUgPT0gXCJtb2R1bGVcIiB8fCB2YWx1ZSA9PSBcImVudW1cIiB8fCB2YWx1ZSA9PSBcInR5cGVcIikgJiYgY3guc3RyZWFtLm1hdGNoKC9eXFxzKlxcdy8sIGZhbHNlKSkge1xuICAgICAgICBjeC5tYXJrZWQgPSBcImtleXdvcmRcIlxuICAgICAgICBpZiAodmFsdWUgPT0gXCJlbnVtXCIpIHJldHVybiBjb250KGVudW1kZWYpO1xuICAgICAgICBlbHNlIGlmICh2YWx1ZSA9PSBcInR5cGVcIikgcmV0dXJuIGNvbnQodHlwZW5hbWUsIGV4cGVjdChcIm9wZXJhdG9yXCIpLCB0eXBlZXhwciwgZXhwZWN0KFwiO1wiKSk7XG4gICAgICAgIGVsc2UgcmV0dXJuIGNvbnQocHVzaGxleChcImZvcm1cIiksIHBhdHRlcm4sIGV4cGVjdChcIntcIiksIHB1c2hsZXgoXCJ9XCIpLCBibG9jaywgcG9wbGV4LCBwb3BsZXgpXG4gICAgICB9IGVsc2UgaWYgKGlzVFMgJiYgdmFsdWUgPT0gXCJuYW1lc3BhY2VcIikge1xuICAgICAgICBjeC5tYXJrZWQgPSBcImtleXdvcmRcIlxuICAgICAgICByZXR1cm4gY29udChwdXNobGV4KFwiZm9ybVwiKSwgZXhwcmVzc2lvbiwgc3RhdGVtZW50LCBwb3BsZXgpXG4gICAgICB9IGVsc2UgaWYgKGlzVFMgJiYgdmFsdWUgPT0gXCJhYnN0cmFjdFwiKSB7XG4gICAgICAgIGN4Lm1hcmtlZCA9IFwia2V5d29yZFwiXG4gICAgICAgIHJldHVybiBjb250KHN0YXRlbWVudClcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjb250KHB1c2hsZXgoXCJzdGF0XCIpLCBtYXliZWxhYmVsKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGUgPT0gXCJzd2l0Y2hcIikgcmV0dXJuIGNvbnQocHVzaGxleChcImZvcm1cIiksIHBhcmVuRXhwciwgZXhwZWN0KFwie1wiKSwgcHVzaGxleChcIn1cIiwgXCJzd2l0Y2hcIiksIHB1c2hibG9ja2NvbnRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2NrLCBwb3BsZXgsIHBvcGxleCwgcG9wY29udGV4dCk7XG4gICAgaWYgKHR5cGUgPT0gXCJjYXNlXCIpIHJldHVybiBjb250KGV4cHJlc3Npb24sIGV4cGVjdChcIjpcIikpO1xuICAgIGlmICh0eXBlID09IFwiZGVmYXVsdFwiKSByZXR1cm4gY29udChleHBlY3QoXCI6XCIpKTtcbiAgICBpZiAodHlwZSA9PSBcImNhdGNoXCIpIHJldHVybiBjb250KHB1c2hsZXgoXCJmb3JtXCIpLCBwdXNoY29udGV4dCwgbWF5YmVDYXRjaEJpbmRpbmcsIHN0YXRlbWVudCwgcG9wbGV4LCBwb3Bjb250ZXh0KTtcbiAgICBpZiAodHlwZSA9PSBcImV4cG9ydFwiKSByZXR1cm4gY29udChwdXNobGV4KFwic3RhdFwiKSwgYWZ0ZXJFeHBvcnQsIHBvcGxleCk7XG4gICAgaWYgKHR5cGUgPT0gXCJpbXBvcnRcIikgcmV0dXJuIGNvbnQocHVzaGxleChcInN0YXRcIiksIGFmdGVySW1wb3J0LCBwb3BsZXgpO1xuICAgIGlmICh0eXBlID09IFwiYXN5bmNcIikgcmV0dXJuIGNvbnQoc3RhdGVtZW50KVxuICAgIGlmICh2YWx1ZSA9PSBcIkBcIikgcmV0dXJuIGNvbnQoZXhwcmVzc2lvbiwgc3RhdGVtZW50KVxuICAgIHJldHVybiBwYXNzKHB1c2hsZXgoXCJzdGF0XCIpLCBleHByZXNzaW9uLCBleHBlY3QoXCI7XCIpLCBwb3BsZXgpO1xuICB9XG4gIGZ1bmN0aW9uIG1heWJlQ2F0Y2hCaW5kaW5nKHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PSBcIihcIikgcmV0dXJuIGNvbnQoZnVuYXJnLCBleHBlY3QoXCIpXCIpKVxuICB9XG4gIGZ1bmN0aW9uIGV4cHJlc3Npb24odHlwZSwgdmFsdWUpIHtcbiAgICByZXR1cm4gZXhwcmVzc2lvbklubmVyKHR5cGUsIHZhbHVlLCBmYWxzZSk7XG4gIH1cbiAgZnVuY3Rpb24gZXhwcmVzc2lvbk5vQ29tbWEodHlwZSwgdmFsdWUpIHtcbiAgICByZXR1cm4gZXhwcmVzc2lvbklubmVyKHR5cGUsIHZhbHVlLCB0cnVlKTtcbiAgfVxuICBmdW5jdGlvbiBwYXJlbkV4cHIodHlwZSkge1xuICAgIGlmICh0eXBlICE9IFwiKFwiKSByZXR1cm4gcGFzcygpXG4gICAgcmV0dXJuIGNvbnQocHVzaGxleChcIilcIiksIG1heWJlZXhwcmVzc2lvbiwgZXhwZWN0KFwiKVwiKSwgcG9wbGV4KVxuICB9XG4gIGZ1bmN0aW9uIGV4cHJlc3Npb25Jbm5lcih0eXBlLCB2YWx1ZSwgbm9Db21tYSkge1xuICAgIGlmIChjeC5zdGF0ZS5mYXRBcnJvd0F0ID09IGN4LnN0cmVhbS5zdGFydCkge1xuICAgICAgdmFyIGJvZHkgPSBub0NvbW1hID8gYXJyb3dCb2R5Tm9Db21tYSA6IGFycm93Qm9keTtcbiAgICAgIGlmICh0eXBlID09IFwiKFwiKSByZXR1cm4gY29udChwdXNoY29udGV4dCwgcHVzaGxleChcIilcIiksIGNvbW1hc2VwKGZ1bmFyZywgXCIpXCIpLCBwb3BsZXgsIGV4cGVjdChcIj0+XCIpLCBib2R5LCBwb3Bjb250ZXh0KTtcbiAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiKSByZXR1cm4gcGFzcyhwdXNoY29udGV4dCwgcGF0dGVybiwgZXhwZWN0KFwiPT5cIiksIGJvZHksIHBvcGNvbnRleHQpO1xuICAgIH1cblxuICAgIHZhciBtYXliZW9wID0gbm9Db21tYSA/IG1heWJlb3BlcmF0b3JOb0NvbW1hIDogbWF5YmVvcGVyYXRvckNvbW1hO1xuICAgIGlmIChhdG9taWNUeXBlcy5oYXNPd25Qcm9wZXJ0eSh0eXBlKSkgcmV0dXJuIGNvbnQobWF5YmVvcCk7XG4gICAgaWYgKHR5cGUgPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gY29udChmdW5jdGlvbmRlZiwgbWF5YmVvcCk7XG4gICAgaWYgKHR5cGUgPT0gXCJjbGFzc1wiIHx8IChpc1RTICYmIHZhbHVlID09IFwiaW50ZXJmYWNlXCIpKSB7IGN4Lm1hcmtlZCA9IFwia2V5d29yZFwiOyByZXR1cm4gY29udChwdXNobGV4KFwiZm9ybVwiKSwgY2xhc3NFeHByZXNzaW9uLCBwb3BsZXgpOyB9XG4gICAgaWYgKHR5cGUgPT0gXCJrZXl3b3JkIGNcIiB8fCB0eXBlID09IFwiYXN5bmNcIikgcmV0dXJuIGNvbnQobm9Db21tYSA/IGV4cHJlc3Npb25Ob0NvbW1hIDogZXhwcmVzc2lvbik7XG4gICAgaWYgKHR5cGUgPT0gXCIoXCIpIHJldHVybiBjb250KHB1c2hsZXgoXCIpXCIpLCBtYXliZWV4cHJlc3Npb24sIGV4cGVjdChcIilcIiksIHBvcGxleCwgbWF5YmVvcCk7XG4gICAgaWYgKHR5cGUgPT0gXCJvcGVyYXRvclwiIHx8IHR5cGUgPT0gXCJzcHJlYWRcIikgcmV0dXJuIGNvbnQobm9Db21tYSA/IGV4cHJlc3Npb25Ob0NvbW1hIDogZXhwcmVzc2lvbik7XG4gICAgaWYgKHR5cGUgPT0gXCJbXCIpIHJldHVybiBjb250KHB1c2hsZXgoXCJdXCIpLCBhcnJheUxpdGVyYWwsIHBvcGxleCwgbWF5YmVvcCk7XG4gICAgaWYgKHR5cGUgPT0gXCJ7XCIpIHJldHVybiBjb250Q29tbWFzZXAob2JqcHJvcCwgXCJ9XCIsIG51bGwsIG1heWJlb3ApO1xuICAgIGlmICh0eXBlID09IFwicXVhc2lcIikgcmV0dXJuIHBhc3MocXVhc2ksIG1heWJlb3ApO1xuICAgIGlmICh0eXBlID09IFwibmV3XCIpIHJldHVybiBjb250KG1heWJlVGFyZ2V0KG5vQ29tbWEpKTtcbiAgICByZXR1cm4gY29udCgpO1xuICB9XG4gIGZ1bmN0aW9uIG1heWJlZXhwcmVzc2lvbih0eXBlKSB7XG4gICAgaWYgKHR5cGUubWF0Y2goL1s7XFx9XFwpXFxdLF0vKSkgcmV0dXJuIHBhc3MoKTtcbiAgICByZXR1cm4gcGFzcyhleHByZXNzaW9uKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1heWJlb3BlcmF0b3JDb21tYSh0eXBlLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlID09IFwiLFwiKSByZXR1cm4gY29udChtYXliZWV4cHJlc3Npb24pO1xuICAgIHJldHVybiBtYXliZW9wZXJhdG9yTm9Db21tYSh0eXBlLCB2YWx1ZSwgZmFsc2UpO1xuICB9XG4gIGZ1bmN0aW9uIG1heWJlb3BlcmF0b3JOb0NvbW1hKHR5cGUsIHZhbHVlLCBub0NvbW1hKSB7XG4gICAgdmFyIG1lID0gbm9Db21tYSA9PSBmYWxzZSA/IG1heWJlb3BlcmF0b3JDb21tYSA6IG1heWJlb3BlcmF0b3JOb0NvbW1hO1xuICAgIHZhciBleHByID0gbm9Db21tYSA9PSBmYWxzZSA/IGV4cHJlc3Npb24gOiBleHByZXNzaW9uTm9Db21tYTtcbiAgICBpZiAodHlwZSA9PSBcIj0+XCIpIHJldHVybiBjb250KHB1c2hjb250ZXh0LCBub0NvbW1hID8gYXJyb3dCb2R5Tm9Db21tYSA6IGFycm93Qm9keSwgcG9wY29udGV4dCk7XG4gICAgaWYgKHR5cGUgPT0gXCJvcGVyYXRvclwiKSB7XG4gICAgICBpZiAoL1xcK1xcK3wtLS8udGVzdCh2YWx1ZSkgfHwgaXNUUyAmJiB2YWx1ZSA9PSBcIiFcIikgcmV0dXJuIGNvbnQobWUpO1xuICAgICAgaWYgKGlzVFMgJiYgdmFsdWUgPT0gXCI8XCIgJiYgY3guc3RyZWFtLm1hdGNoKC9eKFtePD5dfDxbXjw+XSo+KSo+XFxzKlxcKC8sIGZhbHNlKSlcbiAgICAgICAgcmV0dXJuIGNvbnQocHVzaGxleChcIj5cIiksIGNvbW1hc2VwKHR5cGVleHByLCBcIj5cIiksIHBvcGxleCwgbWUpO1xuICAgICAgaWYgKHZhbHVlID09IFwiP1wiKSByZXR1cm4gY29udChleHByZXNzaW9uLCBleHBlY3QoXCI6XCIpLCBleHByKTtcbiAgICAgIHJldHVybiBjb250KGV4cHIpO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PSBcInF1YXNpXCIpIHsgcmV0dXJuIHBhc3MocXVhc2ksIG1lKTsgfVxuICAgIGlmICh0eXBlID09IFwiO1wiKSByZXR1cm47XG4gICAgaWYgKHR5cGUgPT0gXCIoXCIpIHJldHVybiBjb250Q29tbWFzZXAoZXhwcmVzc2lvbk5vQ29tbWEsIFwiKVwiLCBcImNhbGxcIiwgbWUpO1xuICAgIGlmICh0eXBlID09IFwiLlwiKSByZXR1cm4gY29udChwcm9wZXJ0eSwgbWUpO1xuICAgIGlmICh0eXBlID09IFwiW1wiKSByZXR1cm4gY29udChwdXNobGV4KFwiXVwiKSwgbWF5YmVleHByZXNzaW9uLCBleHBlY3QoXCJdXCIpLCBwb3BsZXgsIG1lKTtcbiAgICBpZiAoaXNUUyAmJiB2YWx1ZSA9PSBcImFzXCIpIHsgY3gubWFya2VkID0gXCJrZXl3b3JkXCI7IHJldHVybiBjb250KHR5cGVleHByLCBtZSkgfVxuICAgIGlmICh0eXBlID09IFwicmVnZXhwXCIpIHtcbiAgICAgIGN4LnN0YXRlLmxhc3RUeXBlID0gY3gubWFya2VkID0gXCJvcGVyYXRvclwiXG4gICAgICBjeC5zdHJlYW0uYmFja1VwKGN4LnN0cmVhbS5wb3MgLSBjeC5zdHJlYW0uc3RhcnQgLSAxKVxuICAgICAgcmV0dXJuIGNvbnQoZXhwcilcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcXVhc2kodHlwZSwgdmFsdWUpIHtcbiAgICBpZiAodHlwZSAhPSBcInF1YXNpXCIpIHJldHVybiBwYXNzKCk7XG4gICAgaWYgKHZhbHVlLnNsaWNlKHZhbHVlLmxlbmd0aCAtIDIpICE9IFwiJHtcIikgcmV0dXJuIGNvbnQocXVhc2kpO1xuICAgIHJldHVybiBjb250KG1heWJlZXhwcmVzc2lvbiwgY29udGludWVRdWFzaSk7XG4gIH1cbiAgZnVuY3Rpb24gY29udGludWVRdWFzaSh0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ9XCIpIHtcbiAgICAgIGN4Lm1hcmtlZCA9IFwic3RyaW5nLTJcIjtcbiAgICAgIGN4LnN0YXRlLnRva2VuaXplID0gdG9rZW5RdWFzaTtcbiAgICAgIHJldHVybiBjb250KHF1YXNpKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gYXJyb3dCb2R5KHR5cGUpIHtcbiAgICBmaW5kRmF0QXJyb3coY3guc3RyZWFtLCBjeC5zdGF0ZSk7XG4gICAgcmV0dXJuIHBhc3ModHlwZSA9PSBcIntcIiA/IHN0YXRlbWVudCA6IGV4cHJlc3Npb24pO1xuICB9XG4gIGZ1bmN0aW9uIGFycm93Qm9keU5vQ29tbWEodHlwZSkge1xuICAgIGZpbmRGYXRBcnJvdyhjeC5zdHJlYW0sIGN4LnN0YXRlKTtcbiAgICByZXR1cm4gcGFzcyh0eXBlID09IFwie1wiID8gc3RhdGVtZW50IDogZXhwcmVzc2lvbk5vQ29tbWEpO1xuICB9XG4gIGZ1bmN0aW9uIG1heWJlVGFyZ2V0KG5vQ29tbWEpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odHlwZSkge1xuICAgICAgaWYgKHR5cGUgPT0gXCIuXCIpIHJldHVybiBjb250KG5vQ29tbWEgPyB0YXJnZXROb0NvbW1hIDogdGFyZ2V0KTtcbiAgICAgIGVsc2UgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiICYmIGlzVFMpIHJldHVybiBjb250KG1heWJlVHlwZUFyZ3MsIG5vQ29tbWEgPyBtYXliZW9wZXJhdG9yTm9Db21tYSA6IG1heWJlb3BlcmF0b3JDb21tYSlcbiAgICAgIGVsc2UgcmV0dXJuIHBhc3Mobm9Db21tYSA/IGV4cHJlc3Npb25Ob0NvbW1hIDogZXhwcmVzc2lvbik7XG4gICAgfTtcbiAgfVxuICBmdW5jdGlvbiB0YXJnZXQoXywgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gXCJ0YXJnZXRcIikgeyBjeC5tYXJrZWQgPSBcImtleXdvcmRcIjsgcmV0dXJuIGNvbnQobWF5YmVvcGVyYXRvckNvbW1hKTsgfVxuICB9XG4gIGZ1bmN0aW9uIHRhcmdldE5vQ29tbWEoXywgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gXCJ0YXJnZXRcIikgeyBjeC5tYXJrZWQgPSBcImtleXdvcmRcIjsgcmV0dXJuIGNvbnQobWF5YmVvcGVyYXRvck5vQ29tbWEpOyB9XG4gIH1cbiAgZnVuY3Rpb24gbWF5YmVsYWJlbCh0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCI6XCIpIHJldHVybiBjb250KHBvcGxleCwgc3RhdGVtZW50KTtcbiAgICByZXR1cm4gcGFzcyhtYXliZW9wZXJhdG9yQ29tbWEsIGV4cGVjdChcIjtcIiksIHBvcGxleCk7XG4gIH1cbiAgZnVuY3Rpb24gcHJvcGVydHkodHlwZSkge1xuICAgIGlmICh0eXBlID09IFwidmFyaWFibGVcIikge2N4Lm1hcmtlZCA9IFwicHJvcGVydHlcIjsgcmV0dXJuIGNvbnQoKTt9XG4gIH1cbiAgZnVuY3Rpb24gb2JqcHJvcCh0eXBlLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlID09IFwiYXN5bmNcIikge1xuICAgICAgY3gubWFya2VkID0gXCJwcm9wZXJ0eVwiO1xuICAgICAgcmV0dXJuIGNvbnQob2JqcHJvcCk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwidmFyaWFibGVcIiB8fCBjeC5zdHlsZSA9PSBcImtleXdvcmRcIikge1xuICAgICAgY3gubWFya2VkID0gXCJwcm9wZXJ0eVwiO1xuICAgICAgaWYgKHZhbHVlID09IFwiZ2V0XCIgfHwgdmFsdWUgPT0gXCJzZXRcIikgcmV0dXJuIGNvbnQoZ2V0dGVyU2V0dGVyKTtcbiAgICAgIHZhciBtIC8vIFdvcmsgYXJvdW5kIGZhdC1hcnJvdy1kZXRlY3Rpb24gY29tcGxpY2F0aW9uIGZvciBkZXRlY3RpbmcgdHlwZXNjcmlwdCB0eXBlZCBhcnJvdyBwYXJhbXNcbiAgICAgIGlmIChpc1RTICYmIGN4LnN0YXRlLmZhdEFycm93QXQgPT0gY3guc3RyZWFtLnN0YXJ0ICYmIChtID0gY3guc3RyZWFtLm1hdGNoKC9eXFxzKjpcXHMqLywgZmFsc2UpKSlcbiAgICAgICAgY3guc3RhdGUuZmF0QXJyb3dBdCA9IGN4LnN0cmVhbS5wb3MgKyBtWzBdLmxlbmd0aFxuICAgICAgcmV0dXJuIGNvbnQoYWZ0ZXJwcm9wKTtcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJudW1iZXJcIiB8fCB0eXBlID09IFwic3RyaW5nXCIpIHtcbiAgICAgIGN4Lm1hcmtlZCA9IGpzb25sZE1vZGUgPyBcInByb3BlcnR5XCIgOiAoY3guc3R5bGUgKyBcIiBwcm9wZXJ0eVwiKTtcbiAgICAgIHJldHVybiBjb250KGFmdGVycHJvcCk7XG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwianNvbmxkLWtleXdvcmRcIikge1xuICAgICAgcmV0dXJuIGNvbnQoYWZ0ZXJwcm9wKTtcbiAgICB9IGVsc2UgaWYgKGlzVFMgJiYgaXNNb2RpZmllcih2YWx1ZSkpIHtcbiAgICAgIGN4Lm1hcmtlZCA9IFwia2V5d29yZFwiXG4gICAgICByZXR1cm4gY29udChvYmpwcm9wKVxuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcIltcIikge1xuICAgICAgcmV0dXJuIGNvbnQoZXhwcmVzc2lvbiwgbWF5YmV0eXBlLCBleHBlY3QoXCJdXCIpLCBhZnRlcnByb3ApO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcInNwcmVhZFwiKSB7XG4gICAgICByZXR1cm4gY29udChleHByZXNzaW9uTm9Db21tYSwgYWZ0ZXJwcm9wKTtcbiAgICB9IGVsc2UgaWYgKHZhbHVlID09IFwiKlwiKSB7XG4gICAgICBjeC5tYXJrZWQgPSBcImtleXdvcmRcIjtcbiAgICAgIHJldHVybiBjb250KG9ianByb3ApO1xuICAgIH0gZWxzZSBpZiAodHlwZSA9PSBcIjpcIikge1xuICAgICAgcmV0dXJuIHBhc3MoYWZ0ZXJwcm9wKVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBnZXR0ZXJTZXR0ZXIodHlwZSkge1xuICAgIGlmICh0eXBlICE9IFwidmFyaWFibGVcIikgcmV0dXJuIHBhc3MoYWZ0ZXJwcm9wKTtcbiAgICBjeC5tYXJrZWQgPSBcInByb3BlcnR5XCI7XG4gICAgcmV0dXJuIGNvbnQoZnVuY3Rpb25kZWYpO1xuICB9XG4gIGZ1bmN0aW9uIGFmdGVycHJvcCh0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCI6XCIpIHJldHVybiBjb250KGV4cHJlc3Npb25Ob0NvbW1hKTtcbiAgICBpZiAodHlwZSA9PSBcIihcIikgcmV0dXJuIHBhc3MoZnVuY3Rpb25kZWYpO1xuICB9XG4gIGZ1bmN0aW9uIGNvbW1hc2VwKHdoYXQsIGVuZCwgc2VwKSB7XG4gICAgZnVuY3Rpb24gcHJvY2VlZCh0eXBlLCB2YWx1ZSkge1xuICAgICAgaWYgKHNlcCA/IHNlcC5pbmRleE9mKHR5cGUpID4gLTEgOiB0eXBlID09IFwiLFwiKSB7XG4gICAgICAgIHZhciBsZXggPSBjeC5zdGF0ZS5sZXhpY2FsO1xuICAgICAgICBpZiAobGV4LmluZm8gPT0gXCJjYWxsXCIpIGxleC5wb3MgPSAobGV4LnBvcyB8fCAwKSArIDE7XG4gICAgICAgIHJldHVybiBjb250KGZ1bmN0aW9uKHR5cGUsIHZhbHVlKSB7XG4gICAgICAgICAgaWYgKHR5cGUgPT0gZW5kIHx8IHZhbHVlID09IGVuZCkgcmV0dXJuIHBhc3MoKVxuICAgICAgICAgIHJldHVybiBwYXNzKHdoYXQpXG4gICAgICAgIH0sIHByb2NlZWQpO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGUgPT0gZW5kIHx8IHZhbHVlID09IGVuZCkgcmV0dXJuIGNvbnQoKTtcbiAgICAgIGlmIChzZXAgJiYgc2VwLmluZGV4T2YoXCI7XCIpID4gLTEpIHJldHVybiBwYXNzKHdoYXQpXG4gICAgICByZXR1cm4gY29udChleHBlY3QoZW5kKSk7XG4gICAgfVxuICAgIHJldHVybiBmdW5jdGlvbih0eXBlLCB2YWx1ZSkge1xuICAgICAgaWYgKHR5cGUgPT0gZW5kIHx8IHZhbHVlID09IGVuZCkgcmV0dXJuIGNvbnQoKTtcbiAgICAgIHJldHVybiBwYXNzKHdoYXQsIHByb2NlZWQpO1xuICAgIH07XG4gIH1cbiAgZnVuY3Rpb24gY29udENvbW1hc2VwKHdoYXQsIGVuZCwgaW5mbykge1xuICAgIGZvciAodmFyIGkgPSAzOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgY3guY2MucHVzaChhcmd1bWVudHNbaV0pO1xuICAgIHJldHVybiBjb250KHB1c2hsZXgoZW5kLCBpbmZvKSwgY29tbWFzZXAod2hhdCwgZW5kKSwgcG9wbGV4KTtcbiAgfVxuICBmdW5jdGlvbiBibG9jayh0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ9XCIpIHJldHVybiBjb250KCk7XG4gICAgcmV0dXJuIHBhc3Moc3RhdGVtZW50LCBibG9jayk7XG4gIH1cbiAgZnVuY3Rpb24gbWF5YmV0eXBlKHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKGlzVFMpIHtcbiAgICAgIGlmICh0eXBlID09IFwiOlwiKSByZXR1cm4gY29udCh0eXBlZXhwcik7XG4gICAgICBpZiAodmFsdWUgPT0gXCI/XCIpIHJldHVybiBjb250KG1heWJldHlwZSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIG1heWJldHlwZU9ySW4odHlwZSwgdmFsdWUpIHtcbiAgICBpZiAoaXNUUyAmJiAodHlwZSA9PSBcIjpcIiB8fCB2YWx1ZSA9PSBcImluXCIpKSByZXR1cm4gY29udCh0eXBlZXhwcilcbiAgfVxuICBmdW5jdGlvbiBtYXliZXJldHR5cGUodHlwZSkge1xuICAgIGlmIChpc1RTICYmIHR5cGUgPT0gXCI6XCIpIHtcbiAgICAgIGlmIChjeC5zdHJlYW0ubWF0Y2goL15cXHMqXFx3K1xccytpc1xcYi8sIGZhbHNlKSkgcmV0dXJuIGNvbnQoZXhwcmVzc2lvbiwgaXNLVywgdHlwZWV4cHIpXG4gICAgICBlbHNlIHJldHVybiBjb250KHR5cGVleHByKVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBpc0tXKF8sIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IFwiaXNcIikge1xuICAgICAgY3gubWFya2VkID0gXCJrZXl3b3JkXCJcbiAgICAgIHJldHVybiBjb250KClcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gdHlwZWV4cHIodHlwZSwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gXCJrZXlvZlwiIHx8IHZhbHVlID09IFwidHlwZW9mXCIgfHwgdmFsdWUgPT0gXCJpbmZlclwiIHx8IHZhbHVlID09IFwicmVhZG9ubHlcIikge1xuICAgICAgY3gubWFya2VkID0gXCJrZXl3b3JkXCJcbiAgICAgIHJldHVybiBjb250KHZhbHVlID09IFwidHlwZW9mXCIgPyBleHByZXNzaW9uTm9Db21tYSA6IHR5cGVleHByKVxuICAgIH1cbiAgICBpZiAodHlwZSA9PSBcInZhcmlhYmxlXCIgfHwgdmFsdWUgPT0gXCJ2b2lkXCIpIHtcbiAgICAgIGN4Lm1hcmtlZCA9IFwidHlwZVwiXG4gICAgICByZXR1cm4gY29udChhZnRlclR5cGUpXG4gICAgfVxuICAgIGlmICh2YWx1ZSA9PSBcInxcIiB8fCB2YWx1ZSA9PSBcIiZcIikgcmV0dXJuIGNvbnQodHlwZWV4cHIpXG4gICAgaWYgKHR5cGUgPT0gXCJzdHJpbmdcIiB8fCB0eXBlID09IFwibnVtYmVyXCIgfHwgdHlwZSA9PSBcImF0b21cIikgcmV0dXJuIGNvbnQoYWZ0ZXJUeXBlKTtcbiAgICBpZiAodHlwZSA9PSBcIltcIikgcmV0dXJuIGNvbnQocHVzaGxleChcIl1cIiksIGNvbW1hc2VwKHR5cGVleHByLCBcIl1cIiwgXCIsXCIpLCBwb3BsZXgsIGFmdGVyVHlwZSlcbiAgICBpZiAodHlwZSA9PSBcIntcIikgcmV0dXJuIGNvbnQocHVzaGxleChcIn1cIiksIHR5cGVwcm9wcywgcG9wbGV4LCBhZnRlclR5cGUpXG4gICAgaWYgKHR5cGUgPT0gXCIoXCIpIHJldHVybiBjb250KGNvbW1hc2VwKHR5cGVhcmcsIFwiKVwiKSwgbWF5YmVSZXR1cm5UeXBlLCBhZnRlclR5cGUpXG4gICAgaWYgKHR5cGUgPT0gXCI8XCIpIHJldHVybiBjb250KGNvbW1hc2VwKHR5cGVleHByLCBcIj5cIiksIHR5cGVleHByKVxuICAgIGlmICh0eXBlID09IFwicXVhc2lcIikgeyByZXR1cm4gcGFzcyhxdWFzaVR5cGUsIGFmdGVyVHlwZSk7IH1cbiAgfVxuICBmdW5jdGlvbiBtYXliZVJldHVyblR5cGUodHlwZSkge1xuICAgIGlmICh0eXBlID09IFwiPT5cIikgcmV0dXJuIGNvbnQodHlwZWV4cHIpXG4gIH1cbiAgZnVuY3Rpb24gdHlwZXByb3BzKHR5cGUpIHtcbiAgICBpZiAodHlwZS5tYXRjaCgvW1xcfVxcKVxcXV0vKSkgcmV0dXJuIGNvbnQoKVxuICAgIGlmICh0eXBlID09IFwiLFwiIHx8IHR5cGUgPT0gXCI7XCIpIHJldHVybiBjb250KHR5cGVwcm9wcylcbiAgICByZXR1cm4gcGFzcyh0eXBlcHJvcCwgdHlwZXByb3BzKVxuICB9XG4gIGZ1bmN0aW9uIHR5cGVwcm9wKHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiIHx8IGN4LnN0eWxlID09IFwia2V5d29yZFwiKSB7XG4gICAgICBjeC5tYXJrZWQgPSBcInByb3BlcnR5XCJcbiAgICAgIHJldHVybiBjb250KHR5cGVwcm9wKVxuICAgIH0gZWxzZSBpZiAodmFsdWUgPT0gXCI/XCIgfHwgdHlwZSA9PSBcIm51bWJlclwiIHx8IHR5cGUgPT0gXCJzdHJpbmdcIikge1xuICAgICAgcmV0dXJuIGNvbnQodHlwZXByb3ApXG4gICAgfSBlbHNlIGlmICh0eXBlID09IFwiOlwiKSB7XG4gICAgICByZXR1cm4gY29udCh0eXBlZXhwcilcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCJbXCIpIHtcbiAgICAgIHJldHVybiBjb250KGV4cGVjdChcInZhcmlhYmxlXCIpLCBtYXliZXR5cGVPckluLCBleHBlY3QoXCJdXCIpLCB0eXBlcHJvcClcbiAgICB9IGVsc2UgaWYgKHR5cGUgPT0gXCIoXCIpIHtcbiAgICAgIHJldHVybiBwYXNzKGZ1bmN0aW9uZGVjbCwgdHlwZXByb3ApXG4gICAgfSBlbHNlIGlmICghdHlwZS5tYXRjaCgvWztcXH1cXClcXF0sXS8pKSB7XG4gICAgICByZXR1cm4gY29udCgpXG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHF1YXNpVHlwZSh0eXBlLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlICE9IFwicXVhc2lcIikgcmV0dXJuIHBhc3MoKTtcbiAgICBpZiAodmFsdWUuc2xpY2UodmFsdWUubGVuZ3RoIC0gMikgIT0gXCIke1wiKSByZXR1cm4gY29udChxdWFzaVR5cGUpO1xuICAgIHJldHVybiBjb250KHR5cGVleHByLCBjb250aW51ZVF1YXNpVHlwZSk7XG4gIH1cbiAgZnVuY3Rpb24gY29udGludWVRdWFzaVR5cGUodHlwZSkge1xuICAgIGlmICh0eXBlID09IFwifVwiKSB7XG4gICAgICBjeC5tYXJrZWQgPSBcInN0cmluZy0yXCI7XG4gICAgICBjeC5zdGF0ZS50b2tlbml6ZSA9IHRva2VuUXVhc2k7XG4gICAgICByZXR1cm4gY29udChxdWFzaVR5cGUpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiB0eXBlYXJnKHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiICYmIGN4LnN0cmVhbS5tYXRjaCgvXlxccypbPzpdLywgZmFsc2UpIHx8IHZhbHVlID09IFwiP1wiKSByZXR1cm4gY29udCh0eXBlYXJnKVxuICAgIGlmICh0eXBlID09IFwiOlwiKSByZXR1cm4gY29udCh0eXBlZXhwcilcbiAgICBpZiAodHlwZSA9PSBcInNwcmVhZFwiKSByZXR1cm4gY29udCh0eXBlYXJnKVxuICAgIHJldHVybiBwYXNzKHR5cGVleHByKVxuICB9XG4gIGZ1bmN0aW9uIGFmdGVyVHlwZSh0eXBlLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBcIjxcIikgcmV0dXJuIGNvbnQocHVzaGxleChcIj5cIiksIGNvbW1hc2VwKHR5cGVleHByLCBcIj5cIiksIHBvcGxleCwgYWZ0ZXJUeXBlKVxuICAgIGlmICh2YWx1ZSA9PSBcInxcIiB8fCB0eXBlID09IFwiLlwiIHx8IHZhbHVlID09IFwiJlwiKSByZXR1cm4gY29udCh0eXBlZXhwcilcbiAgICBpZiAodHlwZSA9PSBcIltcIikgcmV0dXJuIGNvbnQodHlwZWV4cHIsIGV4cGVjdChcIl1cIiksIGFmdGVyVHlwZSlcbiAgICBpZiAodmFsdWUgPT0gXCJleHRlbmRzXCIgfHwgdmFsdWUgPT0gXCJpbXBsZW1lbnRzXCIpIHsgY3gubWFya2VkID0gXCJrZXl3b3JkXCI7IHJldHVybiBjb250KHR5cGVleHByKSB9XG4gICAgaWYgKHZhbHVlID09IFwiP1wiKSByZXR1cm4gY29udCh0eXBlZXhwciwgZXhwZWN0KFwiOlwiKSwgdHlwZWV4cHIpXG4gIH1cbiAgZnVuY3Rpb24gbWF5YmVUeXBlQXJncyhfLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBcIjxcIikgcmV0dXJuIGNvbnQocHVzaGxleChcIj5cIiksIGNvbW1hc2VwKHR5cGVleHByLCBcIj5cIiksIHBvcGxleCwgYWZ0ZXJUeXBlKVxuICB9XG4gIGZ1bmN0aW9uIHR5cGVwYXJhbSgpIHtcbiAgICByZXR1cm4gcGFzcyh0eXBlZXhwciwgbWF5YmVUeXBlRGVmYXVsdClcbiAgfVxuICBmdW5jdGlvbiBtYXliZVR5cGVEZWZhdWx0KF8sIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IFwiPVwiKSByZXR1cm4gY29udCh0eXBlZXhwcilcbiAgfVxuICBmdW5jdGlvbiB2YXJkZWYoXywgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gXCJlbnVtXCIpIHtjeC5tYXJrZWQgPSBcImtleXdvcmRcIjsgcmV0dXJuIGNvbnQoZW51bWRlZil9XG4gICAgcmV0dXJuIHBhc3MocGF0dGVybiwgbWF5YmV0eXBlLCBtYXliZUFzc2lnbiwgdmFyZGVmQ29udCk7XG4gIH1cbiAgZnVuY3Rpb24gcGF0dGVybih0eXBlLCB2YWx1ZSkge1xuICAgIGlmIChpc1RTICYmIGlzTW9kaWZpZXIodmFsdWUpKSB7IGN4Lm1hcmtlZCA9IFwia2V5d29yZFwiOyByZXR1cm4gY29udChwYXR0ZXJuKSB9XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiKSB7IHJlZ2lzdGVyKHZhbHVlKTsgcmV0dXJuIGNvbnQoKTsgfVxuICAgIGlmICh0eXBlID09IFwic3ByZWFkXCIpIHJldHVybiBjb250KHBhdHRlcm4pO1xuICAgIGlmICh0eXBlID09IFwiW1wiKSByZXR1cm4gY29udENvbW1hc2VwKGVsdHBhdHRlcm4sIFwiXVwiKTtcbiAgICBpZiAodHlwZSA9PSBcIntcIikgcmV0dXJuIGNvbnRDb21tYXNlcChwcm9wcGF0dGVybiwgXCJ9XCIpO1xuICB9XG4gIGZ1bmN0aW9uIHByb3BwYXR0ZXJuKHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiICYmICFjeC5zdHJlYW0ubWF0Y2goL15cXHMqOi8sIGZhbHNlKSkge1xuICAgICAgcmVnaXN0ZXIodmFsdWUpO1xuICAgICAgcmV0dXJuIGNvbnQobWF5YmVBc3NpZ24pO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PSBcInZhcmlhYmxlXCIpIGN4Lm1hcmtlZCA9IFwicHJvcGVydHlcIjtcbiAgICBpZiAodHlwZSA9PSBcInNwcmVhZFwiKSByZXR1cm4gY29udChwYXR0ZXJuKTtcbiAgICBpZiAodHlwZSA9PSBcIn1cIikgcmV0dXJuIHBhc3MoKTtcbiAgICBpZiAodHlwZSA9PSBcIltcIikgcmV0dXJuIGNvbnQoZXhwcmVzc2lvbiwgZXhwZWN0KCddJyksIGV4cGVjdCgnOicpLCBwcm9wcGF0dGVybik7XG4gICAgcmV0dXJuIGNvbnQoZXhwZWN0KFwiOlwiKSwgcGF0dGVybiwgbWF5YmVBc3NpZ24pO1xuICB9XG4gIGZ1bmN0aW9uIGVsdHBhdHRlcm4oKSB7XG4gICAgcmV0dXJuIHBhc3MocGF0dGVybiwgbWF5YmVBc3NpZ24pXG4gIH1cbiAgZnVuY3Rpb24gbWF5YmVBc3NpZ24oX3R5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IFwiPVwiKSByZXR1cm4gY29udChleHByZXNzaW9uTm9Db21tYSk7XG4gIH1cbiAgZnVuY3Rpb24gdmFyZGVmQ29udCh0eXBlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCIsXCIpIHJldHVybiBjb250KHZhcmRlZik7XG4gIH1cbiAgZnVuY3Rpb24gbWF5YmVlbHNlKHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJrZXl3b3JkIGJcIiAmJiB2YWx1ZSA9PSBcImVsc2VcIikgcmV0dXJuIGNvbnQocHVzaGxleChcImZvcm1cIiwgXCJlbHNlXCIpLCBzdGF0ZW1lbnQsIHBvcGxleCk7XG4gIH1cbiAgZnVuY3Rpb24gZm9yc3BlYyh0eXBlLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBcImF3YWl0XCIpIHJldHVybiBjb250KGZvcnNwZWMpO1xuICAgIGlmICh0eXBlID09IFwiKFwiKSByZXR1cm4gY29udChwdXNobGV4KFwiKVwiKSwgZm9yc3BlYzEsIHBvcGxleCk7XG4gIH1cbiAgZnVuY3Rpb24gZm9yc3BlYzEodHlwZSkge1xuICAgIGlmICh0eXBlID09IFwidmFyXCIpIHJldHVybiBjb250KHZhcmRlZiwgZm9yc3BlYzIpO1xuICAgIGlmICh0eXBlID09IFwidmFyaWFibGVcIikgcmV0dXJuIGNvbnQoZm9yc3BlYzIpO1xuICAgIHJldHVybiBwYXNzKGZvcnNwZWMyKVxuICB9XG4gIGZ1bmN0aW9uIGZvcnNwZWMyKHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCIpXCIpIHJldHVybiBjb250KClcbiAgICBpZiAodHlwZSA9PSBcIjtcIikgcmV0dXJuIGNvbnQoZm9yc3BlYzIpXG4gICAgaWYgKHZhbHVlID09IFwiaW5cIiB8fCB2YWx1ZSA9PSBcIm9mXCIpIHsgY3gubWFya2VkID0gXCJrZXl3b3JkXCI7IHJldHVybiBjb250KGV4cHJlc3Npb24sIGZvcnNwZWMyKSB9XG4gICAgcmV0dXJuIHBhc3MoZXhwcmVzc2lvbiwgZm9yc3BlYzIpXG4gIH1cbiAgZnVuY3Rpb24gZnVuY3Rpb25kZWYodHlwZSwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gXCIqXCIpIHtjeC5tYXJrZWQgPSBcImtleXdvcmRcIjsgcmV0dXJuIGNvbnQoZnVuY3Rpb25kZWYpO31cbiAgICBpZiAodHlwZSA9PSBcInZhcmlhYmxlXCIpIHtyZWdpc3Rlcih2YWx1ZSk7IHJldHVybiBjb250KGZ1bmN0aW9uZGVmKTt9XG4gICAgaWYgKHR5cGUgPT0gXCIoXCIpIHJldHVybiBjb250KHB1c2hjb250ZXh0LCBwdXNobGV4KFwiKVwiKSwgY29tbWFzZXAoZnVuYXJnLCBcIilcIiksIHBvcGxleCwgbWF5YmVyZXR0eXBlLCBzdGF0ZW1lbnQsIHBvcGNvbnRleHQpO1xuICAgIGlmIChpc1RTICYmIHZhbHVlID09IFwiPFwiKSByZXR1cm4gY29udChwdXNobGV4KFwiPlwiKSwgY29tbWFzZXAodHlwZXBhcmFtLCBcIj5cIiksIHBvcGxleCwgZnVuY3Rpb25kZWYpXG4gIH1cbiAgZnVuY3Rpb24gZnVuY3Rpb25kZWNsKHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IFwiKlwiKSB7Y3gubWFya2VkID0gXCJrZXl3b3JkXCI7IHJldHVybiBjb250KGZ1bmN0aW9uZGVjbCk7fVxuICAgIGlmICh0eXBlID09IFwidmFyaWFibGVcIikge3JlZ2lzdGVyKHZhbHVlKTsgcmV0dXJuIGNvbnQoZnVuY3Rpb25kZWNsKTt9XG4gICAgaWYgKHR5cGUgPT0gXCIoXCIpIHJldHVybiBjb250KHB1c2hjb250ZXh0LCBwdXNobGV4KFwiKVwiKSwgY29tbWFzZXAoZnVuYXJnLCBcIilcIiksIHBvcGxleCwgbWF5YmVyZXR0eXBlLCBwb3Bjb250ZXh0KTtcbiAgICBpZiAoaXNUUyAmJiB2YWx1ZSA9PSBcIjxcIikgcmV0dXJuIGNvbnQocHVzaGxleChcIj5cIiksIGNvbW1hc2VwKHR5cGVwYXJhbSwgXCI+XCIpLCBwb3BsZXgsIGZ1bmN0aW9uZGVjbClcbiAgfVxuICBmdW5jdGlvbiB0eXBlbmFtZSh0eXBlLCB2YWx1ZSkge1xuICAgIGlmICh0eXBlID09IFwia2V5d29yZFwiIHx8IHR5cGUgPT0gXCJ2YXJpYWJsZVwiKSB7XG4gICAgICBjeC5tYXJrZWQgPSBcInR5cGVcIlxuICAgICAgcmV0dXJuIGNvbnQodHlwZW5hbWUpXG4gICAgfSBlbHNlIGlmICh2YWx1ZSA9PSBcIjxcIikge1xuICAgICAgcmV0dXJuIGNvbnQocHVzaGxleChcIj5cIiksIGNvbW1hc2VwKHR5cGVwYXJhbSwgXCI+XCIpLCBwb3BsZXgpXG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGZ1bmFyZyh0eXBlLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBcIkBcIikgY29udChleHByZXNzaW9uLCBmdW5hcmcpXG4gICAgaWYgKHR5cGUgPT0gXCJzcHJlYWRcIikgcmV0dXJuIGNvbnQoZnVuYXJnKTtcbiAgICBpZiAoaXNUUyAmJiBpc01vZGlmaWVyKHZhbHVlKSkgeyBjeC5tYXJrZWQgPSBcImtleXdvcmRcIjsgcmV0dXJuIGNvbnQoZnVuYXJnKTsgfVxuICAgIGlmIChpc1RTICYmIHR5cGUgPT0gXCJ0aGlzXCIpIHJldHVybiBjb250KG1heWJldHlwZSwgbWF5YmVBc3NpZ24pXG4gICAgcmV0dXJuIHBhc3MocGF0dGVybiwgbWF5YmV0eXBlLCBtYXliZUFzc2lnbik7XG4gIH1cbiAgZnVuY3Rpb24gY2xhc3NFeHByZXNzaW9uKHR5cGUsIHZhbHVlKSB7XG4gICAgLy8gQ2xhc3MgZXhwcmVzc2lvbnMgbWF5IGhhdmUgYW4gb3B0aW9uYWwgbmFtZS5cbiAgICBpZiAodHlwZSA9PSBcInZhcmlhYmxlXCIpIHJldHVybiBjbGFzc05hbWUodHlwZSwgdmFsdWUpO1xuICAgIHJldHVybiBjbGFzc05hbWVBZnRlcih0eXBlLCB2YWx1ZSk7XG4gIH1cbiAgZnVuY3Rpb24gY2xhc3NOYW1lKHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiKSB7cmVnaXN0ZXIodmFsdWUpOyByZXR1cm4gY29udChjbGFzc05hbWVBZnRlcik7fVxuICB9XG4gIGZ1bmN0aW9uIGNsYXNzTmFtZUFmdGVyKHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IFwiPFwiKSByZXR1cm4gY29udChwdXNobGV4KFwiPlwiKSwgY29tbWFzZXAodHlwZXBhcmFtLCBcIj5cIiksIHBvcGxleCwgY2xhc3NOYW1lQWZ0ZXIpXG4gICAgaWYgKHZhbHVlID09IFwiZXh0ZW5kc1wiIHx8IHZhbHVlID09IFwiaW1wbGVtZW50c1wiIHx8IChpc1RTICYmIHR5cGUgPT0gXCIsXCIpKSB7XG4gICAgICBpZiAodmFsdWUgPT0gXCJpbXBsZW1lbnRzXCIpIGN4Lm1hcmtlZCA9IFwia2V5d29yZFwiO1xuICAgICAgcmV0dXJuIGNvbnQoaXNUUyA/IHR5cGVleHByIDogZXhwcmVzc2lvbiwgY2xhc3NOYW1lQWZ0ZXIpO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PSBcIntcIikgcmV0dXJuIGNvbnQocHVzaGxleChcIn1cIiksIGNsYXNzQm9keSwgcG9wbGV4KTtcbiAgfVxuICBmdW5jdGlvbiBjbGFzc0JvZHkodHlwZSwgdmFsdWUpIHtcbiAgICBpZiAodHlwZSA9PSBcImFzeW5jXCIgfHxcbiAgICAgICAgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiICYmXG4gICAgICAgICAodmFsdWUgPT0gXCJzdGF0aWNcIiB8fCB2YWx1ZSA9PSBcImdldFwiIHx8IHZhbHVlID09IFwic2V0XCIgfHwgKGlzVFMgJiYgaXNNb2RpZmllcih2YWx1ZSkpKSAmJlxuICAgICAgICAgY3guc3RyZWFtLm1hdGNoKC9eXFxzKyM/W1xcdyRcXHhhMS1cXHVmZmZmXS8sIGZhbHNlKSkpIHtcbiAgICAgIGN4Lm1hcmtlZCA9IFwia2V5d29yZFwiO1xuICAgICAgcmV0dXJuIGNvbnQoY2xhc3NCb2R5KTtcbiAgICB9XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiIHx8IGN4LnN0eWxlID09IFwia2V5d29yZFwiKSB7XG4gICAgICBjeC5tYXJrZWQgPSBcInByb3BlcnR5XCI7XG4gICAgICByZXR1cm4gY29udChjbGFzc2ZpZWxkLCBjbGFzc0JvZHkpO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PSBcIm51bWJlclwiIHx8IHR5cGUgPT0gXCJzdHJpbmdcIikgcmV0dXJuIGNvbnQoY2xhc3NmaWVsZCwgY2xhc3NCb2R5KTtcbiAgICBpZiAodHlwZSA9PSBcIltcIilcbiAgICAgIHJldHVybiBjb250KGV4cHJlc3Npb24sIG1heWJldHlwZSwgZXhwZWN0KFwiXVwiKSwgY2xhc3NmaWVsZCwgY2xhc3NCb2R5KVxuICAgIGlmICh2YWx1ZSA9PSBcIipcIikge1xuICAgICAgY3gubWFya2VkID0gXCJrZXl3b3JkXCI7XG4gICAgICByZXR1cm4gY29udChjbGFzc0JvZHkpO1xuICAgIH1cbiAgICBpZiAoaXNUUyAmJiB0eXBlID09IFwiKFwiKSByZXR1cm4gcGFzcyhmdW5jdGlvbmRlY2wsIGNsYXNzQm9keSlcbiAgICBpZiAodHlwZSA9PSBcIjtcIiB8fCB0eXBlID09IFwiLFwiKSByZXR1cm4gY29udChjbGFzc0JvZHkpO1xuICAgIGlmICh0eXBlID09IFwifVwiKSByZXR1cm4gY29udCgpO1xuICAgIGlmICh2YWx1ZSA9PSBcIkBcIikgcmV0dXJuIGNvbnQoZXhwcmVzc2lvbiwgY2xhc3NCb2R5KVxuICB9XG4gIGZ1bmN0aW9uIGNsYXNzZmllbGQodHlwZSwgdmFsdWUpIHtcbiAgICBpZiAodmFsdWUgPT0gXCIhXCIpIHJldHVybiBjb250KGNsYXNzZmllbGQpXG4gICAgaWYgKHZhbHVlID09IFwiP1wiKSByZXR1cm4gY29udChjbGFzc2ZpZWxkKVxuICAgIGlmICh0eXBlID09IFwiOlwiKSByZXR1cm4gY29udCh0eXBlZXhwciwgbWF5YmVBc3NpZ24pXG4gICAgaWYgKHZhbHVlID09IFwiPVwiKSByZXR1cm4gY29udChleHByZXNzaW9uTm9Db21tYSlcbiAgICB2YXIgY29udGV4dCA9IGN4LnN0YXRlLmxleGljYWwucHJldiwgaXNJbnRlcmZhY2UgPSBjb250ZXh0ICYmIGNvbnRleHQuaW5mbyA9PSBcImludGVyZmFjZVwiXG4gICAgcmV0dXJuIHBhc3MoaXNJbnRlcmZhY2UgPyBmdW5jdGlvbmRlY2wgOiBmdW5jdGlvbmRlZilcbiAgfVxuICBmdW5jdGlvbiBhZnRlckV4cG9ydCh0eXBlLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBcIipcIikgeyBjeC5tYXJrZWQgPSBcImtleXdvcmRcIjsgcmV0dXJuIGNvbnQobWF5YmVGcm9tLCBleHBlY3QoXCI7XCIpKTsgfVxuICAgIGlmICh2YWx1ZSA9PSBcImRlZmF1bHRcIikgeyBjeC5tYXJrZWQgPSBcImtleXdvcmRcIjsgcmV0dXJuIGNvbnQoZXhwcmVzc2lvbiwgZXhwZWN0KFwiO1wiKSk7IH1cbiAgICBpZiAodHlwZSA9PSBcIntcIikgcmV0dXJuIGNvbnQoY29tbWFzZXAoZXhwb3J0RmllbGQsIFwifVwiKSwgbWF5YmVGcm9tLCBleHBlY3QoXCI7XCIpKTtcbiAgICByZXR1cm4gcGFzcyhzdGF0ZW1lbnQpO1xuICB9XG4gIGZ1bmN0aW9uIGV4cG9ydEZpZWxkKHR5cGUsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlID09IFwiYXNcIikgeyBjeC5tYXJrZWQgPSBcImtleXdvcmRcIjsgcmV0dXJuIGNvbnQoZXhwZWN0KFwidmFyaWFibGVcIikpOyB9XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiKSByZXR1cm4gcGFzcyhleHByZXNzaW9uTm9Db21tYSwgZXhwb3J0RmllbGQpO1xuICB9XG4gIGZ1bmN0aW9uIGFmdGVySW1wb3J0KHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PSBcInN0cmluZ1wiKSByZXR1cm4gY29udCgpO1xuICAgIGlmICh0eXBlID09IFwiKFwiKSByZXR1cm4gcGFzcyhleHByZXNzaW9uKTtcbiAgICBpZiAodHlwZSA9PSBcIi5cIikgcmV0dXJuIHBhc3MobWF5YmVvcGVyYXRvckNvbW1hKTtcbiAgICByZXR1cm4gcGFzcyhpbXBvcnRTcGVjLCBtYXliZU1vcmVJbXBvcnRzLCBtYXliZUZyb20pO1xuICB9XG4gIGZ1bmN0aW9uIGltcG9ydFNwZWModHlwZSwgdmFsdWUpIHtcbiAgICBpZiAodHlwZSA9PSBcIntcIikgcmV0dXJuIGNvbnRDb21tYXNlcChpbXBvcnRTcGVjLCBcIn1cIik7XG4gICAgaWYgKHR5cGUgPT0gXCJ2YXJpYWJsZVwiKSByZWdpc3Rlcih2YWx1ZSk7XG4gICAgaWYgKHZhbHVlID09IFwiKlwiKSBjeC5tYXJrZWQgPSBcImtleXdvcmRcIjtcbiAgICByZXR1cm4gY29udChtYXliZUFzKTtcbiAgfVxuICBmdW5jdGlvbiBtYXliZU1vcmVJbXBvcnRzKHR5cGUpIHtcbiAgICBpZiAodHlwZSA9PSBcIixcIikgcmV0dXJuIGNvbnQoaW1wb3J0U3BlYywgbWF5YmVNb3JlSW1wb3J0cylcbiAgfVxuICBmdW5jdGlvbiBtYXliZUFzKF90eXBlLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBcImFzXCIpIHsgY3gubWFya2VkID0gXCJrZXl3b3JkXCI7IHJldHVybiBjb250KGltcG9ydFNwZWMpOyB9XG4gIH1cbiAgZnVuY3Rpb24gbWF5YmVGcm9tKF90eXBlLCB2YWx1ZSkge1xuICAgIGlmICh2YWx1ZSA9PSBcImZyb21cIikgeyBjeC5tYXJrZWQgPSBcImtleXdvcmRcIjsgcmV0dXJuIGNvbnQoZXhwcmVzc2lvbik7IH1cbiAgfVxuICBmdW5jdGlvbiBhcnJheUxpdGVyYWwodHlwZSkge1xuICAgIGlmICh0eXBlID09IFwiXVwiKSByZXR1cm4gY29udCgpO1xuICAgIHJldHVybiBwYXNzKGNvbW1hc2VwKGV4cHJlc3Npb25Ob0NvbW1hLCBcIl1cIikpO1xuICB9XG4gIGZ1bmN0aW9uIGVudW1kZWYoKSB7XG4gICAgcmV0dXJuIHBhc3MocHVzaGxleChcImZvcm1cIiksIHBhdHRlcm4sIGV4cGVjdChcIntcIiksIHB1c2hsZXgoXCJ9XCIpLCBjb21tYXNlcChlbnVtbWVtYmVyLCBcIn1cIiksIHBvcGxleCwgcG9wbGV4KVxuICB9XG4gIGZ1bmN0aW9uIGVudW1tZW1iZXIoKSB7XG4gICAgcmV0dXJuIHBhc3MocGF0dGVybiwgbWF5YmVBc3NpZ24pO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNDb250aW51ZWRTdGF0ZW1lbnQoc3RhdGUsIHRleHRBZnRlcikge1xuICAgIHJldHVybiBzdGF0ZS5sYXN0VHlwZSA9PSBcIm9wZXJhdG9yXCIgfHwgc3RhdGUubGFzdFR5cGUgPT0gXCIsXCIgfHxcbiAgICAgIGlzT3BlcmF0b3JDaGFyLnRlc3QodGV4dEFmdGVyLmNoYXJBdCgwKSkgfHxcbiAgICAgIC9bLC5dLy50ZXN0KHRleHRBZnRlci5jaGFyQXQoMCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZXhwcmVzc2lvbkFsbG93ZWQoc3RyZWFtLCBzdGF0ZSwgYmFja1VwKSB7XG4gICAgcmV0dXJuIHN0YXRlLnRva2VuaXplID09IHRva2VuQmFzZSAmJlxuICAgICAgL14oPzpvcGVyYXRvcnxzb2Z8a2V5d29yZCBbYmNkXXxjYXNlfG5ld3xleHBvcnR8ZGVmYXVsdHxzcHJlYWR8W1xcW3t9XFwoLDs6XXw9PikkLy50ZXN0KHN0YXRlLmxhc3RUeXBlKSB8fFxuICAgICAgKHN0YXRlLmxhc3RUeXBlID09IFwicXVhc2lcIiAmJiAvXFx7XFxzKiQvLnRlc3Qoc3RyZWFtLnN0cmluZy5zbGljZSgwLCBzdHJlYW0ucG9zIC0gKGJhY2tVcCB8fCAwKSkpKVxuICB9XG5cbiAgLy8gSW50ZXJmYWNlXG5cbiAgcmV0dXJuIHtcbiAgICBzdGFydFN0YXRlOiBmdW5jdGlvbihiYXNlY29sdW1uKSB7XG4gICAgICB2YXIgc3RhdGUgPSB7XG4gICAgICAgIHRva2VuaXplOiB0b2tlbkJhc2UsXG4gICAgICAgIGxhc3RUeXBlOiBcInNvZlwiLFxuICAgICAgICBjYzogW10sXG4gICAgICAgIGxleGljYWw6IG5ldyBKU0xleGljYWwoKGJhc2Vjb2x1bW4gfHwgMCkgLSBpbmRlbnRVbml0LCAwLCBcImJsb2NrXCIsIGZhbHNlKSxcbiAgICAgICAgbG9jYWxWYXJzOiBwYXJzZXJDb25maWcubG9jYWxWYXJzLFxuICAgICAgICBjb250ZXh0OiBwYXJzZXJDb25maWcubG9jYWxWYXJzICYmIG5ldyBDb250ZXh0KG51bGwsIG51bGwsIGZhbHNlKSxcbiAgICAgICAgaW5kZW50ZWQ6IGJhc2Vjb2x1bW4gfHwgMFxuICAgICAgfTtcbiAgICAgIGlmIChwYXJzZXJDb25maWcuZ2xvYmFsVmFycyAmJiB0eXBlb2YgcGFyc2VyQ29uZmlnLmdsb2JhbFZhcnMgPT0gXCJvYmplY3RcIilcbiAgICAgICAgc3RhdGUuZ2xvYmFsVmFycyA9IHBhcnNlckNvbmZpZy5nbG9iYWxWYXJzO1xuICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH0sXG5cbiAgICB0b2tlbjogZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgaWYgKHN0cmVhbS5zb2woKSkge1xuICAgICAgICBpZiAoIXN0YXRlLmxleGljYWwuaGFzT3duUHJvcGVydHkoXCJhbGlnblwiKSlcbiAgICAgICAgICBzdGF0ZS5sZXhpY2FsLmFsaWduID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLmluZGVudGVkID0gc3RyZWFtLmluZGVudGF0aW9uKCk7XG4gICAgICAgIGZpbmRGYXRBcnJvdyhzdHJlYW0sIHN0YXRlKTtcbiAgICAgIH1cbiAgICAgIGlmIChzdGF0ZS50b2tlbml6ZSAhPSB0b2tlbkNvbW1lbnQgJiYgc3RyZWFtLmVhdFNwYWNlKCkpIHJldHVybiBudWxsO1xuICAgICAgdmFyIHN0eWxlID0gc3RhdGUudG9rZW5pemUoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICBpZiAodHlwZSA9PSBcImNvbW1lbnRcIikgcmV0dXJuIHN0eWxlO1xuICAgICAgc3RhdGUubGFzdFR5cGUgPSB0eXBlID09IFwib3BlcmF0b3JcIiAmJiAoY29udGVudCA9PSBcIisrXCIgfHwgY29udGVudCA9PSBcIi0tXCIpID8gXCJpbmNkZWNcIiA6IHR5cGU7XG4gICAgICByZXR1cm4gcGFyc2VKUyhzdGF0ZSwgc3R5bGUsIHR5cGUsIGNvbnRlbnQsIHN0cmVhbSk7XG4gICAgfSxcblxuICAgIGluZGVudDogZnVuY3Rpb24oc3RhdGUsIHRleHRBZnRlcikge1xuICAgICAgaWYgKHN0YXRlLnRva2VuaXplID09IHRva2VuQ29tbWVudCB8fCBzdGF0ZS50b2tlbml6ZSA9PSB0b2tlblF1YXNpKSByZXR1cm4gQ29kZU1pcnJvci5QYXNzO1xuICAgICAgaWYgKHN0YXRlLnRva2VuaXplICE9IHRva2VuQmFzZSkgcmV0dXJuIDA7XG4gICAgICB2YXIgZmlyc3RDaGFyID0gdGV4dEFmdGVyICYmIHRleHRBZnRlci5jaGFyQXQoMCksIGxleGljYWwgPSBzdGF0ZS5sZXhpY2FsLCB0b3BcbiAgICAgIC8vIEtsdWRnZSB0byBwcmV2ZW50ICdtYXliZWxzZScgZnJvbSBibG9ja2luZyBsZXhpY2FsIHNjb3BlIHBvcHNcbiAgICAgIGlmICghL15cXHMqZWxzZVxcYi8udGVzdCh0ZXh0QWZ0ZXIpKSBmb3IgKHZhciBpID0gc3RhdGUuY2MubGVuZ3RoIC0gMTsgaSA+PSAwOyAtLWkpIHtcbiAgICAgICAgdmFyIGMgPSBzdGF0ZS5jY1tpXTtcbiAgICAgICAgaWYgKGMgPT0gcG9wbGV4KSBsZXhpY2FsID0gbGV4aWNhbC5wcmV2O1xuICAgICAgICBlbHNlIGlmIChjICE9IG1heWJlZWxzZSAmJiBjICE9IHBvcGNvbnRleHQpIGJyZWFrO1xuICAgICAgfVxuICAgICAgd2hpbGUgKChsZXhpY2FsLnR5cGUgPT0gXCJzdGF0XCIgfHwgbGV4aWNhbC50eXBlID09IFwiZm9ybVwiKSAmJlxuICAgICAgICAgICAgIChmaXJzdENoYXIgPT0gXCJ9XCIgfHwgKCh0b3AgPSBzdGF0ZS5jY1tzdGF0ZS5jYy5sZW5ndGggLSAxXSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRvcCA9PSBtYXliZW9wZXJhdG9yQ29tbWEgfHwgdG9wID09IG1heWJlb3BlcmF0b3JOb0NvbW1hKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAhL15bLFxcLj0rXFwtKjo/W1xcKF0vLnRlc3QodGV4dEFmdGVyKSkpKVxuICAgICAgICBsZXhpY2FsID0gbGV4aWNhbC5wcmV2O1xuICAgICAgaWYgKHN0YXRlbWVudEluZGVudCAmJiBsZXhpY2FsLnR5cGUgPT0gXCIpXCIgJiYgbGV4aWNhbC5wcmV2LnR5cGUgPT0gXCJzdGF0XCIpXG4gICAgICAgIGxleGljYWwgPSBsZXhpY2FsLnByZXY7XG4gICAgICB2YXIgdHlwZSA9IGxleGljYWwudHlwZSwgY2xvc2luZyA9IGZpcnN0Q2hhciA9PSB0eXBlO1xuXG4gICAgICBpZiAodHlwZSA9PSBcInZhcmRlZlwiKSByZXR1cm4gbGV4aWNhbC5pbmRlbnRlZCArIChzdGF0ZS5sYXN0VHlwZSA9PSBcIm9wZXJhdG9yXCIgfHwgc3RhdGUubGFzdFR5cGUgPT0gXCIsXCIgPyBsZXhpY2FsLmluZm8ubGVuZ3RoICsgMSA6IDApO1xuICAgICAgZWxzZSBpZiAodHlwZSA9PSBcImZvcm1cIiAmJiBmaXJzdENoYXIgPT0gXCJ7XCIpIHJldHVybiBsZXhpY2FsLmluZGVudGVkO1xuICAgICAgZWxzZSBpZiAodHlwZSA9PSBcImZvcm1cIikgcmV0dXJuIGxleGljYWwuaW5kZW50ZWQgKyBpbmRlbnRVbml0O1xuICAgICAgZWxzZSBpZiAodHlwZSA9PSBcInN0YXRcIilcbiAgICAgICAgcmV0dXJuIGxleGljYWwuaW5kZW50ZWQgKyAoaXNDb250aW51ZWRTdGF0ZW1lbnQoc3RhdGUsIHRleHRBZnRlcikgPyBzdGF0ZW1lbnRJbmRlbnQgfHwgaW5kZW50VW5pdCA6IDApO1xuICAgICAgZWxzZSBpZiAobGV4aWNhbC5pbmZvID09IFwic3dpdGNoXCIgJiYgIWNsb3NpbmcgJiYgcGFyc2VyQ29uZmlnLmRvdWJsZUluZGVudFN3aXRjaCAhPSBmYWxzZSlcbiAgICAgICAgcmV0dXJuIGxleGljYWwuaW5kZW50ZWQgKyAoL14oPzpjYXNlfGRlZmF1bHQpXFxiLy50ZXN0KHRleHRBZnRlcikgPyBpbmRlbnRVbml0IDogMiAqIGluZGVudFVuaXQpO1xuICAgICAgZWxzZSBpZiAobGV4aWNhbC5hbGlnbikgcmV0dXJuIGxleGljYWwuY29sdW1uICsgKGNsb3NpbmcgPyAwIDogMSk7XG4gICAgICBlbHNlIHJldHVybiBsZXhpY2FsLmluZGVudGVkICsgKGNsb3NpbmcgPyAwIDogaW5kZW50VW5pdCk7XG4gICAgfSxcblxuICAgIGVsZWN0cmljSW5wdXQ6IC9eXFxzKig/OmNhc2UgLio/OnxkZWZhdWx0OnxcXHt8XFx9KSQvLFxuICAgIGJsb2NrQ29tbWVudFN0YXJ0OiBqc29uTW9kZSA/IG51bGwgOiBcIi8qXCIsXG4gICAgYmxvY2tDb21tZW50RW5kOiBqc29uTW9kZSA/IG51bGwgOiBcIiovXCIsXG4gICAgYmxvY2tDb21tZW50Q29udGludWU6IGpzb25Nb2RlID8gbnVsbCA6IFwiICogXCIsXG4gICAgbGluZUNvbW1lbnQ6IGpzb25Nb2RlID8gbnVsbCA6IFwiLy9cIixcbiAgICBmb2xkOiBcImJyYWNlXCIsXG4gICAgY2xvc2VCcmFja2V0czogXCIoKVtde30nJ1xcXCJcXFwiYGBcIixcblxuICAgIGhlbHBlclR5cGU6IGpzb25Nb2RlID8gXCJqc29uXCIgOiBcImphdmFzY3JpcHRcIixcbiAgICBqc29ubGRNb2RlOiBqc29ubGRNb2RlLFxuICAgIGpzb25Nb2RlOiBqc29uTW9kZSxcblxuICAgIGV4cHJlc3Npb25BbGxvd2VkOiBleHByZXNzaW9uQWxsb3dlZCxcblxuICAgIHNraXBFeHByZXNzaW9uOiBmdW5jdGlvbihzdGF0ZSkge1xuICAgICAgcGFyc2VKUyhzdGF0ZSwgXCJhdG9tXCIsIFwiYXRvbVwiLCBcInRydWVcIiwgbmV3IENvZGVNaXJyb3IuU3RyaW5nU3RyZWFtKFwiXCIsIDIsIG51bGwpKVxuICAgIH1cbiAgfTtcbn0pO1xuXG5Db2RlTWlycm9yLnJlZ2lzdGVySGVscGVyKFwid29yZENoYXJzXCIsIFwiamF2YXNjcmlwdFwiLCAvW1xcdyRdLyk7XG5cbkNvZGVNaXJyb3IuZGVmaW5lTUlNRShcInRleHQvamF2YXNjcmlwdFwiLCBcImphdmFzY3JpcHRcIik7XG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJ0ZXh0L2VjbWFzY3JpcHRcIiwgXCJqYXZhc2NyaXB0XCIpO1xuQ29kZU1pcnJvci5kZWZpbmVNSU1FKFwiYXBwbGljYXRpb24vamF2YXNjcmlwdFwiLCBcImphdmFzY3JpcHRcIik7XG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJhcHBsaWNhdGlvbi94LWphdmFzY3JpcHRcIiwgXCJqYXZhc2NyaXB0XCIpO1xuQ29kZU1pcnJvci5kZWZpbmVNSU1FKFwiYXBwbGljYXRpb24vZWNtYXNjcmlwdFwiLCBcImphdmFzY3JpcHRcIik7XG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJhcHBsaWNhdGlvbi9qc29uXCIsIHsgbmFtZTogXCJqYXZhc2NyaXB0XCIsIGpzb246IHRydWUgfSk7XG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJhcHBsaWNhdGlvbi94LWpzb25cIiwgeyBuYW1lOiBcImphdmFzY3JpcHRcIiwganNvbjogdHJ1ZSB9KTtcbkNvZGVNaXJyb3IuZGVmaW5lTUlNRShcImFwcGxpY2F0aW9uL21hbmlmZXN0K2pzb25cIiwgeyBuYW1lOiBcImphdmFzY3JpcHRcIiwganNvbjogdHJ1ZSB9KVxuQ29kZU1pcnJvci5kZWZpbmVNSU1FKFwiYXBwbGljYXRpb24vbGQranNvblwiLCB7IG5hbWU6IFwiamF2YXNjcmlwdFwiLCBqc29ubGQ6IHRydWUgfSk7XG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJ0ZXh0L3R5cGVzY3JpcHRcIiwgeyBuYW1lOiBcImphdmFzY3JpcHRcIiwgdHlwZXNjcmlwdDogdHJ1ZSB9KTtcbkNvZGVNaXJyb3IuZGVmaW5lTUlNRShcImFwcGxpY2F0aW9uL3R5cGVzY3JpcHRcIiwgeyBuYW1lOiBcImphdmFzY3JpcHRcIiwgdHlwZXNjcmlwdDogdHJ1ZSB9KTtcblxufSk7XG4iLCIvLyBDb2RlTWlycm9yLCBjb3B5cmlnaHQgKGMpIGJ5IE1hcmlqbiBIYXZlcmJla2UgYW5kIG90aGVyc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgYW4gTUlUIGxpY2Vuc2U6IGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNS9MSUNFTlNFXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZChyZXF1aXJlKFwiLi4vLi4vbGliL2NvZGVtaXJyb3JcIiksIHJlcXVpcmUoXCIuLi94bWwveG1sXCIpLCByZXF1aXJlKFwiLi4vamF2YXNjcmlwdC9qYXZhc2NyaXB0XCIpLCByZXF1aXJlKFwiLi4vY3NzL2Nzc1wiKSk7XG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIC8vIEFNRFxuICAgIGRlZmluZShbXCIuLi8uLi9saWIvY29kZW1pcnJvclwiLCBcIi4uL3htbC94bWxcIiwgXCIuLi9qYXZhc2NyaXB0L2phdmFzY3JpcHRcIiwgXCIuLi9jc3MvY3NzXCJdLCBtb2QpO1xuICBlbHNlIC8vIFBsYWluIGJyb3dzZXIgZW52XG4gICAgbW9kKENvZGVNaXJyb3IpO1xufSkoZnVuY3Rpb24oQ29kZU1pcnJvcikge1xuICBcInVzZSBzdHJpY3RcIjtcblxuICB2YXIgZGVmYXVsdFRhZ3MgPSB7XG4gICAgc2NyaXB0OiBbXG4gICAgICBbXCJsYW5nXCIsIC8oamF2YXNjcmlwdHxiYWJlbCkvaSwgXCJqYXZhc2NyaXB0XCJdLFxuICAgICAgW1widHlwZVwiLCAvXig/OnRleHR8YXBwbGljYXRpb24pXFwvKD86eC0pPyg/OmphdmF8ZWNtYSlzY3JpcHQkfF5tb2R1bGUkfF4kL2ksIFwiamF2YXNjcmlwdFwiXSxcbiAgICAgIFtcInR5cGVcIiwgLy4vLCBcInRleHQvcGxhaW5cIl0sXG4gICAgICBbbnVsbCwgbnVsbCwgXCJqYXZhc2NyaXB0XCJdXG4gICAgXSxcbiAgICBzdHlsZTogIFtcbiAgICAgIFtcImxhbmdcIiwgL15jc3MkL2ksIFwiY3NzXCJdLFxuICAgICAgW1widHlwZVwiLCAvXih0ZXh0XFwvKT8oeC0pPyhzdHlsZXNoZWV0fGNzcykkL2ksIFwiY3NzXCJdLFxuICAgICAgW1widHlwZVwiLCAvLi8sIFwidGV4dC9wbGFpblwiXSxcbiAgICAgIFtudWxsLCBudWxsLCBcImNzc1wiXVxuICAgIF1cbiAgfTtcblxuICBmdW5jdGlvbiBtYXliZUJhY2t1cChzdHJlYW0sIHBhdCwgc3R5bGUpIHtcbiAgICB2YXIgY3VyID0gc3RyZWFtLmN1cnJlbnQoKSwgY2xvc2UgPSBjdXIuc2VhcmNoKHBhdCk7XG4gICAgaWYgKGNsb3NlID4gLTEpIHtcbiAgICAgIHN0cmVhbS5iYWNrVXAoY3VyLmxlbmd0aCAtIGNsb3NlKTtcbiAgICB9IGVsc2UgaWYgKGN1ci5tYXRjaCgvPFxcLz8kLykpIHtcbiAgICAgIHN0cmVhbS5iYWNrVXAoY3VyLmxlbmd0aCk7XG4gICAgICBpZiAoIXN0cmVhbS5tYXRjaChwYXQsIGZhbHNlKSkgc3RyZWFtLm1hdGNoKGN1cik7XG4gICAgfVxuICAgIHJldHVybiBzdHlsZTtcbiAgfVxuXG4gIHZhciBhdHRyUmVnZXhwQ2FjaGUgPSB7fTtcbiAgZnVuY3Rpb24gZ2V0QXR0clJlZ2V4cChhdHRyKSB7XG4gICAgdmFyIHJlZ2V4cCA9IGF0dHJSZWdleHBDYWNoZVthdHRyXTtcbiAgICBpZiAocmVnZXhwKSByZXR1cm4gcmVnZXhwO1xuICAgIHJldHVybiBhdHRyUmVnZXhwQ2FjaGVbYXR0cl0gPSBuZXcgUmVnRXhwKFwiXFxcXHMrXCIgKyBhdHRyICsgXCJcXFxccyo9XFxcXHMqKCd8XFxcIik/KFteJ1xcXCJdKykoJ3xcXFwiKT9cXFxccypcIik7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRBdHRyVmFsdWUodGV4dCwgYXR0cikge1xuICAgIHZhciBtYXRjaCA9IHRleHQubWF0Y2goZ2V0QXR0clJlZ2V4cChhdHRyKSlcbiAgICByZXR1cm4gbWF0Y2ggPyAvXlxccyooLio/KVxccyokLy5leGVjKG1hdGNoWzJdKVsxXSA6IFwiXCJcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRhZ1JlZ2V4cCh0YWdOYW1lLCBhbmNob3JlZCkge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKChhbmNob3JlZCA/IFwiXlwiIDogXCJcIikgKyBcIjxcXC9cXFxccypcIiArIHRhZ05hbWUgKyBcIlxcXFxzKj5cIiwgXCJpXCIpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkVGFncyhmcm9tLCB0bykge1xuICAgIGZvciAodmFyIHRhZyBpbiBmcm9tKSB7XG4gICAgICB2YXIgZGVzdCA9IHRvW3RhZ10gfHwgKHRvW3RhZ10gPSBbXSk7XG4gICAgICB2YXIgc291cmNlID0gZnJvbVt0YWddO1xuICAgICAgZm9yICh2YXIgaSA9IHNvdXJjZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSlcbiAgICAgICAgZGVzdC51bnNoaWZ0KHNvdXJjZVtpXSlcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmaW5kTWF0Y2hpbmdNb2RlKHRhZ0luZm8sIHRhZ1RleHQpIHtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhZ0luZm8ubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBzcGVjID0gdGFnSW5mb1tpXTtcbiAgICAgIGlmICghc3BlY1swXSB8fCBzcGVjWzFdLnRlc3QoZ2V0QXR0clZhbHVlKHRhZ1RleHQsIHNwZWNbMF0pKSkgcmV0dXJuIHNwZWNbMl07XG4gICAgfVxuICB9XG5cbiAgQ29kZU1pcnJvci5kZWZpbmVNb2RlKFwiaHRtbG1peGVkXCIsIGZ1bmN0aW9uIChjb25maWcsIHBhcnNlckNvbmZpZykge1xuICAgIHZhciBodG1sTW9kZSA9IENvZGVNaXJyb3IuZ2V0TW9kZShjb25maWcsIHtcbiAgICAgIG5hbWU6IFwieG1sXCIsXG4gICAgICBodG1sTW9kZTogdHJ1ZSxcbiAgICAgIG11bHRpbGluZVRhZ0luZGVudEZhY3RvcjogcGFyc2VyQ29uZmlnLm11bHRpbGluZVRhZ0luZGVudEZhY3RvcixcbiAgICAgIG11bHRpbGluZVRhZ0luZGVudFBhc3RUYWc6IHBhcnNlckNvbmZpZy5tdWx0aWxpbmVUYWdJbmRlbnRQYXN0VGFnLFxuICAgICAgYWxsb3dNaXNzaW5nVGFnTmFtZTogcGFyc2VyQ29uZmlnLmFsbG93TWlzc2luZ1RhZ05hbWUsXG4gICAgfSk7XG5cbiAgICB2YXIgdGFncyA9IHt9O1xuICAgIHZhciBjb25maWdUYWdzID0gcGFyc2VyQ29uZmlnICYmIHBhcnNlckNvbmZpZy50YWdzLCBjb25maWdTY3JpcHQgPSBwYXJzZXJDb25maWcgJiYgcGFyc2VyQ29uZmlnLnNjcmlwdFR5cGVzO1xuICAgIGFkZFRhZ3MoZGVmYXVsdFRhZ3MsIHRhZ3MpO1xuICAgIGlmIChjb25maWdUYWdzKSBhZGRUYWdzKGNvbmZpZ1RhZ3MsIHRhZ3MpO1xuICAgIGlmIChjb25maWdTY3JpcHQpIGZvciAodmFyIGkgPSBjb25maWdTY3JpcHQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pXG4gICAgICB0YWdzLnNjcmlwdC51bnNoaWZ0KFtcInR5cGVcIiwgY29uZmlnU2NyaXB0W2ldLm1hdGNoZXMsIGNvbmZpZ1NjcmlwdFtpXS5tb2RlXSlcblxuICAgIGZ1bmN0aW9uIGh0bWwoc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgdmFyIHN0eWxlID0gaHRtbE1vZGUudG9rZW4oc3RyZWFtLCBzdGF0ZS5odG1sU3RhdGUpLCB0YWcgPSAvXFxidGFnXFxiLy50ZXN0KHN0eWxlKSwgdGFnTmFtZVxuICAgICAgaWYgKHRhZyAmJiAhL1s8Plxcc1xcL10vLnRlc3Qoc3RyZWFtLmN1cnJlbnQoKSkgJiZcbiAgICAgICAgICAodGFnTmFtZSA9IHN0YXRlLmh0bWxTdGF0ZS50YWdOYW1lICYmIHN0YXRlLmh0bWxTdGF0ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkpICYmXG4gICAgICAgICAgdGFncy5oYXNPd25Qcm9wZXJ0eSh0YWdOYW1lKSkge1xuICAgICAgICBzdGF0ZS5pblRhZyA9IHRhZ05hbWUgKyBcIiBcIlxuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5pblRhZyAmJiB0YWcgJiYgLz4kLy50ZXN0KHN0cmVhbS5jdXJyZW50KCkpKSB7XG4gICAgICAgIHZhciBpblRhZyA9IC9eKFtcXFNdKykgKC4qKS8uZXhlYyhzdGF0ZS5pblRhZylcbiAgICAgICAgc3RhdGUuaW5UYWcgPSBudWxsXG4gICAgICAgIHZhciBtb2RlU3BlYyA9IHN0cmVhbS5jdXJyZW50KCkgPT0gXCI+XCIgJiYgZmluZE1hdGNoaW5nTW9kZSh0YWdzW2luVGFnWzFdXSwgaW5UYWdbMl0pXG4gICAgICAgIHZhciBtb2RlID0gQ29kZU1pcnJvci5nZXRNb2RlKGNvbmZpZywgbW9kZVNwZWMpXG4gICAgICAgIHZhciBlbmRUYWdBID0gZ2V0VGFnUmVnZXhwKGluVGFnWzFdLCB0cnVlKSwgZW5kVGFnID0gZ2V0VGFnUmVnZXhwKGluVGFnWzFdLCBmYWxzZSk7XG4gICAgICAgIHN0YXRlLnRva2VuID0gZnVuY3Rpb24gKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKGVuZFRhZ0EsIGZhbHNlKSkge1xuICAgICAgICAgICAgc3RhdGUudG9rZW4gPSBodG1sO1xuICAgICAgICAgICAgc3RhdGUubG9jYWxTdGF0ZSA9IHN0YXRlLmxvY2FsTW9kZSA9IG51bGw7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG1heWJlQmFja3VwKHN0cmVhbSwgZW5kVGFnLCBzdGF0ZS5sb2NhbE1vZGUudG9rZW4oc3RyZWFtLCBzdGF0ZS5sb2NhbFN0YXRlKSk7XG4gICAgICAgIH07XG4gICAgICAgIHN0YXRlLmxvY2FsTW9kZSA9IG1vZGU7XG4gICAgICAgIHN0YXRlLmxvY2FsU3RhdGUgPSBDb2RlTWlycm9yLnN0YXJ0U3RhdGUobW9kZSwgaHRtbE1vZGUuaW5kZW50KHN0YXRlLmh0bWxTdGF0ZSwgXCJcIiwgXCJcIikpO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5pblRhZykge1xuICAgICAgICBzdGF0ZS5pblRhZyArPSBzdHJlYW0uY3VycmVudCgpXG4gICAgICAgIGlmIChzdHJlYW0uZW9sKCkpIHN0YXRlLmluVGFnICs9IFwiIFwiXG4gICAgICB9XG4gICAgICByZXR1cm4gc3R5bGU7XG4gICAgfTtcblxuICAgIHJldHVybiB7XG4gICAgICBzdGFydFN0YXRlOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IENvZGVNaXJyb3Iuc3RhcnRTdGF0ZShodG1sTW9kZSk7XG4gICAgICAgIHJldHVybiB7dG9rZW46IGh0bWwsIGluVGFnOiBudWxsLCBsb2NhbE1vZGU6IG51bGwsIGxvY2FsU3RhdGU6IG51bGwsIGh0bWxTdGF0ZTogc3RhdGV9O1xuICAgICAgfSxcblxuICAgICAgY29weVN0YXRlOiBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdmFyIGxvY2FsO1xuICAgICAgICBpZiAoc3RhdGUubG9jYWxTdGF0ZSkge1xuICAgICAgICAgIGxvY2FsID0gQ29kZU1pcnJvci5jb3B5U3RhdGUoc3RhdGUubG9jYWxNb2RlLCBzdGF0ZS5sb2NhbFN0YXRlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge3Rva2VuOiBzdGF0ZS50b2tlbiwgaW5UYWc6IHN0YXRlLmluVGFnLFxuICAgICAgICAgICAgICAgIGxvY2FsTW9kZTogc3RhdGUubG9jYWxNb2RlLCBsb2NhbFN0YXRlOiBsb2NhbCxcbiAgICAgICAgICAgICAgICBodG1sU3RhdGU6IENvZGVNaXJyb3IuY29weVN0YXRlKGh0bWxNb2RlLCBzdGF0ZS5odG1sU3RhdGUpfTtcbiAgICAgIH0sXG5cbiAgICAgIHRva2VuOiBmdW5jdGlvbiAoc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgICByZXR1cm4gc3RhdGUudG9rZW4oc3RyZWFtLCBzdGF0ZSk7XG4gICAgICB9LFxuXG4gICAgICBpbmRlbnQ6IGZ1bmN0aW9uIChzdGF0ZSwgdGV4dEFmdGVyLCBsaW5lKSB7XG4gICAgICAgIGlmICghc3RhdGUubG9jYWxNb2RlIHx8IC9eXFxzKjxcXC8vLnRlc3QodGV4dEFmdGVyKSlcbiAgICAgICAgICByZXR1cm4gaHRtbE1vZGUuaW5kZW50KHN0YXRlLmh0bWxTdGF0ZSwgdGV4dEFmdGVyLCBsaW5lKTtcbiAgICAgICAgZWxzZSBpZiAoc3RhdGUubG9jYWxNb2RlLmluZGVudClcbiAgICAgICAgICByZXR1cm4gc3RhdGUubG9jYWxNb2RlLmluZGVudChzdGF0ZS5sb2NhbFN0YXRlLCB0ZXh0QWZ0ZXIsIGxpbmUpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgcmV0dXJuIENvZGVNaXJyb3IuUGFzcztcbiAgICAgIH0sXG5cbiAgICAgIGlubmVyTW9kZTogZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHJldHVybiB7c3RhdGU6IHN0YXRlLmxvY2FsU3RhdGUgfHwgc3RhdGUuaHRtbFN0YXRlLCBtb2RlOiBzdGF0ZS5sb2NhbE1vZGUgfHwgaHRtbE1vZGV9O1xuICAgICAgfVxuICAgIH07XG4gIH0sIFwieG1sXCIsIFwiamF2YXNjcmlwdFwiLCBcImNzc1wiKTtcblxuICBDb2RlTWlycm9yLmRlZmluZU1JTUUoXCJ0ZXh0L2h0bWxcIiwgXCJodG1sbWl4ZWRcIik7XG59KTtcbiIsIi8vIENvZGVNaXJyb3IsIGNvcHlyaWdodCAoYykgYnkgTWFyaWpuIEhhdmVyYmVrZSBhbmQgb3RoZXJzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBhbiBNSVQgbGljZW5zZTogaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC81L0xJQ0VOU0VcblxuKGZ1bmN0aW9uKG1vZCkge1xuICBpZiAodHlwZW9mIGV4cG9ydHMgPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlID09IFwib2JqZWN0XCIpIC8vIENvbW1vbkpTXG4gICAgbW9kKHJlcXVpcmUoXCIuLi8uLi9saWIvY29kZW1pcnJvclwiKSk7XG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIC8vIEFNRFxuICAgIGRlZmluZShbXCIuLi8uLi9saWIvY29kZW1pcnJvclwiXSwgbW9kKTtcbiAgZWxzZSAvLyBQbGFpbiBicm93c2VyIGVudlxuICAgIG1vZChDb2RlTWlycm9yKTtcbn0pKGZ1bmN0aW9uKENvZGVNaXJyb3IpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgZnVuY3Rpb24gd29yZFJlZ2V4cCh3b3Jkcykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKFwiXigoXCIgKyB3b3Jkcy5qb2luKFwiKXwoXCIpICsgXCIpKVxcXFxiXCIpO1xuICB9XG5cbiAgdmFyIHdvcmRPcGVyYXRvcnMgPSB3b3JkUmVnZXhwKFtcImFuZFwiLCBcIm9yXCIsIFwibm90XCIsIFwiaXNcIl0pO1xuICB2YXIgY29tbW9uS2V5d29yZHMgPSBbXCJhc1wiLCBcImFzc2VydFwiLCBcImJyZWFrXCIsIFwiY2xhc3NcIiwgXCJjb250aW51ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJkZWZcIiwgXCJkZWxcIiwgXCJlbGlmXCIsIFwiZWxzZVwiLCBcImV4Y2VwdFwiLCBcImZpbmFsbHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiZm9yXCIsIFwiZnJvbVwiLCBcImdsb2JhbFwiLCBcImlmXCIsIFwiaW1wb3J0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxhbWJkYVwiLCBcInBhc3NcIiwgXCJyYWlzZVwiLCBcInJldHVyblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0cnlcIiwgXCJ3aGlsZVwiLCBcIndpdGhcIiwgXCJ5aWVsZFwiLCBcImluXCIsIFwiRmFsc2VcIiwgXCJUcnVlXCJdO1xuICB2YXIgY29tbW9uQnVpbHRpbnMgPSBbXCJhYnNcIiwgXCJhbGxcIiwgXCJhbnlcIiwgXCJiaW5cIiwgXCJib29sXCIsIFwiYnl0ZWFycmF5XCIsIFwiY2FsbGFibGVcIiwgXCJjaHJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NtZXRob2RcIiwgXCJjb21waWxlXCIsIFwiY29tcGxleFwiLCBcImRlbGF0dHJcIiwgXCJkaWN0XCIsIFwiZGlyXCIsIFwiZGl2bW9kXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImVudW1lcmF0ZVwiLCBcImV2YWxcIiwgXCJmaWx0ZXJcIiwgXCJmbG9hdFwiLCBcImZvcm1hdFwiLCBcImZyb3plbnNldFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJnZXRhdHRyXCIsIFwiZ2xvYmFsc1wiLCBcImhhc2F0dHJcIiwgXCJoYXNoXCIsIFwiaGVscFwiLCBcImhleFwiLCBcImlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImlucHV0XCIsIFwiaW50XCIsIFwiaXNpbnN0YW5jZVwiLCBcImlzc3ViY2xhc3NcIiwgXCJpdGVyXCIsIFwibGVuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImxpc3RcIiwgXCJsb2NhbHNcIiwgXCJtYXBcIiwgXCJtYXhcIiwgXCJtZW1vcnl2aWV3XCIsIFwibWluXCIsIFwibmV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJvYmplY3RcIiwgXCJvY3RcIiwgXCJvcGVuXCIsIFwib3JkXCIsIFwicG93XCIsIFwicHJvcGVydHlcIiwgXCJyYW5nZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJyZXByXCIsIFwicmV2ZXJzZWRcIiwgXCJyb3VuZFwiLCBcInNldFwiLCBcInNldGF0dHJcIiwgXCJzbGljZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzb3J0ZWRcIiwgXCJzdGF0aWNtZXRob2RcIiwgXCJzdHJcIiwgXCJzdW1cIiwgXCJzdXBlclwiLCBcInR1cGxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIiwgXCJ2YXJzXCIsIFwiemlwXCIsIFwiX19pbXBvcnRfX1wiLCBcIk5vdEltcGxlbWVudGVkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcIkVsbGlwc2lzXCIsIFwiX19kZWJ1Z19fXCJdO1xuICBDb2RlTWlycm9yLnJlZ2lzdGVySGVscGVyKFwiaGludFdvcmRzXCIsIFwicHl0aG9uXCIsIGNvbW1vbktleXdvcmRzLmNvbmNhdChjb21tb25CdWlsdGlucykuY29uY2F0KFtcImV4ZWNcIiwgXCJwcmludFwiXSkpO1xuXG4gIGZ1bmN0aW9uIHRvcChzdGF0ZSkge1xuICAgIHJldHVybiBzdGF0ZS5zY29wZXNbc3RhdGUuc2NvcGVzLmxlbmd0aCAtIDFdO1xuICB9XG5cbiAgQ29kZU1pcnJvci5kZWZpbmVNb2RlKFwicHl0aG9uXCIsIGZ1bmN0aW9uKGNvbmYsIHBhcnNlckNvbmYpIHtcbiAgICB2YXIgRVJST1JDTEFTUyA9IFwiZXJyb3JcIjtcblxuICAgIHZhciBkZWxpbWl0ZXJzID0gcGFyc2VyQ29uZi5kZWxpbWl0ZXJzIHx8IHBhcnNlckNvbmYuc2luZ2xlRGVsaW1pdGVycyB8fCAvXltcXChcXClcXFtcXF1cXHtcXH1ALDpgPTtcXC5cXFxcXS87XG4gICAgLy8gICAgICAgICAgICAgICAoQmFja3dhcmRzLWNvbXBhdGliaWxpdHkgd2l0aCBvbGQsIGN1bWJlcnNvbWUgY29uZmlnIHN5c3RlbSlcbiAgICB2YXIgb3BlcmF0b3JzID0gW3BhcnNlckNvbmYuc2luZ2xlT3BlcmF0b3JzLCBwYXJzZXJDb25mLmRvdWJsZU9wZXJhdG9ycywgcGFyc2VyQ29uZi5kb3VibGVEZWxpbWl0ZXJzLCBwYXJzZXJDb25mLnRyaXBsZURlbGltaXRlcnMsXG4gICAgICAgICAgICAgICAgICAgICBwYXJzZXJDb25mLm9wZXJhdG9ycyB8fCAvXihbLSsqLyVcXC8mfF5dPT98Wzw+PV0rfFxcL1xcLz0/fFxcKlxcKj0/fCE9fFt+IUBdfFxcLlxcLlxcLikvXVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BlcmF0b3JzLmxlbmd0aDsgaSsrKSBpZiAoIW9wZXJhdG9yc1tpXSkgb3BlcmF0b3JzLnNwbGljZShpLS0sIDEpXG5cbiAgICB2YXIgaGFuZ2luZ0luZGVudCA9IHBhcnNlckNvbmYuaGFuZ2luZ0luZGVudCB8fCBjb25mLmluZGVudFVuaXQ7XG5cbiAgICB2YXIgbXlLZXl3b3JkcyA9IGNvbW1vbktleXdvcmRzLCBteUJ1aWx0aW5zID0gY29tbW9uQnVpbHRpbnM7XG4gICAgaWYgKHBhcnNlckNvbmYuZXh0cmFfa2V5d29yZHMgIT0gdW5kZWZpbmVkKVxuICAgICAgbXlLZXl3b3JkcyA9IG15S2V5d29yZHMuY29uY2F0KHBhcnNlckNvbmYuZXh0cmFfa2V5d29yZHMpO1xuXG4gICAgaWYgKHBhcnNlckNvbmYuZXh0cmFfYnVpbHRpbnMgIT0gdW5kZWZpbmVkKVxuICAgICAgbXlCdWlsdGlucyA9IG15QnVpbHRpbnMuY29uY2F0KHBhcnNlckNvbmYuZXh0cmFfYnVpbHRpbnMpO1xuXG4gICAgdmFyIHB5MyA9ICEocGFyc2VyQ29uZi52ZXJzaW9uICYmIE51bWJlcihwYXJzZXJDb25mLnZlcnNpb24pIDwgMylcbiAgICBpZiAocHkzKSB7XG4gICAgICAvLyBzaW5jZSBodHRwOi8vbGVnYWN5LnB5dGhvbi5vcmcvZGV2L3BlcHMvcGVwLTA0NjUvIEAgaXMgYWxzbyBhbiBvcGVyYXRvclxuICAgICAgdmFyIGlkZW50aWZpZXJzID0gcGFyc2VyQ29uZi5pZGVudGlmaWVyc3x8IC9eW19BLVphLXpcXHUwMEExLVxcdUZGRkZdW19BLVphLXowLTlcXHUwMEExLVxcdUZGRkZdKi87XG4gICAgICBteUtleXdvcmRzID0gbXlLZXl3b3Jkcy5jb25jYXQoW1wibm9ubG9jYWxcIiwgXCJOb25lXCIsIFwiYWl0ZXJcIiwgXCJhbmV4dFwiLCBcImFzeW5jXCIsIFwiYXdhaXRcIiwgXCJicmVha3BvaW50XCIsIFwibWF0Y2hcIiwgXCJjYXNlXCJdKTtcbiAgICAgIG15QnVpbHRpbnMgPSBteUJ1aWx0aW5zLmNvbmNhdChbXCJhc2NpaVwiLCBcImJ5dGVzXCIsIFwiZXhlY1wiLCBcInByaW50XCJdKTtcbiAgICAgIHZhciBzdHJpbmdQcmVmaXhlcyA9IG5ldyBSZWdFeHAoXCJeKChbcmJ1Zl18KGJyKXwocmIpfChmcil8KHJmKSk/KCd7M318XFxcInszfXxbJ1xcXCJdKSlcIiwgXCJpXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgaWRlbnRpZmllcnMgPSBwYXJzZXJDb25mLmlkZW50aWZpZXJzfHwgL15bX0EtWmEtel1bX0EtWmEtejAtOV0qLztcbiAgICAgIG15S2V5d29yZHMgPSBteUtleXdvcmRzLmNvbmNhdChbXCJleGVjXCIsIFwicHJpbnRcIl0pO1xuICAgICAgbXlCdWlsdGlucyA9IG15QnVpbHRpbnMuY29uY2F0KFtcImFwcGx5XCIsIFwiYmFzZXN0cmluZ1wiLCBcImJ1ZmZlclwiLCBcImNtcFwiLCBcImNvZXJjZVwiLCBcImV4ZWNmaWxlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZmlsZVwiLCBcImludGVyblwiLCBcImxvbmdcIiwgXCJyYXdfaW5wdXRcIiwgXCJyZWR1Y2VcIiwgXCJyZWxvYWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJ1bmljaHJcIiwgXCJ1bmljb2RlXCIsIFwieHJhbmdlXCIsIFwiTm9uZVwiXSk7XG4gICAgICB2YXIgc3RyaW5nUHJlZml4ZXMgPSBuZXcgUmVnRXhwKFwiXigoW3J1YmZdfCh1cil8KGJyKSk/KCd7M318XFxcInszfXxbJ1xcXCJdKSlcIiwgXCJpXCIpO1xuICAgIH1cbiAgICB2YXIga2V5d29yZHMgPSB3b3JkUmVnZXhwKG15S2V5d29yZHMpO1xuICAgIHZhciBidWlsdGlucyA9IHdvcmRSZWdleHAobXlCdWlsdGlucyk7XG5cbiAgICAvLyB0b2tlbml6ZXJzXG4gICAgZnVuY3Rpb24gdG9rZW5CYXNlKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgIHZhciBzb2wgPSBzdHJlYW0uc29sKCkgJiYgc3RhdGUubGFzdFRva2VuICE9IFwiXFxcXFwiXG4gICAgICBpZiAoc29sKSBzdGF0ZS5pbmRlbnQgPSBzdHJlYW0uaW5kZW50YXRpb24oKVxuICAgICAgLy8gSGFuZGxlIHNjb3BlIGNoYW5nZXNcbiAgICAgIGlmIChzb2wgJiYgdG9wKHN0YXRlKS50eXBlID09IFwicHlcIikge1xuICAgICAgICB2YXIgc2NvcGVPZmZzZXQgPSB0b3Aoc3RhdGUpLm9mZnNldDtcbiAgICAgICAgaWYgKHN0cmVhbS5lYXRTcGFjZSgpKSB7XG4gICAgICAgICAgdmFyIGxpbmVPZmZzZXQgPSBzdHJlYW0uaW5kZW50YXRpb24oKTtcbiAgICAgICAgICBpZiAobGluZU9mZnNldCA+IHNjb3BlT2Zmc2V0KVxuICAgICAgICAgICAgcHVzaFB5U2NvcGUoc3RhdGUpO1xuICAgICAgICAgIGVsc2UgaWYgKGxpbmVPZmZzZXQgPCBzY29wZU9mZnNldCAmJiBkZWRlbnQoc3RyZWFtLCBzdGF0ZSkgJiYgc3RyZWFtLnBlZWsoKSAhPSBcIiNcIilcbiAgICAgICAgICAgIHN0YXRlLmVycm9yVG9rZW4gPSB0cnVlO1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBzdHlsZSA9IHRva2VuQmFzZUlubmVyKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgICAgIGlmIChzY29wZU9mZnNldCA+IDAgJiYgZGVkZW50KHN0cmVhbSwgc3RhdGUpKVxuICAgICAgICAgICAgc3R5bGUgKz0gXCIgXCIgKyBFUlJPUkNMQVNTO1xuICAgICAgICAgIHJldHVybiBzdHlsZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRva2VuQmFzZUlubmVyKHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRva2VuQmFzZUlubmVyKHN0cmVhbSwgc3RhdGUsIGluRm9ybWF0KSB7XG4gICAgICBpZiAoc3RyZWFtLmVhdFNwYWNlKCkpIHJldHVybiBudWxsO1xuXG4gICAgICAvLyBIYW5kbGUgQ29tbWVudHNcbiAgICAgIGlmICghaW5Gb3JtYXQgJiYgc3RyZWFtLm1hdGNoKC9eIy4qLykpIHJldHVybiBcImNvbW1lbnRcIjtcblxuICAgICAgLy8gSGFuZGxlIE51bWJlciBMaXRlcmFsc1xuICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXlswLTlcXC5dLywgZmFsc2UpKSB7XG4gICAgICAgIHZhciBmbG9hdExpdGVyYWwgPSBmYWxzZTtcbiAgICAgICAgLy8gRmxvYXRzXG4gICAgICAgIGlmIChzdHJlYW0ubWF0Y2goL15bXFxkX10qXFwuXFxkKyhlW1xcK1xcLV0/XFxkKyk/L2kpKSB7IGZsb2F0TGl0ZXJhbCA9IHRydWU7IH1cbiAgICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXltcXGRfXStcXC5cXGQqLykpIHsgZmxvYXRMaXRlcmFsID0gdHJ1ZTsgfVxuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9eXFwuXFxkKy8pKSB7IGZsb2F0TGl0ZXJhbCA9IHRydWU7IH1cbiAgICAgICAgaWYgKGZsb2F0TGl0ZXJhbCkge1xuICAgICAgICAgIC8vIEZsb2F0IGxpdGVyYWxzIG1heSBiZSBcImltYWdpbmFyeVwiXG4gICAgICAgICAgc3RyZWFtLmVhdCgvSi9pKTtcbiAgICAgICAgICByZXR1cm4gXCJudW1iZXJcIjtcbiAgICAgICAgfVxuICAgICAgICAvLyBJbnRlZ2Vyc1xuICAgICAgICB2YXIgaW50TGl0ZXJhbCA9IGZhbHNlO1xuICAgICAgICAvLyBIZXhcbiAgICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXjB4WzAtOWEtZl9dKy9pKSkgaW50TGl0ZXJhbCA9IHRydWU7XG4gICAgICAgIC8vIEJpbmFyeVxuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9eMGJbMDFfXSsvaSkpIGludExpdGVyYWwgPSB0cnVlO1xuICAgICAgICAvLyBPY3RhbFxuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9eMG9bMC03X10rL2kpKSBpbnRMaXRlcmFsID0gdHJ1ZTtcbiAgICAgICAgLy8gRGVjaW1hbFxuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9eWzEtOV1bXFxkX10qKGVbXFwrXFwtXT9bXFxkX10rKT8vKSkge1xuICAgICAgICAgIC8vIERlY2ltYWwgbGl0ZXJhbHMgbWF5IGJlIFwiaW1hZ2luYXJ5XCJcbiAgICAgICAgICBzdHJlYW0uZWF0KC9KL2kpO1xuICAgICAgICAgIC8vIFRPRE8gLSBDYW4geW91IGhhdmUgaW1hZ2luYXJ5IGxvbmdzP1xuICAgICAgICAgIGludExpdGVyYWwgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIFplcm8gYnkgaXRzZWxmIHdpdGggbm8gb3RoZXIgcGllY2Ugb2YgbnVtYmVyLlxuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9eMCg/IVtcXGR4XSkvaSkpIGludExpdGVyYWwgPSB0cnVlO1xuICAgICAgICBpZiAoaW50TGl0ZXJhbCkge1xuICAgICAgICAgIC8vIEludGVnZXIgbGl0ZXJhbHMgbWF5IGJlIFwibG9uZ1wiXG4gICAgICAgICAgc3RyZWFtLmVhdCgvTC9pKTtcbiAgICAgICAgICByZXR1cm4gXCJudW1iZXJcIjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBIYW5kbGUgU3RyaW5nc1xuICAgICAgaWYgKHN0cmVhbS5tYXRjaChzdHJpbmdQcmVmaXhlcykpIHtcbiAgICAgICAgdmFyIGlzRm10U3RyaW5nID0gc3RyZWFtLmN1cnJlbnQoKS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoJ2YnKSAhPT0gLTE7XG4gICAgICAgIGlmICghaXNGbXRTdHJpbmcpIHtcbiAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuU3RyaW5nRmFjdG9yeShzdHJlYW0uY3VycmVudCgpLCBzdGF0ZS50b2tlbml6ZSk7XG4gICAgICAgICAgcmV0dXJuIHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXRlLnRva2VuaXplID0gZm9ybWF0U3RyaW5nRmFjdG9yeShzdHJlYW0uY3VycmVudCgpLCBzdGF0ZS50b2tlbml6ZSk7XG4gICAgICAgICAgcmV0dXJuIHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3BlcmF0b3JzLmxlbmd0aDsgaSsrKVxuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKG9wZXJhdG9yc1tpXSkpIHJldHVybiBcIm9wZXJhdG9yXCJcblxuICAgICAgaWYgKHN0cmVhbS5tYXRjaChkZWxpbWl0ZXJzKSkgcmV0dXJuIFwicHVuY3R1YXRpb25cIjtcblxuICAgICAgaWYgKHN0YXRlLmxhc3RUb2tlbiA9PSBcIi5cIiAmJiBzdHJlYW0ubWF0Y2goaWRlbnRpZmllcnMpKVxuICAgICAgICByZXR1cm4gXCJwcm9wZXJ0eVwiO1xuXG4gICAgICBpZiAoc3RyZWFtLm1hdGNoKGtleXdvcmRzKSB8fCBzdHJlYW0ubWF0Y2god29yZE9wZXJhdG9ycykpXG4gICAgICAgIHJldHVybiBcImtleXdvcmRcIjtcblxuICAgICAgaWYgKHN0cmVhbS5tYXRjaChidWlsdGlucykpXG4gICAgICAgIHJldHVybiBcImJ1aWx0aW5cIjtcblxuICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXihzZWxmfGNscylcXGIvKSlcbiAgICAgICAgcmV0dXJuIFwidmFyaWFibGUtMlwiO1xuXG4gICAgICBpZiAoc3RyZWFtLm1hdGNoKGlkZW50aWZpZXJzKSkge1xuICAgICAgICBpZiAoc3RhdGUubGFzdFRva2VuID09IFwiZGVmXCIgfHwgc3RhdGUubGFzdFRva2VuID09IFwiY2xhc3NcIilcbiAgICAgICAgICByZXR1cm4gXCJkZWZcIjtcbiAgICAgICAgcmV0dXJuIFwidmFyaWFibGVcIjtcbiAgICAgIH1cblxuICAgICAgLy8gSGFuZGxlIG5vbi1kZXRlY3RlZCBpdGVtc1xuICAgICAgc3RyZWFtLm5leHQoKTtcbiAgICAgIHJldHVybiBpbkZvcm1hdCA/IG51bGwgOkVSUk9SQ0xBU1M7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZm9ybWF0U3RyaW5nRmFjdG9yeShkZWxpbWl0ZXIsIHRva2VuT3V0ZXIpIHtcbiAgICAgIHdoaWxlIChcInJ1YmZcIi5pbmRleE9mKGRlbGltaXRlci5jaGFyQXQoMCkudG9Mb3dlckNhc2UoKSkgPj0gMClcbiAgICAgICAgZGVsaW1pdGVyID0gZGVsaW1pdGVyLnN1YnN0cigxKTtcblxuICAgICAgdmFyIHNpbmdsZWxpbmUgPSBkZWxpbWl0ZXIubGVuZ3RoID09IDE7XG4gICAgICB2YXIgT1VUQ0xBU1MgPSBcInN0cmluZ1wiO1xuXG4gICAgICBmdW5jdGlvbiB0b2tlbk5lc3RlZEV4cHIoZGVwdGgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgICAgICB2YXIgaW5uZXIgPSB0b2tlbkJhc2VJbm5lcihzdHJlYW0sIHN0YXRlLCB0cnVlKVxuICAgICAgICAgIGlmIChpbm5lciA9PSBcInB1bmN0dWF0aW9uXCIpIHtcbiAgICAgICAgICAgIGlmIChzdHJlYW0uY3VycmVudCgpID09IFwie1wiKSB7XG4gICAgICAgICAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5OZXN0ZWRFeHByKGRlcHRoICsgMSlcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLmN1cnJlbnQoKSA9PSBcIn1cIikge1xuICAgICAgICAgICAgICBpZiAoZGVwdGggPiAxKSBzdGF0ZS50b2tlbml6ZSA9IHRva2VuTmVzdGVkRXhwcihkZXB0aCAtIDEpXG4gICAgICAgICAgICAgIGVsc2Ugc3RhdGUudG9rZW5pemUgPSB0b2tlblN0cmluZ1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gaW5uZXJcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiB0b2tlblN0cmluZyhzdHJlYW0sIHN0YXRlKSB7XG4gICAgICAgIHdoaWxlICghc3RyZWFtLmVvbCgpKSB7XG4gICAgICAgICAgc3RyZWFtLmVhdFdoaWxlKC9bXidcIlxce1xcfVxcXFxdLyk7XG4gICAgICAgICAgaWYgKHN0cmVhbS5lYXQoXCJcXFxcXCIpKSB7XG4gICAgICAgICAgICBzdHJlYW0ubmV4dCgpO1xuICAgICAgICAgICAgaWYgKHNpbmdsZWxpbmUgJiYgc3RyZWFtLmVvbCgpKVxuICAgICAgICAgICAgICByZXR1cm4gT1VUQ0xBU1M7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdHJlYW0ubWF0Y2goZGVsaW1pdGVyKSkge1xuICAgICAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbk91dGVyO1xuICAgICAgICAgICAgcmV0dXJuIE9VVENMQVNTO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLm1hdGNoKCd7eycpKSB7XG4gICAgICAgICAgICAvLyBpZ25vcmUge3sgaW4gZi1zdHJcbiAgICAgICAgICAgIHJldHVybiBPVVRDTEFTUztcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5tYXRjaCgneycsIGZhbHNlKSkge1xuICAgICAgICAgICAgLy8gc3dpdGNoIHRvIG5lc3RlZCBtb2RlXG4gICAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuTmVzdGVkRXhwcigwKVxuICAgICAgICAgICAgaWYgKHN0cmVhbS5jdXJyZW50KCkpIHJldHVybiBPVVRDTEFTUztcbiAgICAgICAgICAgIGVsc2UgcmV0dXJuIHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpXG4gICAgICAgICAgfSBlbHNlIGlmIChzdHJlYW0ubWF0Y2goJ319JykpIHtcbiAgICAgICAgICAgIHJldHVybiBPVVRDTEFTUztcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5tYXRjaCgnfScpKSB7XG4gICAgICAgICAgICAvLyBzaW5nbGUgfSBpbiBmLXN0cmluZyBpcyBhbiBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIEVSUk9SQ0xBU1M7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmVhbS5lYXQoL1snXCJdLyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzaW5nbGVsaW5lKSB7XG4gICAgICAgICAgaWYgKHBhcnNlckNvbmYuc2luZ2xlTGluZVN0cmluZ0Vycm9ycylcbiAgICAgICAgICAgIHJldHVybiBFUlJPUkNMQVNTO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5PdXRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT1VUQ0xBU1M7XG4gICAgICB9XG4gICAgICB0b2tlblN0cmluZy5pc1N0cmluZyA9IHRydWU7XG4gICAgICByZXR1cm4gdG9rZW5TdHJpbmc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdG9rZW5TdHJpbmdGYWN0b3J5KGRlbGltaXRlciwgdG9rZW5PdXRlcikge1xuICAgICAgd2hpbGUgKFwicnViZlwiLmluZGV4T2YoZGVsaW1pdGVyLmNoYXJBdCgwKS50b0xvd2VyQ2FzZSgpKSA+PSAwKVxuICAgICAgICBkZWxpbWl0ZXIgPSBkZWxpbWl0ZXIuc3Vic3RyKDEpO1xuXG4gICAgICB2YXIgc2luZ2xlbGluZSA9IGRlbGltaXRlci5sZW5ndGggPT0gMTtcbiAgICAgIHZhciBPVVRDTEFTUyA9IFwic3RyaW5nXCI7XG5cbiAgICAgIGZ1bmN0aW9uIHRva2VuU3RyaW5nKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgICAgd2hpbGUgKCFzdHJlYW0uZW9sKCkpIHtcbiAgICAgICAgICBzdHJlYW0uZWF0V2hpbGUoL1teJ1wiXFxcXF0vKTtcbiAgICAgICAgICBpZiAoc3RyZWFtLmVhdChcIlxcXFxcIikpIHtcbiAgICAgICAgICAgIHN0cmVhbS5uZXh0KCk7XG4gICAgICAgICAgICBpZiAoc2luZ2xlbGluZSAmJiBzdHJlYW0uZW9sKCkpXG4gICAgICAgICAgICAgIHJldHVybiBPVVRDTEFTUztcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0cmVhbS5tYXRjaChkZWxpbWl0ZXIpKSB7XG4gICAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuT3V0ZXI7XG4gICAgICAgICAgICByZXR1cm4gT1VUQ0xBU1M7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0cmVhbS5lYXQoL1snXCJdLyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzaW5nbGVsaW5lKSB7XG4gICAgICAgICAgaWYgKHBhcnNlckNvbmYuc2luZ2xlTGluZVN0cmluZ0Vycm9ycylcbiAgICAgICAgICAgIHJldHVybiBFUlJPUkNMQVNTO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5PdXRlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT1VUQ0xBU1M7XG4gICAgICB9XG4gICAgICB0b2tlblN0cmluZy5pc1N0cmluZyA9IHRydWU7XG4gICAgICByZXR1cm4gdG9rZW5TdHJpbmc7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHVzaFB5U2NvcGUoc3RhdGUpIHtcbiAgICAgIHdoaWxlICh0b3Aoc3RhdGUpLnR5cGUgIT0gXCJweVwiKSBzdGF0ZS5zY29wZXMucG9wKClcbiAgICAgIHN0YXRlLnNjb3Blcy5wdXNoKHtvZmZzZXQ6IHRvcChzdGF0ZSkub2Zmc2V0ICsgY29uZi5pbmRlbnRVbml0LFxuICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwicHlcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbjogbnVsbH0pXG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHVzaEJyYWNrZXRTY29wZShzdHJlYW0sIHN0YXRlLCB0eXBlKSB7XG4gICAgICB2YXIgYWxpZ24gPSBzdHJlYW0ubWF0Y2goL15bXFxzXFxbXFx7XFwoXSooPzojfCQpLywgZmFsc2UpID8gbnVsbCA6IHN0cmVhbS5jb2x1bW4oKSArIDFcbiAgICAgIHN0YXRlLnNjb3Blcy5wdXNoKHtvZmZzZXQ6IHN0YXRlLmluZGVudCArIGhhbmdpbmdJbmRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICBhbGlnbjogYWxpZ259KVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlZGVudChzdHJlYW0sIHN0YXRlKSB7XG4gICAgICB2YXIgaW5kZW50ZWQgPSBzdHJlYW0uaW5kZW50YXRpb24oKTtcbiAgICAgIHdoaWxlIChzdGF0ZS5zY29wZXMubGVuZ3RoID4gMSAmJiB0b3Aoc3RhdGUpLm9mZnNldCA+IGluZGVudGVkKSB7XG4gICAgICAgIGlmICh0b3Aoc3RhdGUpLnR5cGUgIT0gXCJweVwiKSByZXR1cm4gdHJ1ZTtcbiAgICAgICAgc3RhdGUuc2NvcGVzLnBvcCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRvcChzdGF0ZSkub2Zmc2V0ICE9IGluZGVudGVkO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHRva2VuTGV4ZXIoc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgaWYgKHN0cmVhbS5zb2woKSkge1xuICAgICAgICBzdGF0ZS5iZWdpbm5pbmdPZkxpbmUgPSB0cnVlO1xuICAgICAgICBzdGF0ZS5kZWRlbnQgPSBmYWxzZTtcbiAgICAgIH1cblxuICAgICAgdmFyIHN0eWxlID0gc3RhdGUudG9rZW5pemUoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICB2YXIgY3VycmVudCA9IHN0cmVhbS5jdXJyZW50KCk7XG5cbiAgICAgIC8vIEhhbmRsZSBkZWNvcmF0b3JzXG4gICAgICBpZiAoc3RhdGUuYmVnaW5uaW5nT2ZMaW5lICYmIGN1cnJlbnQgPT0gXCJAXCIpXG4gICAgICAgIHJldHVybiBzdHJlYW0ubWF0Y2goaWRlbnRpZmllcnMsIGZhbHNlKSA/IFwibWV0YVwiIDogcHkzID8gXCJvcGVyYXRvclwiIDogRVJST1JDTEFTUztcblxuICAgICAgaWYgKC9cXFMvLnRlc3QoY3VycmVudCkpIHN0YXRlLmJlZ2lubmluZ09mTGluZSA9IGZhbHNlO1xuXG4gICAgICBpZiAoKHN0eWxlID09IFwidmFyaWFibGVcIiB8fCBzdHlsZSA9PSBcImJ1aWx0aW5cIilcbiAgICAgICAgICAmJiBzdGF0ZS5sYXN0VG9rZW4gPT0gXCJtZXRhXCIpXG4gICAgICAgIHN0eWxlID0gXCJtZXRhXCI7XG5cbiAgICAgIC8vIEhhbmRsZSBzY29wZSBjaGFuZ2VzLlxuICAgICAgaWYgKGN1cnJlbnQgPT0gXCJwYXNzXCIgfHwgY3VycmVudCA9PSBcInJldHVyblwiKVxuICAgICAgICBzdGF0ZS5kZWRlbnQgPSB0cnVlO1xuXG4gICAgICBpZiAoY3VycmVudCA9PSBcImxhbWJkYVwiKSBzdGF0ZS5sYW1iZGEgPSB0cnVlO1xuICAgICAgaWYgKGN1cnJlbnQgPT0gXCI6XCIgJiYgIXN0YXRlLmxhbWJkYSAmJiB0b3Aoc3RhdGUpLnR5cGUgPT0gXCJweVwiICYmIHN0cmVhbS5tYXRjaCgvXlxccyooPzojfCQpLywgZmFsc2UpKVxuICAgICAgICBwdXNoUHlTY29wZShzdGF0ZSk7XG5cbiAgICAgIGlmIChjdXJyZW50Lmxlbmd0aCA9PSAxICYmICEvc3RyaW5nfGNvbW1lbnQvLnRlc3Qoc3R5bGUpKSB7XG4gICAgICAgIHZhciBkZWxpbWl0ZXJfaW5kZXggPSBcIlsoe1wiLmluZGV4T2YoY3VycmVudCk7XG4gICAgICAgIGlmIChkZWxpbWl0ZXJfaW5kZXggIT0gLTEpXG4gICAgICAgICAgcHVzaEJyYWNrZXRTY29wZShzdHJlYW0sIHN0YXRlLCBcIl0pfVwiLnNsaWNlKGRlbGltaXRlcl9pbmRleCwgZGVsaW1pdGVyX2luZGV4KzEpKTtcblxuICAgICAgICBkZWxpbWl0ZXJfaW5kZXggPSBcIl0pfVwiLmluZGV4T2YoY3VycmVudCk7XG4gICAgICAgIGlmIChkZWxpbWl0ZXJfaW5kZXggIT0gLTEpIHtcbiAgICAgICAgICBpZiAodG9wKHN0YXRlKS50eXBlID09IGN1cnJlbnQpIHN0YXRlLmluZGVudCA9IHN0YXRlLnNjb3Blcy5wb3AoKS5vZmZzZXQgLSBoYW5naW5nSW5kZW50XG4gICAgICAgICAgZWxzZSByZXR1cm4gRVJST1JDTEFTUztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN0YXRlLmRlZGVudCAmJiBzdHJlYW0uZW9sKCkgJiYgdG9wKHN0YXRlKS50eXBlID09IFwicHlcIiAmJiBzdGF0ZS5zY29wZXMubGVuZ3RoID4gMSlcbiAgICAgICAgc3RhdGUuc2NvcGVzLnBvcCgpO1xuXG4gICAgICByZXR1cm4gc3R5bGU7XG4gICAgfVxuXG4gICAgdmFyIGV4dGVybmFsID0ge1xuICAgICAgc3RhcnRTdGF0ZTogZnVuY3Rpb24oYmFzZWNvbHVtbikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHRva2VuaXplOiB0b2tlbkJhc2UsXG4gICAgICAgICAgc2NvcGVzOiBbe29mZnNldDogYmFzZWNvbHVtbiB8fCAwLCB0eXBlOiBcInB5XCIsIGFsaWduOiBudWxsfV0sXG4gICAgICAgICAgaW5kZW50OiBiYXNlY29sdW1uIHx8IDAsXG4gICAgICAgICAgbGFzdFRva2VuOiBudWxsLFxuICAgICAgICAgIGxhbWJkYTogZmFsc2UsXG4gICAgICAgICAgZGVkZW50OiAwXG4gICAgICAgIH07XG4gICAgICB9LFxuXG4gICAgICB0b2tlbjogZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgICB2YXIgYWRkRXJyID0gc3RhdGUuZXJyb3JUb2tlbjtcbiAgICAgICAgaWYgKGFkZEVycikgc3RhdGUuZXJyb3JUb2tlbiA9IGZhbHNlO1xuICAgICAgICB2YXIgc3R5bGUgPSB0b2tlbkxleGVyKHN0cmVhbSwgc3RhdGUpO1xuXG4gICAgICAgIGlmIChzdHlsZSAmJiBzdHlsZSAhPSBcImNvbW1lbnRcIilcbiAgICAgICAgICBzdGF0ZS5sYXN0VG9rZW4gPSAoc3R5bGUgPT0gXCJrZXl3b3JkXCIgfHwgc3R5bGUgPT0gXCJwdW5jdHVhdGlvblwiKSA/IHN0cmVhbS5jdXJyZW50KCkgOiBzdHlsZTtcbiAgICAgICAgaWYgKHN0eWxlID09IFwicHVuY3R1YXRpb25cIikgc3R5bGUgPSBudWxsO1xuXG4gICAgICAgIGlmIChzdHJlYW0uZW9sKCkgJiYgc3RhdGUubGFtYmRhKVxuICAgICAgICAgIHN0YXRlLmxhbWJkYSA9IGZhbHNlO1xuICAgICAgICByZXR1cm4gYWRkRXJyID8gc3R5bGUgKyBcIiBcIiArIEVSUk9SQ0xBU1MgOiBzdHlsZTtcbiAgICAgIH0sXG5cbiAgICAgIGluZGVudDogZnVuY3Rpb24oc3RhdGUsIHRleHRBZnRlcikge1xuICAgICAgICBpZiAoc3RhdGUudG9rZW5pemUgIT0gdG9rZW5CYXNlKVxuICAgICAgICAgIHJldHVybiBzdGF0ZS50b2tlbml6ZS5pc1N0cmluZyA/IENvZGVNaXJyb3IuUGFzcyA6IDA7XG5cbiAgICAgICAgdmFyIHNjb3BlID0gdG9wKHN0YXRlKVxuICAgICAgICB2YXIgY2xvc2luZyA9IHNjb3BlLnR5cGUgPT0gdGV4dEFmdGVyLmNoYXJBdCgwKSB8fFxuICAgICAgICAgICAgc2NvcGUudHlwZSA9PSBcInB5XCIgJiYgIXN0YXRlLmRlZGVudCAmJiAvXihlbHNlOnxlbGlmIHxleGNlcHQgfGZpbmFsbHk6KS8udGVzdCh0ZXh0QWZ0ZXIpXG4gICAgICAgIGlmIChzY29wZS5hbGlnbiAhPSBudWxsKVxuICAgICAgICAgIHJldHVybiBzY29wZS5hbGlnbiAtIChjbG9zaW5nID8gMSA6IDApXG4gICAgICAgIGVsc2VcbiAgICAgICAgICByZXR1cm4gc2NvcGUub2Zmc2V0IC0gKGNsb3NpbmcgPyBoYW5naW5nSW5kZW50IDogMClcbiAgICAgIH0sXG5cbiAgICAgIGVsZWN0cmljSW5wdXQ6IC9eXFxzKihbXFx9XFxdXFwpXXxlbHNlOnxlbGlmIHxleGNlcHQgfGZpbmFsbHk6KSQvLFxuICAgICAgY2xvc2VCcmFja2V0czoge3RyaXBsZXM6IFwiJ1xcXCJcIn0sXG4gICAgICBsaW5lQ29tbWVudDogXCIjXCIsXG4gICAgICBmb2xkOiBcImluZGVudFwiXG4gICAgfTtcbiAgICByZXR1cm4gZXh0ZXJuYWw7XG4gIH0pO1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lTUlNRShcInRleHQveC1weXRob25cIiwgXCJweXRob25cIik7XG5cbiAgdmFyIHdvcmRzID0gZnVuY3Rpb24oc3RyKSB7IHJldHVybiBzdHIuc3BsaXQoXCIgXCIpOyB9O1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lTUlNRShcInRleHQveC1jeXRob25cIiwge1xuICAgIG5hbWU6IFwicHl0aG9uXCIsXG4gICAgZXh0cmFfa2V5d29yZHM6IHdvcmRzKFwiYnkgY2RlZiBjaW1wb3J0IGNwZGVmIGN0eXBlZGVmIGVudW0gZXhjZXB0IFwiK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBcImV4dGVybiBnaWwgaW5jbHVkZSBub2dpbCBwcm9wZXJ0eSBwdWJsaWMgXCIrXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwicmVhZG9ubHkgc3RydWN0IHVuaW9uIERFRiBJRiBFTElGIEVMU0VcIilcbiAgfSk7XG5cbn0pO1xuIiwiLy8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwczovL2NvZGVtaXJyb3IubmV0LzUvTElDRU5TRVxuXG4oZnVuY3Rpb24obW9kKSB7XG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT0gXCJvYmplY3RcIikgLy8gQ29tbW9uSlNcbiAgICBtb2QocmVxdWlyZShcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCIpKTtcbiAgZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PSBcImZ1bmN0aW9uXCIgJiYgZGVmaW5lLmFtZCkgLy8gQU1EXG4gICAgZGVmaW5lKFtcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCJdLCBtb2QpO1xuICBlbHNlIC8vIFBsYWluIGJyb3dzZXIgZW52XG4gICAgbW9kKENvZGVNaXJyb3IpO1xufSkoZnVuY3Rpb24oQ29kZU1pcnJvcikge1xuXCJ1c2Ugc3RyaWN0XCI7XG5cbmZ1bmN0aW9uIENvbnRleHQoaW5kZW50ZWQsIGNvbHVtbiwgdHlwZSwgaW5mbywgYWxpZ24sIHByZXYpIHtcbiAgdGhpcy5pbmRlbnRlZCA9IGluZGVudGVkO1xuICB0aGlzLmNvbHVtbiA9IGNvbHVtbjtcbiAgdGhpcy50eXBlID0gdHlwZTtcbiAgdGhpcy5pbmZvID0gaW5mbztcbiAgdGhpcy5hbGlnbiA9IGFsaWduO1xuICB0aGlzLnByZXYgPSBwcmV2O1xufVxuZnVuY3Rpb24gcHVzaENvbnRleHQoc3RhdGUsIGNvbCwgdHlwZSwgaW5mbykge1xuICB2YXIgaW5kZW50ID0gc3RhdGUuaW5kZW50ZWQ7XG4gIGlmIChzdGF0ZS5jb250ZXh0ICYmIHN0YXRlLmNvbnRleHQudHlwZSA9PSBcInN0YXRlbWVudFwiICYmIHR5cGUgIT0gXCJzdGF0ZW1lbnRcIilcbiAgICBpbmRlbnQgPSBzdGF0ZS5jb250ZXh0LmluZGVudGVkO1xuICByZXR1cm4gc3RhdGUuY29udGV4dCA9IG5ldyBDb250ZXh0KGluZGVudCwgY29sLCB0eXBlLCBpbmZvLCBudWxsLCBzdGF0ZS5jb250ZXh0KTtcbn1cbmZ1bmN0aW9uIHBvcENvbnRleHQoc3RhdGUpIHtcbiAgdmFyIHQgPSBzdGF0ZS5jb250ZXh0LnR5cGU7XG4gIGlmICh0ID09IFwiKVwiIHx8IHQgPT0gXCJdXCIgfHwgdCA9PSBcIn1cIilcbiAgICBzdGF0ZS5pbmRlbnRlZCA9IHN0YXRlLmNvbnRleHQuaW5kZW50ZWQ7XG4gIHJldHVybiBzdGF0ZS5jb250ZXh0ID0gc3RhdGUuY29udGV4dC5wcmV2O1xufVxuXG5mdW5jdGlvbiB0eXBlQmVmb3JlKHN0cmVhbSwgc3RhdGUsIHBvcykge1xuICBpZiAoc3RhdGUucHJldlRva2VuID09IFwidmFyaWFibGVcIiB8fCBzdGF0ZS5wcmV2VG9rZW4gPT0gXCJ0eXBlXCIpIHJldHVybiB0cnVlO1xuICBpZiAoL1xcUyg/OlteLSBdPnxbKlxcXV0pXFxzKiR8XFwqJC8udGVzdChzdHJlYW0uc3RyaW5nLnNsaWNlKDAsIHBvcykpKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKHN0YXRlLnR5cGVBdEVuZE9mTGluZSAmJiBzdHJlYW0uY29sdW1uKCkgPT0gc3RyZWFtLmluZGVudGF0aW9uKCkpIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBpc1RvcFNjb3BlKGNvbnRleHQpIHtcbiAgZm9yICg7Oykge1xuICAgIGlmICghY29udGV4dCB8fCBjb250ZXh0LnR5cGUgPT0gXCJ0b3BcIikgcmV0dXJuIHRydWU7XG4gICAgaWYgKGNvbnRleHQudHlwZSA9PSBcIn1cIiAmJiBjb250ZXh0LnByZXYuaW5mbyAhPSBcIm5hbWVzcGFjZVwiKSByZXR1cm4gZmFsc2U7XG4gICAgY29udGV4dCA9IGNvbnRleHQucHJldjtcbiAgfVxufVxuXG5Db2RlTWlycm9yLmRlZmluZU1vZGUoXCJjbGlrZVwiLCBmdW5jdGlvbihjb25maWcsIHBhcnNlckNvbmZpZykge1xuICB2YXIgaW5kZW50VW5pdCA9IGNvbmZpZy5pbmRlbnRVbml0LFxuICAgICAgc3RhdGVtZW50SW5kZW50VW5pdCA9IHBhcnNlckNvbmZpZy5zdGF0ZW1lbnRJbmRlbnRVbml0IHx8IGluZGVudFVuaXQsXG4gICAgICBkb250QWxpZ25DYWxscyA9IHBhcnNlckNvbmZpZy5kb250QWxpZ25DYWxscyxcbiAgICAgIGtleXdvcmRzID0gcGFyc2VyQ29uZmlnLmtleXdvcmRzIHx8IHt9LFxuICAgICAgdHlwZXMgPSBwYXJzZXJDb25maWcudHlwZXMgfHwge30sXG4gICAgICBidWlsdGluID0gcGFyc2VyQ29uZmlnLmJ1aWx0aW4gfHwge30sXG4gICAgICBibG9ja0tleXdvcmRzID0gcGFyc2VyQ29uZmlnLmJsb2NrS2V5d29yZHMgfHwge30sXG4gICAgICBkZWZLZXl3b3JkcyA9IHBhcnNlckNvbmZpZy5kZWZLZXl3b3JkcyB8fCB7fSxcbiAgICAgIGF0b21zID0gcGFyc2VyQ29uZmlnLmF0b21zIHx8IHt9LFxuICAgICAgaG9va3MgPSBwYXJzZXJDb25maWcuaG9va3MgfHwge30sXG4gICAgICBtdWx0aUxpbmVTdHJpbmdzID0gcGFyc2VyQ29uZmlnLm11bHRpTGluZVN0cmluZ3MsXG4gICAgICBpbmRlbnRTdGF0ZW1lbnRzID0gcGFyc2VyQ29uZmlnLmluZGVudFN0YXRlbWVudHMgIT09IGZhbHNlLFxuICAgICAgaW5kZW50U3dpdGNoID0gcGFyc2VyQ29uZmlnLmluZGVudFN3aXRjaCAhPT0gZmFsc2UsXG4gICAgICBuYW1lc3BhY2VTZXBhcmF0b3IgPSBwYXJzZXJDb25maWcubmFtZXNwYWNlU2VwYXJhdG9yLFxuICAgICAgaXNQdW5jdHVhdGlvbkNoYXIgPSBwYXJzZXJDb25maWcuaXNQdW5jdHVhdGlvbkNoYXIgfHwgL1tcXFtcXF17fVxcKFxcKSw7XFw6XFwuXS8sXG4gICAgICBudW1iZXJTdGFydCA9IHBhcnNlckNvbmZpZy5udW1iZXJTdGFydCB8fCAvW1xcZFxcLl0vLFxuICAgICAgbnVtYmVyID0gcGFyc2VyQ29uZmlnLm51bWJlciB8fCAvXig/OjB4W2EtZlxcZF0rfDBiWzAxXSt8KD86XFxkK1xcLj9cXGQqfFxcLlxcZCspKD86ZVstK10/XFxkKyk/KSh1fGxsP3xsfGYpPy9pLFxuICAgICAgaXNPcGVyYXRvckNoYXIgPSBwYXJzZXJDb25maWcuaXNPcGVyYXRvckNoYXIgfHwgL1srXFwtKiYlPTw+IT98XFwvXS8sXG4gICAgICBpc0lkZW50aWZpZXJDaGFyID0gcGFyc2VyQ29uZmlnLmlzSWRlbnRpZmllckNoYXIgfHwgL1tcXHdcXCRfXFx4YTEtXFx1ZmZmZl0vLFxuICAgICAgLy8gQW4gb3B0aW9uYWwgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHtzdHJpbmd9IHRva2VuIGFuZCByZXR1cm5zIHRydWUgaWYgaXRcbiAgICAgIC8vIHNob3VsZCBiZSB0cmVhdGVkIGFzIGEgYnVpbHRpbi5cbiAgICAgIGlzUmVzZXJ2ZWRJZGVudGlmaWVyID0gcGFyc2VyQ29uZmlnLmlzUmVzZXJ2ZWRJZGVudGlmaWVyIHx8IGZhbHNlO1xuXG4gIHZhciBjdXJQdW5jLCBpc0RlZktleXdvcmQ7XG5cbiAgZnVuY3Rpb24gdG9rZW5CYXNlKHN0cmVhbSwgc3RhdGUpIHtcbiAgICB2YXIgY2ggPSBzdHJlYW0ubmV4dCgpO1xuICAgIGlmIChob29rc1tjaF0pIHtcbiAgICAgIHZhciByZXN1bHQgPSBob29rc1tjaF0oc3RyZWFtLCBzdGF0ZSk7XG4gICAgICBpZiAocmVzdWx0ICE9PSBmYWxzZSkgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgaWYgKGNoID09ICdcIicgfHwgY2ggPT0gXCInXCIpIHtcbiAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5TdHJpbmcoY2gpO1xuICAgICAgcmV0dXJuIHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpO1xuICAgIH1cbiAgICBpZiAobnVtYmVyU3RhcnQudGVzdChjaCkpIHtcbiAgICAgIHN0cmVhbS5iYWNrVXAoMSlcbiAgICAgIGlmIChzdHJlYW0ubWF0Y2gobnVtYmVyKSkgcmV0dXJuIFwibnVtYmVyXCJcbiAgICAgIHN0cmVhbS5uZXh0KClcbiAgICB9XG4gICAgaWYgKGlzUHVuY3R1YXRpb25DaGFyLnRlc3QoY2gpKSB7XG4gICAgICBjdXJQdW5jID0gY2g7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgaWYgKGNoID09IFwiL1wiKSB7XG4gICAgICBpZiAoc3RyZWFtLmVhdChcIipcIikpIHtcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkNvbW1lbnQ7XG4gICAgICAgIHJldHVybiB0b2tlbkNvbW1lbnQoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICB9XG4gICAgICBpZiAoc3RyZWFtLmVhdChcIi9cIikpIHtcbiAgICAgICAgc3RyZWFtLnNraXBUb0VuZCgpO1xuICAgICAgICByZXR1cm4gXCJjb21tZW50XCI7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChpc09wZXJhdG9yQ2hhci50ZXN0KGNoKSkge1xuICAgICAgd2hpbGUgKCFzdHJlYW0ubWF0Y2goL15cXC9bXFwvKl0vLCBmYWxzZSkgJiYgc3RyZWFtLmVhdChpc09wZXJhdG9yQ2hhcikpIHt9XG4gICAgICByZXR1cm4gXCJvcGVyYXRvclwiO1xuICAgIH1cbiAgICBzdHJlYW0uZWF0V2hpbGUoaXNJZGVudGlmaWVyQ2hhcik7XG4gICAgaWYgKG5hbWVzcGFjZVNlcGFyYXRvcikgd2hpbGUgKHN0cmVhbS5tYXRjaChuYW1lc3BhY2VTZXBhcmF0b3IpKVxuICAgICAgc3RyZWFtLmVhdFdoaWxlKGlzSWRlbnRpZmllckNoYXIpO1xuXG4gICAgdmFyIGN1ciA9IHN0cmVhbS5jdXJyZW50KCk7XG4gICAgaWYgKGNvbnRhaW5zKGtleXdvcmRzLCBjdXIpKSB7XG4gICAgICBpZiAoY29udGFpbnMoYmxvY2tLZXl3b3JkcywgY3VyKSkgY3VyUHVuYyA9IFwibmV3c3RhdGVtZW50XCI7XG4gICAgICBpZiAoY29udGFpbnMoZGVmS2V5d29yZHMsIGN1cikpIGlzRGVmS2V5d29yZCA9IHRydWU7XG4gICAgICByZXR1cm4gXCJrZXl3b3JkXCI7XG4gICAgfVxuICAgIGlmIChjb250YWlucyh0eXBlcywgY3VyKSkgcmV0dXJuIFwidHlwZVwiO1xuICAgIGlmIChjb250YWlucyhidWlsdGluLCBjdXIpXG4gICAgICAgIHx8IChpc1Jlc2VydmVkSWRlbnRpZmllciAmJiBpc1Jlc2VydmVkSWRlbnRpZmllcihjdXIpKSkge1xuICAgICAgaWYgKGNvbnRhaW5zKGJsb2NrS2V5d29yZHMsIGN1cikpIGN1clB1bmMgPSBcIm5ld3N0YXRlbWVudFwiO1xuICAgICAgcmV0dXJuIFwiYnVpbHRpblwiO1xuICAgIH1cbiAgICBpZiAoY29udGFpbnMoYXRvbXMsIGN1cikpIHJldHVybiBcImF0b21cIjtcbiAgICByZXR1cm4gXCJ2YXJpYWJsZVwiO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9rZW5TdHJpbmcocXVvdGUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgdmFyIGVzY2FwZWQgPSBmYWxzZSwgbmV4dCwgZW5kID0gZmFsc2U7XG4gICAgICB3aGlsZSAoKG5leHQgPSBzdHJlYW0ubmV4dCgpKSAhPSBudWxsKSB7XG4gICAgICAgIGlmIChuZXh0ID09IHF1b3RlICYmICFlc2NhcGVkKSB7ZW5kID0gdHJ1ZTsgYnJlYWs7fVxuICAgICAgICBlc2NhcGVkID0gIWVzY2FwZWQgJiYgbmV4dCA9PSBcIlxcXFxcIjtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgfHwgIShlc2NhcGVkIHx8IG11bHRpTGluZVN0cmluZ3MpKVxuICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IG51bGw7XG4gICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gdG9rZW5Db21tZW50KHN0cmVhbSwgc3RhdGUpIHtcbiAgICB2YXIgbWF5YmVFbmQgPSBmYWxzZSwgY2g7XG4gICAgd2hpbGUgKGNoID0gc3RyZWFtLm5leHQoKSkge1xuICAgICAgaWYgKGNoID09IFwiL1wiICYmIG1heWJlRW5kKSB7XG4gICAgICAgIHN0YXRlLnRva2VuaXplID0gbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBtYXliZUVuZCA9IChjaCA9PSBcIipcIik7XG4gICAgfVxuICAgIHJldHVybiBcImNvbW1lbnRcIjtcbiAgfVxuXG4gIGZ1bmN0aW9uIG1heWJlRU9MKHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAocGFyc2VyQ29uZmlnLnR5cGVGaXJzdERlZmluaXRpb25zICYmIHN0cmVhbS5lb2woKSAmJiBpc1RvcFNjb3BlKHN0YXRlLmNvbnRleHQpKVxuICAgICAgc3RhdGUudHlwZUF0RW5kT2ZMaW5lID0gdHlwZUJlZm9yZShzdHJlYW0sIHN0YXRlLCBzdHJlYW0ucG9zKVxuICB9XG5cbiAgLy8gSW50ZXJmYWNlXG5cbiAgcmV0dXJuIHtcbiAgICBzdGFydFN0YXRlOiBmdW5jdGlvbihiYXNlY29sdW1uKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0b2tlbml6ZTogbnVsbCxcbiAgICAgICAgY29udGV4dDogbmV3IENvbnRleHQoKGJhc2Vjb2x1bW4gfHwgMCkgLSBpbmRlbnRVbml0LCAwLCBcInRvcFwiLCBudWxsLCBmYWxzZSksXG4gICAgICAgIGluZGVudGVkOiAwLFxuICAgICAgICBzdGFydE9mTGluZTogdHJ1ZSxcbiAgICAgICAgcHJldlRva2VuOiBudWxsXG4gICAgICB9O1xuICAgIH0sXG5cbiAgICB0b2tlbjogZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgdmFyIGN0eCA9IHN0YXRlLmNvbnRleHQ7XG4gICAgICBpZiAoc3RyZWFtLnNvbCgpKSB7XG4gICAgICAgIGlmIChjdHguYWxpZ24gPT0gbnVsbCkgY3R4LmFsaWduID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLmluZGVudGVkID0gc3RyZWFtLmluZGVudGF0aW9uKCk7XG4gICAgICAgIHN0YXRlLnN0YXJ0T2ZMaW5lID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChzdHJlYW0uZWF0U3BhY2UoKSkgeyBtYXliZUVPTChzdHJlYW0sIHN0YXRlKTsgcmV0dXJuIG51bGw7IH1cbiAgICAgIGN1clB1bmMgPSBpc0RlZktleXdvcmQgPSBudWxsO1xuICAgICAgdmFyIHN0eWxlID0gKHN0YXRlLnRva2VuaXplIHx8IHRva2VuQmFzZSkoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICBpZiAoc3R5bGUgPT0gXCJjb21tZW50XCIgfHwgc3R5bGUgPT0gXCJtZXRhXCIpIHJldHVybiBzdHlsZTtcbiAgICAgIGlmIChjdHguYWxpZ24gPT0gbnVsbCkgY3R4LmFsaWduID0gdHJ1ZTtcblxuICAgICAgaWYgKGN1clB1bmMgPT0gXCI7XCIgfHwgY3VyUHVuYyA9PSBcIjpcIiB8fCAoY3VyUHVuYyA9PSBcIixcIiAmJiBzdHJlYW0ubWF0Y2goL15cXHMqKD86XFwvXFwvLiopPyQvLCBmYWxzZSkpKVxuICAgICAgICB3aGlsZSAoc3RhdGUuY29udGV4dC50eXBlID09IFwic3RhdGVtZW50XCIpIHBvcENvbnRleHQoc3RhdGUpO1xuICAgICAgZWxzZSBpZiAoY3VyUHVuYyA9PSBcIntcIikgcHVzaENvbnRleHQoc3RhdGUsIHN0cmVhbS5jb2x1bW4oKSwgXCJ9XCIpO1xuICAgICAgZWxzZSBpZiAoY3VyUHVuYyA9PSBcIltcIikgcHVzaENvbnRleHQoc3RhdGUsIHN0cmVhbS5jb2x1bW4oKSwgXCJdXCIpO1xuICAgICAgZWxzZSBpZiAoY3VyUHVuYyA9PSBcIihcIikgcHVzaENvbnRleHQoc3RhdGUsIHN0cmVhbS5jb2x1bW4oKSwgXCIpXCIpO1xuICAgICAgZWxzZSBpZiAoY3VyUHVuYyA9PSBcIn1cIikge1xuICAgICAgICB3aGlsZSAoY3R4LnR5cGUgPT0gXCJzdGF0ZW1lbnRcIikgY3R4ID0gcG9wQ29udGV4dChzdGF0ZSk7XG4gICAgICAgIGlmIChjdHgudHlwZSA9PSBcIn1cIikgY3R4ID0gcG9wQ29udGV4dChzdGF0ZSk7XG4gICAgICAgIHdoaWxlIChjdHgudHlwZSA9PSBcInN0YXRlbWVudFwiKSBjdHggPSBwb3BDb250ZXh0KHN0YXRlKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGN1clB1bmMgPT0gY3R4LnR5cGUpIHBvcENvbnRleHQoc3RhdGUpO1xuICAgICAgZWxzZSBpZiAoaW5kZW50U3RhdGVtZW50cyAmJlxuICAgICAgICAgICAgICAgKCgoY3R4LnR5cGUgPT0gXCJ9XCIgfHwgY3R4LnR5cGUgPT0gXCJ0b3BcIikgJiYgY3VyUHVuYyAhPSBcIjtcIikgfHxcbiAgICAgICAgICAgICAgICAoY3R4LnR5cGUgPT0gXCJzdGF0ZW1lbnRcIiAmJiBjdXJQdW5jID09IFwibmV3c3RhdGVtZW50XCIpKSkge1xuICAgICAgICBwdXNoQ29udGV4dChzdGF0ZSwgc3RyZWFtLmNvbHVtbigpLCBcInN0YXRlbWVudFwiLCBzdHJlYW0uY3VycmVudCgpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0eWxlID09IFwidmFyaWFibGVcIiAmJlxuICAgICAgICAgICgoc3RhdGUucHJldlRva2VuID09IFwiZGVmXCIgfHxcbiAgICAgICAgICAgIChwYXJzZXJDb25maWcudHlwZUZpcnN0RGVmaW5pdGlvbnMgJiYgdHlwZUJlZm9yZShzdHJlYW0sIHN0YXRlLCBzdHJlYW0uc3RhcnQpICYmXG4gICAgICAgICAgICAgaXNUb3BTY29wZShzdGF0ZS5jb250ZXh0KSAmJiBzdHJlYW0ubWF0Y2goL15cXHMqXFwoLywgZmFsc2UpKSkpKVxuICAgICAgICBzdHlsZSA9IFwiZGVmXCI7XG5cbiAgICAgIGlmIChob29rcy50b2tlbikge1xuICAgICAgICB2YXIgcmVzdWx0ID0gaG9va3MudG9rZW4oc3RyZWFtLCBzdGF0ZSwgc3R5bGUpO1xuICAgICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHN0eWxlID0gcmVzdWx0O1xuICAgICAgfVxuXG4gICAgICBpZiAoc3R5bGUgPT0gXCJkZWZcIiAmJiBwYXJzZXJDb25maWcuc3R5bGVEZWZzID09PSBmYWxzZSkgc3R5bGUgPSBcInZhcmlhYmxlXCI7XG5cbiAgICAgIHN0YXRlLnN0YXJ0T2ZMaW5lID0gZmFsc2U7XG4gICAgICBzdGF0ZS5wcmV2VG9rZW4gPSBpc0RlZktleXdvcmQgPyBcImRlZlwiIDogc3R5bGUgfHwgY3VyUHVuYztcbiAgICAgIG1heWJlRU9MKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgcmV0dXJuIHN0eWxlO1xuICAgIH0sXG5cbiAgICBpbmRlbnQ6IGZ1bmN0aW9uKHN0YXRlLCB0ZXh0QWZ0ZXIpIHtcbiAgICAgIGlmIChzdGF0ZS50b2tlbml6ZSAhPSB0b2tlbkJhc2UgJiYgc3RhdGUudG9rZW5pemUgIT0gbnVsbCB8fCBzdGF0ZS50eXBlQXRFbmRPZkxpbmUgJiYgaXNUb3BTY29wZShzdGF0ZS5jb250ZXh0KSlcbiAgICAgICAgcmV0dXJuIENvZGVNaXJyb3IuUGFzcztcbiAgICAgIHZhciBjdHggPSBzdGF0ZS5jb250ZXh0LCBmaXJzdENoYXIgPSB0ZXh0QWZ0ZXIgJiYgdGV4dEFmdGVyLmNoYXJBdCgwKTtcbiAgICAgIHZhciBjbG9zaW5nID0gZmlyc3RDaGFyID09IGN0eC50eXBlO1xuICAgICAgaWYgKGN0eC50eXBlID09IFwic3RhdGVtZW50XCIgJiYgZmlyc3RDaGFyID09IFwifVwiKSBjdHggPSBjdHgucHJldjtcbiAgICAgIGlmIChwYXJzZXJDb25maWcuZG9udEluZGVudFN0YXRlbWVudHMpXG4gICAgICAgIHdoaWxlIChjdHgudHlwZSA9PSBcInN0YXRlbWVudFwiICYmIHBhcnNlckNvbmZpZy5kb250SW5kZW50U3RhdGVtZW50cy50ZXN0KGN0eC5pbmZvKSlcbiAgICAgICAgICBjdHggPSBjdHgucHJldlxuICAgICAgaWYgKGhvb2tzLmluZGVudCkge1xuICAgICAgICB2YXIgaG9vayA9IGhvb2tzLmluZGVudChzdGF0ZSwgY3R4LCB0ZXh0QWZ0ZXIsIGluZGVudFVuaXQpO1xuICAgICAgICBpZiAodHlwZW9mIGhvb2sgPT0gXCJudW1iZXJcIikgcmV0dXJuIGhvb2tcbiAgICAgIH1cbiAgICAgIHZhciBzd2l0Y2hCbG9jayA9IGN0eC5wcmV2ICYmIGN0eC5wcmV2LmluZm8gPT0gXCJzd2l0Y2hcIjtcbiAgICAgIGlmIChwYXJzZXJDb25maWcuYWxsbWFuSW5kZW50YXRpb24gJiYgL1t7KF0vLnRlc3QoZmlyc3RDaGFyKSkge1xuICAgICAgICB3aGlsZSAoY3R4LnR5cGUgIT0gXCJ0b3BcIiAmJiBjdHgudHlwZSAhPSBcIn1cIikgY3R4ID0gY3R4LnByZXZcbiAgICAgICAgcmV0dXJuIGN0eC5pbmRlbnRlZFxuICAgICAgfVxuICAgICAgaWYgKGN0eC50eXBlID09IFwic3RhdGVtZW50XCIpXG4gICAgICAgIHJldHVybiBjdHguaW5kZW50ZWQgKyAoZmlyc3RDaGFyID09IFwie1wiID8gMCA6IHN0YXRlbWVudEluZGVudFVuaXQpO1xuICAgICAgaWYgKGN0eC5hbGlnbiAmJiAoIWRvbnRBbGlnbkNhbGxzIHx8IGN0eC50eXBlICE9IFwiKVwiKSlcbiAgICAgICAgcmV0dXJuIGN0eC5jb2x1bW4gKyAoY2xvc2luZyA/IDAgOiAxKTtcbiAgICAgIGlmIChjdHgudHlwZSA9PSBcIilcIiAmJiAhY2xvc2luZylcbiAgICAgICAgcmV0dXJuIGN0eC5pbmRlbnRlZCArIHN0YXRlbWVudEluZGVudFVuaXQ7XG5cbiAgICAgIHJldHVybiBjdHguaW5kZW50ZWQgKyAoY2xvc2luZyA/IDAgOiBpbmRlbnRVbml0KSArXG4gICAgICAgICghY2xvc2luZyAmJiBzd2l0Y2hCbG9jayAmJiAhL14oPzpjYXNlfGRlZmF1bHQpXFxiLy50ZXN0KHRleHRBZnRlcikgPyBpbmRlbnRVbml0IDogMCk7XG4gICAgfSxcblxuICAgIGVsZWN0cmljSW5wdXQ6IGluZGVudFN3aXRjaCA/IC9eXFxzKig/OmNhc2UgLio/OnxkZWZhdWx0OnxcXHtcXH0/fFxcfSkkLyA6IC9eXFxzKlt7fV0kLyxcbiAgICBibG9ja0NvbW1lbnRTdGFydDogXCIvKlwiLFxuICAgIGJsb2NrQ29tbWVudEVuZDogXCIqL1wiLFxuICAgIGJsb2NrQ29tbWVudENvbnRpbnVlOiBcIiAqIFwiLFxuICAgIGxpbmVDb21tZW50OiBcIi8vXCIsXG4gICAgZm9sZDogXCJicmFjZVwiXG4gIH07XG59KTtcblxuICBmdW5jdGlvbiB3b3JkcyhzdHIpIHtcbiAgICB2YXIgb2JqID0ge30sIHdvcmRzID0gc3RyLnNwbGl0KFwiIFwiKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHdvcmRzLmxlbmd0aDsgKytpKSBvYmpbd29yZHNbaV1dID0gdHJ1ZTtcbiAgICByZXR1cm4gb2JqO1xuICB9XG4gIGZ1bmN0aW9uIGNvbnRhaW5zKHdvcmRzLCB3b3JkKSB7XG4gICAgaWYgKHR5cGVvZiB3b3JkcyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm4gd29yZHMod29yZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB3b3Jkcy5wcm9wZXJ0eUlzRW51bWVyYWJsZSh3b3JkKTtcbiAgICB9XG4gIH1cbiAgdmFyIGNLZXl3b3JkcyA9IFwiYXV0byBpZiBicmVhayBjYXNlIHJlZ2lzdGVyIGNvbnRpbnVlIHJldHVybiBkZWZhdWx0IGRvIHNpemVvZiBcIiArXG4gICAgXCJzdGF0aWMgZWxzZSBzdHJ1Y3Qgc3dpdGNoIGV4dGVybiB0eXBlZGVmIHVuaW9uIGZvciBnb3RvIHdoaWxlIGVudW0gY29uc3QgXCIgK1xuICAgIFwidm9sYXRpbGUgaW5saW5lIHJlc3RyaWN0IGFzbSBmb3J0cmFuXCI7XG5cbiAgLy8gS2V5d29yZHMgZnJvbSBodHRwczovL2VuLmNwcHJlZmVyZW5jZS5jb20vdy9jcHAva2V5d29yZCBpbmNsdWRlcyBDKysyMC5cbiAgdmFyIGNwcEtleXdvcmRzID0gXCJhbGlnbmFzIGFsaWdub2YgYW5kIGFuZF9lcSBhdWRpdCBheGlvbSBiaXRhbmQgYml0b3IgY2F0Y2ggXCIgK1xuICBcImNsYXNzIGNvbXBsIGNvbmNlcHQgY29uc3RleHByIGNvbnN0X2Nhc3QgZGVjbHR5cGUgZGVsZXRlIGR5bmFtaWNfY2FzdCBcIiArXG4gIFwiZXhwbGljaXQgZXhwb3J0IGZpbmFsIGZyaWVuZCBpbXBvcnQgbW9kdWxlIG11dGFibGUgbmFtZXNwYWNlIG5ldyBub2V4Y2VwdCBcIiArXG4gIFwibm90IG5vdF9lcSBvcGVyYXRvciBvciBvcl9lcSBvdmVycmlkZSBwcml2YXRlIHByb3RlY3RlZCBwdWJsaWMgXCIgK1xuICBcInJlaW50ZXJwcmV0X2Nhc3QgcmVxdWlyZXMgc3RhdGljX2Fzc2VydCBzdGF0aWNfY2FzdCB0ZW1wbGF0ZSB0aGlzIFwiICtcbiAgXCJ0aHJlYWRfbG9jYWwgdGhyb3cgdHJ5IHR5cGVpZCB0eXBlbmFtZSB1c2luZyB2aXJ0dWFsIHhvciB4b3JfZXFcIjtcblxuICB2YXIgb2JqQ0tleXdvcmRzID0gXCJieWNvcHkgYnlyZWYgaW4gaW5vdXQgb25ld2F5IG91dCBzZWxmIHN1cGVyIGF0b21pYyBub25hdG9taWMgcmV0YWluIGNvcHkgXCIgK1xuICBcInJlYWR3cml0ZSByZWFkb25seSBzdHJvbmcgd2VhayBhc3NpZ24gdHlwZW9mIG51bGxhYmxlIG5vbm51bGwgbnVsbF9yZXNldHRhYmxlIF9jbWQgXCIgK1xuICBcIkBpbnRlcmZhY2UgQGltcGxlbWVudGF0aW9uIEBlbmQgQHByb3RvY29sIEBlbmNvZGUgQHByb3BlcnR5IEBzeW50aGVzaXplIEBkeW5hbWljIEBjbGFzcyBcIiArXG4gIFwiQHB1YmxpYyBAcGFja2FnZSBAcHJpdmF0ZSBAcHJvdGVjdGVkIEByZXF1aXJlZCBAb3B0aW9uYWwgQHRyeSBAY2F0Y2ggQGZpbmFsbHkgQGltcG9ydCBcIiArXG4gIFwiQHNlbGVjdG9yIEBlbmNvZGUgQGRlZnMgQHN5bmNocm9uaXplZCBAYXV0b3JlbGVhc2Vwb29sIEBjb21wYXRpYmlsaXR5X2FsaWFzIEBhdmFpbGFibGVcIjtcblxuICB2YXIgb2JqQ0J1aWx0aW5zID0gXCJGT1VOREFUSU9OX0VYUE9SVCBGT1VOREFUSU9OX0VYVEVSTiBOU19JTkxJTkUgTlNfRk9STUFUX0ZVTkNUSU9OIFwiICtcbiAgXCIgTlNfUkVUVVJOU19SRVRBSU5FRE5TX0VSUk9SX0VOVU0gTlNfUkVUVVJOU19OT1RfUkVUQUlORUQgTlNfUkVUVVJOU19JTk5FUl9QT0lOVEVSIFwiICtcbiAgXCJOU19ERVNJR05BVEVEX0lOSVRJQUxJWkVSIE5TX0VOVU0gTlNfT1BUSU9OUyBOU19SRVFVSVJFU19OSUxfVEVSTUlOQVRJT04gXCIgK1xuICBcIk5TX0FTU1VNRV9OT05OVUxMX0JFR0lOIE5TX0FTU1VNRV9OT05OVUxMX0VORCBOU19TV0lGVF9OQU1FIE5TX1JFRklORURfRk9SX1NXSUZUXCJcblxuICAvLyBEbyBub3QgdXNlIHRoaXMuIFVzZSB0aGUgY1R5cGVzIGZ1bmN0aW9uIGJlbG93LiBUaGlzIGlzIGdsb2JhbCBqdXN0IHRvIGF2b2lkXG4gIC8vIGV4Y2Vzc2l2ZSBjYWxscyB3aGVuIGNUeXBlcyBpcyBiZWluZyBjYWxsZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nIGEgcGFyc2UuXG4gIHZhciBiYXNpY0NUeXBlcyA9IHdvcmRzKFwiaW50IGxvbmcgY2hhciBzaG9ydCBkb3VibGUgZmxvYXQgdW5zaWduZWQgc2lnbmVkIFwiICtcbiAgICBcInZvaWQgYm9vbFwiKTtcblxuICAvLyBEbyBub3QgdXNlIHRoaXMuIFVzZSB0aGUgb2JqQ1R5cGVzIGZ1bmN0aW9uIGJlbG93LiBUaGlzIGlzIGdsb2JhbCBqdXN0IHRvIGF2b2lkXG4gIC8vIGV4Y2Vzc2l2ZSBjYWxscyB3aGVuIG9iakNUeXBlcyBpcyBiZWluZyBjYWxsZWQgbXVsdGlwbGUgdGltZXMgZHVyaW5nIGEgcGFyc2UuXG4gIHZhciBiYXNpY09iakNUeXBlcyA9IHdvcmRzKFwiU0VMIGluc3RhbmNldHlwZSBpZCBDbGFzcyBQcm90b2NvbCBCT09MXCIpO1xuXG4gIC8vIFJldHVybnMgdHJ1ZSBpZiBpZGVudGlmaWVyIGlzIGEgXCJDXCIgdHlwZS5cbiAgLy8gQyB0eXBlIGlzIGRlZmluZWQgYXMgdGhvc2UgdGhhdCBhcmUgcmVzZXJ2ZWQgYnkgdGhlIGNvbXBpbGVyIChiYXNpY1R5cGVzKSxcbiAgLy8gYW5kIHRob3NlIHRoYXQgZW5kIGluIF90IChSZXNlcnZlZCBieSBQT1NJWCBmb3IgdHlwZXMpXG4gIC8vIGh0dHA6Ly93d3cuZ251Lm9yZy9zb2Z0d2FyZS9saWJjL21hbnVhbC9odG1sX25vZGUvUmVzZXJ2ZWQtTmFtZXMuaHRtbFxuICBmdW5jdGlvbiBjVHlwZXMoaWRlbnRpZmllcikge1xuICAgIHJldHVybiBjb250YWlucyhiYXNpY0NUeXBlcywgaWRlbnRpZmllcikgfHwgLy4rX3QkLy50ZXN0KGlkZW50aWZpZXIpO1xuICB9XG5cbiAgLy8gUmV0dXJucyB0cnVlIGlmIGlkZW50aWZpZXIgaXMgYSBcIk9iamVjdGl2ZSBDXCIgdHlwZS5cbiAgZnVuY3Rpb24gb2JqQ1R5cGVzKGlkZW50aWZpZXIpIHtcbiAgICByZXR1cm4gY1R5cGVzKGlkZW50aWZpZXIpIHx8IGNvbnRhaW5zKGJhc2ljT2JqQ1R5cGVzLCBpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHZhciBjQmxvY2tLZXl3b3JkcyA9IFwiY2FzZSBkbyBlbHNlIGZvciBpZiBzd2l0Y2ggd2hpbGUgc3RydWN0IGVudW0gdW5pb25cIjtcbiAgdmFyIGNEZWZLZXl3b3JkcyA9IFwic3RydWN0IGVudW0gdW5pb25cIjtcblxuICBmdW5jdGlvbiBjcHBIb29rKHN0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAoIXN0YXRlLnN0YXJ0T2ZMaW5lKSByZXR1cm4gZmFsc2VcbiAgICBmb3IgKHZhciBjaCwgbmV4dCA9IG51bGw7IGNoID0gc3RyZWFtLnBlZWsoKTspIHtcbiAgICAgIGlmIChjaCA9PSBcIlxcXFxcIiAmJiBzdHJlYW0ubWF0Y2goL14uJC8pKSB7XG4gICAgICAgIG5leHQgPSBjcHBIb29rXG4gICAgICAgIGJyZWFrXG4gICAgICB9IGVsc2UgaWYgKGNoID09IFwiL1wiICYmIHN0cmVhbS5tYXRjaCgvXlxcL1tcXC9cXCpdLywgZmFsc2UpKSB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBzdHJlYW0ubmV4dCgpXG4gICAgfVxuICAgIHN0YXRlLnRva2VuaXplID0gbmV4dFxuICAgIHJldHVybiBcIm1ldGFcIlxuICB9XG5cbiAgZnVuY3Rpb24gcG9pbnRlckhvb2soX3N0cmVhbSwgc3RhdGUpIHtcbiAgICBpZiAoc3RhdGUucHJldlRva2VuID09IFwidHlwZVwiKSByZXR1cm4gXCJ0eXBlXCI7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgLy8gRm9yIEMgYW5kIEMrKyAoYW5kIE9iakMpOiBpZGVudGlmaWVycyBzdGFydGluZyB3aXRoIF9fXG4gIC8vIG9yIF8gZm9sbG93ZWQgYnkgYSBjYXBpdGFsIGxldHRlciBhcmUgcmVzZXJ2ZWQgZm9yIHRoZSBjb21waWxlci5cbiAgZnVuY3Rpb24gY0lzUmVzZXJ2ZWRJZGVudGlmaWVyKHRva2VuKSB7XG4gICAgaWYgKCF0b2tlbiB8fCB0b2tlbi5sZW5ndGggPCAyKSByZXR1cm4gZmFsc2U7XG4gICAgaWYgKHRva2VuWzBdICE9ICdfJykgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiAodG9rZW5bMV0gPT0gJ18nKSB8fCAodG9rZW5bMV0gIT09IHRva2VuWzFdLnRvTG93ZXJDYXNlKCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3BwMTRMaXRlcmFsKHN0cmVhbSkge1xuICAgIHN0cmVhbS5lYXRXaGlsZSgvW1xcd1xcLiddLyk7XG4gICAgcmV0dXJuIFwibnVtYmVyXCI7XG4gIH1cblxuICBmdW5jdGlvbiBjcHAxMVN0cmluZ0hvb2soc3RyZWFtLCBzdGF0ZSkge1xuICAgIHN0cmVhbS5iYWNrVXAoMSk7XG4gICAgLy8gUmF3IHN0cmluZ3MuXG4gICAgaWYgKHN0cmVhbS5tYXRjaCgvXig/OlJ8dThSfHVSfFVSfExSKS8pKSB7XG4gICAgICB2YXIgbWF0Y2ggPSBzdHJlYW0ubWF0Y2goL15cIihbXlxcc1xcXFwoKV17MCwxNn0pXFwoLyk7XG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHN0YXRlLmNwcDExUmF3U3RyaW5nRGVsaW0gPSBtYXRjaFsxXTtcbiAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5SYXdTdHJpbmc7XG4gICAgICByZXR1cm4gdG9rZW5SYXdTdHJpbmcoc3RyZWFtLCBzdGF0ZSk7XG4gICAgfVxuICAgIC8vIFVuaWNvZGUgc3RyaW5ncy9jaGFycy5cbiAgICBpZiAoc3RyZWFtLm1hdGNoKC9eKD86dTh8dXxVfEwpLykpIHtcbiAgICAgIGlmIChzdHJlYW0ubWF0Y2goL15bXCInXS8sIC8qIGVhdCAqLyBmYWxzZSkpIHtcbiAgICAgICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIElnbm9yZSB0aGlzIGhvb2suXG4gICAgc3RyZWFtLm5leHQoKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBmdW5jdGlvbiBjcHBMb29rc0xpa2VDb25zdHJ1Y3Rvcih3b3JkKSB7XG4gICAgdmFyIGxhc3RUd28gPSAvKFxcdyspOjp+PyhcXHcrKSQvLmV4ZWMod29yZCk7XG4gICAgcmV0dXJuIGxhc3RUd28gJiYgbGFzdFR3b1sxXSA9PSBsYXN0VHdvWzJdO1xuICB9XG5cbiAgLy8gQyMtc3R5bGUgc3RyaW5ncyB3aGVyZSBcIlwiIGVzY2FwZXMgYSBxdW90ZS5cbiAgZnVuY3Rpb24gdG9rZW5BdFN0cmluZyhzdHJlYW0sIHN0YXRlKSB7XG4gICAgdmFyIG5leHQ7XG4gICAgd2hpbGUgKChuZXh0ID0gc3RyZWFtLm5leHQoKSkgIT0gbnVsbCkge1xuICAgICAgaWYgKG5leHQgPT0gJ1wiJyAmJiAhc3RyZWFtLmVhdCgnXCInKSkge1xuICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgfVxuXG4gIC8vIEMrKzExIHJhdyBzdHJpbmcgbGl0ZXJhbCBpcyA8cHJlZml4PlwiPGRlbGltPiggYW55dGhpbmcgKTxkZWxpbT5cIiwgd2hlcmVcbiAgLy8gPGRlbGltPiBjYW4gYmUgYSBzdHJpbmcgdXAgdG8gMTYgY2hhcmFjdGVycyBsb25nLlxuICBmdW5jdGlvbiB0b2tlblJhd1N0cmluZyhzdHJlYW0sIHN0YXRlKSB7XG4gICAgLy8gRXNjYXBlIGNoYXJhY3RlcnMgdGhhdCBoYXZlIHNwZWNpYWwgcmVnZXggbWVhbmluZ3MuXG4gICAgdmFyIGRlbGltID0gc3RhdGUuY3BwMTFSYXdTdHJpbmdEZWxpbS5yZXBsYWNlKC9bXlxcd1xcc10vZywgJ1xcXFwkJicpO1xuICAgIHZhciBtYXRjaCA9IHN0cmVhbS5tYXRjaChuZXcgUmVnRXhwKFwiLio/XFxcXClcIiArIGRlbGltICsgJ1wiJykpO1xuICAgIGlmIChtYXRjaClcbiAgICAgIHN0YXRlLnRva2VuaXplID0gbnVsbDtcbiAgICBlbHNlXG4gICAgICBzdHJlYW0uc2tpcFRvRW5kKCk7XG4gICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gIH1cblxuICBmdW5jdGlvbiBkZWYobWltZXMsIG1vZGUpIHtcbiAgICBpZiAodHlwZW9mIG1pbWVzID09IFwic3RyaW5nXCIpIG1pbWVzID0gW21pbWVzXTtcbiAgICB2YXIgd29yZHMgPSBbXTtcbiAgICBmdW5jdGlvbiBhZGQob2JqKSB7XG4gICAgICBpZiAob2JqKSBmb3IgKHZhciBwcm9wIGluIG9iaikgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShwcm9wKSlcbiAgICAgICAgd29yZHMucHVzaChwcm9wKTtcbiAgICB9XG4gICAgYWRkKG1vZGUua2V5d29yZHMpO1xuICAgIGFkZChtb2RlLnR5cGVzKTtcbiAgICBhZGQobW9kZS5idWlsdGluKTtcbiAgICBhZGQobW9kZS5hdG9tcyk7XG4gICAgaWYgKHdvcmRzLmxlbmd0aCkge1xuICAgICAgbW9kZS5oZWxwZXJUeXBlID0gbWltZXNbMF07XG4gICAgICBDb2RlTWlycm9yLnJlZ2lzdGVySGVscGVyKFwiaGludFdvcmRzXCIsIG1pbWVzWzBdLCB3b3Jkcyk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtaW1lcy5sZW5ndGg7ICsraSlcbiAgICAgIENvZGVNaXJyb3IuZGVmaW5lTUlNRShtaW1lc1tpXSwgbW9kZSk7XG4gIH1cblxuICBkZWYoW1widGV4dC94LWNzcmNcIiwgXCJ0ZXh0L3gtY1wiLCBcInRleHQveC1jaGRyXCJdLCB7XG4gICAgbmFtZTogXCJjbGlrZVwiLFxuICAgIGtleXdvcmRzOiB3b3JkcyhjS2V5d29yZHMpLFxuICAgIHR5cGVzOiBjVHlwZXMsXG4gICAgYmxvY2tLZXl3b3Jkczogd29yZHMoY0Jsb2NrS2V5d29yZHMpLFxuICAgIGRlZktleXdvcmRzOiB3b3JkcyhjRGVmS2V5d29yZHMpLFxuICAgIHR5cGVGaXJzdERlZmluaXRpb25zOiB0cnVlLFxuICAgIGF0b21zOiB3b3JkcyhcIk5VTEwgdHJ1ZSBmYWxzZVwiKSxcbiAgICBpc1Jlc2VydmVkSWRlbnRpZmllcjogY0lzUmVzZXJ2ZWRJZGVudGlmaWVyLFxuICAgIGhvb2tzOiB7XG4gICAgICBcIiNcIjogY3BwSG9vayxcbiAgICAgIFwiKlwiOiBwb2ludGVySG9vayxcbiAgICB9LFxuICAgIG1vZGVQcm9wczoge2ZvbGQ6IFtcImJyYWNlXCIsIFwiaW5jbHVkZVwiXX1cbiAgfSk7XG5cbiAgZGVmKFtcInRleHQveC1jKytzcmNcIiwgXCJ0ZXh0L3gtYysraGRyXCJdLCB7XG4gICAgbmFtZTogXCJjbGlrZVwiLFxuICAgIGtleXdvcmRzOiB3b3JkcyhjS2V5d29yZHMgKyBcIiBcIiArIGNwcEtleXdvcmRzKSxcbiAgICB0eXBlczogY1R5cGVzLFxuICAgIGJsb2NrS2V5d29yZHM6IHdvcmRzKGNCbG9ja0tleXdvcmRzICsgXCIgY2xhc3MgdHJ5IGNhdGNoXCIpLFxuICAgIGRlZktleXdvcmRzOiB3b3JkcyhjRGVmS2V5d29yZHMgKyBcIiBjbGFzcyBuYW1lc3BhY2VcIiksXG4gICAgdHlwZUZpcnN0RGVmaW5pdGlvbnM6IHRydWUsXG4gICAgYXRvbXM6IHdvcmRzKFwidHJ1ZSBmYWxzZSBOVUxMIG51bGxwdHJcIiksXG4gICAgZG9udEluZGVudFN0YXRlbWVudHM6IC9edGVtcGxhdGUkLyxcbiAgICBpc0lkZW50aWZpZXJDaGFyOiAvW1xcd1xcJF9+XFx4YTEtXFx1ZmZmZl0vLFxuICAgIGlzUmVzZXJ2ZWRJZGVudGlmaWVyOiBjSXNSZXNlcnZlZElkZW50aWZpZXIsXG4gICAgaG9va3M6IHtcbiAgICAgIFwiI1wiOiBjcHBIb29rLFxuICAgICAgXCIqXCI6IHBvaW50ZXJIb29rLFxuICAgICAgXCJ1XCI6IGNwcDExU3RyaW5nSG9vayxcbiAgICAgIFwiVVwiOiBjcHAxMVN0cmluZ0hvb2ssXG4gICAgICBcIkxcIjogY3BwMTFTdHJpbmdIb29rLFxuICAgICAgXCJSXCI6IGNwcDExU3RyaW5nSG9vayxcbiAgICAgIFwiMFwiOiBjcHAxNExpdGVyYWwsXG4gICAgICBcIjFcIjogY3BwMTRMaXRlcmFsLFxuICAgICAgXCIyXCI6IGNwcDE0TGl0ZXJhbCxcbiAgICAgIFwiM1wiOiBjcHAxNExpdGVyYWwsXG4gICAgICBcIjRcIjogY3BwMTRMaXRlcmFsLFxuICAgICAgXCI1XCI6IGNwcDE0TGl0ZXJhbCxcbiAgICAgIFwiNlwiOiBjcHAxNExpdGVyYWwsXG4gICAgICBcIjdcIjogY3BwMTRMaXRlcmFsLFxuICAgICAgXCI4XCI6IGNwcDE0TGl0ZXJhbCxcbiAgICAgIFwiOVwiOiBjcHAxNExpdGVyYWwsXG4gICAgICB0b2tlbjogZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSwgc3R5bGUpIHtcbiAgICAgICAgaWYgKHN0eWxlID09IFwidmFyaWFibGVcIiAmJiBzdHJlYW0ucGVlaygpID09IFwiKFwiICYmXG4gICAgICAgICAgICAoc3RhdGUucHJldlRva2VuID09IFwiO1wiIHx8IHN0YXRlLnByZXZUb2tlbiA9PSBudWxsIHx8XG4gICAgICAgICAgICAgc3RhdGUucHJldlRva2VuID09IFwifVwiKSAmJlxuICAgICAgICAgICAgY3BwTG9va3NMaWtlQ29uc3RydWN0b3Ioc3RyZWFtLmN1cnJlbnQoKSkpXG4gICAgICAgICAgcmV0dXJuIFwiZGVmXCI7XG4gICAgICB9XG4gICAgfSxcbiAgICBuYW1lc3BhY2VTZXBhcmF0b3I6IFwiOjpcIixcbiAgICBtb2RlUHJvcHM6IHtmb2xkOiBbXCJicmFjZVwiLCBcImluY2x1ZGVcIl19XG4gIH0pO1xuXG4gIGRlZihcInRleHQveC1qYXZhXCIsIHtcbiAgICBuYW1lOiBcImNsaWtlXCIsXG4gICAga2V5d29yZHM6IHdvcmRzKFwiYWJzdHJhY3QgYXNzZXJ0IGJyZWFrIGNhc2UgY2F0Y2ggY2xhc3MgY29uc3QgY29udGludWUgZGVmYXVsdCBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwiZG8gZWxzZSBlbnVtIGV4dGVuZHMgZmluYWwgZmluYWxseSBmb3IgZ290byBpZiBpbXBsZW1lbnRzIGltcG9ydCBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwiaW5zdGFuY2VvZiBpbnRlcmZhY2UgbmF0aXZlIG5ldyBwYWNrYWdlIHByaXZhdGUgcHJvdGVjdGVkIHB1YmxpYyBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwicmV0dXJuIHN0YXRpYyBzdHJpY3RmcCBzdXBlciBzd2l0Y2ggc3luY2hyb25pemVkIHRoaXMgdGhyb3cgdGhyb3dzIHRyYW5zaWVudCBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwidHJ5IHZvbGF0aWxlIHdoaWxlIEBpbnRlcmZhY2VcIiksXG4gICAgdHlwZXM6IHdvcmRzKFwidmFyIGJ5dGUgc2hvcnQgaW50IGxvbmcgZmxvYXQgZG91YmxlIGJvb2xlYW4gY2hhciB2b2lkIEJvb2xlYW4gQnl0ZSBDaGFyYWN0ZXIgRG91YmxlIEZsb2F0IFwiICtcbiAgICAgICAgICAgICAgICAgXCJJbnRlZ2VyIExvbmcgTnVtYmVyIE9iamVjdCBTaG9ydCBTdHJpbmcgU3RyaW5nQnVmZmVyIFN0cmluZ0J1aWxkZXIgVm9pZFwiKSxcbiAgICBibG9ja0tleXdvcmRzOiB3b3JkcyhcImNhdGNoIGNsYXNzIGRvIGVsc2UgZmluYWxseSBmb3IgaWYgc3dpdGNoIHRyeSB3aGlsZVwiKSxcbiAgICBkZWZLZXl3b3Jkczogd29yZHMoXCJjbGFzcyBpbnRlcmZhY2UgZW51bSBAaW50ZXJmYWNlXCIpLFxuICAgIHR5cGVGaXJzdERlZmluaXRpb25zOiB0cnVlLFxuICAgIGF0b21zOiB3b3JkcyhcInRydWUgZmFsc2UgbnVsbFwiKSxcbiAgICBudW1iZXI6IC9eKD86MHhbYS1mXFxkX10rfDBiWzAxX10rfCg/OltcXGRfXStcXC4/XFxkKnxcXC5cXGQrKSg/OmVbLStdP1tcXGRfXSspPykodXxsbD98bHxmKT8vaSxcbiAgICBob29rczoge1xuICAgICAgXCJAXCI6IGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgICAgICAvLyBEb24ndCBtYXRjaCB0aGUgQGludGVyZmFjZSBrZXl3b3JkLlxuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKCdpbnRlcmZhY2UnLCBmYWxzZSkpIHJldHVybiBmYWxzZTtcblxuICAgICAgICBzdHJlYW0uZWF0V2hpbGUoL1tcXHdcXCRfXS8pO1xuICAgICAgICByZXR1cm4gXCJtZXRhXCI7XG4gICAgICB9LFxuICAgICAgJ1wiJzogZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgICBpZiAoIXN0cmVhbS5tYXRjaCgvXCJcIiQvKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuVHJpcGxlU3RyaW5nO1xuICAgICAgICByZXR1cm4gc3RhdGUudG9rZW5pemUoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICB9XG4gICAgfSxcbiAgICBtb2RlUHJvcHM6IHtmb2xkOiBbXCJicmFjZVwiLCBcImltcG9ydFwiXX1cbiAgfSk7XG5cbiAgZGVmKFwidGV4dC94LWNzaGFycFwiLCB7XG4gICAgbmFtZTogXCJjbGlrZVwiLFxuICAgIGtleXdvcmRzOiB3b3JkcyhcImFic3RyYWN0IGFzIGFzeW5jIGF3YWl0IGJhc2UgYnJlYWsgY2FzZSBjYXRjaCBjaGVja2VkIGNsYXNzIGNvbnN0IGNvbnRpbnVlXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIiBkZWZhdWx0IGRlbGVnYXRlIGRvIGVsc2UgZW51bSBldmVudCBleHBsaWNpdCBleHRlcm4gZmluYWxseSBmaXhlZCBmb3JcIiArXG4gICAgICAgICAgICAgICAgICAgIFwiIGZvcmVhY2ggZ290byBpZiBpbXBsaWNpdCBpbiBpbml0IGludGVyZmFjZSBpbnRlcm5hbCBpcyBsb2NrIG5hbWVzcGFjZSBuZXdcIiArXG4gICAgICAgICAgICAgICAgICAgIFwiIG9wZXJhdG9yIG91dCBvdmVycmlkZSBwYXJhbXMgcHJpdmF0ZSBwcm90ZWN0ZWQgcHVibGljIHJlYWRvbmx5IHJlY29yZCByZWYgcmVxdWlyZWQgcmV0dXJuIHNlYWxlZFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCIgc2l6ZW9mIHN0YWNrYWxsb2Mgc3RhdGljIHN0cnVjdCBzd2l0Y2ggdGhpcyB0aHJvdyB0cnkgdHlwZW9mIHVuY2hlY2tlZFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCIgdW5zYWZlIHVzaW5nIHZpcnR1YWwgdm9pZCB2b2xhdGlsZSB3aGlsZSBhZGQgYWxpYXMgYXNjZW5kaW5nIGRlc2NlbmRpbmcgZHluYW1pYyBmcm9tIGdldFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCIgZ2xvYmFsIGdyb3VwIGludG8gam9pbiBsZXQgb3JkZXJieSBwYXJ0aWFsIHJlbW92ZSBzZWxlY3Qgc2V0IHZhbHVlIHZhciB5aWVsZFwiKSxcbiAgICB0eXBlczogd29yZHMoXCJBY3Rpb24gQm9vbGVhbiBCeXRlIENoYXIgRGF0ZVRpbWUgRGF0ZVRpbWVPZmZzZXQgRGVjaW1hbCBEb3VibGUgRnVuY1wiICtcbiAgICAgICAgICAgICAgICAgXCIgR3VpZCBJbnQxNiBJbnQzMiBJbnQ2NCBPYmplY3QgU0J5dGUgU2luZ2xlIFN0cmluZyBUYXNrIFRpbWVTcGFuIFVJbnQxNiBVSW50MzJcIiArXG4gICAgICAgICAgICAgICAgIFwiIFVJbnQ2NCBib29sIGJ5dGUgY2hhciBkZWNpbWFsIGRvdWJsZSBzaG9ydCBpbnQgbG9uZyBvYmplY3RcIiAgK1xuICAgICAgICAgICAgICAgICBcIiBzYnl0ZSBmbG9hdCBzdHJpbmcgdXNob3J0IHVpbnQgdWxvbmdcIiksXG4gICAgYmxvY2tLZXl3b3Jkczogd29yZHMoXCJjYXRjaCBjbGFzcyBkbyBlbHNlIGZpbmFsbHkgZm9yIGZvcmVhY2ggaWYgc3RydWN0IHN3aXRjaCB0cnkgd2hpbGVcIiksXG4gICAgZGVmS2V5d29yZHM6IHdvcmRzKFwiY2xhc3MgaW50ZXJmYWNlIG5hbWVzcGFjZSByZWNvcmQgc3RydWN0IHZhclwiKSxcbiAgICB0eXBlRmlyc3REZWZpbml0aW9uczogdHJ1ZSxcbiAgICBhdG9tczogd29yZHMoXCJ0cnVlIGZhbHNlIG51bGxcIiksXG4gICAgaG9va3M6IHtcbiAgICAgIFwiQFwiOiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgICAgIGlmIChzdHJlYW0uZWF0KCdcIicpKSB7XG4gICAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkF0U3RyaW5nO1xuICAgICAgICAgIHJldHVybiB0b2tlbkF0U3RyaW5nKHN0cmVhbSwgc3RhdGUpO1xuICAgICAgICB9XG4gICAgICAgIHN0cmVhbS5lYXRXaGlsZSgvW1xcd1xcJF9dLyk7XG4gICAgICAgIHJldHVybiBcIm1ldGFcIjtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHRva2VuVHJpcGxlU3RyaW5nKHN0cmVhbSwgc3RhdGUpIHtcbiAgICB2YXIgZXNjYXBlZCA9IGZhbHNlO1xuICAgIHdoaWxlICghc3RyZWFtLmVvbCgpKSB7XG4gICAgICBpZiAoIWVzY2FwZWQgJiYgc3RyZWFtLm1hdGNoKCdcIlwiXCInKSkge1xuICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZXNjYXBlZCA9IHN0cmVhbS5uZXh0KCkgPT0gXCJcXFxcXCIgJiYgIWVzY2FwZWQ7XG4gICAgfVxuICAgIHJldHVybiBcInN0cmluZ1wiO1xuICB9XG5cbiAgZnVuY3Rpb24gdG9rZW5OZXN0ZWRDb21tZW50KGRlcHRoKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChzdHJlYW0sIHN0YXRlKSB7XG4gICAgICB2YXIgY2hcbiAgICAgIHdoaWxlIChjaCA9IHN0cmVhbS5uZXh0KCkpIHtcbiAgICAgICAgaWYgKGNoID09IFwiKlwiICYmIHN0cmVhbS5lYXQoXCIvXCIpKSB7XG4gICAgICAgICAgaWYgKGRlcHRoID09IDEpIHtcbiAgICAgICAgICAgIHN0YXRlLnRva2VuaXplID0gbnVsbFxuICAgICAgICAgICAgYnJlYWtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbk5lc3RlZENvbW1lbnQoZGVwdGggLSAxKVxuICAgICAgICAgICAgcmV0dXJuIHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpXG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGNoID09IFwiL1wiICYmIHN0cmVhbS5lYXQoXCIqXCIpKSB7XG4gICAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbk5lc3RlZENvbW1lbnQoZGVwdGggKyAxKVxuICAgICAgICAgIHJldHVybiBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gXCJjb21tZW50XCJcbiAgICB9XG4gIH1cblxuICBkZWYoXCJ0ZXh0L3gtc2NhbGFcIiwge1xuICAgIG5hbWU6IFwiY2xpa2VcIixcbiAgICBrZXl3b3Jkczogd29yZHMoXG4gICAgICAvKiBzY2FsYSAqL1xuICAgICAgXCJhYnN0cmFjdCBjYXNlIGNhdGNoIGNsYXNzIGRlZiBkbyBlbHNlIGV4dGVuZHMgZmluYWwgZmluYWxseSBmb3IgZm9yU29tZSBpZiBcIiArXG4gICAgICBcImltcGxpY2l0IGltcG9ydCBsYXp5IG1hdGNoIG5ldyBudWxsIG9iamVjdCBvdmVycmlkZSBwYWNrYWdlIHByaXZhdGUgcHJvdGVjdGVkIHJldHVybiBcIiArXG4gICAgICBcInNlYWxlZCBzdXBlciB0aGlzIHRocm93IHRyYWl0IHRyeSB0eXBlIHZhbCB2YXIgd2hpbGUgd2l0aCB5aWVsZCBfIFwiICtcblxuICAgICAgLyogcGFja2FnZSBzY2FsYSAqL1xuICAgICAgXCJhc3NlcnQgYXNzdW1lIHJlcXVpcmUgcHJpbnQgcHJpbnRsbiBwcmludGYgcmVhZExpbmUgcmVhZEJvb2xlYW4gcmVhZEJ5dGUgcmVhZFNob3J0IFwiICtcbiAgICAgIFwicmVhZENoYXIgcmVhZEludCByZWFkTG9uZyByZWFkRmxvYXQgcmVhZERvdWJsZVwiXG4gICAgKSxcbiAgICB0eXBlczogd29yZHMoXG4gICAgICBcIkFueVZhbCBBcHAgQXBwbGljYXRpb24gQXJyYXkgQnVmZmVyZWRJdGVyYXRvciBCaWdEZWNpbWFsIEJpZ0ludCBDaGFyIENvbnNvbGUgRWl0aGVyIFwiICtcbiAgICAgIFwiRW51bWVyYXRpb24gRXF1aXYgRXJyb3IgRXhjZXB0aW9uIEZyYWN0aW9uYWwgRnVuY3Rpb24gSW5kZXhlZFNlcSBJbnQgSW50ZWdyYWwgSXRlcmFibGUgXCIgK1xuICAgICAgXCJJdGVyYXRvciBMaXN0IE1hcCBOdW1lcmljIE5pbCBOb3ROdWxsIE9wdGlvbiBPcmRlcmVkIE9yZGVyaW5nIFBhcnRpYWxGdW5jdGlvbiBQYXJ0aWFsT3JkZXJpbmcgXCIgK1xuICAgICAgXCJQcm9kdWN0IFByb3h5IFJhbmdlIFJlc3BvbmRlciBTZXEgU2VyaWFsaXphYmxlIFNldCBTcGVjaWFsaXphYmxlIFN0cmVhbSBTdHJpbmdCdWlsZGVyIFwiICtcbiAgICAgIFwiU3RyaW5nQ29udGV4dCBTeW1ib2wgVGhyb3dhYmxlIFRyYXZlcnNhYmxlIFRyYXZlcnNhYmxlT25jZSBUdXBsZSBVbml0IFZlY3RvciBcIiArXG5cbiAgICAgIC8qIHBhY2thZ2UgamF2YS5sYW5nICovXG4gICAgICBcIkJvb2xlYW4gQnl0ZSBDaGFyYWN0ZXIgQ2hhclNlcXVlbmNlIENsYXNzIENsYXNzTG9hZGVyIENsb25lYWJsZSBDb21wYXJhYmxlIFwiICtcbiAgICAgIFwiQ29tcGlsZXIgRG91YmxlIEV4Y2VwdGlvbiBGbG9hdCBJbnRlZ2VyIExvbmcgTWF0aCBOdW1iZXIgT2JqZWN0IFBhY2thZ2UgUGFpciBQcm9jZXNzIFwiICtcbiAgICAgIFwiUnVudGltZSBSdW5uYWJsZSBTZWN1cml0eU1hbmFnZXIgU2hvcnQgU3RhY2tUcmFjZUVsZW1lbnQgU3RyaWN0TWF0aCBTdHJpbmcgXCIgK1xuICAgICAgXCJTdHJpbmdCdWZmZXIgU3lzdGVtIFRocmVhZCBUaHJlYWRHcm91cCBUaHJlYWRMb2NhbCBUaHJvd2FibGUgVHJpcGxlIFZvaWRcIlxuICAgICksXG4gICAgbXVsdGlMaW5lU3RyaW5nczogdHJ1ZSxcbiAgICBibG9ja0tleXdvcmRzOiB3b3JkcyhcImNhdGNoIGNsYXNzIGVudW0gZG8gZWxzZSBmaW5hbGx5IGZvciBmb3JTb21lIGlmIG1hdGNoIHN3aXRjaCB0cnkgd2hpbGVcIiksXG4gICAgZGVmS2V5d29yZHM6IHdvcmRzKFwiY2xhc3MgZW51bSBkZWYgb2JqZWN0IHBhY2thZ2UgdHJhaXQgdHlwZSB2YWwgdmFyXCIpLFxuICAgIGF0b21zOiB3b3JkcyhcInRydWUgZmFsc2UgbnVsbFwiKSxcbiAgICBpbmRlbnRTdGF0ZW1lbnRzOiBmYWxzZSxcbiAgICBpbmRlbnRTd2l0Y2g6IGZhbHNlLFxuICAgIGlzT3BlcmF0b3JDaGFyOiAvWytcXC0qJiU9PD4hP3xcXC8jOkBdLyxcbiAgICBob29rczoge1xuICAgICAgXCJAXCI6IGZ1bmN0aW9uKHN0cmVhbSkge1xuICAgICAgICBzdHJlYW0uZWF0V2hpbGUoL1tcXHdcXCRfXS8pO1xuICAgICAgICByZXR1cm4gXCJtZXRhXCI7XG4gICAgICB9LFxuICAgICAgJ1wiJzogZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgICBpZiAoIXN0cmVhbS5tYXRjaCgnXCJcIicpKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5UcmlwbGVTdHJpbmc7XG4gICAgICAgIHJldHVybiBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKTtcbiAgICAgIH0sXG4gICAgICBcIidcIjogZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgICAgIGlmIChzdHJlYW0ubWF0Y2goL14oXFxcXFteJ1xcc10rfFteXFxcXCddKScvKSkgcmV0dXJuIFwic3RyaW5nLTJcIlxuICAgICAgICBzdHJlYW0uZWF0V2hpbGUoL1tcXHdcXCRfXFx4YTEtXFx1ZmZmZl0vKTtcbiAgICAgICAgcmV0dXJuIFwiYXRvbVwiO1xuICAgICAgfSxcbiAgICAgIFwiPVwiOiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgICAgIHZhciBjeCA9IHN0YXRlLmNvbnRleHRcbiAgICAgICAgaWYgKGN4LnR5cGUgPT0gXCJ9XCIgJiYgY3guYWxpZ24gJiYgc3RyZWFtLmVhdChcIj5cIikpIHtcbiAgICAgICAgICBzdGF0ZS5jb250ZXh0ID0gbmV3IENvbnRleHQoY3guaW5kZW50ZWQsIGN4LmNvbHVtbiwgY3gudHlwZSwgY3guaW5mbywgbnVsbCwgY3gucHJldilcbiAgICAgICAgICByZXR1cm4gXCJvcGVyYXRvclwiXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0sXG5cbiAgICAgIFwiL1wiOiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgICAgIGlmICghc3RyZWFtLmVhdChcIipcIikpIHJldHVybiBmYWxzZVxuICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuTmVzdGVkQ29tbWVudCgxKVxuICAgICAgICByZXR1cm4gc3RhdGUudG9rZW5pemUoc3RyZWFtLCBzdGF0ZSlcbiAgICAgIH1cbiAgICB9LFxuICAgIG1vZGVQcm9wczoge2Nsb3NlQnJhY2tldHM6IHtwYWlyczogJygpW117fVwiXCInLCB0cmlwbGVzOiAnXCInfX1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gdG9rZW5Lb3RsaW5TdHJpbmcodHJpcGxlU3RyaW5nKXtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgIHZhciBlc2NhcGVkID0gZmFsc2UsIG5leHQsIGVuZCA9IGZhbHNlO1xuICAgICAgd2hpbGUgKCFzdHJlYW0uZW9sKCkpIHtcbiAgICAgICAgaWYgKCF0cmlwbGVTdHJpbmcgJiYgIWVzY2FwZWQgJiYgc3RyZWFtLm1hdGNoKCdcIicpICkge2VuZCA9IHRydWU7IGJyZWFrO31cbiAgICAgICAgaWYgKHRyaXBsZVN0cmluZyAmJiBzdHJlYW0ubWF0Y2goJ1wiXCJcIicpKSB7ZW5kID0gdHJ1ZTsgYnJlYWs7fVxuICAgICAgICBuZXh0ID0gc3RyZWFtLm5leHQoKTtcbiAgICAgICAgaWYoIWVzY2FwZWQgJiYgbmV4dCA9PSBcIiRcIiAmJiBzdHJlYW0ubWF0Y2goJ3snKSlcbiAgICAgICAgICBzdHJlYW0uc2tpcFRvKFwifVwiKTtcbiAgICAgICAgZXNjYXBlZCA9ICFlc2NhcGVkICYmIG5leHQgPT0gXCJcXFxcXCIgJiYgIXRyaXBsZVN0cmluZztcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgfHwgIXRyaXBsZVN0cmluZylcbiAgICAgICAgc3RhdGUudG9rZW5pemUgPSBudWxsO1xuICAgICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgfVxuICB9XG5cbiAgZGVmKFwidGV4dC94LWtvdGxpblwiLCB7XG4gICAgbmFtZTogXCJjbGlrZVwiLFxuICAgIGtleXdvcmRzOiB3b3JkcyhcbiAgICAgIC8qa2V5d29yZHMqL1xuICAgICAgXCJwYWNrYWdlIGFzIHR5cGVhbGlhcyBjbGFzcyBpbnRlcmZhY2UgdGhpcyBzdXBlciB2YWwgb3BlcmF0b3IgXCIgK1xuICAgICAgXCJ2YXIgZnVuIGZvciBpcyBpbiBUaGlzIHRocm93IHJldHVybiBhbm5vdGF0aW9uIFwiICtcbiAgICAgIFwiYnJlYWsgY29udGludWUgb2JqZWN0IGlmIGVsc2Ugd2hpbGUgZG8gdHJ5IHdoZW4gIWluICFpcyBhcz8gXCIgK1xuXG4gICAgICAvKnNvZnQga2V5d29yZHMqL1xuICAgICAgXCJmaWxlIGltcG9ydCB3aGVyZSBieSBnZXQgc2V0IGFic3RyYWN0IGVudW0gb3BlbiBpbm5lciBvdmVycmlkZSBwcml2YXRlIHB1YmxpYyBpbnRlcm5hbCBcIiArXG4gICAgICBcInByb3RlY3RlZCBjYXRjaCBmaW5hbGx5IG91dCBmaW5hbCB2YXJhcmcgcmVpZmllZCBkeW5hbWljIGNvbXBhbmlvbiBjb25zdHJ1Y3RvciBpbml0IFwiICtcbiAgICAgIFwic2VhbGVkIGZpZWxkIHByb3BlcnR5IHJlY2VpdmVyIHBhcmFtIHNwYXJhbSBsYXRlaW5pdCBkYXRhIGlubGluZSBub2lubGluZSB0YWlscmVjIFwiICtcbiAgICAgIFwiZXh0ZXJuYWwgYW5ub3RhdGlvbiBjcm9zc2lubGluZSBjb25zdCBvcGVyYXRvciBpbmZpeCBzdXNwZW5kIGFjdHVhbCBleHBlY3Qgc2V0cGFyYW0gdmFsdWVcIlxuICAgICksXG4gICAgdHlwZXM6IHdvcmRzKFxuICAgICAgLyogcGFja2FnZSBqYXZhLmxhbmcgKi9cbiAgICAgIFwiQm9vbGVhbiBCeXRlIENoYXJhY3RlciBDaGFyU2VxdWVuY2UgQ2xhc3MgQ2xhc3NMb2FkZXIgQ2xvbmVhYmxlIENvbXBhcmFibGUgXCIgK1xuICAgICAgXCJDb21waWxlciBEb3VibGUgRXhjZXB0aW9uIEZsb2F0IEludGVnZXIgTG9uZyBNYXRoIE51bWJlciBPYmplY3QgUGFja2FnZSBQYWlyIFByb2Nlc3MgXCIgK1xuICAgICAgXCJSdW50aW1lIFJ1bm5hYmxlIFNlY3VyaXR5TWFuYWdlciBTaG9ydCBTdGFja1RyYWNlRWxlbWVudCBTdHJpY3RNYXRoIFN0cmluZyBcIiArXG4gICAgICBcIlN0cmluZ0J1ZmZlciBTeXN0ZW0gVGhyZWFkIFRocmVhZEdyb3VwIFRocmVhZExvY2FsIFRocm93YWJsZSBUcmlwbGUgVm9pZCBBbm5vdGF0aW9uIEFueSBCb29sZWFuQXJyYXkgXCIgK1xuICAgICAgXCJCeXRlQXJyYXkgQ2hhciBDaGFyQXJyYXkgRGVwcmVjYXRpb25MZXZlbCBEb3VibGVBcnJheSBFbnVtIEZsb2F0QXJyYXkgRnVuY3Rpb24gSW50IEludEFycmF5IExhenkgXCIgK1xuICAgICAgXCJMYXp5VGhyZWFkU2FmZXR5TW9kZSBMb25nQXJyYXkgTm90aGluZyBTaG9ydEFycmF5IFVuaXRcIlxuICAgICksXG4gICAgaW50ZW5kU3dpdGNoOiBmYWxzZSxcbiAgICBpbmRlbnRTdGF0ZW1lbnRzOiBmYWxzZSxcbiAgICBtdWx0aUxpbmVTdHJpbmdzOiB0cnVlLFxuICAgIG51bWJlcjogL14oPzoweFthLWZcXGRfXSt8MGJbMDFfXSt8KD86W1xcZF9dKyhcXC5cXGQrKT98XFwuXFxkKykoPzplWy0rXT9bXFxkX10rKT8pKHV8bGw/fGx8Zik/L2ksXG4gICAgYmxvY2tLZXl3b3Jkczogd29yZHMoXCJjYXRjaCBjbGFzcyBkbyBlbHNlIGZpbmFsbHkgZm9yIGlmIHdoZXJlIHRyeSB3aGlsZSBlbnVtXCIpLFxuICAgIGRlZktleXdvcmRzOiB3b3JkcyhcImNsYXNzIHZhbCB2YXIgb2JqZWN0IGludGVyZmFjZSBmdW5cIiksXG4gICAgYXRvbXM6IHdvcmRzKFwidHJ1ZSBmYWxzZSBudWxsIHRoaXNcIiksXG4gICAgaG9va3M6IHtcbiAgICAgIFwiQFwiOiBmdW5jdGlvbihzdHJlYW0pIHtcbiAgICAgICAgc3RyZWFtLmVhdFdoaWxlKC9bXFx3XFwkX10vKTtcbiAgICAgICAgcmV0dXJuIFwibWV0YVwiO1xuICAgICAgfSxcbiAgICAgICcqJzogZnVuY3Rpb24oX3N0cmVhbSwgc3RhdGUpIHtcbiAgICAgICAgcmV0dXJuIHN0YXRlLnByZXZUb2tlbiA9PSAnLicgPyAndmFyaWFibGUnIDogJ29wZXJhdG9yJztcbiAgICAgIH0sXG4gICAgICAnXCInOiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgICAgIHN0YXRlLnRva2VuaXplID0gdG9rZW5Lb3RsaW5TdHJpbmcoc3RyZWFtLm1hdGNoKCdcIlwiJykpO1xuICAgICAgICByZXR1cm4gc3RhdGUudG9rZW5pemUoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICB9LFxuICAgICAgXCIvXCI6IGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgICAgaWYgKCFzdHJlYW0uZWF0KFwiKlwiKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHRva2VuTmVzdGVkQ29tbWVudCgxKTtcbiAgICAgICAgcmV0dXJuIHN0YXRlLnRva2VuaXplKHN0cmVhbSwgc3RhdGUpXG4gICAgICB9LFxuICAgICAgaW5kZW50OiBmdW5jdGlvbihzdGF0ZSwgY3R4LCB0ZXh0QWZ0ZXIsIGluZGVudFVuaXQpIHtcbiAgICAgICAgdmFyIGZpcnN0Q2hhciA9IHRleHRBZnRlciAmJiB0ZXh0QWZ0ZXIuY2hhckF0KDApO1xuICAgICAgICBpZiAoKHN0YXRlLnByZXZUb2tlbiA9PSBcIn1cIiB8fCBzdGF0ZS5wcmV2VG9rZW4gPT0gXCIpXCIpICYmIHRleHRBZnRlciA9PSBcIlwiKVxuICAgICAgICAgIHJldHVybiBzdGF0ZS5pbmRlbnRlZDtcbiAgICAgICAgaWYgKChzdGF0ZS5wcmV2VG9rZW4gPT0gXCJvcGVyYXRvclwiICYmIHRleHRBZnRlciAhPSBcIn1cIiAmJiBzdGF0ZS5jb250ZXh0LnR5cGUgIT0gXCJ9XCIpIHx8XG4gICAgICAgICAgc3RhdGUucHJldlRva2VuID09IFwidmFyaWFibGVcIiAmJiBmaXJzdENoYXIgPT0gXCIuXCIgfHxcbiAgICAgICAgICAoc3RhdGUucHJldlRva2VuID09IFwifVwiIHx8IHN0YXRlLnByZXZUb2tlbiA9PSBcIilcIikgJiYgZmlyc3RDaGFyID09IFwiLlwiKVxuICAgICAgICAgIHJldHVybiBpbmRlbnRVbml0ICogMiArIGN0eC5pbmRlbnRlZDtcbiAgICAgICAgaWYgKGN0eC5hbGlnbiAmJiBjdHgudHlwZSA9PSBcIn1cIilcbiAgICAgICAgICByZXR1cm4gY3R4LmluZGVudGVkICsgKHN0YXRlLmNvbnRleHQudHlwZSA9PSAodGV4dEFmdGVyIHx8IFwiXCIpLmNoYXJBdCgwKSA/IDAgOiBpbmRlbnRVbml0KTtcbiAgICAgIH1cbiAgICB9LFxuICAgIG1vZGVQcm9wczoge2Nsb3NlQnJhY2tldHM6IHt0cmlwbGVzOiAnXCInfX1cbiAgfSk7XG5cbiAgZGVmKFtcIngtc2hhZGVyL3gtdmVydGV4XCIsIFwieC1zaGFkZXIveC1mcmFnbWVudFwiXSwge1xuICAgIG5hbWU6IFwiY2xpa2VcIixcbiAgICBrZXl3b3Jkczogd29yZHMoXCJzYW1wbGVyMUQgc2FtcGxlcjJEIHNhbXBsZXIzRCBzYW1wbGVyQ3ViZSBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwic2FtcGxlcjFEU2hhZG93IHNhbXBsZXIyRFNoYWRvdyBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwiY29uc3QgYXR0cmlidXRlIHVuaWZvcm0gdmFyeWluZyBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwiYnJlYWsgY29udGludWUgZGlzY2FyZCByZXR1cm4gXCIgK1xuICAgICAgICAgICAgICAgICAgICBcImZvciB3aGlsZSBkbyBpZiBlbHNlIHN0cnVjdCBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwiaW4gb3V0IGlub3V0XCIpLFxuICAgIHR5cGVzOiB3b3JkcyhcImZsb2F0IGludCBib29sIHZvaWQgXCIgK1xuICAgICAgICAgICAgICAgICBcInZlYzIgdmVjMyB2ZWM0IGl2ZWMyIGl2ZWMzIGl2ZWM0IGJ2ZWMyIGJ2ZWMzIGJ2ZWM0IFwiICtcbiAgICAgICAgICAgICAgICAgXCJtYXQyIG1hdDMgbWF0NFwiKSxcbiAgICBibG9ja0tleXdvcmRzOiB3b3JkcyhcImZvciB3aGlsZSBkbyBpZiBlbHNlIHN0cnVjdFwiKSxcbiAgICBidWlsdGluOiB3b3JkcyhcInJhZGlhbnMgZGVncmVlcyBzaW4gY29zIHRhbiBhc2luIGFjb3MgYXRhbiBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwicG93IGV4cCBsb2cgZXhwMiBzcXJ0IGludmVyc2VzcXJ0IFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJhYnMgc2lnbiBmbG9vciBjZWlsIGZyYWN0IG1vZCBtaW4gbWF4IGNsYW1wIG1peCBzdGVwIHNtb290aHN0ZXAgXCIgK1xuICAgICAgICAgICAgICAgICAgICBcImxlbmd0aCBkaXN0YW5jZSBkb3QgY3Jvc3Mgbm9ybWFsaXplIGZ0cmFuc2Zvcm0gZmFjZWZvcndhcmQgXCIgK1xuICAgICAgICAgICAgICAgICAgICBcInJlZmxlY3QgcmVmcmFjdCBtYXRyaXhDb21wTXVsdCBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwibGVzc1RoYW4gbGVzc1RoYW5FcXVhbCBncmVhdGVyVGhhbiBncmVhdGVyVGhhbkVxdWFsIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJlcXVhbCBub3RFcXVhbCBhbnkgYWxsIG5vdCBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwidGV4dHVyZTFEIHRleHR1cmUxRFByb2ogdGV4dHVyZTFETG9kIHRleHR1cmUxRFByb2pMb2QgXCIgK1xuICAgICAgICAgICAgICAgICAgICBcInRleHR1cmUyRCB0ZXh0dXJlMkRQcm9qIHRleHR1cmUyRExvZCB0ZXh0dXJlMkRQcm9qTG9kIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJ0ZXh0dXJlM0QgdGV4dHVyZTNEUHJvaiB0ZXh0dXJlM0RMb2QgdGV4dHVyZTNEUHJvakxvZCBcIiArXG4gICAgICAgICAgICAgICAgICAgIFwidGV4dHVyZUN1YmUgdGV4dHVyZUN1YmVMb2QgXCIgK1xuICAgICAgICAgICAgICAgICAgICBcInNoYWRvdzFEIHNoYWRvdzJEIHNoYWRvdzFEUHJvaiBzaGFkb3cyRFByb2ogXCIgK1xuICAgICAgICAgICAgICAgICAgICBcInNoYWRvdzFETG9kIHNoYWRvdzJETG9kIHNoYWRvdzFEUHJvakxvZCBzaGFkb3cyRFByb2pMb2QgXCIgK1xuICAgICAgICAgICAgICAgICAgICBcImRGZHggZEZkeSBmd2lkdGggXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIm5vaXNlMSBub2lzZTIgbm9pc2UzIG5vaXNlNFwiKSxcbiAgICBhdG9tczogd29yZHMoXCJ0cnVlIGZhbHNlIFwiICtcbiAgICAgICAgICAgICAgICBcImdsX0ZyYWdDb2xvciBnbF9TZWNvbmRhcnlDb2xvciBnbF9Ob3JtYWwgZ2xfVmVydGV4IFwiICtcbiAgICAgICAgICAgICAgICBcImdsX011bHRpVGV4Q29vcmQwIGdsX011bHRpVGV4Q29vcmQxIGdsX011bHRpVGV4Q29vcmQyIGdsX011bHRpVGV4Q29vcmQzIFwiICtcbiAgICAgICAgICAgICAgICBcImdsX011bHRpVGV4Q29vcmQ0IGdsX011bHRpVGV4Q29vcmQ1IGdsX011bHRpVGV4Q29vcmQ2IGdsX011bHRpVGV4Q29vcmQ3IFwiICtcbiAgICAgICAgICAgICAgICBcImdsX0ZvZ0Nvb3JkIGdsX1BvaW50Q29vcmQgXCIgK1xuICAgICAgICAgICAgICAgIFwiZ2xfUG9zaXRpb24gZ2xfUG9pbnRTaXplIGdsX0NsaXBWZXJ0ZXggXCIgK1xuICAgICAgICAgICAgICAgIFwiZ2xfRnJvbnRDb2xvciBnbF9CYWNrQ29sb3IgZ2xfRnJvbnRTZWNvbmRhcnlDb2xvciBnbF9CYWNrU2Vjb25kYXJ5Q29sb3IgXCIgK1xuICAgICAgICAgICAgICAgIFwiZ2xfVGV4Q29vcmQgZ2xfRm9nRnJhZ0Nvb3JkIFwiICtcbiAgICAgICAgICAgICAgICBcImdsX0ZyYWdDb29yZCBnbF9Gcm9udEZhY2luZyBcIiArXG4gICAgICAgICAgICAgICAgXCJnbF9GcmFnRGF0YSBnbF9GcmFnRGVwdGggXCIgK1xuICAgICAgICAgICAgICAgIFwiZ2xfTW9kZWxWaWV3TWF0cml4IGdsX1Byb2plY3Rpb25NYXRyaXggZ2xfTW9kZWxWaWV3UHJvamVjdGlvbk1hdHJpeCBcIiArXG4gICAgICAgICAgICAgICAgXCJnbF9UZXh0dXJlTWF0cml4IGdsX05vcm1hbE1hdHJpeCBnbF9Nb2RlbFZpZXdNYXRyaXhJbnZlcnNlIFwiICtcbiAgICAgICAgICAgICAgICBcImdsX1Byb2plY3Rpb25NYXRyaXhJbnZlcnNlIGdsX01vZGVsVmlld1Byb2plY3Rpb25NYXRyaXhJbnZlcnNlIFwiICtcbiAgICAgICAgICAgICAgICBcImdsX1RleHR1cmVNYXRyaXhUcmFuc3Bvc2UgZ2xfTW9kZWxWaWV3TWF0cml4SW52ZXJzZVRyYW5zcG9zZSBcIiArXG4gICAgICAgICAgICAgICAgXCJnbF9Qcm9qZWN0aW9uTWF0cml4SW52ZXJzZVRyYW5zcG9zZSBcIiArXG4gICAgICAgICAgICAgICAgXCJnbF9Nb2RlbFZpZXdQcm9qZWN0aW9uTWF0cml4SW52ZXJzZVRyYW5zcG9zZSBcIiArXG4gICAgICAgICAgICAgICAgXCJnbF9UZXh0dXJlTWF0cml4SW52ZXJzZVRyYW5zcG9zZSBcIiArXG4gICAgICAgICAgICAgICAgXCJnbF9Ob3JtYWxTY2FsZSBnbF9EZXB0aFJhbmdlIGdsX0NsaXBQbGFuZSBcIiArXG4gICAgICAgICAgICAgICAgXCJnbF9Qb2ludCBnbF9Gcm9udE1hdGVyaWFsIGdsX0JhY2tNYXRlcmlhbCBnbF9MaWdodFNvdXJjZSBnbF9MaWdodE1vZGVsIFwiICtcbiAgICAgICAgICAgICAgICBcImdsX0Zyb250TGlnaHRNb2RlbFByb2R1Y3QgZ2xfQmFja0xpZ2h0TW9kZWxQcm9kdWN0IFwiICtcbiAgICAgICAgICAgICAgICBcImdsX1RleHR1cmVDb2xvciBnbF9FeWVQbGFuZVMgZ2xfRXllUGxhbmVUIGdsX0V5ZVBsYW5lUiBnbF9FeWVQbGFuZVEgXCIgK1xuICAgICAgICAgICAgICAgIFwiZ2xfRm9nUGFyYW1ldGVycyBcIiArXG4gICAgICAgICAgICAgICAgXCJnbF9NYXhMaWdodHMgZ2xfTWF4Q2xpcFBsYW5lcyBnbF9NYXhUZXh0dXJlVW5pdHMgZ2xfTWF4VGV4dHVyZUNvb3JkcyBcIiArXG4gICAgICAgICAgICAgICAgXCJnbF9NYXhWZXJ0ZXhBdHRyaWJzIGdsX01heFZlcnRleFVuaWZvcm1Db21wb25lbnRzIGdsX01heFZhcnlpbmdGbG9hdHMgXCIgK1xuICAgICAgICAgICAgICAgIFwiZ2xfTWF4VmVydGV4VGV4dHVyZUltYWdlVW5pdHMgZ2xfTWF4VGV4dHVyZUltYWdlVW5pdHMgXCIgK1xuICAgICAgICAgICAgICAgIFwiZ2xfTWF4RnJhZ21lbnRVbmlmb3JtQ29tcG9uZW50cyBnbF9NYXhDb21iaW5lVGV4dHVyZUltYWdlVW5pdHMgXCIgK1xuICAgICAgICAgICAgICAgIFwiZ2xfTWF4RHJhd0J1ZmZlcnNcIiksXG4gICAgaW5kZW50U3dpdGNoOiBmYWxzZSxcbiAgICBob29rczoge1wiI1wiOiBjcHBIb29rfSxcbiAgICBtb2RlUHJvcHM6IHtmb2xkOiBbXCJicmFjZVwiLCBcImluY2x1ZGVcIl19XG4gIH0pO1xuXG4gIGRlZihcInRleHQveC1uZXNjXCIsIHtcbiAgICBuYW1lOiBcImNsaWtlXCIsXG4gICAga2V5d29yZHM6IHdvcmRzKGNLZXl3b3JkcyArIFwiIGFzIGF0b21pYyBhc3luYyBjYWxsIGNvbW1hbmQgY29tcG9uZW50IGNvbXBvbmVudHMgY29uZmlndXJhdGlvbiBldmVudCBnZW5lcmljIFwiICtcbiAgICAgICAgICAgICAgICAgICAgXCJpbXBsZW1lbnRhdGlvbiBpbmNsdWRlcyBpbnRlcmZhY2UgbW9kdWxlIG5ldyBub3JhY2Ugbnhfc3RydWN0IG54X3VuaW9uIHBvc3QgcHJvdmlkZXMgXCIgK1xuICAgICAgICAgICAgICAgICAgICBcInNpZ25hbCB0YXNrIHVzZXMgYWJzdHJhY3QgZXh0ZW5kc1wiKSxcbiAgICB0eXBlczogY1R5cGVzLFxuICAgIGJsb2NrS2V5d29yZHM6IHdvcmRzKGNCbG9ja0tleXdvcmRzKSxcbiAgICBhdG9tczogd29yZHMoXCJudWxsIHRydWUgZmFsc2VcIiksXG4gICAgaG9va3M6IHtcIiNcIjogY3BwSG9va30sXG4gICAgbW9kZVByb3BzOiB7Zm9sZDogW1wiYnJhY2VcIiwgXCJpbmNsdWRlXCJdfVxuICB9KTtcblxuICBkZWYoXCJ0ZXh0L3gtb2JqZWN0aXZlY1wiLCB7XG4gICAgbmFtZTogXCJjbGlrZVwiLFxuICAgIGtleXdvcmRzOiB3b3JkcyhjS2V5d29yZHMgKyBcIiBcIiArIG9iakNLZXl3b3JkcyksXG4gICAgdHlwZXM6IG9iakNUeXBlcyxcbiAgICBidWlsdGluOiB3b3JkcyhvYmpDQnVpbHRpbnMpLFxuICAgIGJsb2NrS2V5d29yZHM6IHdvcmRzKGNCbG9ja0tleXdvcmRzICsgXCIgQHN5bnRoZXNpemUgQHRyeSBAY2F0Y2ggQGZpbmFsbHkgQGF1dG9yZWxlYXNlcG9vbCBAc3luY2hyb25pemVkXCIpLFxuICAgIGRlZktleXdvcmRzOiB3b3JkcyhjRGVmS2V5d29yZHMgKyBcIiBAaW50ZXJmYWNlIEBpbXBsZW1lbnRhdGlvbiBAcHJvdG9jb2wgQGNsYXNzXCIpLFxuICAgIGRvbnRJbmRlbnRTdGF0ZW1lbnRzOiAvXkAuKiQvLFxuICAgIHR5cGVGaXJzdERlZmluaXRpb25zOiB0cnVlLFxuICAgIGF0b21zOiB3b3JkcyhcIllFUyBOTyBOVUxMIE5pbCBuaWwgdHJ1ZSBmYWxzZSBudWxscHRyXCIpLFxuICAgIGlzUmVzZXJ2ZWRJZGVudGlmaWVyOiBjSXNSZXNlcnZlZElkZW50aWZpZXIsXG4gICAgaG9va3M6IHtcbiAgICAgIFwiI1wiOiBjcHBIb29rLFxuICAgICAgXCIqXCI6IHBvaW50ZXJIb29rLFxuICAgIH0sXG4gICAgbW9kZVByb3BzOiB7Zm9sZDogW1wiYnJhY2VcIiwgXCJpbmNsdWRlXCJdfVxuICB9KTtcblxuICBkZWYoXCJ0ZXh0L3gtb2JqZWN0aXZlYysrXCIsIHtcbiAgICBuYW1lOiBcImNsaWtlXCIsXG4gICAga2V5d29yZHM6IHdvcmRzKGNLZXl3b3JkcyArIFwiIFwiICsgb2JqQ0tleXdvcmRzICsgXCIgXCIgKyBjcHBLZXl3b3JkcyksXG4gICAgdHlwZXM6IG9iakNUeXBlcyxcbiAgICBidWlsdGluOiB3b3JkcyhvYmpDQnVpbHRpbnMpLFxuICAgIGJsb2NrS2V5d29yZHM6IHdvcmRzKGNCbG9ja0tleXdvcmRzICsgXCIgQHN5bnRoZXNpemUgQHRyeSBAY2F0Y2ggQGZpbmFsbHkgQGF1dG9yZWxlYXNlcG9vbCBAc3luY2hyb25pemVkIGNsYXNzIHRyeSBjYXRjaFwiKSxcbiAgICBkZWZLZXl3b3Jkczogd29yZHMoY0RlZktleXdvcmRzICsgXCIgQGludGVyZmFjZSBAaW1wbGVtZW50YXRpb24gQHByb3RvY29sIEBjbGFzcyBjbGFzcyBuYW1lc3BhY2VcIiksXG4gICAgZG9udEluZGVudFN0YXRlbWVudHM6IC9eQC4qJHxedGVtcGxhdGUkLyxcbiAgICB0eXBlRmlyc3REZWZpbml0aW9uczogdHJ1ZSxcbiAgICBhdG9tczogd29yZHMoXCJZRVMgTk8gTlVMTCBOaWwgbmlsIHRydWUgZmFsc2UgbnVsbHB0clwiKSxcbiAgICBpc1Jlc2VydmVkSWRlbnRpZmllcjogY0lzUmVzZXJ2ZWRJZGVudGlmaWVyLFxuICAgIGhvb2tzOiB7XG4gICAgICBcIiNcIjogY3BwSG9vayxcbiAgICAgIFwiKlwiOiBwb2ludGVySG9vayxcbiAgICAgIFwidVwiOiBjcHAxMVN0cmluZ0hvb2ssXG4gICAgICBcIlVcIjogY3BwMTFTdHJpbmdIb29rLFxuICAgICAgXCJMXCI6IGNwcDExU3RyaW5nSG9vayxcbiAgICAgIFwiUlwiOiBjcHAxMVN0cmluZ0hvb2ssXG4gICAgICBcIjBcIjogY3BwMTRMaXRlcmFsLFxuICAgICAgXCIxXCI6IGNwcDE0TGl0ZXJhbCxcbiAgICAgIFwiMlwiOiBjcHAxNExpdGVyYWwsXG4gICAgICBcIjNcIjogY3BwMTRMaXRlcmFsLFxuICAgICAgXCI0XCI6IGNwcDE0TGl0ZXJhbCxcbiAgICAgIFwiNVwiOiBjcHAxNExpdGVyYWwsXG4gICAgICBcIjZcIjogY3BwMTRMaXRlcmFsLFxuICAgICAgXCI3XCI6IGNwcDE0TGl0ZXJhbCxcbiAgICAgIFwiOFwiOiBjcHAxNExpdGVyYWwsXG4gICAgICBcIjlcIjogY3BwMTRMaXRlcmFsLFxuICAgICAgdG9rZW46IGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUsIHN0eWxlKSB7XG4gICAgICAgIGlmIChzdHlsZSA9PSBcInZhcmlhYmxlXCIgJiYgc3RyZWFtLnBlZWsoKSA9PSBcIihcIiAmJlxuICAgICAgICAgICAgKHN0YXRlLnByZXZUb2tlbiA9PSBcIjtcIiB8fCBzdGF0ZS5wcmV2VG9rZW4gPT0gbnVsbCB8fFxuICAgICAgICAgICAgIHN0YXRlLnByZXZUb2tlbiA9PSBcIn1cIikgJiZcbiAgICAgICAgICAgIGNwcExvb2tzTGlrZUNvbnN0cnVjdG9yKHN0cmVhbS5jdXJyZW50KCkpKVxuICAgICAgICAgIHJldHVybiBcImRlZlwiO1xuICAgICAgfVxuICAgIH0sXG4gICAgbmFtZXNwYWNlU2VwYXJhdG9yOiBcIjo6XCIsXG4gICAgbW9kZVByb3BzOiB7Zm9sZDogW1wiYnJhY2VcIiwgXCJpbmNsdWRlXCJdfVxuICB9KTtcblxuICBkZWYoXCJ0ZXh0L3gtc3F1aXJyZWxcIiwge1xuICAgIG5hbWU6IFwiY2xpa2VcIixcbiAgICBrZXl3b3Jkczogd29yZHMoXCJiYXNlIGJyZWFrIGNsb25lIGNvbnRpbnVlIGNvbnN0IGRlZmF1bHQgZGVsZXRlIGVudW0gZXh0ZW5kcyBmdW5jdGlvbiBpbiBjbGFzc1wiICtcbiAgICAgICAgICAgICAgICAgICAgXCIgZm9yZWFjaCBsb2NhbCByZXN1bWUgcmV0dXJuIHRoaXMgdGhyb3cgdHlwZW9mIHlpZWxkIGNvbnN0cnVjdG9yIGluc3RhbmNlb2Ygc3RhdGljXCIpLFxuICAgIHR5cGVzOiBjVHlwZXMsXG4gICAgYmxvY2tLZXl3b3Jkczogd29yZHMoXCJjYXNlIGNhdGNoIGNsYXNzIGVsc2UgZm9yIGZvcmVhY2ggaWYgc3dpdGNoIHRyeSB3aGlsZVwiKSxcbiAgICBkZWZLZXl3b3Jkczogd29yZHMoXCJmdW5jdGlvbiBsb2NhbCBjbGFzc1wiKSxcbiAgICB0eXBlRmlyc3REZWZpbml0aW9uczogdHJ1ZSxcbiAgICBhdG9tczogd29yZHMoXCJ0cnVlIGZhbHNlIG51bGxcIiksXG4gICAgaG9va3M6IHtcIiNcIjogY3BwSG9va30sXG4gICAgbW9kZVByb3BzOiB7Zm9sZDogW1wiYnJhY2VcIiwgXCJpbmNsdWRlXCJdfVxuICB9KTtcblxuICAvLyBDZXlsb24gU3RyaW5ncyBuZWVkIHRvIGRlYWwgd2l0aCBpbnRlcnBvbGF0aW9uXG4gIHZhciBzdHJpbmdUb2tlbml6ZXIgPSBudWxsO1xuICBmdW5jdGlvbiB0b2tlbkNleWxvblN0cmluZyh0eXBlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgIHZhciBlc2NhcGVkID0gZmFsc2UsIG5leHQsIGVuZCA9IGZhbHNlO1xuICAgICAgd2hpbGUgKCFzdHJlYW0uZW9sKCkpIHtcbiAgICAgICAgaWYgKCFlc2NhcGVkICYmIHN0cmVhbS5tYXRjaCgnXCInKSAmJlxuICAgICAgICAgICAgICAodHlwZSA9PSBcInNpbmdsZVwiIHx8IHN0cmVhbS5tYXRjaCgnXCJcIicpKSkge1xuICAgICAgICAgIGVuZCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFlc2NhcGVkICYmIHN0cmVhbS5tYXRjaCgnYGAnKSkge1xuICAgICAgICAgIHN0cmluZ1Rva2VuaXplciA9IHRva2VuQ2V5bG9uU3RyaW5nKHR5cGUpO1xuICAgICAgICAgIGVuZCA9IHRydWU7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgbmV4dCA9IHN0cmVhbS5uZXh0KCk7XG4gICAgICAgIGVzY2FwZWQgPSB0eXBlID09IFwic2luZ2xlXCIgJiYgIWVzY2FwZWQgJiYgbmV4dCA9PSBcIlxcXFxcIjtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQpXG4gICAgICAgICAgc3RhdGUudG9rZW5pemUgPSBudWxsO1xuICAgICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgfVxuICB9XG5cbiAgZGVmKFwidGV4dC94LWNleWxvblwiLCB7XG4gICAgbmFtZTogXCJjbGlrZVwiLFxuICAgIGtleXdvcmRzOiB3b3JkcyhcImFic3RyYWN0cyBhbGlhcyBhc3NlbWJseSBhc3NlcnQgYXNzaWduIGJyZWFrIGNhc2UgY2F0Y2ggY2xhc3MgY29udGludWUgZHluYW1pYyBlbHNlXCIgK1xuICAgICAgICAgICAgICAgICAgICBcIiBleGlzdHMgZXh0ZW5kcyBmaW5hbGx5IGZvciBmdW5jdGlvbiBnaXZlbiBpZiBpbXBvcnQgaW4gaW50ZXJmYWNlIGlzIGxldCBtb2R1bGUgbmV3XCIgK1xuICAgICAgICAgICAgICAgICAgICBcIiBub25lbXB0eSBvYmplY3Qgb2Ygb3V0IG91dGVyIHBhY2thZ2UgcmV0dXJuIHNhdGlzZmllcyBzdXBlciBzd2l0Y2ggdGhlbiB0aGlzIHRocm93XCIgK1xuICAgICAgICAgICAgICAgICAgICBcIiB0cnkgdmFsdWUgdm9pZCB3aGlsZVwiKSxcbiAgICB0eXBlczogZnVuY3Rpb24od29yZCkge1xuICAgICAgICAvLyBJbiBDZXlsb24gYWxsIGlkZW50aWZpZXJzIHRoYXQgc3RhcnQgd2l0aCBhbiB1cHBlcmNhc2UgYXJlIHR5cGVzXG4gICAgICAgIHZhciBmaXJzdCA9IHdvcmQuY2hhckF0KDApO1xuICAgICAgICByZXR1cm4gKGZpcnN0ID09PSBmaXJzdC50b1VwcGVyQ2FzZSgpICYmIGZpcnN0ICE9PSBmaXJzdC50b0xvd2VyQ2FzZSgpKTtcbiAgICB9LFxuICAgIGJsb2NrS2V5d29yZHM6IHdvcmRzKFwiY2FzZSBjYXRjaCBjbGFzcyBkeW5hbWljIGVsc2UgZmluYWxseSBmb3IgZnVuY3Rpb24gaWYgaW50ZXJmYWNlIG1vZHVsZSBuZXcgb2JqZWN0IHN3aXRjaCB0cnkgd2hpbGVcIiksXG4gICAgZGVmS2V5d29yZHM6IHdvcmRzKFwiY2xhc3MgZHluYW1pYyBmdW5jdGlvbiBpbnRlcmZhY2UgbW9kdWxlIG9iamVjdCBwYWNrYWdlIHZhbHVlXCIpLFxuICAgIGJ1aWx0aW46IHdvcmRzKFwiYWJzdHJhY3QgYWN0dWFsIGFsaWFzZWQgYW5ub3RhdGlvbiBieSBkZWZhdWx0IGRlcHJlY2F0ZWQgZG9jIGZpbmFsIGZvcm1hbCBsYXRlIGxpY2Vuc2VcIiArXG4gICAgICAgICAgICAgICAgICAgXCIgbmF0aXZlIG9wdGlvbmFsIHNlYWxlZCBzZWUgc2VyaWFsaXphYmxlIHNoYXJlZCBzdXBwcmVzc1dhcm5pbmdzIHRhZ2dlZCB0aHJvd3MgdmFyaWFibGVcIiksXG4gICAgaXNQdW5jdHVhdGlvbkNoYXI6IC9bXFxbXFxde31cXChcXCksO1xcOlxcLmBdLyxcbiAgICBpc09wZXJhdG9yQ2hhcjogL1srXFwtKiYlPTw+IT98Xn46XFwvXS8sXG4gICAgbnVtYmVyU3RhcnQ6IC9bXFxkIyRdLyxcbiAgICBudW1iZXI6IC9eKD86I1tcXGRhLWZBLUZfXSt8XFwkWzAxX10rfFtcXGRfXStba01HVFBtdW5wZl0/fFtcXGRfXStcXC5bXFxkX10rKD86W2VFXVstK10/XFxkK3xba01HVFBtdW5wZl18KXwpL2ksXG4gICAgbXVsdGlMaW5lU3RyaW5nczogdHJ1ZSxcbiAgICB0eXBlRmlyc3REZWZpbml0aW9uczogdHJ1ZSxcbiAgICBhdG9tczogd29yZHMoXCJ0cnVlIGZhbHNlIG51bGwgbGFyZ2VyIHNtYWxsZXIgZXF1YWwgZW1wdHkgZmluaXNoZWRcIiksXG4gICAgaW5kZW50U3dpdGNoOiBmYWxzZSxcbiAgICBzdHlsZURlZnM6IGZhbHNlLFxuICAgIGhvb2tzOiB7XG4gICAgICBcIkBcIjogZnVuY3Rpb24oc3RyZWFtKSB7XG4gICAgICAgIHN0cmVhbS5lYXRXaGlsZSgvW1xcd1xcJF9dLyk7XG4gICAgICAgIHJldHVybiBcIm1ldGFcIjtcbiAgICAgIH0sXG4gICAgICAnXCInOiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG4gICAgICAgICAgc3RhdGUudG9rZW5pemUgPSB0b2tlbkNleWxvblN0cmluZyhzdHJlYW0ubWF0Y2goJ1wiXCInKSA/IFwidHJpcGxlXCIgOiBcInNpbmdsZVwiKTtcbiAgICAgICAgICByZXR1cm4gc3RhdGUudG9rZW5pemUoc3RyZWFtLCBzdGF0ZSk7XG4gICAgICAgIH0sXG4gICAgICAnYCc6IGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgICAgICBpZiAoIXN0cmluZ1Rva2VuaXplciB8fCAhc3RyZWFtLm1hdGNoKCdgJykpIHJldHVybiBmYWxzZTtcbiAgICAgICAgICBzdGF0ZS50b2tlbml6ZSA9IHN0cmluZ1Rva2VuaXplcjtcbiAgICAgICAgICBzdHJpbmdUb2tlbml6ZXIgPSBudWxsO1xuICAgICAgICAgIHJldHVybiBzdGF0ZS50b2tlbml6ZShzdHJlYW0sIHN0YXRlKTtcbiAgICAgICAgfSxcbiAgICAgIFwiJ1wiOiBmdW5jdGlvbihzdHJlYW0pIHtcbiAgICAgICAgc3RyZWFtLmVhdFdoaWxlKC9bXFx3XFwkX1xceGExLVxcdWZmZmZdLyk7XG4gICAgICAgIHJldHVybiBcImF0b21cIjtcbiAgICAgIH0sXG4gICAgICB0b2tlbjogZnVuY3Rpb24oX3N0cmVhbSwgc3RhdGUsIHN0eWxlKSB7XG4gICAgICAgICAgaWYgKChzdHlsZSA9PSBcInZhcmlhYmxlXCIgfHwgc3R5bGUgPT0gXCJ0eXBlXCIpICYmXG4gICAgICAgICAgICAgIHN0YXRlLnByZXZUb2tlbiA9PSBcIi5cIikge1xuICAgICAgICAgICAgcmV0dXJuIFwidmFyaWFibGUtMlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgbW9kZVByb3BzOiB7XG4gICAgICAgIGZvbGQ6IFtcImJyYWNlXCIsIFwiaW1wb3J0XCJdLFxuICAgICAgICBjbG9zZUJyYWNrZXRzOiB7dHJpcGxlczogJ1wiJ31cbiAgICB9XG4gIH0pO1xuXG59KTtcbiIsIi8vIENvZGVNaXJyb3IsIGNvcHlyaWdodCAoYykgYnkgTWFyaWpuIEhhdmVyYmVrZSBhbmQgb3RoZXJzXG4vLyBEaXN0cmlidXRlZCB1bmRlciBhbiBNSVQgbGljZW5zZTogaHR0cHM6Ly9jb2RlbWlycm9yLm5ldC81L0xJQ0VOU0VcblxuKGZ1bmN0aW9uKG1vZCkge1xuICBpZiAodHlwZW9mIGV4cG9ydHMgPT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgbW9kdWxlID09IFwib2JqZWN0XCIpIC8vIENvbW1vbkpTXG4gICAgbW9kKHJlcXVpcmUoXCIuLi9saWIvY29kZW1pcnJvclwiKSk7XG4gIGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT0gXCJmdW5jdGlvblwiICYmIGRlZmluZS5hbWQpIC8vIEFNRFxuICAgIGRlZmluZShbXCIuLi9saWIvY29kZW1pcnJvclwiXSwgbW9kKTtcbiAgZWxzZSAvLyBQbGFpbiBicm93c2VyIGVudlxuICAgIG1vZChDb2RlTWlycm9yKTtcbn0pKGZ1bmN0aW9uKENvZGVNaXJyb3IpIHtcbiAgXCJ1c2Ugc3RyaWN0XCI7XG5cbiAgQ29kZU1pcnJvci5tb2RlSW5mbyA9IFtcbiAgICB7bmFtZTogXCJBUExcIiwgbWltZTogXCJ0ZXh0L2FwbFwiLCBtb2RlOiBcImFwbFwiLCBleHQ6IFtcImR5YWxvZ1wiLCBcImFwbFwiXX0sXG4gICAge25hbWU6IFwiUEdQXCIsIG1pbWVzOiBbXCJhcHBsaWNhdGlvbi9wZ3BcIiwgXCJhcHBsaWNhdGlvbi9wZ3AtZW5jcnlwdGVkXCIsIFwiYXBwbGljYXRpb24vcGdwLWtleXNcIiwgXCJhcHBsaWNhdGlvbi9wZ3Atc2lnbmF0dXJlXCJdLCBtb2RlOiBcImFzY2lpYXJtb3JcIiwgZXh0OiBbXCJhc2NcIiwgXCJwZ3BcIiwgXCJzaWdcIl19LFxuICAgIHtuYW1lOiBcIkFTTi4xXCIsIG1pbWU6IFwidGV4dC94LXR0Y24tYXNuXCIsIG1vZGU6IFwiYXNuLjFcIiwgZXh0OiBbXCJhc25cIiwgXCJhc24xXCJdfSxcbiAgICB7bmFtZTogXCJBc3Rlcmlza1wiLCBtaW1lOiBcInRleHQveC1hc3Rlcmlza1wiLCBtb2RlOiBcImFzdGVyaXNrXCIsIGZpbGU6IC9eZXh0ZW5zaW9uc1xcLmNvbmYkL2l9LFxuICAgIHtuYW1lOiBcIkJyYWluZnVja1wiLCBtaW1lOiBcInRleHQveC1icmFpbmZ1Y2tcIiwgbW9kZTogXCJicmFpbmZ1Y2tcIiwgZXh0OiBbXCJiXCIsIFwiYmZcIl19LFxuICAgIHtuYW1lOiBcIkNcIiwgbWltZTogXCJ0ZXh0L3gtY3NyY1wiLCBtb2RlOiBcImNsaWtlXCIsIGV4dDogW1wiY1wiLCBcImhcIiwgXCJpbm9cIl19LFxuICAgIHtuYW1lOiBcIkMrK1wiLCBtaW1lOiBcInRleHQveC1jKytzcmNcIiwgbW9kZTogXCJjbGlrZVwiLCBleHQ6IFtcImNwcFwiLCBcImMrK1wiLCBcImNjXCIsIFwiY3h4XCIsIFwiaHBwXCIsIFwiaCsrXCIsIFwiaGhcIiwgXCJoeHhcIl0sIGFsaWFzOiBbXCJjcHBcIl19LFxuICAgIHtuYW1lOiBcIkNvYm9sXCIsIG1pbWU6IFwidGV4dC94LWNvYm9sXCIsIG1vZGU6IFwiY29ib2xcIiwgZXh0OiBbXCJjb2JcIiwgXCJjcHlcIiwgXCJjYmxcIl19LFxuICAgIHtuYW1lOiBcIkMjXCIsIG1pbWU6IFwidGV4dC94LWNzaGFycFwiLCBtb2RlOiBcImNsaWtlXCIsIGV4dDogW1wiY3NcIl0sIGFsaWFzOiBbXCJjc2hhcnBcIiwgXCJjc1wiXX0sXG4gICAge25hbWU6IFwiQ2xvanVyZVwiLCBtaW1lOiBcInRleHQveC1jbG9qdXJlXCIsIG1vZGU6IFwiY2xvanVyZVwiLCBleHQ6IFtcImNsalwiLCBcImNsamNcIiwgXCJjbGp4XCJdfSxcbiAgICB7bmFtZTogXCJDbG9qdXJlU2NyaXB0XCIsIG1pbWU6IFwidGV4dC94LWNsb2p1cmVzY3JpcHRcIiwgbW9kZTogXCJjbG9qdXJlXCIsIGV4dDogW1wiY2xqc1wiXX0sXG4gICAge25hbWU6IFwiQ2xvc3VyZSBTdHlsZXNoZWV0cyAoR1NTKVwiLCBtaW1lOiBcInRleHQveC1nc3NcIiwgbW9kZTogXCJjc3NcIiwgZXh0OiBbXCJnc3NcIl19LFxuICAgIHtuYW1lOiBcIkNNYWtlXCIsIG1pbWU6IFwidGV4dC94LWNtYWtlXCIsIG1vZGU6IFwiY21ha2VcIiwgZXh0OiBbXCJjbWFrZVwiLCBcImNtYWtlLmluXCJdLCBmaWxlOiAvXkNNYWtlTGlzdHNcXC50eHQkL30sXG4gICAge25hbWU6IFwiQ29mZmVlU2NyaXB0XCIsIG1pbWVzOiBbXCJhcHBsaWNhdGlvbi92bmQuY29mZmVlc2NyaXB0XCIsIFwidGV4dC9jb2ZmZWVzY3JpcHRcIiwgXCJ0ZXh0L3gtY29mZmVlc2NyaXB0XCJdLCBtb2RlOiBcImNvZmZlZXNjcmlwdFwiLCBleHQ6IFtcImNvZmZlZVwiXSwgYWxpYXM6IFtcImNvZmZlZVwiLCBcImNvZmZlZS1zY3JpcHRcIl19LFxuICAgIHtuYW1lOiBcIkNvbW1vbiBMaXNwXCIsIG1pbWU6IFwidGV4dC94LWNvbW1vbi1saXNwXCIsIG1vZGU6IFwiY29tbW9ubGlzcFwiLCBleHQ6IFtcImNsXCIsIFwibGlzcFwiLCBcImVsXCJdLCBhbGlhczogW1wibGlzcFwiXX0sXG4gICAge25hbWU6IFwiQ3lwaGVyXCIsIG1pbWU6IFwiYXBwbGljYXRpb24veC1jeXBoZXItcXVlcnlcIiwgbW9kZTogXCJjeXBoZXJcIiwgZXh0OiBbXCJjeXBcIiwgXCJjeXBoZXJcIl19LFxuICAgIHtuYW1lOiBcIkN5dGhvblwiLCBtaW1lOiBcInRleHQveC1jeXRob25cIiwgbW9kZTogXCJweXRob25cIiwgZXh0OiBbXCJweXhcIiwgXCJweGRcIiwgXCJweGlcIl19LFxuICAgIHtuYW1lOiBcIkNyeXN0YWxcIiwgbWltZTogXCJ0ZXh0L3gtY3J5c3RhbFwiLCBtb2RlOiBcImNyeXN0YWxcIiwgZXh0OiBbXCJjclwiXX0sXG4gICAge25hbWU6IFwiQ1NTXCIsIG1pbWU6IFwidGV4dC9jc3NcIiwgbW9kZTogXCJjc3NcIiwgZXh0OiBbXCJjc3NcIl19LFxuICAgIHtuYW1lOiBcIkNRTFwiLCBtaW1lOiBcInRleHQveC1jYXNzYW5kcmFcIiwgbW9kZTogXCJzcWxcIiwgZXh0OiBbXCJjcWxcIl19LFxuICAgIHtuYW1lOiBcIkRcIiwgbWltZTogXCJ0ZXh0L3gtZFwiLCBtb2RlOiBcImRcIiwgZXh0OiBbXCJkXCJdfSxcbiAgICB7bmFtZTogXCJEYXJ0XCIsIG1pbWVzOiBbXCJhcHBsaWNhdGlvbi9kYXJ0XCIsIFwidGV4dC94LWRhcnRcIl0sIG1vZGU6IFwiZGFydFwiLCBleHQ6IFtcImRhcnRcIl19LFxuICAgIHtuYW1lOiBcImRpZmZcIiwgbWltZTogXCJ0ZXh0L3gtZGlmZlwiLCBtb2RlOiBcImRpZmZcIiwgZXh0OiBbXCJkaWZmXCIsIFwicGF0Y2hcIl19LFxuICAgIHtuYW1lOiBcIkRqYW5nb1wiLCBtaW1lOiBcInRleHQveC1kamFuZ29cIiwgbW9kZTogXCJkamFuZ29cIn0sXG4gICAge25hbWU6IFwiRG9ja2VyZmlsZVwiLCBtaW1lOiBcInRleHQveC1kb2NrZXJmaWxlXCIsIG1vZGU6IFwiZG9ja2VyZmlsZVwiLCBmaWxlOiAvXkRvY2tlcmZpbGUkL30sXG4gICAge25hbWU6IFwiRFREXCIsIG1pbWU6IFwiYXBwbGljYXRpb24veG1sLWR0ZFwiLCBtb2RlOiBcImR0ZFwiLCBleHQ6IFtcImR0ZFwiXX0sXG4gICAge25hbWU6IFwiRHlsYW5cIiwgbWltZTogXCJ0ZXh0L3gtZHlsYW5cIiwgbW9kZTogXCJkeWxhblwiLCBleHQ6IFtcImR5bGFuXCIsIFwiZHlsXCIsIFwiaW50clwiXX0sXG4gICAge25hbWU6IFwiRUJORlwiLCBtaW1lOiBcInRleHQveC1lYm5mXCIsIG1vZGU6IFwiZWJuZlwifSxcbiAgICB7bmFtZTogXCJFQ0xcIiwgbWltZTogXCJ0ZXh0L3gtZWNsXCIsIG1vZGU6IFwiZWNsXCIsIGV4dDogW1wiZWNsXCJdfSxcbiAgICB7bmFtZTogXCJlZG5cIiwgbWltZTogXCJhcHBsaWNhdGlvbi9lZG5cIiwgbW9kZTogXCJjbG9qdXJlXCIsIGV4dDogW1wiZWRuXCJdfSxcbiAgICB7bmFtZTogXCJFaWZmZWxcIiwgbWltZTogXCJ0ZXh0L3gtZWlmZmVsXCIsIG1vZGU6IFwiZWlmZmVsXCIsIGV4dDogW1wiZVwiXX0sXG4gICAge25hbWU6IFwiRWxtXCIsIG1pbWU6IFwidGV4dC94LWVsbVwiLCBtb2RlOiBcImVsbVwiLCBleHQ6IFtcImVsbVwiXX0sXG4gICAge25hbWU6IFwiRW1iZWRkZWQgSmF2YVNjcmlwdFwiLCBtaW1lOiBcImFwcGxpY2F0aW9uL3gtZWpzXCIsIG1vZGU6IFwiaHRtbGVtYmVkZGVkXCIsIGV4dDogW1wiZWpzXCJdfSxcbiAgICB7bmFtZTogXCJFbWJlZGRlZCBSdWJ5XCIsIG1pbWU6IFwiYXBwbGljYXRpb24veC1lcmJcIiwgbW9kZTogXCJodG1sZW1iZWRkZWRcIiwgZXh0OiBbXCJlcmJcIl19LFxuICAgIHtuYW1lOiBcIkVybGFuZ1wiLCBtaW1lOiBcInRleHQveC1lcmxhbmdcIiwgbW9kZTogXCJlcmxhbmdcIiwgZXh0OiBbXCJlcmxcIl19LFxuICAgIHtuYW1lOiBcIkVzcGVyXCIsIG1pbWU6IFwidGV4dC94LWVzcGVyXCIsIG1vZGU6IFwic3FsXCJ9LFxuICAgIHtuYW1lOiBcIkZhY3RvclwiLCBtaW1lOiBcInRleHQveC1mYWN0b3JcIiwgbW9kZTogXCJmYWN0b3JcIiwgZXh0OiBbXCJmYWN0b3JcIl19LFxuICAgIHtuYW1lOiBcIkZDTFwiLCBtaW1lOiBcInRleHQveC1mY2xcIiwgbW9kZTogXCJmY2xcIn0sXG4gICAge25hbWU6IFwiRm9ydGhcIiwgbWltZTogXCJ0ZXh0L3gtZm9ydGhcIiwgbW9kZTogXCJmb3J0aFwiLCBleHQ6IFtcImZvcnRoXCIsIFwiZnRoXCIsIFwiNHRoXCJdfSxcbiAgICB7bmFtZTogXCJGb3J0cmFuXCIsIG1pbWU6IFwidGV4dC94LWZvcnRyYW5cIiwgbW9kZTogXCJmb3J0cmFuXCIsIGV4dDogW1wiZlwiLCBcImZvclwiLCBcImY3N1wiLCBcImY5MFwiLCBcImY5NVwiXX0sXG4gICAge25hbWU6IFwiRiNcIiwgbWltZTogXCJ0ZXh0L3gtZnNoYXJwXCIsIG1vZGU6IFwibWxsaWtlXCIsIGV4dDogW1wiZnNcIl0sIGFsaWFzOiBbXCJmc2hhcnBcIl19LFxuICAgIHtuYW1lOiBcIkdhc1wiLCBtaW1lOiBcInRleHQveC1nYXNcIiwgbW9kZTogXCJnYXNcIiwgZXh0OiBbXCJzXCJdfSxcbiAgICB7bmFtZTogXCJHaGVya2luXCIsIG1pbWU6IFwidGV4dC94LWZlYXR1cmVcIiwgbW9kZTogXCJnaGVya2luXCIsIGV4dDogW1wiZmVhdHVyZVwiXX0sXG4gICAge25hbWU6IFwiR2l0SHViIEZsYXZvcmVkIE1hcmtkb3duXCIsIG1pbWU6IFwidGV4dC94LWdmbVwiLCBtb2RlOiBcImdmbVwiLCBmaWxlOiAvXihyZWFkbWV8Y29udHJpYnV0aW5nfGhpc3RvcnkpXFwubWQkL2l9LFxuICAgIHtuYW1lOiBcIkdvXCIsIG1pbWU6IFwidGV4dC94LWdvXCIsIG1vZGU6IFwiZ29cIiwgZXh0OiBbXCJnb1wiXX0sXG4gICAge25hbWU6IFwiR3Jvb3Z5XCIsIG1pbWU6IFwidGV4dC94LWdyb292eVwiLCBtb2RlOiBcImdyb292eVwiLCBleHQ6IFtcImdyb292eVwiLCBcImdyYWRsZVwiXSwgZmlsZTogL15KZW5raW5zZmlsZSQvfSxcbiAgICB7bmFtZTogXCJIQU1MXCIsIG1pbWU6IFwidGV4dC94LWhhbWxcIiwgbW9kZTogXCJoYW1sXCIsIGV4dDogW1wiaGFtbFwiXX0sXG4gICAge25hbWU6IFwiSGFza2VsbFwiLCBtaW1lOiBcInRleHQveC1oYXNrZWxsXCIsIG1vZGU6IFwiaGFza2VsbFwiLCBleHQ6IFtcImhzXCJdfSxcbiAgICB7bmFtZTogXCJIYXNrZWxsIChMaXRlcmF0ZSlcIiwgbWltZTogXCJ0ZXh0L3gtbGl0ZXJhdGUtaGFza2VsbFwiLCBtb2RlOiBcImhhc2tlbGwtbGl0ZXJhdGVcIiwgZXh0OiBbXCJsaHNcIl19LFxuICAgIHtuYW1lOiBcIkhheGVcIiwgbWltZTogXCJ0ZXh0L3gtaGF4ZVwiLCBtb2RlOiBcImhheGVcIiwgZXh0OiBbXCJoeFwiXX0sXG4gICAge25hbWU6IFwiSFhNTFwiLCBtaW1lOiBcInRleHQveC1oeG1sXCIsIG1vZGU6IFwiaGF4ZVwiLCBleHQ6IFtcImh4bWxcIl19LFxuICAgIHtuYW1lOiBcIkFTUC5ORVRcIiwgbWltZTogXCJhcHBsaWNhdGlvbi94LWFzcHhcIiwgbW9kZTogXCJodG1sZW1iZWRkZWRcIiwgZXh0OiBbXCJhc3B4XCJdLCBhbGlhczogW1wiYXNwXCIsIFwiYXNweFwiXX0sXG4gICAge25hbWU6IFwiSFRNTFwiLCBtaW1lOiBcInRleHQvaHRtbFwiLCBtb2RlOiBcImh0bWxtaXhlZFwiLCBleHQ6IFtcImh0bWxcIiwgXCJodG1cIiwgXCJoYW5kbGViYXJzXCIsIFwiaGJzXCJdLCBhbGlhczogW1wieGh0bWxcIl19LFxuICAgIHtuYW1lOiBcIkhUVFBcIiwgbWltZTogXCJtZXNzYWdlL2h0dHBcIiwgbW9kZTogXCJodHRwXCJ9LFxuICAgIHtuYW1lOiBcIklETFwiLCBtaW1lOiBcInRleHQveC1pZGxcIiwgbW9kZTogXCJpZGxcIiwgZXh0OiBbXCJwcm9cIl19LFxuICAgIHtuYW1lOiBcIlB1Z1wiLCBtaW1lOiBcInRleHQveC1wdWdcIiwgbW9kZTogXCJwdWdcIiwgZXh0OiBbXCJqYWRlXCIsIFwicHVnXCJdLCBhbGlhczogW1wiamFkZVwiXX0sXG4gICAge25hbWU6IFwiSmF2YVwiLCBtaW1lOiBcInRleHQveC1qYXZhXCIsIG1vZGU6IFwiY2xpa2VcIiwgZXh0OiBbXCJqYXZhXCJdfSxcbiAgICB7bmFtZTogXCJKYXZhIFNlcnZlciBQYWdlc1wiLCBtaW1lOiBcImFwcGxpY2F0aW9uL3gtanNwXCIsIG1vZGU6IFwiaHRtbGVtYmVkZGVkXCIsIGV4dDogW1wianNwXCJdLCBhbGlhczogW1wianNwXCJdfSxcbiAgICB7bmFtZTogXCJKYXZhU2NyaXB0XCIsIG1pbWVzOiBbXCJ0ZXh0L2phdmFzY3JpcHRcIiwgXCJ0ZXh0L2VjbWFzY3JpcHRcIiwgXCJhcHBsaWNhdGlvbi9qYXZhc2NyaXB0XCIsIFwiYXBwbGljYXRpb24veC1qYXZhc2NyaXB0XCIsIFwiYXBwbGljYXRpb24vZWNtYXNjcmlwdFwiXSxcbiAgICAgbW9kZTogXCJqYXZhc2NyaXB0XCIsIGV4dDogW1wianNcIl0sIGFsaWFzOiBbXCJlY21hc2NyaXB0XCIsIFwianNcIiwgXCJub2RlXCJdfSxcbiAgICB7bmFtZTogXCJKU09OXCIsIG1pbWVzOiBbXCJhcHBsaWNhdGlvbi9qc29uXCIsIFwiYXBwbGljYXRpb24veC1qc29uXCJdLCBtb2RlOiBcImphdmFzY3JpcHRcIiwgZXh0OiBbXCJqc29uXCIsIFwibWFwXCJdLCBhbGlhczogW1wianNvbjVcIl19LFxuICAgIHtuYW1lOiBcIkpTT04tTERcIiwgbWltZTogXCJhcHBsaWNhdGlvbi9sZCtqc29uXCIsIG1vZGU6IFwiamF2YXNjcmlwdFwiLCBleHQ6IFtcImpzb25sZFwiXSwgYWxpYXM6IFtcImpzb25sZFwiXX0sXG4gICAge25hbWU6IFwiSlNYXCIsIG1pbWU6IFwidGV4dC9qc3hcIiwgbW9kZTogXCJqc3hcIiwgZXh0OiBbXCJqc3hcIl19LFxuICAgIHtuYW1lOiBcIkppbmphMlwiLCBtaW1lOiBcInRleHQvamluamEyXCIsIG1vZGU6IFwiamluamEyXCIsIGV4dDogW1wiajJcIiwgXCJqaW5qYVwiLCBcImppbmphMlwiXX0sXG4gICAge25hbWU6IFwiSnVsaWFcIiwgbWltZTogXCJ0ZXh0L3gtanVsaWFcIiwgbW9kZTogXCJqdWxpYVwiLCBleHQ6IFtcImpsXCJdLCBhbGlhczogW1wiamxcIl19LFxuICAgIHtuYW1lOiBcIktvdGxpblwiLCBtaW1lOiBcInRleHQveC1rb3RsaW5cIiwgbW9kZTogXCJjbGlrZVwiLCBleHQ6IFtcImt0XCJdfSxcbiAgICB7bmFtZTogXCJMRVNTXCIsIG1pbWU6IFwidGV4dC94LWxlc3NcIiwgbW9kZTogXCJjc3NcIiwgZXh0OiBbXCJsZXNzXCJdfSxcbiAgICB7bmFtZTogXCJMaXZlU2NyaXB0XCIsIG1pbWU6IFwidGV4dC94LWxpdmVzY3JpcHRcIiwgbW9kZTogXCJsaXZlc2NyaXB0XCIsIGV4dDogW1wibHNcIl0sIGFsaWFzOiBbXCJsc1wiXX0sXG4gICAge25hbWU6IFwiTHVhXCIsIG1pbWU6IFwidGV4dC94LWx1YVwiLCBtb2RlOiBcImx1YVwiLCBleHQ6IFtcImx1YVwiXX0sXG4gICAge25hbWU6IFwiTWFya2Rvd25cIiwgbWltZTogXCJ0ZXh0L3gtbWFya2Rvd25cIiwgbW9kZTogXCJtYXJrZG93blwiLCBleHQ6IFtcIm1hcmtkb3duXCIsIFwibWRcIiwgXCJta2RcIl19LFxuICAgIHtuYW1lOiBcIm1JUkNcIiwgbWltZTogXCJ0ZXh0L21pcmNcIiwgbW9kZTogXCJtaXJjXCJ9LFxuICAgIHtuYW1lOiBcIk1hcmlhREIgU1FMXCIsIG1pbWU6IFwidGV4dC94LW1hcmlhZGJcIiwgbW9kZTogXCJzcWxcIn0sXG4gICAge25hbWU6IFwiTWF0aGVtYXRpY2FcIiwgbWltZTogXCJ0ZXh0L3gtbWF0aGVtYXRpY2FcIiwgbW9kZTogXCJtYXRoZW1hdGljYVwiLCBleHQ6IFtcIm1cIiwgXCJuYlwiLCBcIndsXCIsIFwid2xzXCJdfSxcbiAgICB7bmFtZTogXCJNb2RlbGljYVwiLCBtaW1lOiBcInRleHQveC1tb2RlbGljYVwiLCBtb2RlOiBcIm1vZGVsaWNhXCIsIGV4dDogW1wibW9cIl19LFxuICAgIHtuYW1lOiBcIk1VTVBTXCIsIG1pbWU6IFwidGV4dC94LW11bXBzXCIsIG1vZGU6IFwibXVtcHNcIiwgZXh0OiBbXCJtcHNcIl19LFxuICAgIHtuYW1lOiBcIk1TIFNRTFwiLCBtaW1lOiBcInRleHQveC1tc3NxbFwiLCBtb2RlOiBcInNxbFwifSxcbiAgICB7bmFtZTogXCJtYm94XCIsIG1pbWU6IFwiYXBwbGljYXRpb24vbWJveFwiLCBtb2RlOiBcIm1ib3hcIiwgZXh0OiBbXCJtYm94XCJdfSxcbiAgICB7bmFtZTogXCJNeVNRTFwiLCBtaW1lOiBcInRleHQveC1teXNxbFwiLCBtb2RlOiBcInNxbFwifSxcbiAgICB7bmFtZTogXCJOZ2lueFwiLCBtaW1lOiBcInRleHQveC1uZ2lueC1jb25mXCIsIG1vZGU6IFwibmdpbnhcIiwgZmlsZTogL25naW54LipcXC5jb25mJC9pfSxcbiAgICB7bmFtZTogXCJOU0lTXCIsIG1pbWU6IFwidGV4dC94LW5zaXNcIiwgbW9kZTogXCJuc2lzXCIsIGV4dDogW1wibnNoXCIsIFwibnNpXCJdfSxcbiAgICB7bmFtZTogXCJOVHJpcGxlc1wiLCBtaW1lczogW1wiYXBwbGljYXRpb24vbi10cmlwbGVzXCIsIFwiYXBwbGljYXRpb24vbi1xdWFkc1wiLCBcInRleHQvbi10cmlwbGVzXCJdLFxuICAgICBtb2RlOiBcIm50cmlwbGVzXCIsIGV4dDogW1wibnRcIiwgXCJucVwiXX0sXG4gICAge25hbWU6IFwiT2JqZWN0aXZlLUNcIiwgbWltZTogXCJ0ZXh0L3gtb2JqZWN0aXZlY1wiLCBtb2RlOiBcImNsaWtlXCIsIGV4dDogW1wibVwiXSwgYWxpYXM6IFtcIm9iamVjdGl2ZS1jXCIsIFwib2JqY1wiXX0sXG4gICAge25hbWU6IFwiT2JqZWN0aXZlLUMrK1wiLCBtaW1lOiBcInRleHQveC1vYmplY3RpdmVjKytcIiwgbW9kZTogXCJjbGlrZVwiLCBleHQ6IFtcIm1tXCJdLCBhbGlhczogW1wib2JqZWN0aXZlLWMrK1wiLCBcIm9iamMrK1wiXX0sXG4gICAge25hbWU6IFwiT0NhbWxcIiwgbWltZTogXCJ0ZXh0L3gtb2NhbWxcIiwgbW9kZTogXCJtbGxpa2VcIiwgZXh0OiBbXCJtbFwiLCBcIm1saVwiLCBcIm1sbFwiLCBcIm1seVwiXX0sXG4gICAge25hbWU6IFwiT2N0YXZlXCIsIG1pbWU6IFwidGV4dC94LW9jdGF2ZVwiLCBtb2RlOiBcIm9jdGF2ZVwiLCBleHQ6IFtcIm1cIl19LFxuICAgIHtuYW1lOiBcIk96XCIsIG1pbWU6IFwidGV4dC94LW96XCIsIG1vZGU6IFwib3pcIiwgZXh0OiBbXCJvelwiXX0sXG4gICAge25hbWU6IFwiUGFzY2FsXCIsIG1pbWU6IFwidGV4dC94LXBhc2NhbFwiLCBtb2RlOiBcInBhc2NhbFwiLCBleHQ6IFtcInBcIiwgXCJwYXNcIl19LFxuICAgIHtuYW1lOiBcIlBFRy5qc1wiLCBtaW1lOiBcIm51bGxcIiwgbW9kZTogXCJwZWdqc1wiLCBleHQ6IFtcImpzb25sZFwiXX0sXG4gICAge25hbWU6IFwiUGVybFwiLCBtaW1lOiBcInRleHQveC1wZXJsXCIsIG1vZGU6IFwicGVybFwiLCBleHQ6IFtcInBsXCIsIFwicG1cIl19LFxuICAgIHtuYW1lOiBcIlBIUFwiLCBtaW1lczogW1widGV4dC94LXBocFwiLCBcImFwcGxpY2F0aW9uL3gtaHR0cGQtcGhwXCIsIFwiYXBwbGljYXRpb24veC1odHRwZC1waHAtb3BlblwiXSwgbW9kZTogXCJwaHBcIiwgZXh0OiBbXCJwaHBcIiwgXCJwaHAzXCIsIFwicGhwNFwiLCBcInBocDVcIiwgXCJwaHA3XCIsIFwicGh0bWxcIl19LFxuICAgIHtuYW1lOiBcIlBpZ1wiLCBtaW1lOiBcInRleHQveC1waWdcIiwgbW9kZTogXCJwaWdcIiwgZXh0OiBbXCJwaWdcIl19LFxuICAgIHtuYW1lOiBcIlBsYWluIFRleHRcIiwgbWltZTogXCJ0ZXh0L3BsYWluXCIsIG1vZGU6IFwibnVsbFwiLCBleHQ6IFtcInR4dFwiLCBcInRleHRcIiwgXCJjb25mXCIsIFwiZGVmXCIsIFwibGlzdFwiLCBcImxvZ1wiXX0sXG4gICAge25hbWU6IFwiUExTUUxcIiwgbWltZTogXCJ0ZXh0L3gtcGxzcWxcIiwgbW9kZTogXCJzcWxcIiwgZXh0OiBbXCJwbHNcIl19LFxuICAgIHtuYW1lOiBcIlBvc3RncmVTUUxcIiwgbWltZTogXCJ0ZXh0L3gtcGdzcWxcIiwgbW9kZTogXCJzcWxcIn0sXG4gICAge25hbWU6IFwiUG93ZXJTaGVsbFwiLCBtaW1lOiBcImFwcGxpY2F0aW9uL3gtcG93ZXJzaGVsbFwiLCBtb2RlOiBcInBvd2Vyc2hlbGxcIiwgZXh0OiBbXCJwczFcIiwgXCJwc2QxXCIsIFwicHNtMVwiXX0sXG4gICAge25hbWU6IFwiUHJvcGVydGllcyBmaWxlc1wiLCBtaW1lOiBcInRleHQveC1wcm9wZXJ0aWVzXCIsIG1vZGU6IFwicHJvcGVydGllc1wiLCBleHQ6IFtcInByb3BlcnRpZXNcIiwgXCJpbmlcIiwgXCJpblwiXSwgYWxpYXM6IFtcImluaVwiLCBcInByb3BlcnRpZXNcIl19LFxuICAgIHtuYW1lOiBcIlByb3RvQnVmXCIsIG1pbWU6IFwidGV4dC94LXByb3RvYnVmXCIsIG1vZGU6IFwicHJvdG9idWZcIiwgZXh0OiBbXCJwcm90b1wiXX0sXG4gICAge25hbWU6IFwiUHl0aG9uXCIsIG1pbWU6IFwidGV4dC94LXB5dGhvblwiLCBtb2RlOiBcInB5dGhvblwiLCBleHQ6IFtcIkJVSUxEXCIsIFwiYnpsXCIsIFwicHlcIiwgXCJweXdcIl0sIGZpbGU6IC9eKEJVQ0t8QlVJTEQpJC99LFxuICAgIHtuYW1lOiBcIlB1cHBldFwiLCBtaW1lOiBcInRleHQveC1wdXBwZXRcIiwgbW9kZTogXCJwdXBwZXRcIiwgZXh0OiBbXCJwcFwiXX0sXG4gICAge25hbWU6IFwiUVwiLCBtaW1lOiBcInRleHQveC1xXCIsIG1vZGU6IFwicVwiLCBleHQ6IFtcInFcIl19LFxuICAgIHtuYW1lOiBcIlJcIiwgbWltZTogXCJ0ZXh0L3gtcnNyY1wiLCBtb2RlOiBcInJcIiwgZXh0OiBbXCJyXCIsIFwiUlwiXSwgYWxpYXM6IFtcInJzY3JpcHRcIl19LFxuICAgIHtuYW1lOiBcInJlU3RydWN0dXJlZFRleHRcIiwgbWltZTogXCJ0ZXh0L3gtcnN0XCIsIG1vZGU6IFwicnN0XCIsIGV4dDogW1wicnN0XCJdLCBhbGlhczogW1wicnN0XCJdfSxcbiAgICB7bmFtZTogXCJSUE0gQ2hhbmdlc1wiLCBtaW1lOiBcInRleHQveC1ycG0tY2hhbmdlc1wiLCBtb2RlOiBcInJwbVwifSxcbiAgICB7bmFtZTogXCJSUE0gU3BlY1wiLCBtaW1lOiBcInRleHQveC1ycG0tc3BlY1wiLCBtb2RlOiBcInJwbVwiLCBleHQ6IFtcInNwZWNcIl19LFxuICAgIHtuYW1lOiBcIlJ1YnlcIiwgbWltZTogXCJ0ZXh0L3gtcnVieVwiLCBtb2RlOiBcInJ1YnlcIiwgZXh0OiBbXCJyYlwiXSwgYWxpYXM6IFtcImpydWJ5XCIsIFwibWFjcnVieVwiLCBcInJha2VcIiwgXCJyYlwiLCBcInJieFwiXX0sXG4gICAge25hbWU6IFwiUnVzdFwiLCBtaW1lOiBcInRleHQveC1ydXN0c3JjXCIsIG1vZGU6IFwicnVzdFwiLCBleHQ6IFtcInJzXCJdfSxcbiAgICB7bmFtZTogXCJTQVNcIiwgbWltZTogXCJ0ZXh0L3gtc2FzXCIsIG1vZGU6IFwic2FzXCIsIGV4dDogW1wic2FzXCJdfSxcbiAgICB7bmFtZTogXCJTYXNzXCIsIG1pbWU6IFwidGV4dC94LXNhc3NcIiwgbW9kZTogXCJzYXNzXCIsIGV4dDogW1wic2Fzc1wiXX0sXG4gICAge25hbWU6IFwiU2NhbGFcIiwgbWltZTogXCJ0ZXh0L3gtc2NhbGFcIiwgbW9kZTogXCJjbGlrZVwiLCBleHQ6IFtcInNjYWxhXCJdfSxcbiAgICB7bmFtZTogXCJTY2hlbWVcIiwgbWltZTogXCJ0ZXh0L3gtc2NoZW1lXCIsIG1vZGU6IFwic2NoZW1lXCIsIGV4dDogW1wic2NtXCIsIFwic3NcIl19LFxuICAgIHtuYW1lOiBcIlNDU1NcIiwgbWltZTogXCJ0ZXh0L3gtc2Nzc1wiLCBtb2RlOiBcImNzc1wiLCBleHQ6IFtcInNjc3NcIl19LFxuICAgIHtuYW1lOiBcIlNoZWxsXCIsIG1pbWVzOiBbXCJ0ZXh0L3gtc2hcIiwgXCJhcHBsaWNhdGlvbi94LXNoXCJdLCBtb2RlOiBcInNoZWxsXCIsIGV4dDogW1wic2hcIiwgXCJrc2hcIiwgXCJiYXNoXCJdLCBhbGlhczogW1wiYmFzaFwiLCBcInNoXCIsIFwienNoXCJdLCBmaWxlOiAvXlBLR0JVSUxEJC99LFxuICAgIHtuYW1lOiBcIlNpZXZlXCIsIG1pbWU6IFwiYXBwbGljYXRpb24vc2lldmVcIiwgbW9kZTogXCJzaWV2ZVwiLCBleHQ6IFtcInNpdlwiLCBcInNpZXZlXCJdfSxcbiAgICB7bmFtZTogXCJTbGltXCIsIG1pbWVzOiBbXCJ0ZXh0L3gtc2xpbVwiLCBcImFwcGxpY2F0aW9uL3gtc2xpbVwiXSwgbW9kZTogXCJzbGltXCIsIGV4dDogW1wic2xpbVwiXX0sXG4gICAge25hbWU6IFwiU21hbGx0YWxrXCIsIG1pbWU6IFwidGV4dC94LXN0c3JjXCIsIG1vZGU6IFwic21hbGx0YWxrXCIsIGV4dDogW1wic3RcIl19LFxuICAgIHtuYW1lOiBcIlNtYXJ0eVwiLCBtaW1lOiBcInRleHQveC1zbWFydHlcIiwgbW9kZTogXCJzbWFydHlcIiwgZXh0OiBbXCJ0cGxcIl19LFxuICAgIHtuYW1lOiBcIlNvbHJcIiwgbWltZTogXCJ0ZXh0L3gtc29sclwiLCBtb2RlOiBcInNvbHJcIn0sXG4gICAge25hbWU6IFwiU01MXCIsIG1pbWU6IFwidGV4dC94LXNtbFwiLCBtb2RlOiBcIm1sbGlrZVwiLCBleHQ6IFtcInNtbFwiLCBcInNpZ1wiLCBcImZ1blwiLCBcInNtYWNrc3BlY1wiXX0sXG4gICAge25hbWU6IFwiU295XCIsIG1pbWU6IFwidGV4dC94LXNveVwiLCBtb2RlOiBcInNveVwiLCBleHQ6IFtcInNveVwiXSwgYWxpYXM6IFtcImNsb3N1cmUgdGVtcGxhdGVcIl19LFxuICAgIHtuYW1lOiBcIlNQQVJRTFwiLCBtaW1lOiBcImFwcGxpY2F0aW9uL3NwYXJxbC1xdWVyeVwiLCBtb2RlOiBcInNwYXJxbFwiLCBleHQ6IFtcInJxXCIsIFwic3BhcnFsXCJdLCBhbGlhczogW1wic3BhcnVsXCJdfSxcbiAgICB7bmFtZTogXCJTcHJlYWRzaGVldFwiLCBtaW1lOiBcInRleHQveC1zcHJlYWRzaGVldFwiLCBtb2RlOiBcInNwcmVhZHNoZWV0XCIsIGFsaWFzOiBbXCJleGNlbFwiLCBcImZvcm11bGFcIl19LFxuICAgIHtuYW1lOiBcIlNRTFwiLCBtaW1lOiBcInRleHQveC1zcWxcIiwgbW9kZTogXCJzcWxcIiwgZXh0OiBbXCJzcWxcIl19LFxuICAgIHtuYW1lOiBcIlNRTGl0ZVwiLCBtaW1lOiBcInRleHQveC1zcWxpdGVcIiwgbW9kZTogXCJzcWxcIn0sXG4gICAge25hbWU6IFwiU3F1aXJyZWxcIiwgbWltZTogXCJ0ZXh0L3gtc3F1aXJyZWxcIiwgbW9kZTogXCJjbGlrZVwiLCBleHQ6IFtcIm51dFwiXX0sXG4gICAge25hbWU6IFwiU3R5bHVzXCIsIG1pbWU6IFwidGV4dC94LXN0eWxcIiwgbW9kZTogXCJzdHlsdXNcIiwgZXh0OiBbXCJzdHlsXCJdfSxcbiAgICB7bmFtZTogXCJTd2lmdFwiLCBtaW1lOiBcInRleHQveC1zd2lmdFwiLCBtb2RlOiBcInN3aWZ0XCIsIGV4dDogW1wic3dpZnRcIl19LFxuICAgIHtuYW1lOiBcInNUZVhcIiwgbWltZTogXCJ0ZXh0L3gtc3RleFwiLCBtb2RlOiBcInN0ZXhcIn0sXG4gICAge25hbWU6IFwiTGFUZVhcIiwgbWltZTogXCJ0ZXh0L3gtbGF0ZXhcIiwgbW9kZTogXCJzdGV4XCIsIGV4dDogW1widGV4dFwiLCBcImx0eFwiLCBcInRleFwiXSwgYWxpYXM6IFtcInRleFwiXX0sXG4gICAge25hbWU6IFwiU3lzdGVtVmVyaWxvZ1wiLCBtaW1lOiBcInRleHQveC1zeXN0ZW12ZXJpbG9nXCIsIG1vZGU6IFwidmVyaWxvZ1wiLCBleHQ6IFtcInZcIiwgXCJzdlwiLCBcInN2aFwiXX0sXG4gICAge25hbWU6IFwiVGNsXCIsIG1pbWU6IFwidGV4dC94LXRjbFwiLCBtb2RlOiBcInRjbFwiLCBleHQ6IFtcInRjbFwiXX0sXG4gICAge25hbWU6IFwiVGV4dGlsZVwiLCBtaW1lOiBcInRleHQveC10ZXh0aWxlXCIsIG1vZGU6IFwidGV4dGlsZVwiLCBleHQ6IFtcInRleHRpbGVcIl19LFxuICAgIHtuYW1lOiBcIlRpZGRseVdpa2lcIiwgbWltZTogXCJ0ZXh0L3gtdGlkZGx5d2lraVwiLCBtb2RlOiBcInRpZGRseXdpa2lcIn0sXG4gICAge25hbWU6IFwiVGlraSB3aWtpXCIsIG1pbWU6IFwidGV4dC90aWtpXCIsIG1vZGU6IFwidGlraVwifSxcbiAgICB7bmFtZTogXCJUT01MXCIsIG1pbWU6IFwidGV4dC94LXRvbWxcIiwgbW9kZTogXCJ0b21sXCIsIGV4dDogW1widG9tbFwiXX0sXG4gICAge25hbWU6IFwiVG9ybmFkb1wiLCBtaW1lOiBcInRleHQveC10b3JuYWRvXCIsIG1vZGU6IFwidG9ybmFkb1wifSxcbiAgICB7bmFtZTogXCJ0cm9mZlwiLCBtaW1lOiBcInRleHQvdHJvZmZcIiwgbW9kZTogXCJ0cm9mZlwiLCBleHQ6IFtcIjFcIiwgXCIyXCIsIFwiM1wiLCBcIjRcIiwgXCI1XCIsIFwiNlwiLCBcIjdcIiwgXCI4XCIsIFwiOVwiXX0sXG4gICAge25hbWU6IFwiVFRDTlwiLCBtaW1lOiBcInRleHQveC10dGNuXCIsIG1vZGU6IFwidHRjblwiLCBleHQ6IFtcInR0Y25cIiwgXCJ0dGNuM1wiLCBcInR0Y25wcFwiXX0sXG4gICAge25hbWU6IFwiVFRDTl9DRkdcIiwgbWltZTogXCJ0ZXh0L3gtdHRjbi1jZmdcIiwgbW9kZTogXCJ0dGNuLWNmZ1wiLCBleHQ6IFtcImNmZ1wiXX0sXG4gICAge25hbWU6IFwiVHVydGxlXCIsIG1pbWU6IFwidGV4dC90dXJ0bGVcIiwgbW9kZTogXCJ0dXJ0bGVcIiwgZXh0OiBbXCJ0dGxcIl19LFxuICAgIHtuYW1lOiBcIlR5cGVTY3JpcHRcIiwgbWltZTogXCJhcHBsaWNhdGlvbi90eXBlc2NyaXB0XCIsIG1vZGU6IFwiamF2YXNjcmlwdFwiLCBleHQ6IFtcInRzXCJdLCBhbGlhczogW1widHNcIl19LFxuICAgIHtuYW1lOiBcIlR5cGVTY3JpcHQtSlNYXCIsIG1pbWU6IFwidGV4dC90eXBlc2NyaXB0LWpzeFwiLCBtb2RlOiBcImpzeFwiLCBleHQ6IFtcInRzeFwiXSwgYWxpYXM6IFtcInRzeFwiXX0sXG4gICAge25hbWU6IFwiVHdpZ1wiLCBtaW1lOiBcInRleHQveC10d2lnXCIsIG1vZGU6IFwidHdpZ1wifSxcbiAgICB7bmFtZTogXCJXZWIgSURMXCIsIG1pbWU6IFwidGV4dC94LXdlYmlkbFwiLCBtb2RlOiBcIndlYmlkbFwiLCBleHQ6IFtcIndlYmlkbFwiXX0sXG4gICAge25hbWU6IFwiVkIuTkVUXCIsIG1pbWU6IFwidGV4dC94LXZiXCIsIG1vZGU6IFwidmJcIiwgZXh0OiBbXCJ2YlwiXX0sXG4gICAge25hbWU6IFwiVkJTY3JpcHRcIiwgbWltZTogXCJ0ZXh0L3Zic2NyaXB0XCIsIG1vZGU6IFwidmJzY3JpcHRcIiwgZXh0OiBbXCJ2YnNcIl19LFxuICAgIHtuYW1lOiBcIlZlbG9jaXR5XCIsIG1pbWU6IFwidGV4dC92ZWxvY2l0eVwiLCBtb2RlOiBcInZlbG9jaXR5XCIsIGV4dDogW1widnRsXCJdfSxcbiAgICB7bmFtZTogXCJWZXJpbG9nXCIsIG1pbWU6IFwidGV4dC94LXZlcmlsb2dcIiwgbW9kZTogXCJ2ZXJpbG9nXCIsIGV4dDogW1widlwiXX0sXG4gICAge25hbWU6IFwiVkhETFwiLCBtaW1lOiBcInRleHQveC12aGRsXCIsIG1vZGU6IFwidmhkbFwiLCBleHQ6IFtcInZoZFwiLCBcInZoZGxcIl19LFxuICAgIHtuYW1lOiBcIlZ1ZS5qcyBDb21wb25lbnRcIiwgbWltZXM6IFtcInNjcmlwdC94LXZ1ZVwiLCBcInRleHQveC12dWVcIl0sIG1vZGU6IFwidnVlXCIsIGV4dDogW1widnVlXCJdfSxcbiAgICB7bmFtZTogXCJYTUxcIiwgbWltZXM6IFtcImFwcGxpY2F0aW9uL3htbFwiLCBcInRleHQveG1sXCJdLCBtb2RlOiBcInhtbFwiLCBleHQ6IFtcInhtbFwiLCBcInhzbFwiLCBcInhzZFwiLCBcInN2Z1wiXSwgYWxpYXM6IFtcInJzc1wiLCBcIndzZGxcIiwgXCJ4c2RcIl19LFxuICAgIHtuYW1lOiBcIlhRdWVyeVwiLCBtaW1lOiBcImFwcGxpY2F0aW9uL3hxdWVyeVwiLCBtb2RlOiBcInhxdWVyeVwiLCBleHQ6IFtcInh5XCIsIFwieHF1ZXJ5XCJdfSxcbiAgICB7bmFtZTogXCJZYWNhc1wiLCBtaW1lOiBcInRleHQveC15YWNhc1wiLCBtb2RlOiBcInlhY2FzXCIsIGV4dDogW1wieXNcIl19LFxuICAgIHtuYW1lOiBcIllBTUxcIiwgbWltZXM6IFtcInRleHQveC15YW1sXCIsIFwidGV4dC95YW1sXCJdLCBtb2RlOiBcInlhbWxcIiwgZXh0OiBbXCJ5YW1sXCIsIFwieW1sXCJdLCBhbGlhczogW1wieW1sXCJdfSxcbiAgICB7bmFtZTogXCJaODBcIiwgbWltZTogXCJ0ZXh0L3gtejgwXCIsIG1vZGU6IFwiejgwXCIsIGV4dDogW1wiejgwXCJdfSxcbiAgICB7bmFtZTogXCJtc2NnZW5cIiwgbWltZTogXCJ0ZXh0L3gtbXNjZ2VuXCIsIG1vZGU6IFwibXNjZ2VuXCIsIGV4dDogW1wibXNjZ2VuXCIsIFwibXNjaW5cIiwgXCJtc2NcIl19LFxuICAgIHtuYW1lOiBcInh1XCIsIG1pbWU6IFwidGV4dC94LXh1XCIsIG1vZGU6IFwibXNjZ2VuXCIsIGV4dDogW1wieHVcIl19LFxuICAgIHtuYW1lOiBcIm1zZ2VubnlcIiwgbWltZTogXCJ0ZXh0L3gtbXNnZW5ueVwiLCBtb2RlOiBcIm1zY2dlblwiLCBleHQ6IFtcIm1zZ2VubnlcIl19LFxuICAgIHtuYW1lOiBcIldlYkFzc2VtYmx5XCIsIG1pbWU6IFwidGV4dC93ZWJhc3NlbWJseVwiLCBtb2RlOiBcIndhc3RcIiwgZXh0OiBbXCJ3YXRcIiwgXCJ3YXN0XCJdfSxcbiAgXTtcbiAgLy8gRW5zdXJlIGFsbCBtb2RlcyBoYXZlIGEgbWltZSBwcm9wZXJ0eSBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBDb2RlTWlycm9yLm1vZGVJbmZvLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGluZm8gPSBDb2RlTWlycm9yLm1vZGVJbmZvW2ldO1xuICAgIGlmIChpbmZvLm1pbWVzKSBpbmZvLm1pbWUgPSBpbmZvLm1pbWVzWzBdO1xuICB9XG5cbiAgQ29kZU1pcnJvci5maW5kTW9kZUJ5TUlNRSA9IGZ1bmN0aW9uKG1pbWUpIHtcbiAgICBtaW1lID0gbWltZS50b0xvd2VyQ2FzZSgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgQ29kZU1pcnJvci5tb2RlSW5mby5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGluZm8gPSBDb2RlTWlycm9yLm1vZGVJbmZvW2ldO1xuICAgICAgaWYgKGluZm8ubWltZSA9PSBtaW1lKSByZXR1cm4gaW5mbztcbiAgICAgIGlmIChpbmZvLm1pbWVzKSBmb3IgKHZhciBqID0gMDsgaiA8IGluZm8ubWltZXMubGVuZ3RoOyBqKyspXG4gICAgICAgIGlmIChpbmZvLm1pbWVzW2pdID09IG1pbWUpIHJldHVybiBpbmZvO1xuICAgIH1cbiAgICBpZiAoL1xcK3htbCQvLnRlc3QobWltZSkpIHJldHVybiBDb2RlTWlycm9yLmZpbmRNb2RlQnlNSU1FKFwiYXBwbGljYXRpb24veG1sXCIpXG4gICAgaWYgKC9cXCtqc29uJC8udGVzdChtaW1lKSkgcmV0dXJuIENvZGVNaXJyb3IuZmluZE1vZGVCeU1JTUUoXCJhcHBsaWNhdGlvbi9qc29uXCIpXG4gIH07XG5cbiAgQ29kZU1pcnJvci5maW5kTW9kZUJ5RXh0ZW5zaW9uID0gZnVuY3Rpb24oZXh0KSB7XG4gICAgZXh0ID0gZXh0LnRvTG93ZXJDYXNlKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBDb2RlTWlycm9yLm1vZGVJbmZvLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaW5mbyA9IENvZGVNaXJyb3IubW9kZUluZm9baV07XG4gICAgICBpZiAoaW5mby5leHQpIGZvciAodmFyIGogPSAwOyBqIDwgaW5mby5leHQubGVuZ3RoOyBqKyspXG4gICAgICAgIGlmIChpbmZvLmV4dFtqXSA9PSBleHQpIHJldHVybiBpbmZvO1xuICAgIH1cbiAgfTtcblxuICBDb2RlTWlycm9yLmZpbmRNb2RlQnlGaWxlTmFtZSA9IGZ1bmN0aW9uKGZpbGVuYW1lKSB7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBDb2RlTWlycm9yLm1vZGVJbmZvLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaW5mbyA9IENvZGVNaXJyb3IubW9kZUluZm9baV07XG4gICAgICBpZiAoaW5mby5maWxlICYmIGluZm8uZmlsZS50ZXN0KGZpbGVuYW1lKSkgcmV0dXJuIGluZm87XG4gICAgfVxuICAgIHZhciBkb3QgPSBmaWxlbmFtZS5sYXN0SW5kZXhPZihcIi5cIik7XG4gICAgdmFyIGV4dCA9IGRvdCA+IC0xICYmIGZpbGVuYW1lLnN1YnN0cmluZyhkb3QgKyAxLCBmaWxlbmFtZS5sZW5ndGgpO1xuICAgIGlmIChleHQpIHJldHVybiBDb2RlTWlycm9yLmZpbmRNb2RlQnlFeHRlbnNpb24oZXh0KTtcbiAgfTtcblxuICBDb2RlTWlycm9yLmZpbmRNb2RlQnlOYW1lID0gZnVuY3Rpb24obmFtZSkge1xuICAgIG5hbWUgPSBuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBDb2RlTWlycm9yLm1vZGVJbmZvLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaW5mbyA9IENvZGVNaXJyb3IubW9kZUluZm9baV07XG4gICAgICBpZiAoaW5mby5uYW1lLnRvTG93ZXJDYXNlKCkgPT0gbmFtZSkgcmV0dXJuIGluZm87XG4gICAgICBpZiAoaW5mby5hbGlhcykgZm9yICh2YXIgaiA9IDA7IGogPCBpbmZvLmFsaWFzLmxlbmd0aDsgaisrKVxuICAgICAgICBpZiAoaW5mby5hbGlhc1tqXS50b0xvd2VyQ2FzZSgpID09IG5hbWUpIHJldHVybiBpbmZvO1xuICAgIH1cbiAgfTtcbn0pO1xuIiwiLy8gQ29kZU1pcnJvciwgY29weXJpZ2h0IChjKSBieSBNYXJpam4gSGF2ZXJiZWtlIGFuZCBvdGhlcnNcbi8vIERpc3RyaWJ1dGVkIHVuZGVyIGFuIE1JVCBsaWNlbnNlOiBodHRwczovL2NvZGVtaXJyb3IubmV0LzUvTElDRU5TRVxuXG4oZnVuY3Rpb24obW9kKSB7XG4gIGlmICh0eXBlb2YgZXhwb3J0cyA9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBtb2R1bGUgPT0gXCJvYmplY3RcIikgLy8gQ29tbW9uSlNcbiAgICBtb2QocmVxdWlyZShcIi4uLy4uL2xpYi9jb2RlbWlycm9yXCIpLCByZXF1aXJlKFwiLi4veG1sL3htbFwiKSwgcmVxdWlyZShcIi4uL21ldGFcIikpO1xuICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSAvLyBBTURcbiAgICBkZWZpbmUoW1wiLi4vLi4vbGliL2NvZGVtaXJyb3JcIiwgXCIuLi94bWwveG1sXCIsIFwiLi4vbWV0YVwiXSwgbW9kKTtcbiAgZWxzZSAvLyBQbGFpbiBicm93c2VyIGVudlxuICAgIG1vZChDb2RlTWlycm9yKTtcbn0pKGZ1bmN0aW9uKENvZGVNaXJyb3IpIHtcblwidXNlIHN0cmljdFwiO1xuXG5Db2RlTWlycm9yLmRlZmluZU1vZGUoXCJtYXJrZG93blwiLCBmdW5jdGlvbihjbUNmZywgbW9kZUNmZykge1xuXG4gIHZhciBodG1sTW9kZSA9IENvZGVNaXJyb3IuZ2V0TW9kZShjbUNmZywgXCJ0ZXh0L2h0bWxcIik7XG4gIHZhciBodG1sTW9kZU1pc3NpbmcgPSBodG1sTW9kZS5uYW1lID09IFwibnVsbFwiXG5cbiAgZnVuY3Rpb24gZ2V0TW9kZShuYW1lKSB7XG4gICAgaWYgKENvZGVNaXJyb3IuZmluZE1vZGVCeU5hbWUpIHtcbiAgICAgIHZhciBmb3VuZCA9IENvZGVNaXJyb3IuZmluZE1vZGVCeU5hbWUobmFtZSk7XG4gICAgICBpZiAoZm91bmQpIG5hbWUgPSBmb3VuZC5taW1lIHx8IGZvdW5kLm1pbWVzWzBdO1xuICAgIH1cbiAgICB2YXIgbW9kZSA9IENvZGVNaXJyb3IuZ2V0TW9kZShjbUNmZywgbmFtZSk7XG4gICAgcmV0dXJuIG1vZGUubmFtZSA9PSBcIm51bGxcIiA/IG51bGwgOiBtb2RlO1xuICB9XG5cbiAgLy8gU2hvdWxkIGNoYXJhY3RlcnMgdGhhdCBhZmZlY3QgaGlnaGxpZ2h0aW5nIGJlIGhpZ2hsaWdodGVkIHNlcGFyYXRlP1xuICAvLyBEb2VzIG5vdCBpbmNsdWRlIGNoYXJhY3RlcnMgdGhhdCB3aWxsIGJlIG91dHB1dCAoc3VjaCBhcyBgMS5gIGFuZCBgLWAgZm9yIGxpc3RzKVxuICBpZiAobW9kZUNmZy5oaWdobGlnaHRGb3JtYXR0aW5nID09PSB1bmRlZmluZWQpXG4gICAgbW9kZUNmZy5oaWdobGlnaHRGb3JtYXR0aW5nID0gZmFsc2U7XG5cbiAgLy8gTWF4aW11bSBudW1iZXIgb2YgbmVzdGVkIGJsb2NrcXVvdGVzLiBTZXQgdG8gMCBmb3IgaW5maW5pdGUgbmVzdGluZy5cbiAgLy8gRXhjZXNzIGA+YCB3aWxsIGVtaXQgYGVycm9yYCB0b2tlbi5cbiAgaWYgKG1vZGVDZmcubWF4QmxvY2txdW90ZURlcHRoID09PSB1bmRlZmluZWQpXG4gICAgbW9kZUNmZy5tYXhCbG9ja3F1b3RlRGVwdGggPSAwO1xuXG4gIC8vIFR1cm4gb24gdGFzayBsaXN0cz8gKFwiLSBbIF0gXCIgYW5kIFwiLSBbeF0gXCIpXG4gIGlmIChtb2RlQ2ZnLnRhc2tMaXN0cyA9PT0gdW5kZWZpbmVkKSBtb2RlQ2ZnLnRhc2tMaXN0cyA9IGZhbHNlO1xuXG4gIC8vIFR1cm4gb24gc3RyaWtldGhyb3VnaCBzeW50YXhcbiAgaWYgKG1vZGVDZmcuc3RyaWtldGhyb3VnaCA9PT0gdW5kZWZpbmVkKVxuICAgIG1vZGVDZmcuc3RyaWtldGhyb3VnaCA9IGZhbHNlO1xuXG4gIGlmIChtb2RlQ2ZnLmVtb2ppID09PSB1bmRlZmluZWQpXG4gICAgbW9kZUNmZy5lbW9qaSA9IGZhbHNlO1xuXG4gIGlmIChtb2RlQ2ZnLmZlbmNlZENvZGVCbG9ja0hpZ2hsaWdodGluZyA9PT0gdW5kZWZpbmVkKVxuICAgIG1vZGVDZmcuZmVuY2VkQ29kZUJsb2NrSGlnaGxpZ2h0aW5nID0gdHJ1ZTtcblxuICBpZiAobW9kZUNmZy5mZW5jZWRDb2RlQmxvY2tEZWZhdWx0TW9kZSA9PT0gdW5kZWZpbmVkKVxuICAgIG1vZGVDZmcuZmVuY2VkQ29kZUJsb2NrRGVmYXVsdE1vZGUgPSAndGV4dC9wbGFpbic7XG5cbiAgaWYgKG1vZGVDZmcueG1sID09PSB1bmRlZmluZWQpXG4gICAgbW9kZUNmZy54bWwgPSB0cnVlO1xuXG4gIC8vIEFsbG93IHRva2VuIHR5cGVzIHRvIGJlIG92ZXJyaWRkZW4gYnkgdXNlci1wcm92aWRlZCB0b2tlbiB0eXBlcy5cbiAgaWYgKG1vZGVDZmcudG9rZW5UeXBlT3ZlcnJpZGVzID09PSB1bmRlZmluZWQpXG4gICAgbW9kZUNmZy50b2tlblR5cGVPdmVycmlkZXMgPSB7fTtcblxuICB2YXIgdG9rZW5UeXBlcyA9IHtcbiAgICBoZWFkZXI6IFwiaGVhZGVyXCIsXG4gICAgY29kZTogXCJjb21tZW50XCIsXG4gICAgcXVvdGU6IFwicXVvdGVcIixcbiAgICBsaXN0MTogXCJ2YXJpYWJsZS0yXCIsXG4gICAgbGlzdDI6IFwidmFyaWFibGUtM1wiLFxuICAgIGxpc3QzOiBcImtleXdvcmRcIixcbiAgICBocjogXCJoclwiLFxuICAgIGltYWdlOiBcImltYWdlXCIsXG4gICAgaW1hZ2VBbHRUZXh0OiBcImltYWdlLWFsdC10ZXh0XCIsXG4gICAgaW1hZ2VNYXJrZXI6IFwiaW1hZ2UtbWFya2VyXCIsXG4gICAgZm9ybWF0dGluZzogXCJmb3JtYXR0aW5nXCIsXG4gICAgbGlua0lubGluZTogXCJsaW5rXCIsXG4gICAgbGlua0VtYWlsOiBcImxpbmtcIixcbiAgICBsaW5rVGV4dDogXCJsaW5rXCIsXG4gICAgbGlua0hyZWY6IFwic3RyaW5nXCIsXG4gICAgZW06IFwiZW1cIixcbiAgICBzdHJvbmc6IFwic3Ryb25nXCIsXG4gICAgc3RyaWtldGhyb3VnaDogXCJzdHJpa2V0aHJvdWdoXCIsXG4gICAgZW1vamk6IFwiYnVpbHRpblwiXG4gIH07XG5cbiAgZm9yICh2YXIgdG9rZW5UeXBlIGluIHRva2VuVHlwZXMpIHtcbiAgICBpZiAodG9rZW5UeXBlcy5oYXNPd25Qcm9wZXJ0eSh0b2tlblR5cGUpICYmIG1vZGVDZmcudG9rZW5UeXBlT3ZlcnJpZGVzW3Rva2VuVHlwZV0pIHtcbiAgICAgIHRva2VuVHlwZXNbdG9rZW5UeXBlXSA9IG1vZGVDZmcudG9rZW5UeXBlT3ZlcnJpZGVzW3Rva2VuVHlwZV07XG4gICAgfVxuICB9XG5cbiAgdmFyIGhyUkUgPSAvXihbKlxcLV9dKSg/OlxccypcXDEpezIsfVxccyokL1xuICAsICAgbGlzdFJFID0gL14oPzpbKlxcLStdfF5bMC05XSsoWy4pXSkpXFxzKy9cbiAgLCAgIHRhc2tMaXN0UkUgPSAvXlxcWyh4fCApXFxdKD89XFxzKS9pIC8vIE11c3QgZm9sbG93IGxpc3RSRVxuICAsICAgYXR4SGVhZGVyUkUgPSBtb2RlQ2ZnLmFsbG93QXR4SGVhZGVyV2l0aG91dFNwYWNlID8gL14oIyspLyA6IC9eKCMrKSg/OiB8JCkvXG4gICwgICBzZXRleHRIZWFkZXJSRSA9IC9eIHswLDN9KD86XFw9ezEsfXwtezIsfSlcXHMqJC9cbiAgLCAgIHRleHRSRSA9IC9eW14jIVxcW1xcXSpfXFxcXDw+YCBcIicofjpdKy9cbiAgLCAgIGZlbmNlZENvZGVSRSA9IC9eKH5+fit8YGBgKylbIFxcdF0qKFtcXHdcXC8rIy1dKilbXlxcbmBdKiQvXG4gICwgICBsaW5rRGVmUkUgPSAvXlxccypcXFtbXlxcXV0rP1xcXTouKiQvIC8vIG5haXZlIGxpbmstZGVmaW5pdGlvblxuICAsICAgcHVuY3R1YXRpb24gPSAvWyFcIiMkJSYnKCkqKyxcXC0uXFwvOjs8PT4/QFxcW1xcXFxcXF1eX2B7fH1+XFx4QTFcXHhBN1xceEFCXFx4QjZcXHhCN1xceEJCXFx4QkZcXHUwMzdFXFx1MDM4N1xcdTA1NUEtXFx1MDU1RlxcdTA1ODlcXHUwNThBXFx1MDVCRVxcdTA1QzBcXHUwNUMzXFx1MDVDNlxcdTA1RjNcXHUwNUY0XFx1MDYwOVxcdTA2MEFcXHUwNjBDXFx1MDYwRFxcdTA2MUJcXHUwNjFFXFx1MDYxRlxcdTA2NkEtXFx1MDY2RFxcdTA2RDRcXHUwNzAwLVxcdTA3MERcXHUwN0Y3LVxcdTA3RjlcXHUwODMwLVxcdTA4M0VcXHUwODVFXFx1MDk2NFxcdTA5NjVcXHUwOTcwXFx1MEFGMFxcdTBERjRcXHUwRTRGXFx1MEU1QVxcdTBFNUJcXHUwRjA0LVxcdTBGMTJcXHUwRjE0XFx1MEYzQS1cXHUwRjNEXFx1MEY4NVxcdTBGRDAtXFx1MEZENFxcdTBGRDlcXHUwRkRBXFx1MTA0QS1cXHUxMDRGXFx1MTBGQlxcdTEzNjAtXFx1MTM2OFxcdTE0MDBcXHUxNjZEXFx1MTY2RVxcdTE2OUJcXHUxNjlDXFx1MTZFQi1cXHUxNkVEXFx1MTczNVxcdTE3MzZcXHUxN0Q0LVxcdTE3RDZcXHUxN0Q4LVxcdTE3REFcXHUxODAwLVxcdTE4MEFcXHUxOTQ0XFx1MTk0NVxcdTFBMUVcXHUxQTFGXFx1MUFBMC1cXHUxQUE2XFx1MUFBOC1cXHUxQUFEXFx1MUI1QS1cXHUxQjYwXFx1MUJGQy1cXHUxQkZGXFx1MUMzQi1cXHUxQzNGXFx1MUM3RVxcdTFDN0ZcXHUxQ0MwLVxcdTFDQzdcXHUxQ0QzXFx1MjAxMC1cXHUyMDI3XFx1MjAzMC1cXHUyMDQzXFx1MjA0NS1cXHUyMDUxXFx1MjA1My1cXHUyMDVFXFx1MjA3RFxcdTIwN0VcXHUyMDhEXFx1MjA4RVxcdTIzMDgtXFx1MjMwQlxcdTIzMjlcXHUyMzJBXFx1Mjc2OC1cXHUyNzc1XFx1MjdDNVxcdTI3QzZcXHUyN0U2LVxcdTI3RUZcXHUyOTgzLVxcdTI5OThcXHUyOUQ4LVxcdTI5REJcXHUyOUZDXFx1MjlGRFxcdTJDRjktXFx1MkNGQ1xcdTJDRkVcXHUyQ0ZGXFx1MkQ3MFxcdTJFMDAtXFx1MkUyRVxcdTJFMzAtXFx1MkU0MlxcdTMwMDEtXFx1MzAwM1xcdTMwMDgtXFx1MzAxMVxcdTMwMTQtXFx1MzAxRlxcdTMwMzBcXHUzMDNEXFx1MzBBMFxcdTMwRkJcXHVBNEZFXFx1QTRGRlxcdUE2MEQtXFx1QTYwRlxcdUE2NzNcXHVBNjdFXFx1QTZGMi1cXHVBNkY3XFx1QTg3NC1cXHVBODc3XFx1QThDRVxcdUE4Q0ZcXHVBOEY4LVxcdUE4RkFcXHVBOEZDXFx1QTkyRVxcdUE5MkZcXHVBOTVGXFx1QTlDMS1cXHVBOUNEXFx1QTlERVxcdUE5REZcXHVBQTVDLVxcdUFBNUZcXHVBQURFXFx1QUFERlxcdUFBRjBcXHVBQUYxXFx1QUJFQlxcdUZEM0VcXHVGRDNGXFx1RkUxMC1cXHVGRTE5XFx1RkUzMC1cXHVGRTUyXFx1RkU1NC1cXHVGRTYxXFx1RkU2M1xcdUZFNjhcXHVGRTZBXFx1RkU2QlxcdUZGMDEtXFx1RkYwM1xcdUZGMDUtXFx1RkYwQVxcdUZGMEMtXFx1RkYwRlxcdUZGMUFcXHVGRjFCXFx1RkYxRlxcdUZGMjBcXHVGRjNCLVxcdUZGM0RcXHVGRjNGXFx1RkY1QlxcdUZGNURcXHVGRjVGLVxcdUZGNjVdfFxcdUQ4MDBbXFx1REQwMC1cXHVERDAyXFx1REY5RlxcdURGRDBdfFxcdUQ4MDFcXHVERDZGfFxcdUQ4MDJbXFx1REM1N1xcdUREMUZcXHVERDNGXFx1REU1MC1cXHVERTU4XFx1REU3RlxcdURFRjAtXFx1REVGNlxcdURGMzktXFx1REYzRlxcdURGOTktXFx1REY5Q118XFx1RDgwNFtcXHVEQzQ3LVxcdURDNERcXHVEQ0JCXFx1RENCQ1xcdURDQkUtXFx1RENDMVxcdURENDAtXFx1REQ0M1xcdURENzRcXHVERDc1XFx1RERDNS1cXHVEREM5XFx1RERDRFxcdUREREJcXHVERERELVxcdUREREZcXHVERTM4LVxcdURFM0RcXHVERUE5XXxcXHVEODA1W1xcdURDQzZcXHVEREMxLVxcdURERDdcXHVERTQxLVxcdURFNDNcXHVERjNDLVxcdURGM0VdfFxcdUQ4MDlbXFx1REM3MC1cXHVEQzc0XXxcXHVEODFBW1xcdURFNkVcXHVERTZGXFx1REVGNVxcdURGMzctXFx1REYzQlxcdURGNDRdfFxcdUQ4MkZcXHVEQzlGfFxcdUQ4MzZbXFx1REU4Ny1cXHVERThCXS9cbiAgLCAgIGV4cGFuZGVkVGFiID0gXCIgICAgXCIgLy8gQ29tbW9uTWFyayBzcGVjaWZpZXMgdGFiIGFzIDQgc3BhY2VzXG5cbiAgZnVuY3Rpb24gc3dpdGNoSW5saW5lKHN0cmVhbSwgc3RhdGUsIGYpIHtcbiAgICBzdGF0ZS5mID0gc3RhdGUuaW5saW5lID0gZjtcbiAgICByZXR1cm4gZihzdHJlYW0sIHN0YXRlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN3aXRjaEJsb2NrKHN0cmVhbSwgc3RhdGUsIGYpIHtcbiAgICBzdGF0ZS5mID0gc3RhdGUuYmxvY2sgPSBmO1xuICAgIHJldHVybiBmKHN0cmVhbSwgc3RhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gbGluZUlzRW1wdHkobGluZSkge1xuICAgIHJldHVybiAhbGluZSB8fCAhL1xcUy8udGVzdChsaW5lLnN0cmluZylcbiAgfVxuXG4gIC8vIEJsb2Nrc1xuXG4gIGZ1bmN0aW9uIGJsYW5rTGluZShzdGF0ZSkge1xuICAgIC8vIFJlc2V0IGxpbmtUaXRsZSBzdGF0ZVxuICAgIHN0YXRlLmxpbmtUaXRsZSA9IGZhbHNlO1xuICAgIHN0YXRlLmxpbmtIcmVmID0gZmFsc2U7XG4gICAgc3RhdGUubGlua1RleHQgPSBmYWxzZTtcbiAgICAvLyBSZXNldCBFTSBzdGF0ZVxuICAgIHN0YXRlLmVtID0gZmFsc2U7XG4gICAgLy8gUmVzZXQgU1RST05HIHN0YXRlXG4gICAgc3RhdGUuc3Ryb25nID0gZmFsc2U7XG4gICAgLy8gUmVzZXQgc3RyaWtldGhyb3VnaCBzdGF0ZVxuICAgIHN0YXRlLnN0cmlrZXRocm91Z2ggPSBmYWxzZTtcbiAgICAvLyBSZXNldCBzdGF0ZS5xdW90ZVxuICAgIHN0YXRlLnF1b3RlID0gMDtcbiAgICAvLyBSZXNldCBzdGF0ZS5pbmRlbnRlZENvZGVcbiAgICBzdGF0ZS5pbmRlbnRlZENvZGUgPSBmYWxzZTtcbiAgICBpZiAoc3RhdGUuZiA9PSBodG1sQmxvY2spIHtcbiAgICAgIHZhciBleGl0ID0gaHRtbE1vZGVNaXNzaW5nXG4gICAgICBpZiAoIWV4aXQpIHtcbiAgICAgICAgdmFyIGlubmVyID0gQ29kZU1pcnJvci5pbm5lck1vZGUoaHRtbE1vZGUsIHN0YXRlLmh0bWxTdGF0ZSlcbiAgICAgICAgZXhpdCA9IGlubmVyLm1vZGUubmFtZSA9PSBcInhtbFwiICYmIGlubmVyLnN0YXRlLnRhZ1N0YXJ0ID09PSBudWxsICYmXG4gICAgICAgICAgKCFpbm5lci5zdGF0ZS5jb250ZXh0ICYmIGlubmVyLnN0YXRlLnRva2VuaXplLmlzSW5UZXh0KVxuICAgICAgfVxuICAgICAgaWYgKGV4aXQpIHtcbiAgICAgICAgc3RhdGUuZiA9IGlubGluZU5vcm1hbDtcbiAgICAgICAgc3RhdGUuYmxvY2sgPSBibG9ja05vcm1hbDtcbiAgICAgICAgc3RhdGUuaHRtbFN0YXRlID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gUmVzZXQgc3RhdGUudHJhaWxpbmdTcGFjZVxuICAgIHN0YXRlLnRyYWlsaW5nU3BhY2UgPSAwO1xuICAgIHN0YXRlLnRyYWlsaW5nU3BhY2VOZXdMaW5lID0gZmFsc2U7XG4gICAgLy8gTWFyayB0aGlzIGxpbmUgYXMgYmxhbmtcbiAgICBzdGF0ZS5wcmV2TGluZSA9IHN0YXRlLnRoaXNMaW5lXG4gICAgc3RhdGUudGhpc0xpbmUgPSB7c3RyZWFtOiBudWxsfVxuICAgIHJldHVybiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gYmxvY2tOb3JtYWwoc3RyZWFtLCBzdGF0ZSkge1xuICAgIHZhciBmaXJzdFRva2VuT25MaW5lID0gc3RyZWFtLmNvbHVtbigpID09PSBzdGF0ZS5pbmRlbnRhdGlvbjtcbiAgICB2YXIgcHJldkxpbmVMaW5lSXNFbXB0eSA9IGxpbmVJc0VtcHR5KHN0YXRlLnByZXZMaW5lLnN0cmVhbSk7XG4gICAgdmFyIHByZXZMaW5lSXNJbmRlbnRlZENvZGUgPSBzdGF0ZS5pbmRlbnRlZENvZGU7XG4gICAgdmFyIHByZXZMaW5lSXNIciA9IHN0YXRlLnByZXZMaW5lLmhyO1xuICAgIHZhciBwcmV2TGluZUlzTGlzdCA9IHN0YXRlLmxpc3QgIT09IGZhbHNlO1xuICAgIHZhciBtYXhOb25Db2RlSW5kZW50YXRpb24gPSAoc3RhdGUubGlzdFN0YWNrW3N0YXRlLmxpc3RTdGFjay5sZW5ndGggLSAxXSB8fCAwKSArIDM7XG5cbiAgICBzdGF0ZS5pbmRlbnRlZENvZGUgPSBmYWxzZTtcblxuICAgIHZhciBsaW5lSW5kZW50YXRpb24gPSBzdGF0ZS5pbmRlbnRhdGlvbjtcbiAgICAvLyBjb21wdXRlIG9uY2UgcGVyIGxpbmUgKG9uIGZpcnN0IHRva2VuKVxuICAgIGlmIChzdGF0ZS5pbmRlbnRhdGlvbkRpZmYgPT09IG51bGwpIHtcbiAgICAgIHN0YXRlLmluZGVudGF0aW9uRGlmZiA9IHN0YXRlLmluZGVudGF0aW9uO1xuICAgICAgaWYgKHByZXZMaW5lSXNMaXN0KSB7XG4gICAgICAgIHN0YXRlLmxpc3QgPSBudWxsO1xuICAgICAgICAvLyBXaGlsZSB0aGlzIGxpc3QgaXRlbSdzIG1hcmtlcidzIGluZGVudGF0aW9uIGlzIGxlc3MgdGhhbiB0aGUgZGVlcGVzdFxuICAgICAgICAvLyAgbGlzdCBpdGVtJ3MgY29udGVudCdzIGluZGVudGF0aW9uLHBvcCB0aGUgZGVlcGVzdCBsaXN0IGl0ZW1cbiAgICAgICAgLy8gIGluZGVudGF0aW9uIG9mZiB0aGUgc3RhY2ssIGFuZCB1cGRhdGUgYmxvY2sgaW5kZW50YXRpb24gc3RhdGVcbiAgICAgICAgd2hpbGUgKGxpbmVJbmRlbnRhdGlvbiA8IHN0YXRlLmxpc3RTdGFja1tzdGF0ZS5saXN0U3RhY2subGVuZ3RoIC0gMV0pIHtcbiAgICAgICAgICBzdGF0ZS5saXN0U3RhY2sucG9wKCk7XG4gICAgICAgICAgaWYgKHN0YXRlLmxpc3RTdGFjay5sZW5ndGgpIHtcbiAgICAgICAgICAgIHN0YXRlLmluZGVudGF0aW9uID0gc3RhdGUubGlzdFN0YWNrW3N0YXRlLmxpc3RTdGFjay5sZW5ndGggLSAxXTtcbiAgICAgICAgICAvLyBsZXNzIHRoYW4gdGhlIGZpcnN0IGxpc3QncyBpbmRlbnQgLT4gdGhlIGxpbmUgaXMgbm8gbG9uZ2VyIGEgbGlzdFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0ZS5saXN0ID0gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0ZS5saXN0ICE9PSBmYWxzZSkge1xuICAgICAgICAgIHN0YXRlLmluZGVudGF0aW9uRGlmZiA9IGxpbmVJbmRlbnRhdGlvbiAtIHN0YXRlLmxpc3RTdGFja1tzdGF0ZS5saXN0U3RhY2subGVuZ3RoIC0gMV1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIG5vdCBjb21wcmVoZW5zaXZlIChjdXJyZW50bHkgb25seSBmb3Igc2V0ZXh0IGRldGVjdGlvbiBwdXJwb3NlcylcbiAgICB2YXIgYWxsb3dzSW5saW5lQ29udGludWF0aW9uID0gKFxuICAgICAgICAhcHJldkxpbmVMaW5lSXNFbXB0eSAmJiAhcHJldkxpbmVJc0hyICYmICFzdGF0ZS5wcmV2TGluZS5oZWFkZXIgJiZcbiAgICAgICAgKCFwcmV2TGluZUlzTGlzdCB8fCAhcHJldkxpbmVJc0luZGVudGVkQ29kZSkgJiZcbiAgICAgICAgIXN0YXRlLnByZXZMaW5lLmZlbmNlZENvZGVFbmRcbiAgICApO1xuXG4gICAgdmFyIGlzSHIgPSAoc3RhdGUubGlzdCA9PT0gZmFsc2UgfHwgcHJldkxpbmVJc0hyIHx8IHByZXZMaW5lTGluZUlzRW1wdHkpICYmXG4gICAgICBzdGF0ZS5pbmRlbnRhdGlvbiA8PSBtYXhOb25Db2RlSW5kZW50YXRpb24gJiYgc3RyZWFtLm1hdGNoKGhyUkUpO1xuXG4gICAgdmFyIG1hdGNoID0gbnVsbDtcbiAgICBpZiAoc3RhdGUuaW5kZW50YXRpb25EaWZmID49IDQgJiYgKHByZXZMaW5lSXNJbmRlbnRlZENvZGUgfHwgc3RhdGUucHJldkxpbmUuZmVuY2VkQ29kZUVuZCB8fFxuICAgICAgICAgc3RhdGUucHJldkxpbmUuaGVhZGVyIHx8IHByZXZMaW5lTGluZUlzRW1wdHkpKSB7XG4gICAgICBzdHJlYW0uc2tpcFRvRW5kKCk7XG4gICAgICBzdGF0ZS5pbmRlbnRlZENvZGUgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRva2VuVHlwZXMuY29kZTtcbiAgICB9IGVsc2UgaWYgKHN0cmVhbS5lYXRTcGFjZSgpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGVsc2UgaWYgKGZpcnN0VG9rZW5PbkxpbmUgJiYgc3RhdGUuaW5kZW50YXRpb24gPD0gbWF4Tm9uQ29kZUluZGVudGF0aW9uICYmIChtYXRjaCA9IHN0cmVhbS5tYXRjaChhdHhIZWFkZXJSRSkpICYmIG1hdGNoWzFdLmxlbmd0aCA8PSA2KSB7XG4gICAgICBzdGF0ZS5xdW90ZSA9IDA7XG4gICAgICBzdGF0ZS5oZWFkZXIgPSBtYXRjaFsxXS5sZW5ndGg7XG4gICAgICBzdGF0ZS50aGlzTGluZS5oZWFkZXIgPSB0cnVlO1xuICAgICAgaWYgKG1vZGVDZmcuaGlnaGxpZ2h0Rm9ybWF0dGluZykgc3RhdGUuZm9ybWF0dGluZyA9IFwiaGVhZGVyXCI7XG4gICAgICBzdGF0ZS5mID0gc3RhdGUuaW5saW5lO1xuICAgICAgcmV0dXJuIGdldFR5cGUoc3RhdGUpO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUuaW5kZW50YXRpb24gPD0gbWF4Tm9uQ29kZUluZGVudGF0aW9uICYmIHN0cmVhbS5lYXQoJz4nKSkge1xuICAgICAgc3RhdGUucXVvdGUgPSBmaXJzdFRva2VuT25MaW5lID8gMSA6IHN0YXRlLnF1b3RlICsgMTtcbiAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSBcInF1b3RlXCI7XG4gICAgICBzdHJlYW0uZWF0U3BhY2UoKTtcbiAgICAgIHJldHVybiBnZXRUeXBlKHN0YXRlKTtcbiAgICB9IGVsc2UgaWYgKCFpc0hyICYmICFzdGF0ZS5zZXRleHQgJiYgZmlyc3RUb2tlbk9uTGluZSAmJiBzdGF0ZS5pbmRlbnRhdGlvbiA8PSBtYXhOb25Db2RlSW5kZW50YXRpb24gJiYgKG1hdGNoID0gc3RyZWFtLm1hdGNoKGxpc3RSRSkpKSB7XG4gICAgICB2YXIgbGlzdFR5cGUgPSBtYXRjaFsxXSA/IFwib2xcIiA6IFwidWxcIjtcblxuICAgICAgc3RhdGUuaW5kZW50YXRpb24gPSBsaW5lSW5kZW50YXRpb24gKyBzdHJlYW0uY3VycmVudCgpLmxlbmd0aDtcbiAgICAgIHN0YXRlLmxpc3QgPSB0cnVlO1xuICAgICAgc3RhdGUucXVvdGUgPSAwO1xuXG4gICAgICAvLyBBZGQgdGhpcyBsaXN0IGl0ZW0ncyBjb250ZW50J3MgaW5kZW50YXRpb24gdG8gdGhlIHN0YWNrXG4gICAgICBzdGF0ZS5saXN0U3RhY2sucHVzaChzdGF0ZS5pbmRlbnRhdGlvbik7XG4gICAgICAvLyBSZXNldCBpbmxpbmUgc3R5bGVzIHdoaWNoIHNob3VsZG4ndCBwcm9wYWdhdGUgYWNyb3NzIGxpc3QgaXRlbXNcbiAgICAgIHN0YXRlLmVtID0gZmFsc2U7XG4gICAgICBzdGF0ZS5zdHJvbmcgPSBmYWxzZTtcbiAgICAgIHN0YXRlLmNvZGUgPSBmYWxzZTtcbiAgICAgIHN0YXRlLnN0cmlrZXRocm91Z2ggPSBmYWxzZTtcblxuICAgICAgaWYgKG1vZGVDZmcudGFza0xpc3RzICYmIHN0cmVhbS5tYXRjaCh0YXNrTGlzdFJFLCBmYWxzZSkpIHtcbiAgICAgICAgc3RhdGUudGFza0xpc3QgPSB0cnVlO1xuICAgICAgfVxuICAgICAgc3RhdGUuZiA9IHN0YXRlLmlubGluZTtcbiAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSBbXCJsaXN0XCIsIFwibGlzdC1cIiArIGxpc3RUeXBlXTtcbiAgICAgIHJldHVybiBnZXRUeXBlKHN0YXRlKTtcbiAgICB9IGVsc2UgaWYgKGZpcnN0VG9rZW5PbkxpbmUgJiYgc3RhdGUuaW5kZW50YXRpb24gPD0gbWF4Tm9uQ29kZUluZGVudGF0aW9uICYmIChtYXRjaCA9IHN0cmVhbS5tYXRjaChmZW5jZWRDb2RlUkUsIHRydWUpKSkge1xuICAgICAgc3RhdGUucXVvdGUgPSAwO1xuICAgICAgc3RhdGUuZmVuY2VkRW5kUkUgPSBuZXcgUmVnRXhwKG1hdGNoWzFdICsgXCIrICokXCIpO1xuICAgICAgLy8gdHJ5IHN3aXRjaGluZyBtb2RlXG4gICAgICBzdGF0ZS5sb2NhbE1vZGUgPSBtb2RlQ2ZnLmZlbmNlZENvZGVCbG9ja0hpZ2hsaWdodGluZyAmJiBnZXRNb2RlKG1hdGNoWzJdIHx8IG1vZGVDZmcuZmVuY2VkQ29kZUJsb2NrRGVmYXVsdE1vZGUgKTtcbiAgICAgIGlmIChzdGF0ZS5sb2NhbE1vZGUpIHN0YXRlLmxvY2FsU3RhdGUgPSBDb2RlTWlycm9yLnN0YXJ0U3RhdGUoc3RhdGUubG9jYWxNb2RlKTtcbiAgICAgIHN0YXRlLmYgPSBzdGF0ZS5ibG9jayA9IGxvY2FsO1xuICAgICAgaWYgKG1vZGVDZmcuaGlnaGxpZ2h0Rm9ybWF0dGluZykgc3RhdGUuZm9ybWF0dGluZyA9IFwiY29kZS1ibG9ja1wiO1xuICAgICAgc3RhdGUuY29kZSA9IC0xXG4gICAgICByZXR1cm4gZ2V0VHlwZShzdGF0ZSk7XG4gICAgLy8gU0VURVhUIGhhcyBsb3dlc3QgYmxvY2stc2NvcGUgcHJlY2VkZW5jZSBhZnRlciBIUiwgc28gY2hlY2sgaXQgYWZ0ZXJcbiAgICAvLyAgdGhlIG90aGVycyAoY29kZSwgYmxvY2txdW90ZSwgbGlzdC4uLilcbiAgICB9IGVsc2UgaWYgKFxuICAgICAgLy8gaWYgc2V0ZXh0IHNldCwgaW5kaWNhdGVzIGxpbmUgYWZ0ZXIgLS0tLz09PVxuICAgICAgc3RhdGUuc2V0ZXh0IHx8IChcbiAgICAgICAgLy8gbGluZSBiZWZvcmUgLS0tLz09PVxuICAgICAgICAoIWFsbG93c0lubGluZUNvbnRpbnVhdGlvbiB8fCAhcHJldkxpbmVJc0xpc3QpICYmICFzdGF0ZS5xdW90ZSAmJiBzdGF0ZS5saXN0ID09PSBmYWxzZSAmJlxuICAgICAgICAhc3RhdGUuY29kZSAmJiAhaXNIciAmJiAhbGlua0RlZlJFLnRlc3Qoc3RyZWFtLnN0cmluZykgJiZcbiAgICAgICAgKG1hdGNoID0gc3RyZWFtLmxvb2tBaGVhZCgxKSkgJiYgKG1hdGNoID0gbWF0Y2gubWF0Y2goc2V0ZXh0SGVhZGVyUkUpKVxuICAgICAgKVxuICAgICkge1xuICAgICAgaWYgKCAhc3RhdGUuc2V0ZXh0ICkge1xuICAgICAgICBzdGF0ZS5oZWFkZXIgPSBtYXRjaFswXS5jaGFyQXQoMCkgPT0gJz0nID8gMSA6IDI7XG4gICAgICAgIHN0YXRlLnNldGV4dCA9IHN0YXRlLmhlYWRlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLmhlYWRlciA9IHN0YXRlLnNldGV4dDtcbiAgICAgICAgLy8gaGFzIG5vIGVmZmVjdCBvbiB0eXBlIHNvIHdlIGNhbiByZXNldCBpdCBub3dcbiAgICAgICAgc3RhdGUuc2V0ZXh0ID0gMDtcbiAgICAgICAgc3RyZWFtLnNraXBUb0VuZCgpO1xuICAgICAgICBpZiAobW9kZUNmZy5oaWdobGlnaHRGb3JtYXR0aW5nKSBzdGF0ZS5mb3JtYXR0aW5nID0gXCJoZWFkZXJcIjtcbiAgICAgIH1cbiAgICAgIHN0YXRlLnRoaXNMaW5lLmhlYWRlciA9IHRydWU7XG4gICAgICBzdGF0ZS5mID0gc3RhdGUuaW5saW5lO1xuICAgICAgcmV0dXJuIGdldFR5cGUoc3RhdGUpO1xuICAgIH0gZWxzZSBpZiAoaXNIcikge1xuICAgICAgc3RyZWFtLnNraXBUb0VuZCgpO1xuICAgICAgc3RhdGUuaHIgPSB0cnVlO1xuICAgICAgc3RhdGUudGhpc0xpbmUuaHIgPSB0cnVlO1xuICAgICAgcmV0dXJuIHRva2VuVHlwZXMuaHI7XG4gICAgfSBlbHNlIGlmIChzdHJlYW0ucGVlaygpID09PSAnWycpIHtcbiAgICAgIHJldHVybiBzd2l0Y2hJbmxpbmUoc3RyZWFtLCBzdGF0ZSwgZm9vdG5vdGVMaW5rKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3dpdGNoSW5saW5lKHN0cmVhbSwgc3RhdGUsIHN0YXRlLmlubGluZSk7XG4gIH1cblxuICBmdW5jdGlvbiBodG1sQmxvY2soc3RyZWFtLCBzdGF0ZSkge1xuICAgIHZhciBzdHlsZSA9IGh0bWxNb2RlLnRva2VuKHN0cmVhbSwgc3RhdGUuaHRtbFN0YXRlKTtcbiAgICBpZiAoIWh0bWxNb2RlTWlzc2luZykge1xuICAgICAgdmFyIGlubmVyID0gQ29kZU1pcnJvci5pbm5lck1vZGUoaHRtbE1vZGUsIHN0YXRlLmh0bWxTdGF0ZSlcbiAgICAgIGlmICgoaW5uZXIubW9kZS5uYW1lID09IFwieG1sXCIgJiYgaW5uZXIuc3RhdGUudGFnU3RhcnQgPT09IG51bGwgJiZcbiAgICAgICAgICAgKCFpbm5lci5zdGF0ZS5jb250ZXh0ICYmIGlubmVyLnN0YXRlLnRva2VuaXplLmlzSW5UZXh0KSkgfHxcbiAgICAgICAgICAoc3RhdGUubWRfaW5zaWRlICYmIHN0cmVhbS5jdXJyZW50KCkuaW5kZXhPZihcIj5cIikgPiAtMSkpIHtcbiAgICAgICAgc3RhdGUuZiA9IGlubGluZU5vcm1hbDtcbiAgICAgICAgc3RhdGUuYmxvY2sgPSBibG9ja05vcm1hbDtcbiAgICAgICAgc3RhdGUuaHRtbFN0YXRlID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHN0eWxlO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9jYWwoc3RyZWFtLCBzdGF0ZSkge1xuICAgIHZhciBjdXJyTGlzdEluZCA9IHN0YXRlLmxpc3RTdGFja1tzdGF0ZS5saXN0U3RhY2subGVuZ3RoIC0gMV0gfHwgMDtcbiAgICB2YXIgaGFzRXhpdGVkTGlzdCA9IHN0YXRlLmluZGVudGF0aW9uIDwgY3Vyckxpc3RJbmQ7XG4gICAgdmFyIG1heEZlbmNlZEVuZEluZCA9IGN1cnJMaXN0SW5kICsgMztcbiAgICBpZiAoc3RhdGUuZmVuY2VkRW5kUkUgJiYgc3RhdGUuaW5kZW50YXRpb24gPD0gbWF4RmVuY2VkRW5kSW5kICYmIChoYXNFeGl0ZWRMaXN0IHx8IHN0cmVhbS5tYXRjaChzdGF0ZS5mZW5jZWRFbmRSRSkpKSB7XG4gICAgICBpZiAobW9kZUNmZy5oaWdobGlnaHRGb3JtYXR0aW5nKSBzdGF0ZS5mb3JtYXR0aW5nID0gXCJjb2RlLWJsb2NrXCI7XG4gICAgICB2YXIgcmV0dXJuVHlwZTtcbiAgICAgIGlmICghaGFzRXhpdGVkTGlzdCkgcmV0dXJuVHlwZSA9IGdldFR5cGUoc3RhdGUpXG4gICAgICBzdGF0ZS5sb2NhbE1vZGUgPSBzdGF0ZS5sb2NhbFN0YXRlID0gbnVsbDtcbiAgICAgIHN0YXRlLmJsb2NrID0gYmxvY2tOb3JtYWw7XG4gICAgICBzdGF0ZS5mID0gaW5saW5lTm9ybWFsO1xuICAgICAgc3RhdGUuZmVuY2VkRW5kUkUgPSBudWxsO1xuICAgICAgc3RhdGUuY29kZSA9IDBcbiAgICAgIHN0YXRlLnRoaXNMaW5lLmZlbmNlZENvZGVFbmQgPSB0cnVlO1xuICAgICAgaWYgKGhhc0V4aXRlZExpc3QpIHJldHVybiBzd2l0Y2hCbG9jayhzdHJlYW0sIHN0YXRlLCBzdGF0ZS5ibG9jayk7XG4gICAgICByZXR1cm4gcmV0dXJuVHlwZTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLmxvY2FsTW9kZSkge1xuICAgICAgcmV0dXJuIHN0YXRlLmxvY2FsTW9kZS50b2tlbihzdHJlYW0sIHN0YXRlLmxvY2FsU3RhdGUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdHJlYW0uc2tpcFRvRW5kKCk7XG4gICAgICByZXR1cm4gdG9rZW5UeXBlcy5jb2RlO1xuICAgIH1cbiAgfVxuXG4gIC8vIElubGluZVxuICBmdW5jdGlvbiBnZXRUeXBlKHN0YXRlKSB7XG4gICAgdmFyIHN0eWxlcyA9IFtdO1xuXG4gICAgaWYgKHN0YXRlLmZvcm1hdHRpbmcpIHtcbiAgICAgIHN0eWxlcy5wdXNoKHRva2VuVHlwZXMuZm9ybWF0dGluZyk7XG5cbiAgICAgIGlmICh0eXBlb2Ygc3RhdGUuZm9ybWF0dGluZyA9PT0gXCJzdHJpbmdcIikgc3RhdGUuZm9ybWF0dGluZyA9IFtzdGF0ZS5mb3JtYXR0aW5nXTtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdGF0ZS5mb3JtYXR0aW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHN0eWxlcy5wdXNoKHRva2VuVHlwZXMuZm9ybWF0dGluZyArIFwiLVwiICsgc3RhdGUuZm9ybWF0dGluZ1tpXSk7XG5cbiAgICAgICAgaWYgKHN0YXRlLmZvcm1hdHRpbmdbaV0gPT09IFwiaGVhZGVyXCIpIHtcbiAgICAgICAgICBzdHlsZXMucHVzaCh0b2tlblR5cGVzLmZvcm1hdHRpbmcgKyBcIi1cIiArIHN0YXRlLmZvcm1hdHRpbmdbaV0gKyBcIi1cIiArIHN0YXRlLmhlYWRlcik7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBZGQgYGZvcm1hdHRpbmctcXVvdGVgIGFuZCBgZm9ybWF0dGluZy1xdW90ZS0jYCBmb3IgYmxvY2txdW90ZXNcbiAgICAgICAgLy8gQWRkIGBlcnJvcmAgaW5zdGVhZCBpZiB0aGUgbWF4aW11bSBibG9ja3F1b3RlIG5lc3RpbmcgZGVwdGggaXMgcGFzc2VkXG4gICAgICAgIGlmIChzdGF0ZS5mb3JtYXR0aW5nW2ldID09PSBcInF1b3RlXCIpIHtcbiAgICAgICAgICBpZiAoIW1vZGVDZmcubWF4QmxvY2txdW90ZURlcHRoIHx8IG1vZGVDZmcubWF4QmxvY2txdW90ZURlcHRoID49IHN0YXRlLnF1b3RlKSB7XG4gICAgICAgICAgICBzdHlsZXMucHVzaCh0b2tlblR5cGVzLmZvcm1hdHRpbmcgKyBcIi1cIiArIHN0YXRlLmZvcm1hdHRpbmdbaV0gKyBcIi1cIiArIHN0YXRlLnF1b3RlKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3R5bGVzLnB1c2goXCJlcnJvclwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoc3RhdGUudGFza09wZW4pIHtcbiAgICAgIHN0eWxlcy5wdXNoKFwibWV0YVwiKTtcbiAgICAgIHJldHVybiBzdHlsZXMubGVuZ3RoID8gc3R5bGVzLmpvaW4oJyAnKSA6IG51bGw7XG4gICAgfVxuICAgIGlmIChzdGF0ZS50YXNrQ2xvc2VkKSB7XG4gICAgICBzdHlsZXMucHVzaChcInByb3BlcnR5XCIpO1xuICAgICAgcmV0dXJuIHN0eWxlcy5sZW5ndGggPyBzdHlsZXMuam9pbignICcpIDogbnVsbDtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUubGlua0hyZWYpIHtcbiAgICAgIHN0eWxlcy5wdXNoKHRva2VuVHlwZXMubGlua0hyZWYsIFwidXJsXCIpO1xuICAgIH0gZWxzZSB7IC8vIE9ubHkgYXBwbHkgaW5saW5lIHN0eWxlcyB0byBub24tdXJsIHRleHRcbiAgICAgIGlmIChzdGF0ZS5zdHJvbmcpIHsgc3R5bGVzLnB1c2godG9rZW5UeXBlcy5zdHJvbmcpOyB9XG4gICAgICBpZiAoc3RhdGUuZW0pIHsgc3R5bGVzLnB1c2godG9rZW5UeXBlcy5lbSk7IH1cbiAgICAgIGlmIChzdGF0ZS5zdHJpa2V0aHJvdWdoKSB7IHN0eWxlcy5wdXNoKHRva2VuVHlwZXMuc3RyaWtldGhyb3VnaCk7IH1cbiAgICAgIGlmIChzdGF0ZS5lbW9qaSkgeyBzdHlsZXMucHVzaCh0b2tlblR5cGVzLmVtb2ppKTsgfVxuICAgICAgaWYgKHN0YXRlLmxpbmtUZXh0KSB7IHN0eWxlcy5wdXNoKHRva2VuVHlwZXMubGlua1RleHQpOyB9XG4gICAgICBpZiAoc3RhdGUuY29kZSkgeyBzdHlsZXMucHVzaCh0b2tlblR5cGVzLmNvZGUpOyB9XG4gICAgICBpZiAoc3RhdGUuaW1hZ2UpIHsgc3R5bGVzLnB1c2godG9rZW5UeXBlcy5pbWFnZSk7IH1cbiAgICAgIGlmIChzdGF0ZS5pbWFnZUFsdFRleHQpIHsgc3R5bGVzLnB1c2godG9rZW5UeXBlcy5pbWFnZUFsdFRleHQsIFwibGlua1wiKTsgfVxuICAgICAgaWYgKHN0YXRlLmltYWdlTWFya2VyKSB7IHN0eWxlcy5wdXNoKHRva2VuVHlwZXMuaW1hZ2VNYXJrZXIpOyB9XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLmhlYWRlcikgeyBzdHlsZXMucHVzaCh0b2tlblR5cGVzLmhlYWRlciwgdG9rZW5UeXBlcy5oZWFkZXIgKyBcIi1cIiArIHN0YXRlLmhlYWRlcik7IH1cblxuICAgIGlmIChzdGF0ZS5xdW90ZSkge1xuICAgICAgc3R5bGVzLnB1c2godG9rZW5UeXBlcy5xdW90ZSk7XG5cbiAgICAgIC8vIEFkZCBgcXVvdGUtI2Agd2hlcmUgdGhlIG1heGltdW0gZm9yIGAjYCBpcyBtb2RlQ2ZnLm1heEJsb2NrcXVvdGVEZXB0aFxuICAgICAgaWYgKCFtb2RlQ2ZnLm1heEJsb2NrcXVvdGVEZXB0aCB8fCBtb2RlQ2ZnLm1heEJsb2NrcXVvdGVEZXB0aCA+PSBzdGF0ZS5xdW90ZSkge1xuICAgICAgICBzdHlsZXMucHVzaCh0b2tlblR5cGVzLnF1b3RlICsgXCItXCIgKyBzdGF0ZS5xdW90ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdHlsZXMucHVzaCh0b2tlblR5cGVzLnF1b3RlICsgXCItXCIgKyBtb2RlQ2ZnLm1heEJsb2NrcXVvdGVEZXB0aCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLmxpc3QgIT09IGZhbHNlKSB7XG4gICAgICB2YXIgbGlzdE1vZCA9IChzdGF0ZS5saXN0U3RhY2subGVuZ3RoIC0gMSkgJSAzO1xuICAgICAgaWYgKCFsaXN0TW9kKSB7XG4gICAgICAgIHN0eWxlcy5wdXNoKHRva2VuVHlwZXMubGlzdDEpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0TW9kID09PSAxKSB7XG4gICAgICAgIHN0eWxlcy5wdXNoKHRva2VuVHlwZXMubGlzdDIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3R5bGVzLnB1c2godG9rZW5UeXBlcy5saXN0Myk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHN0YXRlLnRyYWlsaW5nU3BhY2VOZXdMaW5lKSB7XG4gICAgICBzdHlsZXMucHVzaChcInRyYWlsaW5nLXNwYWNlLW5ldy1saW5lXCIpO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUudHJhaWxpbmdTcGFjZSkge1xuICAgICAgc3R5bGVzLnB1c2goXCJ0cmFpbGluZy1zcGFjZS1cIiArIChzdGF0ZS50cmFpbGluZ1NwYWNlICUgMiA/IFwiYVwiIDogXCJiXCIpKTtcbiAgICB9XG5cbiAgICByZXR1cm4gc3R5bGVzLmxlbmd0aCA/IHN0eWxlcy5qb2luKCcgJykgOiBudWxsO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFuZGxlVGV4dChzdHJlYW0sIHN0YXRlKSB7XG4gICAgaWYgKHN0cmVhbS5tYXRjaCh0ZXh0UkUsIHRydWUpKSB7XG4gICAgICByZXR1cm4gZ2V0VHlwZShzdGF0ZSk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG4gIH1cblxuICBmdW5jdGlvbiBpbmxpbmVOb3JtYWwoc3RyZWFtLCBzdGF0ZSkge1xuICAgIHZhciBzdHlsZSA9IHN0YXRlLnRleHQoc3RyZWFtLCBzdGF0ZSk7XG4gICAgaWYgKHR5cGVvZiBzdHlsZSAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICByZXR1cm4gc3R5bGU7XG5cbiAgICBpZiAoc3RhdGUubGlzdCkgeyAvLyBMaXN0IG1hcmtlciAoKiwgKywgLSwgMS4sIGV0YylcbiAgICAgIHN0YXRlLmxpc3QgPSBudWxsO1xuICAgICAgcmV0dXJuIGdldFR5cGUoc3RhdGUpO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZS50YXNrTGlzdCkge1xuICAgICAgdmFyIHRhc2tPcGVuID0gc3RyZWFtLm1hdGNoKHRhc2tMaXN0UkUsIHRydWUpWzFdID09PSBcIiBcIjtcbiAgICAgIGlmICh0YXNrT3Blbikgc3RhdGUudGFza09wZW4gPSB0cnVlO1xuICAgICAgZWxzZSBzdGF0ZS50YXNrQ2xvc2VkID0gdHJ1ZTtcbiAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSBcInRhc2tcIjtcbiAgICAgIHN0YXRlLnRhc2tMaXN0ID0gZmFsc2U7XG4gICAgICByZXR1cm4gZ2V0VHlwZShzdGF0ZSk7XG4gICAgfVxuXG4gICAgc3RhdGUudGFza09wZW4gPSBmYWxzZTtcbiAgICBzdGF0ZS50YXNrQ2xvc2VkID0gZmFsc2U7XG5cbiAgICBpZiAoc3RhdGUuaGVhZGVyICYmIHN0cmVhbS5tYXRjaCgvXiMrJC8sIHRydWUpKSB7XG4gICAgICBpZiAobW9kZUNmZy5oaWdobGlnaHRGb3JtYXR0aW5nKSBzdGF0ZS5mb3JtYXR0aW5nID0gXCJoZWFkZXJcIjtcbiAgICAgIHJldHVybiBnZXRUeXBlKHN0YXRlKTtcbiAgICB9XG5cbiAgICB2YXIgY2ggPSBzdHJlYW0ubmV4dCgpO1xuXG4gICAgLy8gTWF0Y2hlcyBsaW5rIHRpdGxlcyBwcmVzZW50IG9uIG5leHQgbGluZVxuICAgIGlmIChzdGF0ZS5saW5rVGl0bGUpIHtcbiAgICAgIHN0YXRlLmxpbmtUaXRsZSA9IGZhbHNlO1xuICAgICAgdmFyIG1hdGNoQ2ggPSBjaDtcbiAgICAgIGlmIChjaCA9PT0gJygnKSB7XG4gICAgICAgIG1hdGNoQ2ggPSAnKSc7XG4gICAgICB9XG4gICAgICBtYXRjaENoID0gKG1hdGNoQ2grJycpLnJlcGxhY2UoLyhbLj8qK15cXFtcXF1cXFxcKCl7fXwtXSkvZywgXCJcXFxcJDFcIik7XG4gICAgICB2YXIgcmVnZXggPSAnXlxcXFxzKig/OlteJyArIG1hdGNoQ2ggKyAnXFxcXFxcXFxdK3xcXFxcXFxcXFxcXFxcXFxcfFxcXFxcXFxcLiknICsgbWF0Y2hDaDtcbiAgICAgIGlmIChzdHJlYW0ubWF0Y2gobmV3IFJlZ0V4cChyZWdleCksIHRydWUpKSB7XG4gICAgICAgIHJldHVybiB0b2tlblR5cGVzLmxpbmtIcmVmO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIElmIHRoaXMgYmxvY2sgaXMgY2hhbmdlZCwgaXQgbWF5IG5lZWQgdG8gYmUgdXBkYXRlZCBpbiBHRk0gbW9kZVxuICAgIGlmIChjaCA9PT0gJ2AnKSB7XG4gICAgICB2YXIgcHJldmlvdXNGb3JtYXR0aW5nID0gc3RhdGUuZm9ybWF0dGluZztcbiAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSBcImNvZGVcIjtcbiAgICAgIHN0cmVhbS5lYXRXaGlsZSgnYCcpO1xuICAgICAgdmFyIGNvdW50ID0gc3RyZWFtLmN1cnJlbnQoKS5sZW5ndGhcbiAgICAgIGlmIChzdGF0ZS5jb2RlID09IDAgJiYgKCFzdGF0ZS5xdW90ZSB8fCBjb3VudCA9PSAxKSkge1xuICAgICAgICBzdGF0ZS5jb2RlID0gY291bnRcbiAgICAgICAgcmV0dXJuIGdldFR5cGUoc3RhdGUpXG4gICAgICB9IGVsc2UgaWYgKGNvdW50ID09IHN0YXRlLmNvZGUpIHsgLy8gTXVzdCBiZSBleGFjdFxuICAgICAgICB2YXIgdCA9IGdldFR5cGUoc3RhdGUpXG4gICAgICAgIHN0YXRlLmNvZGUgPSAwXG4gICAgICAgIHJldHVybiB0XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzdGF0ZS5mb3JtYXR0aW5nID0gcHJldmlvdXNGb3JtYXR0aW5nXG4gICAgICAgIHJldHVybiBnZXRUeXBlKHN0YXRlKVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3RhdGUuY29kZSkge1xuICAgICAgcmV0dXJuIGdldFR5cGUoc3RhdGUpO1xuICAgIH1cblxuICAgIGlmIChjaCA9PT0gJ1xcXFwnKSB7XG4gICAgICBzdHJlYW0ubmV4dCgpO1xuICAgICAgaWYgKG1vZGVDZmcuaGlnaGxpZ2h0Rm9ybWF0dGluZykge1xuICAgICAgICB2YXIgdHlwZSA9IGdldFR5cGUoc3RhdGUpO1xuICAgICAgICB2YXIgZm9ybWF0dGluZ0VzY2FwZSA9IHRva2VuVHlwZXMuZm9ybWF0dGluZyArIFwiLWVzY2FwZVwiO1xuICAgICAgICByZXR1cm4gdHlwZSA/IHR5cGUgKyBcIiBcIiArIGZvcm1hdHRpbmdFc2NhcGUgOiBmb3JtYXR0aW5nRXNjYXBlO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChjaCA9PT0gJyEnICYmIHN0cmVhbS5tYXRjaCgvXFxbW15cXF1dKlxcXSA/KD86XFwofFxcWykvLCBmYWxzZSkpIHtcbiAgICAgIHN0YXRlLmltYWdlTWFya2VyID0gdHJ1ZTtcbiAgICAgIHN0YXRlLmltYWdlID0gdHJ1ZTtcbiAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSBcImltYWdlXCI7XG4gICAgICByZXR1cm4gZ2V0VHlwZShzdGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKGNoID09PSAnWycgJiYgc3RhdGUuaW1hZ2VNYXJrZXIgJiYgc3RyZWFtLm1hdGNoKC9bXlxcXV0qXFxdKFxcKC4qP1xcKXwgP1xcWy4qP1xcXSkvLCBmYWxzZSkpIHtcbiAgICAgIHN0YXRlLmltYWdlTWFya2VyID0gZmFsc2U7XG4gICAgICBzdGF0ZS5pbWFnZUFsdFRleHQgPSB0cnVlXG4gICAgICBpZiAobW9kZUNmZy5oaWdobGlnaHRGb3JtYXR0aW5nKSBzdGF0ZS5mb3JtYXR0aW5nID0gXCJpbWFnZVwiO1xuICAgICAgcmV0dXJuIGdldFR5cGUoc3RhdGUpO1xuICAgIH1cblxuICAgIGlmIChjaCA9PT0gJ10nICYmIHN0YXRlLmltYWdlQWx0VGV4dCkge1xuICAgICAgaWYgKG1vZGVDZmcuaGlnaGxpZ2h0Rm9ybWF0dGluZykgc3RhdGUuZm9ybWF0dGluZyA9IFwiaW1hZ2VcIjtcbiAgICAgIHZhciB0eXBlID0gZ2V0VHlwZShzdGF0ZSk7XG4gICAgICBzdGF0ZS5pbWFnZUFsdFRleHQgPSBmYWxzZTtcbiAgICAgIHN0YXRlLmltYWdlID0gZmFsc2U7XG4gICAgICBzdGF0ZS5pbmxpbmUgPSBzdGF0ZS5mID0gbGlua0hyZWY7XG4gICAgICByZXR1cm4gdHlwZTtcbiAgICB9XG5cbiAgICBpZiAoY2ggPT09ICdbJyAmJiAhc3RhdGUuaW1hZ2UpIHtcbiAgICAgIGlmIChzdGF0ZS5saW5rVGV4dCAmJiBzdHJlYW0ubWF0Y2goL14uKj9cXF0vKSkgcmV0dXJuIGdldFR5cGUoc3RhdGUpXG4gICAgICBzdGF0ZS5saW5rVGV4dCA9IHRydWU7XG4gICAgICBpZiAobW9kZUNmZy5oaWdobGlnaHRGb3JtYXR0aW5nKSBzdGF0ZS5mb3JtYXR0aW5nID0gXCJsaW5rXCI7XG4gICAgICByZXR1cm4gZ2V0VHlwZShzdGF0ZSk7XG4gICAgfVxuXG4gICAgaWYgKGNoID09PSAnXScgJiYgc3RhdGUubGlua1RleHQpIHtcbiAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSBcImxpbmtcIjtcbiAgICAgIHZhciB0eXBlID0gZ2V0VHlwZShzdGF0ZSk7XG4gICAgICBzdGF0ZS5saW5rVGV4dCA9IGZhbHNlO1xuICAgICAgc3RhdGUuaW5saW5lID0gc3RhdGUuZiA9IHN0cmVhbS5tYXRjaCgvXFwoLio/XFwpfCA/XFxbLio/XFxdLywgZmFsc2UpID8gbGlua0hyZWYgOiBpbmxpbmVOb3JtYWxcbiAgICAgIHJldHVybiB0eXBlO1xuICAgIH1cblxuICAgIGlmIChjaCA9PT0gJzwnICYmIHN0cmVhbS5tYXRjaCgvXihodHRwcz98ZnRwcz8pOlxcL1xcLyg/OlteXFxcXD5dfFxcXFwuKSs+LywgZmFsc2UpKSB7XG4gICAgICBzdGF0ZS5mID0gc3RhdGUuaW5saW5lID0gbGlua0lubGluZTtcbiAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSBcImxpbmtcIjtcbiAgICAgIHZhciB0eXBlID0gZ2V0VHlwZShzdGF0ZSk7XG4gICAgICBpZiAodHlwZSl7XG4gICAgICAgIHR5cGUgKz0gXCIgXCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0eXBlID0gXCJcIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0eXBlICsgdG9rZW5UeXBlcy5saW5rSW5saW5lO1xuICAgIH1cblxuICAgIGlmIChjaCA9PT0gJzwnICYmIHN0cmVhbS5tYXRjaCgvXltePiBcXFxcXStAKD86W15cXFxcPl18XFxcXC4pKz4vLCBmYWxzZSkpIHtcbiAgICAgIHN0YXRlLmYgPSBzdGF0ZS5pbmxpbmUgPSBsaW5rSW5saW5lO1xuICAgICAgaWYgKG1vZGVDZmcuaGlnaGxpZ2h0Rm9ybWF0dGluZykgc3RhdGUuZm9ybWF0dGluZyA9IFwibGlua1wiO1xuICAgICAgdmFyIHR5cGUgPSBnZXRUeXBlKHN0YXRlKTtcbiAgICAgIGlmICh0eXBlKXtcbiAgICAgICAgdHlwZSArPSBcIiBcIjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHR5cGUgPSBcIlwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHR5cGUgKyB0b2tlblR5cGVzLmxpbmtFbWFpbDtcbiAgICB9XG5cbiAgICBpZiAobW9kZUNmZy54bWwgJiYgY2ggPT09ICc8JyAmJiBzdHJlYW0ubWF0Y2goL14oIS0tfFxcP3whXFxbQ0RBVEFcXFt8W2Etel1bYS16MC05LV0qKD86XFxzK1thLXpfOi5cXC1dKyg/Olxccyo9XFxzKltePl0rKT8pKlxccyooPzo+fCQpKS9pLCBmYWxzZSkpIHtcbiAgICAgIHZhciBlbmQgPSBzdHJlYW0uc3RyaW5nLmluZGV4T2YoXCI+XCIsIHN0cmVhbS5wb3MpO1xuICAgICAgaWYgKGVuZCAhPSAtMSkge1xuICAgICAgICB2YXIgYXR0cyA9IHN0cmVhbS5zdHJpbmcuc3Vic3RyaW5nKHN0cmVhbS5zdGFydCwgZW5kKTtcbiAgICAgICAgaWYgKC9tYXJrZG93blxccyo9XFxzKignfFwiKXswLDF9MSgnfFwiKXswLDF9Ly50ZXN0KGF0dHMpKSBzdGF0ZS5tZF9pbnNpZGUgPSB0cnVlO1xuICAgICAgfVxuICAgICAgc3RyZWFtLmJhY2tVcCgxKTtcbiAgICAgIHN0YXRlLmh0bWxTdGF0ZSA9IENvZGVNaXJyb3Iuc3RhcnRTdGF0ZShodG1sTW9kZSk7XG4gICAgICByZXR1cm4gc3dpdGNoQmxvY2soc3RyZWFtLCBzdGF0ZSwgaHRtbEJsb2NrKTtcbiAgICB9XG5cbiAgICBpZiAobW9kZUNmZy54bWwgJiYgY2ggPT09ICc8JyAmJiBzdHJlYW0ubWF0Y2goL15cXC9cXHcqPz4vKSkge1xuICAgICAgc3RhdGUubWRfaW5zaWRlID0gZmFsc2U7XG4gICAgICByZXR1cm4gXCJ0YWdcIjtcbiAgICB9IGVsc2UgaWYgKGNoID09PSBcIipcIiB8fCBjaCA9PT0gXCJfXCIpIHtcbiAgICAgIHZhciBsZW4gPSAxLCBiZWZvcmUgPSBzdHJlYW0ucG9zID09IDEgPyBcIiBcIiA6IHN0cmVhbS5zdHJpbmcuY2hhckF0KHN0cmVhbS5wb3MgLSAyKVxuICAgICAgd2hpbGUgKGxlbiA8IDMgJiYgc3RyZWFtLmVhdChjaCkpIGxlbisrXG4gICAgICB2YXIgYWZ0ZXIgPSBzdHJlYW0ucGVlaygpIHx8IFwiIFwiXG4gICAgICAvLyBTZWUgaHR0cDovL3NwZWMuY29tbW9ubWFyay5vcmcvMC4yNy8jZW1waGFzaXMtYW5kLXN0cm9uZy1lbXBoYXNpc1xuICAgICAgdmFyIGxlZnRGbGFua2luZyA9ICEvXFxzLy50ZXN0KGFmdGVyKSAmJiAoIXB1bmN0dWF0aW9uLnRlc3QoYWZ0ZXIpIHx8IC9cXHMvLnRlc3QoYmVmb3JlKSB8fCBwdW5jdHVhdGlvbi50ZXN0KGJlZm9yZSkpXG4gICAgICB2YXIgcmlnaHRGbGFua2luZyA9ICEvXFxzLy50ZXN0KGJlZm9yZSkgJiYgKCFwdW5jdHVhdGlvbi50ZXN0KGJlZm9yZSkgfHwgL1xccy8udGVzdChhZnRlcikgfHwgcHVuY3R1YXRpb24udGVzdChhZnRlcikpXG4gICAgICB2YXIgc2V0RW0gPSBudWxsLCBzZXRTdHJvbmcgPSBudWxsXG4gICAgICBpZiAobGVuICUgMikgeyAvLyBFbVxuICAgICAgICBpZiAoIXN0YXRlLmVtICYmIGxlZnRGbGFua2luZyAmJiAoY2ggPT09IFwiKlwiIHx8ICFyaWdodEZsYW5raW5nIHx8IHB1bmN0dWF0aW9uLnRlc3QoYmVmb3JlKSkpXG4gICAgICAgICAgc2V0RW0gPSB0cnVlXG4gICAgICAgIGVsc2UgaWYgKHN0YXRlLmVtID09IGNoICYmIHJpZ2h0RmxhbmtpbmcgJiYgKGNoID09PSBcIipcIiB8fCAhbGVmdEZsYW5raW5nIHx8IHB1bmN0dWF0aW9uLnRlc3QoYWZ0ZXIpKSlcbiAgICAgICAgICBzZXRFbSA9IGZhbHNlXG4gICAgICB9XG4gICAgICBpZiAobGVuID4gMSkgeyAvLyBTdHJvbmdcbiAgICAgICAgaWYgKCFzdGF0ZS5zdHJvbmcgJiYgbGVmdEZsYW5raW5nICYmIChjaCA9PT0gXCIqXCIgfHwgIXJpZ2h0RmxhbmtpbmcgfHwgcHVuY3R1YXRpb24udGVzdChiZWZvcmUpKSlcbiAgICAgICAgICBzZXRTdHJvbmcgPSB0cnVlXG4gICAgICAgIGVsc2UgaWYgKHN0YXRlLnN0cm9uZyA9PSBjaCAmJiByaWdodEZsYW5raW5nICYmIChjaCA9PT0gXCIqXCIgfHwgIWxlZnRGbGFua2luZyB8fCBwdW5jdHVhdGlvbi50ZXN0KGFmdGVyKSkpXG4gICAgICAgICAgc2V0U3Ryb25nID0gZmFsc2VcbiAgICAgIH1cbiAgICAgIGlmIChzZXRTdHJvbmcgIT0gbnVsbCB8fCBzZXRFbSAhPSBudWxsKSB7XG4gICAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSBzZXRFbSA9PSBudWxsID8gXCJzdHJvbmdcIiA6IHNldFN0cm9uZyA9PSBudWxsID8gXCJlbVwiIDogXCJzdHJvbmcgZW1cIlxuICAgICAgICBpZiAoc2V0RW0gPT09IHRydWUpIHN0YXRlLmVtID0gY2hcbiAgICAgICAgaWYgKHNldFN0cm9uZyA9PT0gdHJ1ZSkgc3RhdGUuc3Ryb25nID0gY2hcbiAgICAgICAgdmFyIHQgPSBnZXRUeXBlKHN0YXRlKVxuICAgICAgICBpZiAoc2V0RW0gPT09IGZhbHNlKSBzdGF0ZS5lbSA9IGZhbHNlXG4gICAgICAgIGlmIChzZXRTdHJvbmcgPT09IGZhbHNlKSBzdGF0ZS5zdHJvbmcgPSBmYWxzZVxuICAgICAgICByZXR1cm4gdFxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoY2ggPT09ICcgJykge1xuICAgICAgaWYgKHN0cmVhbS5lYXQoJyonKSB8fCBzdHJlYW0uZWF0KCdfJykpIHsgLy8gUHJvYmFibHkgc3Vycm91bmRlZCBieSBzcGFjZXNcbiAgICAgICAgaWYgKHN0cmVhbS5wZWVrKCkgPT09ICcgJykgeyAvLyBTdXJyb3VuZGVkIGJ5IHNwYWNlcywgaWdub3JlXG4gICAgICAgICAgcmV0dXJuIGdldFR5cGUoc3RhdGUpO1xuICAgICAgICB9IGVsc2UgeyAvLyBOb3Qgc3Vycm91bmRlZCBieSBzcGFjZXMsIGJhY2sgdXAgcG9pbnRlclxuICAgICAgICAgIHN0cmVhbS5iYWNrVXAoMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAobW9kZUNmZy5zdHJpa2V0aHJvdWdoKSB7XG4gICAgICBpZiAoY2ggPT09ICd+JyAmJiBzdHJlYW0uZWF0V2hpbGUoY2gpKSB7XG4gICAgICAgIGlmIChzdGF0ZS5zdHJpa2V0aHJvdWdoKSB7Ly8gUmVtb3ZlIHN0cmlrZXRocm91Z2hcbiAgICAgICAgICBpZiAobW9kZUNmZy5oaWdobGlnaHRGb3JtYXR0aW5nKSBzdGF0ZS5mb3JtYXR0aW5nID0gXCJzdHJpa2V0aHJvdWdoXCI7XG4gICAgICAgICAgdmFyIHQgPSBnZXRUeXBlKHN0YXRlKTtcbiAgICAgICAgICBzdGF0ZS5zdHJpa2V0aHJvdWdoID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIHQ7XG4gICAgICAgIH0gZWxzZSBpZiAoc3RyZWFtLm1hdGNoKC9eW15cXHNdLywgZmFsc2UpKSB7Ly8gQWRkIHN0cmlrZXRocm91Z2hcbiAgICAgICAgICBzdGF0ZS5zdHJpa2V0aHJvdWdoID0gdHJ1ZTtcbiAgICAgICAgICBpZiAobW9kZUNmZy5oaWdobGlnaHRGb3JtYXR0aW5nKSBzdGF0ZS5mb3JtYXR0aW5nID0gXCJzdHJpa2V0aHJvdWdoXCI7XG4gICAgICAgICAgcmV0dXJuIGdldFR5cGUoc3RhdGUpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNoID09PSAnICcpIHtcbiAgICAgICAgaWYgKHN0cmVhbS5tYXRjaCgnfn4nLCB0cnVlKSkgeyAvLyBQcm9iYWJseSBzdXJyb3VuZGVkIGJ5IHNwYWNlXG4gICAgICAgICAgaWYgKHN0cmVhbS5wZWVrKCkgPT09ICcgJykgeyAvLyBTdXJyb3VuZGVkIGJ5IHNwYWNlcywgaWdub3JlXG4gICAgICAgICAgICByZXR1cm4gZ2V0VHlwZShzdGF0ZSk7XG4gICAgICAgICAgfSBlbHNlIHsgLy8gTm90IHN1cnJvdW5kZWQgYnkgc3BhY2VzLCBiYWNrIHVwIHBvaW50ZXJcbiAgICAgICAgICAgIHN0cmVhbS5iYWNrVXAoMik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG1vZGVDZmcuZW1vamkgJiYgY2ggPT09IFwiOlwiICYmIHN0cmVhbS5tYXRjaCgvXig/OlthLXpfXFxkK11bYS16X1xcZCstXSp8XFwtW2Etel9cXGQrXVthLXpfXFxkKy1dKik6LykpIHtcbiAgICAgIHN0YXRlLmVtb2ppID0gdHJ1ZTtcbiAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSBcImVtb2ppXCI7XG4gICAgICB2YXIgcmV0VHlwZSA9IGdldFR5cGUoc3RhdGUpO1xuICAgICAgc3RhdGUuZW1vamkgPSBmYWxzZTtcbiAgICAgIHJldHVybiByZXRUeXBlO1xuICAgIH1cblxuICAgIGlmIChjaCA9PT0gJyAnKSB7XG4gICAgICBpZiAoc3RyZWFtLm1hdGNoKC9eICskLywgZmFsc2UpKSB7XG4gICAgICAgIHN0YXRlLnRyYWlsaW5nU3BhY2UrKztcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUudHJhaWxpbmdTcGFjZSkge1xuICAgICAgICBzdGF0ZS50cmFpbGluZ1NwYWNlTmV3TGluZSA9IHRydWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldFR5cGUoc3RhdGUpO1xuICB9XG5cbiAgZnVuY3Rpb24gbGlua0lubGluZShzdHJlYW0sIHN0YXRlKSB7XG4gICAgdmFyIGNoID0gc3RyZWFtLm5leHQoKTtcblxuICAgIGlmIChjaCA9PT0gXCI+XCIpIHtcbiAgICAgIHN0YXRlLmYgPSBzdGF0ZS5pbmxpbmUgPSBpbmxpbmVOb3JtYWw7XG4gICAgICBpZiAobW9kZUNmZy5oaWdobGlnaHRGb3JtYXR0aW5nKSBzdGF0ZS5mb3JtYXR0aW5nID0gXCJsaW5rXCI7XG4gICAgICB2YXIgdHlwZSA9IGdldFR5cGUoc3RhdGUpO1xuICAgICAgaWYgKHR5cGUpe1xuICAgICAgICB0eXBlICs9IFwiIFwiO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdHlwZSA9IFwiXCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHlwZSArIHRva2VuVHlwZXMubGlua0lubGluZTtcbiAgICB9XG5cbiAgICBzdHJlYW0ubWF0Y2goL15bXj5dKy8sIHRydWUpO1xuXG4gICAgcmV0dXJuIHRva2VuVHlwZXMubGlua0lubGluZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxpbmtIcmVmKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAvLyBDaGVjayBpZiBzcGFjZSwgYW5kIHJldHVybiBOVUxMIGlmIHNvICh0byBhdm9pZCBtYXJraW5nIHRoZSBzcGFjZSlcbiAgICBpZihzdHJlYW0uZWF0U3BhY2UoKSl7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgdmFyIGNoID0gc3RyZWFtLm5leHQoKTtcbiAgICBpZiAoY2ggPT09ICcoJyB8fCBjaCA9PT0gJ1snKSB7XG4gICAgICBzdGF0ZS5mID0gc3RhdGUuaW5saW5lID0gZ2V0TGlua0hyZWZJbnNpZGUoY2ggPT09IFwiKFwiID8gXCIpXCIgOiBcIl1cIik7XG4gICAgICBpZiAobW9kZUNmZy5oaWdobGlnaHRGb3JtYXR0aW5nKSBzdGF0ZS5mb3JtYXR0aW5nID0gXCJsaW5rLXN0cmluZ1wiO1xuICAgICAgc3RhdGUubGlua0hyZWYgPSB0cnVlO1xuICAgICAgcmV0dXJuIGdldFR5cGUoc3RhdGUpO1xuICAgIH1cbiAgICByZXR1cm4gJ2Vycm9yJztcbiAgfVxuXG4gIHZhciBsaW5rUkUgPSB7XG4gICAgXCIpXCI6IC9eKD86W15cXFxcXFwoXFwpXXxcXFxcLnxcXCgoPzpbXlxcXFxcXChcXCldfFxcXFwuKSpcXCkpKj8oPz1cXCkpLyxcbiAgICBcIl1cIjogL14oPzpbXlxcXFxcXFtcXF1dfFxcXFwufFxcWyg/OlteXFxcXFxcW1xcXV18XFxcXC4pKlxcXSkqPyg/PVxcXSkvXG4gIH1cblxuICBmdW5jdGlvbiBnZXRMaW5rSHJlZkluc2lkZShlbmRDaGFyKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgIHZhciBjaCA9IHN0cmVhbS5uZXh0KCk7XG5cbiAgICAgIGlmIChjaCA9PT0gZW5kQ2hhcikge1xuICAgICAgICBzdGF0ZS5mID0gc3RhdGUuaW5saW5lID0gaW5saW5lTm9ybWFsO1xuICAgICAgICBpZiAobW9kZUNmZy5oaWdobGlnaHRGb3JtYXR0aW5nKSBzdGF0ZS5mb3JtYXR0aW5nID0gXCJsaW5rLXN0cmluZ1wiO1xuICAgICAgICB2YXIgcmV0dXJuU3RhdGUgPSBnZXRUeXBlKHN0YXRlKTtcbiAgICAgICAgc3RhdGUubGlua0hyZWYgPSBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHJldHVyblN0YXRlO1xuICAgICAgfVxuXG4gICAgICBzdHJlYW0ubWF0Y2gobGlua1JFW2VuZENoYXJdKVxuICAgICAgc3RhdGUubGlua0hyZWYgPSB0cnVlO1xuICAgICAgcmV0dXJuIGdldFR5cGUoc3RhdGUpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBmb290bm90ZUxpbmsoc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmIChzdHJlYW0ubWF0Y2goL14oW15cXF1cXFxcXXxcXFxcLikqXFxdOi8sIGZhbHNlKSkge1xuICAgICAgc3RhdGUuZiA9IGZvb3Rub3RlTGlua0luc2lkZTtcbiAgICAgIHN0cmVhbS5uZXh0KCk7IC8vIENvbnN1bWUgW1xuICAgICAgaWYgKG1vZGVDZmcuaGlnaGxpZ2h0Rm9ybWF0dGluZykgc3RhdGUuZm9ybWF0dGluZyA9IFwibGlua1wiO1xuICAgICAgc3RhdGUubGlua1RleHQgPSB0cnVlO1xuICAgICAgcmV0dXJuIGdldFR5cGUoc3RhdGUpO1xuICAgIH1cbiAgICByZXR1cm4gc3dpdGNoSW5saW5lKHN0cmVhbSwgc3RhdGUsIGlubGluZU5vcm1hbCk7XG4gIH1cblxuICBmdW5jdGlvbiBmb290bm90ZUxpbmtJbnNpZGUoc3RyZWFtLCBzdGF0ZSkge1xuICAgIGlmIChzdHJlYW0ubWF0Y2goJ106JywgdHJ1ZSkpIHtcbiAgICAgIHN0YXRlLmYgPSBzdGF0ZS5pbmxpbmUgPSBmb290bm90ZVVybDtcbiAgICAgIGlmIChtb2RlQ2ZnLmhpZ2hsaWdodEZvcm1hdHRpbmcpIHN0YXRlLmZvcm1hdHRpbmcgPSBcImxpbmtcIjtcbiAgICAgIHZhciByZXR1cm5UeXBlID0gZ2V0VHlwZShzdGF0ZSk7XG4gICAgICBzdGF0ZS5saW5rVGV4dCA9IGZhbHNlO1xuICAgICAgcmV0dXJuIHJldHVyblR5cGU7XG4gICAgfVxuXG4gICAgc3RyZWFtLm1hdGNoKC9eKFteXFxdXFxcXF18XFxcXC4pKy8sIHRydWUpO1xuXG4gICAgcmV0dXJuIHRva2VuVHlwZXMubGlua1RleHQ7XG4gIH1cblxuICBmdW5jdGlvbiBmb290bm90ZVVybChzdHJlYW0sIHN0YXRlKSB7XG4gICAgLy8gQ2hlY2sgaWYgc3BhY2UsIGFuZCByZXR1cm4gTlVMTCBpZiBzbyAodG8gYXZvaWQgbWFya2luZyB0aGUgc3BhY2UpXG4gICAgaWYoc3RyZWFtLmVhdFNwYWNlKCkpe1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIE1hdGNoIFVSTFxuICAgIHN0cmVhbS5tYXRjaCgvXlteXFxzXSsvLCB0cnVlKTtcbiAgICAvLyBDaGVjayBmb3IgbGluayB0aXRsZVxuICAgIGlmIChzdHJlYW0ucGVlaygpID09PSB1bmRlZmluZWQpIHsgLy8gRW5kIG9mIGxpbmUsIHNldCBmbGFnIHRvIGNoZWNrIG5leHQgbGluZVxuICAgICAgc3RhdGUubGlua1RpdGxlID0gdHJ1ZTtcbiAgICB9IGVsc2UgeyAvLyBNb3JlIGNvbnRlbnQgb24gbGluZSwgY2hlY2sgaWYgbGluayB0aXRsZVxuICAgICAgc3RyZWFtLm1hdGNoKC9eKD86XFxzKyg/OlwiKD86W15cIlxcXFxdfFxcXFwuKStcInwnKD86W14nXFxcXF18XFxcXC4pKyd8XFwoKD86W14pXFxcXF18XFxcXC4pK1xcKSkpPy8sIHRydWUpO1xuICAgIH1cbiAgICBzdGF0ZS5mID0gc3RhdGUuaW5saW5lID0gaW5saW5lTm9ybWFsO1xuICAgIHJldHVybiB0b2tlblR5cGVzLmxpbmtIcmVmICsgXCIgdXJsXCI7XG4gIH1cblxuICB2YXIgbW9kZSA9IHtcbiAgICBzdGFydFN0YXRlOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIGY6IGJsb2NrTm9ybWFsLFxuXG4gICAgICAgIHByZXZMaW5lOiB7c3RyZWFtOiBudWxsfSxcbiAgICAgICAgdGhpc0xpbmU6IHtzdHJlYW06IG51bGx9LFxuXG4gICAgICAgIGJsb2NrOiBibG9ja05vcm1hbCxcbiAgICAgICAgaHRtbFN0YXRlOiBudWxsLFxuICAgICAgICBpbmRlbnRhdGlvbjogMCxcblxuICAgICAgICBpbmxpbmU6IGlubGluZU5vcm1hbCxcbiAgICAgICAgdGV4dDogaGFuZGxlVGV4dCxcblxuICAgICAgICBmb3JtYXR0aW5nOiBmYWxzZSxcbiAgICAgICAgbGlua1RleHQ6IGZhbHNlLFxuICAgICAgICBsaW5rSHJlZjogZmFsc2UsXG4gICAgICAgIGxpbmtUaXRsZTogZmFsc2UsXG4gICAgICAgIGNvZGU6IDAsXG4gICAgICAgIGVtOiBmYWxzZSxcbiAgICAgICAgc3Ryb25nOiBmYWxzZSxcbiAgICAgICAgaGVhZGVyOiAwLFxuICAgICAgICBzZXRleHQ6IDAsXG4gICAgICAgIGhyOiBmYWxzZSxcbiAgICAgICAgdGFza0xpc3Q6IGZhbHNlLFxuICAgICAgICBsaXN0OiBmYWxzZSxcbiAgICAgICAgbGlzdFN0YWNrOiBbXSxcbiAgICAgICAgcXVvdGU6IDAsXG4gICAgICAgIHRyYWlsaW5nU3BhY2U6IDAsXG4gICAgICAgIHRyYWlsaW5nU3BhY2VOZXdMaW5lOiBmYWxzZSxcbiAgICAgICAgc3RyaWtldGhyb3VnaDogZmFsc2UsXG4gICAgICAgIGVtb2ppOiBmYWxzZSxcbiAgICAgICAgZmVuY2VkRW5kUkU6IG51bGxcbiAgICAgIH07XG4gICAgfSxcblxuICAgIGNvcHlTdGF0ZTogZnVuY3Rpb24ocykge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgZjogcy5mLFxuXG4gICAgICAgIHByZXZMaW5lOiBzLnByZXZMaW5lLFxuICAgICAgICB0aGlzTGluZTogcy50aGlzTGluZSxcblxuICAgICAgICBibG9jazogcy5ibG9jayxcbiAgICAgICAgaHRtbFN0YXRlOiBzLmh0bWxTdGF0ZSAmJiBDb2RlTWlycm9yLmNvcHlTdGF0ZShodG1sTW9kZSwgcy5odG1sU3RhdGUpLFxuICAgICAgICBpbmRlbnRhdGlvbjogcy5pbmRlbnRhdGlvbixcblxuICAgICAgICBsb2NhbE1vZGU6IHMubG9jYWxNb2RlLFxuICAgICAgICBsb2NhbFN0YXRlOiBzLmxvY2FsTW9kZSA/IENvZGVNaXJyb3IuY29weVN0YXRlKHMubG9jYWxNb2RlLCBzLmxvY2FsU3RhdGUpIDogbnVsbCxcblxuICAgICAgICBpbmxpbmU6IHMuaW5saW5lLFxuICAgICAgICB0ZXh0OiBzLnRleHQsXG4gICAgICAgIGZvcm1hdHRpbmc6IGZhbHNlLFxuICAgICAgICBsaW5rVGV4dDogcy5saW5rVGV4dCxcbiAgICAgICAgbGlua1RpdGxlOiBzLmxpbmtUaXRsZSxcbiAgICAgICAgbGlua0hyZWY6IHMubGlua0hyZWYsXG4gICAgICAgIGNvZGU6IHMuY29kZSxcbiAgICAgICAgZW06IHMuZW0sXG4gICAgICAgIHN0cm9uZzogcy5zdHJvbmcsXG4gICAgICAgIHN0cmlrZXRocm91Z2g6IHMuc3RyaWtldGhyb3VnaCxcbiAgICAgICAgZW1vamk6IHMuZW1vamksXG4gICAgICAgIGhlYWRlcjogcy5oZWFkZXIsXG4gICAgICAgIHNldGV4dDogcy5zZXRleHQsXG4gICAgICAgIGhyOiBzLmhyLFxuICAgICAgICB0YXNrTGlzdDogcy50YXNrTGlzdCxcbiAgICAgICAgbGlzdDogcy5saXN0LFxuICAgICAgICBsaXN0U3RhY2s6IHMubGlzdFN0YWNrLnNsaWNlKDApLFxuICAgICAgICBxdW90ZTogcy5xdW90ZSxcbiAgICAgICAgaW5kZW50ZWRDb2RlOiBzLmluZGVudGVkQ29kZSxcbiAgICAgICAgdHJhaWxpbmdTcGFjZTogcy50cmFpbGluZ1NwYWNlLFxuICAgICAgICB0cmFpbGluZ1NwYWNlTmV3TGluZTogcy50cmFpbGluZ1NwYWNlTmV3TGluZSxcbiAgICAgICAgbWRfaW5zaWRlOiBzLm1kX2luc2lkZSxcbiAgICAgICAgZmVuY2VkRW5kUkU6IHMuZmVuY2VkRW5kUkVcbiAgICAgIH07XG4gICAgfSxcblxuICAgIHRva2VuOiBmdW5jdGlvbihzdHJlYW0sIHN0YXRlKSB7XG5cbiAgICAgIC8vIFJlc2V0IHN0YXRlLmZvcm1hdHRpbmdcbiAgICAgIHN0YXRlLmZvcm1hdHRpbmcgPSBmYWxzZTtcblxuICAgICAgaWYgKHN0cmVhbSAhPSBzdGF0ZS50aGlzTGluZS5zdHJlYW0pIHtcbiAgICAgICAgc3RhdGUuaGVhZGVyID0gMDtcbiAgICAgICAgc3RhdGUuaHIgPSBmYWxzZTtcblxuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9eXFxzKiQvLCB0cnVlKSkge1xuICAgICAgICAgIGJsYW5rTGluZShzdGF0ZSk7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZS5wcmV2TGluZSA9IHN0YXRlLnRoaXNMaW5lXG4gICAgICAgIHN0YXRlLnRoaXNMaW5lID0ge3N0cmVhbTogc3RyZWFtfVxuXG4gICAgICAgIC8vIFJlc2V0IHN0YXRlLnRhc2tMaXN0XG4gICAgICAgIHN0YXRlLnRhc2tMaXN0ID0gZmFsc2U7XG5cbiAgICAgICAgLy8gUmVzZXQgc3RhdGUudHJhaWxpbmdTcGFjZVxuICAgICAgICBzdGF0ZS50cmFpbGluZ1NwYWNlID0gMDtcbiAgICAgICAgc3RhdGUudHJhaWxpbmdTcGFjZU5ld0xpbmUgPSBmYWxzZTtcblxuICAgICAgICBpZiAoIXN0YXRlLmxvY2FsU3RhdGUpIHtcbiAgICAgICAgICBzdGF0ZS5mID0gc3RhdGUuYmxvY2s7XG4gICAgICAgICAgaWYgKHN0YXRlLmYgIT0gaHRtbEJsb2NrKSB7XG4gICAgICAgICAgICB2YXIgaW5kZW50YXRpb24gPSBzdHJlYW0ubWF0Y2goL15cXHMqLywgdHJ1ZSlbMF0ucmVwbGFjZSgvXFx0L2csIGV4cGFuZGVkVGFiKS5sZW5ndGg7XG4gICAgICAgICAgICBzdGF0ZS5pbmRlbnRhdGlvbiA9IGluZGVudGF0aW9uO1xuICAgICAgICAgICAgc3RhdGUuaW5kZW50YXRpb25EaWZmID0gbnVsbDtcbiAgICAgICAgICAgIGlmIChpbmRlbnRhdGlvbiA+IDApIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0YXRlLmYoc3RyZWFtLCBzdGF0ZSk7XG4gICAgfSxcblxuICAgIGlubmVyTW9kZTogZnVuY3Rpb24oc3RhdGUpIHtcbiAgICAgIGlmIChzdGF0ZS5ibG9jayA9PSBodG1sQmxvY2spIHJldHVybiB7c3RhdGU6IHN0YXRlLmh0bWxTdGF0ZSwgbW9kZTogaHRtbE1vZGV9O1xuICAgICAgaWYgKHN0YXRlLmxvY2FsU3RhdGUpIHJldHVybiB7c3RhdGU6IHN0YXRlLmxvY2FsU3RhdGUsIG1vZGU6IHN0YXRlLmxvY2FsTW9kZX07XG4gICAgICByZXR1cm4ge3N0YXRlOiBzdGF0ZSwgbW9kZTogbW9kZX07XG4gICAgfSxcblxuICAgIGluZGVudDogZnVuY3Rpb24oc3RhdGUsIHRleHRBZnRlciwgbGluZSkge1xuICAgICAgaWYgKHN0YXRlLmJsb2NrID09IGh0bWxCbG9jayAmJiBodG1sTW9kZS5pbmRlbnQpIHJldHVybiBodG1sTW9kZS5pbmRlbnQoc3RhdGUuaHRtbFN0YXRlLCB0ZXh0QWZ0ZXIsIGxpbmUpXG4gICAgICBpZiAoc3RhdGUubG9jYWxTdGF0ZSAmJiBzdGF0ZS5sb2NhbE1vZGUuaW5kZW50KSByZXR1cm4gc3RhdGUubG9jYWxNb2RlLmluZGVudChzdGF0ZS5sb2NhbFN0YXRlLCB0ZXh0QWZ0ZXIsIGxpbmUpXG4gICAgICByZXR1cm4gQ29kZU1pcnJvci5QYXNzXG4gICAgfSxcblxuICAgIGJsYW5rTGluZTogYmxhbmtMaW5lLFxuXG4gICAgZ2V0VHlwZTogZ2V0VHlwZSxcblxuICAgIGJsb2NrQ29tbWVudFN0YXJ0OiBcIjwhLS1cIixcbiAgICBibG9ja0NvbW1lbnRFbmQ6IFwiLS0+XCIsXG4gICAgY2xvc2VCcmFja2V0czogXCIoKVtde30nJ1xcXCJcXFwiYGBcIixcbiAgICBmb2xkOiBcIm1hcmtkb3duXCJcbiAgfTtcbiAgcmV0dXJuIG1vZGU7XG59LCBcInhtbFwiKTtcblxuQ29kZU1pcnJvci5kZWZpbmVNSU1FKFwidGV4dC9tYXJrZG93blwiLCBcIm1hcmtkb3duXCIpO1xuXG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJ0ZXh0L3gtbWFya2Rvd25cIiwgXCJtYXJrZG93blwiKTtcblxufSk7XG4iLCIvLyBDb2RlTWlycm9yLCBjb3B5cmlnaHQgKGMpIGJ5IE1hcmlqbiBIYXZlcmJla2UgYW5kIG90aGVyc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgYW4gTUlUIGxpY2Vuc2U6IGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNS9MSUNFTlNFXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZChyZXF1aXJlKFwiLi4vLi4vbGliL2NvZGVtaXJyb3JcIikpO1xuICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSAvLyBBTURcbiAgICBkZWZpbmUoW1wiLi4vLi4vbGliL2NvZGVtaXJyb3JcIl0sIG1vZCk7XG4gIGVsc2UgLy8gUGxhaW4gYnJvd3NlciBlbnZcbiAgICBtb2QoQ29kZU1pcnJvcik7XG59KShmdW5jdGlvbihDb2RlTWlycm9yKSB7XG4gIENvZGVNaXJyb3IuZGVmaW5lT3B0aW9uKFwicGxhY2Vob2xkZXJcIiwgXCJcIiwgZnVuY3Rpb24oY20sIHZhbCwgb2xkKSB7XG4gICAgdmFyIHByZXYgPSBvbGQgJiYgb2xkICE9IENvZGVNaXJyb3IuSW5pdDtcbiAgICBpZiAodmFsICYmICFwcmV2KSB7XG4gICAgICBjbS5vbihcImJsdXJcIiwgb25CbHVyKTtcbiAgICAgIGNtLm9uKFwiY2hhbmdlXCIsIG9uQ2hhbmdlKTtcbiAgICAgIGNtLm9uKFwic3dhcERvY1wiLCBvbkNoYW5nZSk7XG4gICAgICBDb2RlTWlycm9yLm9uKGNtLmdldElucHV0RmllbGQoKSwgXCJjb21wb3NpdGlvbnVwZGF0ZVwiLCBjbS5zdGF0ZS5wbGFjZWhvbGRlckNvbXBvc2UgPSBmdW5jdGlvbigpIHsgb25Db21wb3NpdGlvbihjbSkgfSlcbiAgICAgIG9uQ2hhbmdlKGNtKTtcbiAgICB9IGVsc2UgaWYgKCF2YWwgJiYgcHJldikge1xuICAgICAgY20ub2ZmKFwiYmx1clwiLCBvbkJsdXIpO1xuICAgICAgY20ub2ZmKFwiY2hhbmdlXCIsIG9uQ2hhbmdlKTtcbiAgICAgIGNtLm9mZihcInN3YXBEb2NcIiwgb25DaGFuZ2UpO1xuICAgICAgQ29kZU1pcnJvci5vZmYoY20uZ2V0SW5wdXRGaWVsZCgpLCBcImNvbXBvc2l0aW9udXBkYXRlXCIsIGNtLnN0YXRlLnBsYWNlaG9sZGVyQ29tcG9zZSlcbiAgICAgIGNsZWFyUGxhY2Vob2xkZXIoY20pO1xuICAgICAgdmFyIHdyYXBwZXIgPSBjbS5nZXRXcmFwcGVyRWxlbWVudCgpO1xuICAgICAgd3JhcHBlci5jbGFzc05hbWUgPSB3cmFwcGVyLmNsYXNzTmFtZS5yZXBsYWNlKFwiIENvZGVNaXJyb3ItZW1wdHlcIiwgXCJcIik7XG4gICAgfVxuXG4gICAgaWYgKHZhbCAmJiAhY20uaGFzRm9jdXMoKSkgb25CbHVyKGNtKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gY2xlYXJQbGFjZWhvbGRlcihjbSkge1xuICAgIGlmIChjbS5zdGF0ZS5wbGFjZWhvbGRlcikge1xuICAgICAgY20uc3RhdGUucGxhY2Vob2xkZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChjbS5zdGF0ZS5wbGFjZWhvbGRlcik7XG4gICAgICBjbS5zdGF0ZS5wbGFjZWhvbGRlciA9IG51bGw7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHNldFBsYWNlaG9sZGVyKGNtKSB7XG4gICAgY2xlYXJQbGFjZWhvbGRlcihjbSk7XG4gICAgdmFyIGVsdCA9IGNtLnN0YXRlLnBsYWNlaG9sZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInByZVwiKTtcbiAgICBlbHQuc3R5bGUuY3NzVGV4dCA9IFwiaGVpZ2h0OiAwOyBvdmVyZmxvdzogdmlzaWJsZVwiO1xuICAgIGVsdC5zdHlsZS5kaXJlY3Rpb24gPSBjbS5nZXRPcHRpb24oXCJkaXJlY3Rpb25cIik7XG4gICAgZWx0LmNsYXNzTmFtZSA9IFwiQ29kZU1pcnJvci1wbGFjZWhvbGRlciBDb2RlTWlycm9yLWxpbmUtbGlrZVwiO1xuICAgIHZhciBwbGFjZUhvbGRlciA9IGNtLmdldE9wdGlvbihcInBsYWNlaG9sZGVyXCIpXG4gICAgaWYgKHR5cGVvZiBwbGFjZUhvbGRlciA9PSBcInN0cmluZ1wiKSBwbGFjZUhvbGRlciA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHBsYWNlSG9sZGVyKVxuICAgIGVsdC5hcHBlbmRDaGlsZChwbGFjZUhvbGRlcilcbiAgICBjbS5kaXNwbGF5LmxpbmVTcGFjZS5pbnNlcnRCZWZvcmUoZWx0LCBjbS5kaXNwbGF5LmxpbmVTcGFjZS5maXJzdENoaWxkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ29tcG9zaXRpb24oY20pIHtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGVtcHR5ID0gZmFsc2VcbiAgICAgIGlmIChjbS5saW5lQ291bnQoKSA9PSAxKSB7XG4gICAgICAgIHZhciBpbnB1dCA9IGNtLmdldElucHV0RmllbGQoKVxuICAgICAgICBlbXB0eSA9IGlucHV0Lm5vZGVOYW1lID09IFwiVEVYVEFSRUFcIiA/ICFjbS5nZXRMaW5lKDApLmxlbmd0aFxuICAgICAgICAgIDogIS9bXlxcdTIwMGJdLy50ZXN0KGlucHV0LnF1ZXJ5U2VsZWN0b3IoXCIuQ29kZU1pcnJvci1saW5lXCIpLnRleHRDb250ZW50KVxuICAgICAgfVxuICAgICAgaWYgKGVtcHR5KSBzZXRQbGFjZWhvbGRlcihjbSlcbiAgICAgIGVsc2UgY2xlYXJQbGFjZWhvbGRlcihjbSlcbiAgICB9LCAyMClcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQmx1cihjbSkge1xuICAgIGlmIChpc0VtcHR5KGNtKSkgc2V0UGxhY2Vob2xkZXIoY20pO1xuICB9XG4gIGZ1bmN0aW9uIG9uQ2hhbmdlKGNtKSB7XG4gICAgdmFyIHdyYXBwZXIgPSBjbS5nZXRXcmFwcGVyRWxlbWVudCgpLCBlbXB0eSA9IGlzRW1wdHkoY20pO1xuICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gd3JhcHBlci5jbGFzc05hbWUucmVwbGFjZShcIiBDb2RlTWlycm9yLWVtcHR5XCIsIFwiXCIpICsgKGVtcHR5ID8gXCIgQ29kZU1pcnJvci1lbXB0eVwiIDogXCJcIik7XG5cbiAgICBpZiAoZW1wdHkpIHNldFBsYWNlaG9sZGVyKGNtKTtcbiAgICBlbHNlIGNsZWFyUGxhY2Vob2xkZXIoY20pO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNFbXB0eShjbSkge1xuICAgIHJldHVybiAoY20ubGluZUNvdW50KCkgPT09IDEpICYmIChjbS5nZXRMaW5lKDApID09PSBcIlwiKTtcbiAgfVxufSk7XG4iLCIvLyBDb2RlTWlycm9yLCBjb3B5cmlnaHQgKGMpIGJ5IE1hcmlqbiBIYXZlcmJla2UgYW5kIG90aGVyc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgYW4gTUlUIGxpY2Vuc2U6IGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNS9MSUNFTlNFXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZChyZXF1aXJlKFwiLi4vLi4vbGliL2NvZGVtaXJyb3JcIikpO1xuICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSAvLyBBTURcbiAgICBkZWZpbmUoW1wiLi4vLi4vbGliL2NvZGVtaXJyb3JcIl0sIG1vZCk7XG4gIGVsc2UgLy8gUGxhaW4gYnJvd3NlciBlbnZcbiAgICBtb2QoQ29kZU1pcnJvcik7XG59KShmdW5jdGlvbihDb2RlTWlycm9yKSB7XG4gIFwidXNlIHN0cmljdFwiO1xuXG4gIENvZGVNaXJyb3IuZGVmaW5lU2ltcGxlTW9kZSA9IGZ1bmN0aW9uKG5hbWUsIHN0YXRlcykge1xuICAgIENvZGVNaXJyb3IuZGVmaW5lTW9kZShuYW1lLCBmdW5jdGlvbihjb25maWcpIHtcbiAgICAgIHJldHVybiBDb2RlTWlycm9yLnNpbXBsZU1vZGUoY29uZmlnLCBzdGF0ZXMpO1xuICAgIH0pO1xuICB9O1xuXG4gIENvZGVNaXJyb3Iuc2ltcGxlTW9kZSA9IGZ1bmN0aW9uKGNvbmZpZywgc3RhdGVzKSB7XG4gICAgZW5zdXJlU3RhdGUoc3RhdGVzLCBcInN0YXJ0XCIpO1xuICAgIHZhciBzdGF0ZXNfID0ge30sIG1ldGEgPSBzdGF0ZXMubWV0YSB8fCB7fSwgaGFzSW5kZW50YXRpb24gPSBmYWxzZTtcbiAgICBmb3IgKHZhciBzdGF0ZSBpbiBzdGF0ZXMpIGlmIChzdGF0ZSAhPSBtZXRhICYmIHN0YXRlcy5oYXNPd25Qcm9wZXJ0eShzdGF0ZSkpIHtcbiAgICAgIHZhciBsaXN0ID0gc3RhdGVzX1tzdGF0ZV0gPSBbXSwgb3JpZyA9IHN0YXRlc1tzdGF0ZV07XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9yaWcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGRhdGEgPSBvcmlnW2ldO1xuICAgICAgICBsaXN0LnB1c2gobmV3IFJ1bGUoZGF0YSwgc3RhdGVzKSk7XG4gICAgICAgIGlmIChkYXRhLmluZGVudCB8fCBkYXRhLmRlZGVudCkgaGFzSW5kZW50YXRpb24gPSB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgbW9kZSA9IHtcbiAgICAgIHN0YXJ0U3RhdGU6IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4ge3N0YXRlOiBcInN0YXJ0XCIsIHBlbmRpbmc6IG51bGwsXG4gICAgICAgICAgICAgICAgbG9jYWw6IG51bGwsIGxvY2FsU3RhdGU6IG51bGwsXG4gICAgICAgICAgICAgICAgaW5kZW50OiBoYXNJbmRlbnRhdGlvbiA/IFtdIDogbnVsbH07XG4gICAgICB9LFxuICAgICAgY29weVN0YXRlOiBmdW5jdGlvbihzdGF0ZSkge1xuICAgICAgICB2YXIgcyA9IHtzdGF0ZTogc3RhdGUuc3RhdGUsIHBlbmRpbmc6IHN0YXRlLnBlbmRpbmcsXG4gICAgICAgICAgICAgICAgIGxvY2FsOiBzdGF0ZS5sb2NhbCwgbG9jYWxTdGF0ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgaW5kZW50OiBzdGF0ZS5pbmRlbnQgJiYgc3RhdGUuaW5kZW50LnNsaWNlKDApfTtcbiAgICAgICAgaWYgKHN0YXRlLmxvY2FsU3RhdGUpXG4gICAgICAgICAgcy5sb2NhbFN0YXRlID0gQ29kZU1pcnJvci5jb3B5U3RhdGUoc3RhdGUubG9jYWwubW9kZSwgc3RhdGUubG9jYWxTdGF0ZSk7XG4gICAgICAgIGlmIChzdGF0ZS5zdGFjaylcbiAgICAgICAgICBzLnN0YWNrID0gc3RhdGUuc3RhY2suc2xpY2UoMCk7XG4gICAgICAgIGZvciAodmFyIHBlcnMgPSBzdGF0ZS5wZXJzaXN0ZW50U3RhdGVzOyBwZXJzOyBwZXJzID0gcGVycy5uZXh0KVxuICAgICAgICAgIHMucGVyc2lzdGVudFN0YXRlcyA9IHttb2RlOiBwZXJzLm1vZGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNwZWM6IHBlcnMuc3BlYyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGU6IHBlcnMuc3RhdGUgPT0gc3RhdGUubG9jYWxTdGF0ZSA/IHMubG9jYWxTdGF0ZSA6IENvZGVNaXJyb3IuY29weVN0YXRlKHBlcnMubW9kZSwgcGVycy5zdGF0ZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHQ6IHMucGVyc2lzdGVudFN0YXRlc307XG4gICAgICAgIHJldHVybiBzO1xuICAgICAgfSxcbiAgICAgIHRva2VuOiB0b2tlbkZ1bmN0aW9uKHN0YXRlc18sIGNvbmZpZyksXG4gICAgICBpbm5lck1vZGU6IGZ1bmN0aW9uKHN0YXRlKSB7IHJldHVybiBzdGF0ZS5sb2NhbCAmJiB7bW9kZTogc3RhdGUubG9jYWwubW9kZSwgc3RhdGU6IHN0YXRlLmxvY2FsU3RhdGV9OyB9LFxuICAgICAgaW5kZW50OiBpbmRlbnRGdW5jdGlvbihzdGF0ZXNfLCBtZXRhKVxuICAgIH07XG4gICAgaWYgKG1ldGEpIGZvciAodmFyIHByb3AgaW4gbWV0YSkgaWYgKG1ldGEuaGFzT3duUHJvcGVydHkocHJvcCkpXG4gICAgICBtb2RlW3Byb3BdID0gbWV0YVtwcm9wXTtcbiAgICByZXR1cm4gbW9kZTtcbiAgfTtcblxuICBmdW5jdGlvbiBlbnN1cmVTdGF0ZShzdGF0ZXMsIG5hbWUpIHtcbiAgICBpZiAoIXN0YXRlcy5oYXNPd25Qcm9wZXJ0eShuYW1lKSlcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlVuZGVmaW5lZCBzdGF0ZSBcIiArIG5hbWUgKyBcIiBpbiBzaW1wbGUgbW9kZVwiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRvUmVnZXgodmFsLCBjYXJldCkge1xuICAgIGlmICghdmFsKSByZXR1cm4gLyg/OikvO1xuICAgIHZhciBmbGFncyA9IFwiXCI7XG4gICAgaWYgKHZhbCBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgaWYgKHZhbC5pZ25vcmVDYXNlKSBmbGFncyA9IFwiaVwiO1xuICAgICAgaWYgKHZhbC51bmljb2RlKSBmbGFncyArPSBcInVcIlxuICAgICAgdmFsID0gdmFsLnNvdXJjZTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsID0gU3RyaW5nKHZhbCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUmVnRXhwKChjYXJldCA9PT0gZmFsc2UgPyBcIlwiIDogXCJeXCIpICsgXCIoPzpcIiArIHZhbCArIFwiKVwiLCBmbGFncyk7XG4gIH1cblxuICBmdW5jdGlvbiBhc1Rva2VuKHZhbCkge1xuICAgIGlmICghdmFsKSByZXR1cm4gbnVsbDtcbiAgICBpZiAodmFsLmFwcGx5KSByZXR1cm4gdmFsXG4gICAgaWYgKHR5cGVvZiB2YWwgPT0gXCJzdHJpbmdcIikgcmV0dXJuIHZhbC5yZXBsYWNlKC9cXC4vZywgXCIgXCIpO1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZhbC5sZW5ndGg7IGkrKylcbiAgICAgIHJlc3VsdC5wdXNoKHZhbFtpXSAmJiB2YWxbaV0ucmVwbGFjZSgvXFwuL2csIFwiIFwiKSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIFJ1bGUoZGF0YSwgc3RhdGVzKSB7XG4gICAgaWYgKGRhdGEubmV4dCB8fCBkYXRhLnB1c2gpIGVuc3VyZVN0YXRlKHN0YXRlcywgZGF0YS5uZXh0IHx8IGRhdGEucHVzaCk7XG4gICAgdGhpcy5yZWdleCA9IHRvUmVnZXgoZGF0YS5yZWdleCk7XG4gICAgdGhpcy50b2tlbiA9IGFzVG9rZW4oZGF0YS50b2tlbik7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRva2VuRnVuY3Rpb24oc3RhdGVzLCBjb25maWcpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oc3RyZWFtLCBzdGF0ZSkge1xuICAgICAgaWYgKHN0YXRlLnBlbmRpbmcpIHtcbiAgICAgICAgdmFyIHBlbmQgPSBzdGF0ZS5wZW5kaW5nLnNoaWZ0KCk7XG4gICAgICAgIGlmIChzdGF0ZS5wZW5kaW5nLmxlbmd0aCA9PSAwKSBzdGF0ZS5wZW5kaW5nID0gbnVsbDtcbiAgICAgICAgc3RyZWFtLnBvcyArPSBwZW5kLnRleHQubGVuZ3RoO1xuICAgICAgICByZXR1cm4gcGVuZC50b2tlbjtcbiAgICAgIH1cblxuICAgICAgaWYgKHN0YXRlLmxvY2FsKSB7XG4gICAgICAgIGlmIChzdGF0ZS5sb2NhbC5lbmQgJiYgc3RyZWFtLm1hdGNoKHN0YXRlLmxvY2FsLmVuZCkpIHtcbiAgICAgICAgICB2YXIgdG9rID0gc3RhdGUubG9jYWwuZW5kVG9rZW4gfHwgbnVsbDtcbiAgICAgICAgICBzdGF0ZS5sb2NhbCA9IHN0YXRlLmxvY2FsU3RhdGUgPSBudWxsO1xuICAgICAgICAgIHJldHVybiB0b2s7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFyIHRvayA9IHN0YXRlLmxvY2FsLm1vZGUudG9rZW4oc3RyZWFtLCBzdGF0ZS5sb2NhbFN0YXRlKSwgbTtcbiAgICAgICAgICBpZiAoc3RhdGUubG9jYWwuZW5kU2NhbiAmJiAobSA9IHN0YXRlLmxvY2FsLmVuZFNjYW4uZXhlYyhzdHJlYW0uY3VycmVudCgpKSkpXG4gICAgICAgICAgICBzdHJlYW0ucG9zID0gc3RyZWFtLnN0YXJ0ICsgbS5pbmRleDtcbiAgICAgICAgICByZXR1cm4gdG9rO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBjdXJTdGF0ZSA9IHN0YXRlc1tzdGF0ZS5zdGF0ZV07XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGN1clN0YXRlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBydWxlID0gY3VyU3RhdGVbaV07XG4gICAgICAgIHZhciBtYXRjaGVzID0gKCFydWxlLmRhdGEuc29sIHx8IHN0cmVhbS5zb2woKSkgJiYgc3RyZWFtLm1hdGNoKHJ1bGUucmVnZXgpO1xuICAgICAgICBpZiAobWF0Y2hlcykge1xuICAgICAgICAgIGlmIChydWxlLmRhdGEubmV4dCkge1xuICAgICAgICAgICAgc3RhdGUuc3RhdGUgPSBydWxlLmRhdGEubmV4dDtcbiAgICAgICAgICB9IGVsc2UgaWYgKHJ1bGUuZGF0YS5wdXNoKSB7XG4gICAgICAgICAgICAoc3RhdGUuc3RhY2sgfHwgKHN0YXRlLnN0YWNrID0gW10pKS5wdXNoKHN0YXRlLnN0YXRlKTtcbiAgICAgICAgICAgIHN0YXRlLnN0YXRlID0gcnVsZS5kYXRhLnB1c2g7XG4gICAgICAgICAgfSBlbHNlIGlmIChydWxlLmRhdGEucG9wICYmIHN0YXRlLnN0YWNrICYmIHN0YXRlLnN0YWNrLmxlbmd0aCkge1xuICAgICAgICAgICAgc3RhdGUuc3RhdGUgPSBzdGF0ZS5zdGFjay5wb3AoKTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAocnVsZS5kYXRhLm1vZGUpXG4gICAgICAgICAgICBlbnRlckxvY2FsTW9kZShjb25maWcsIHN0YXRlLCBydWxlLmRhdGEubW9kZSwgcnVsZS50b2tlbik7XG4gICAgICAgICAgaWYgKHJ1bGUuZGF0YS5pbmRlbnQpXG4gICAgICAgICAgICBzdGF0ZS5pbmRlbnQucHVzaChzdHJlYW0uaW5kZW50YXRpb24oKSArIGNvbmZpZy5pbmRlbnRVbml0KTtcbiAgICAgICAgICBpZiAocnVsZS5kYXRhLmRlZGVudClcbiAgICAgICAgICAgIHN0YXRlLmluZGVudC5wb3AoKTtcbiAgICAgICAgICB2YXIgdG9rZW4gPSBydWxlLnRva2VuXG4gICAgICAgICAgaWYgKHRva2VuICYmIHRva2VuLmFwcGx5KSB0b2tlbiA9IHRva2VuKG1hdGNoZXMpXG4gICAgICAgICAgaWYgKG1hdGNoZXMubGVuZ3RoID4gMiAmJiBydWxlLnRva2VuICYmIHR5cGVvZiBydWxlLnRva2VuICE9IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAyOyBqIDwgbWF0Y2hlcy5sZW5ndGg7IGorKylcbiAgICAgICAgICAgICAgaWYgKG1hdGNoZXNbal0pXG4gICAgICAgICAgICAgICAgKHN0YXRlLnBlbmRpbmcgfHwgKHN0YXRlLnBlbmRpbmcgPSBbXSkpLnB1c2goe3RleHQ6IG1hdGNoZXNbal0sIHRva2VuOiBydWxlLnRva2VuW2ogLSAxXX0pO1xuICAgICAgICAgICAgc3RyZWFtLmJhY2tVcChtYXRjaGVzWzBdLmxlbmd0aCAtIChtYXRjaGVzWzFdID8gbWF0Y2hlc1sxXS5sZW5ndGggOiAwKSk7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW5bMF07XG4gICAgICAgICAgfSBlbHNlIGlmICh0b2tlbiAmJiB0b2tlbi5qb2luKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9rZW5bMF07XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0b2tlbjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0cmVhbS5uZXh0KCk7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gY21wKGEsIGIpIHtcbiAgICBpZiAoYSA9PT0gYikgcmV0dXJuIHRydWU7XG4gICAgaWYgKCFhIHx8IHR5cGVvZiBhICE9IFwib2JqZWN0XCIgfHwgIWIgfHwgdHlwZW9mIGIgIT0gXCJvYmplY3RcIikgcmV0dXJuIGZhbHNlO1xuICAgIHZhciBwcm9wcyA9IDA7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBhKSBpZiAoYS5oYXNPd25Qcm9wZXJ0eShwcm9wKSkge1xuICAgICAgaWYgKCFiLmhhc093blByb3BlcnR5KHByb3ApIHx8ICFjbXAoYVtwcm9wXSwgYltwcm9wXSkpIHJldHVybiBmYWxzZTtcbiAgICAgIHByb3BzKys7XG4gICAgfVxuICAgIGZvciAodmFyIHByb3AgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocHJvcCkpIHByb3BzLS07XG4gICAgcmV0dXJuIHByb3BzID09IDA7XG4gIH1cblxuICBmdW5jdGlvbiBlbnRlckxvY2FsTW9kZShjb25maWcsIHN0YXRlLCBzcGVjLCB0b2tlbikge1xuICAgIHZhciBwZXJzO1xuICAgIGlmIChzcGVjLnBlcnNpc3RlbnQpIGZvciAodmFyIHAgPSBzdGF0ZS5wZXJzaXN0ZW50U3RhdGVzOyBwICYmICFwZXJzOyBwID0gcC5uZXh0KVxuICAgICAgaWYgKHNwZWMuc3BlYyA/IGNtcChzcGVjLnNwZWMsIHAuc3BlYykgOiBzcGVjLm1vZGUgPT0gcC5tb2RlKSBwZXJzID0gcDtcbiAgICB2YXIgbW9kZSA9IHBlcnMgPyBwZXJzLm1vZGUgOiBzcGVjLm1vZGUgfHwgQ29kZU1pcnJvci5nZXRNb2RlKGNvbmZpZywgc3BlYy5zcGVjKTtcbiAgICB2YXIgbFN0YXRlID0gcGVycyA/IHBlcnMuc3RhdGUgOiBDb2RlTWlycm9yLnN0YXJ0U3RhdGUobW9kZSk7XG4gICAgaWYgKHNwZWMucGVyc2lzdGVudCAmJiAhcGVycylcbiAgICAgIHN0YXRlLnBlcnNpc3RlbnRTdGF0ZXMgPSB7bW9kZTogbW9kZSwgc3BlYzogc3BlYy5zcGVjLCBzdGF0ZTogbFN0YXRlLCBuZXh0OiBzdGF0ZS5wZXJzaXN0ZW50U3RhdGVzfTtcblxuICAgIHN0YXRlLmxvY2FsU3RhdGUgPSBsU3RhdGU7XG4gICAgc3RhdGUubG9jYWwgPSB7bW9kZTogbW9kZSxcbiAgICAgICAgICAgICAgICAgICBlbmQ6IHNwZWMuZW5kICYmIHRvUmVnZXgoc3BlYy5lbmQpLFxuICAgICAgICAgICAgICAgICAgIGVuZFNjYW46IHNwZWMuZW5kICYmIHNwZWMuZm9yY2VFbmQgIT09IGZhbHNlICYmIHRvUmVnZXgoc3BlYy5lbmQsIGZhbHNlKSxcbiAgICAgICAgICAgICAgICAgICBlbmRUb2tlbjogdG9rZW4gJiYgdG9rZW4uam9pbiA/IHRva2VuW3Rva2VuLmxlbmd0aCAtIDFdIDogdG9rZW59O1xuICB9XG5cbiAgZnVuY3Rpb24gaW5kZXhPZih2YWwsIGFycikge1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSBpZiAoYXJyW2ldID09PSB2YWwpIHJldHVybiB0cnVlO1xuICB9XG5cbiAgZnVuY3Rpb24gaW5kZW50RnVuY3Rpb24oc3RhdGVzLCBtZXRhKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKHN0YXRlLCB0ZXh0QWZ0ZXIsIGxpbmUpIHtcbiAgICAgIGlmIChzdGF0ZS5sb2NhbCAmJiBzdGF0ZS5sb2NhbC5tb2RlLmluZGVudClcbiAgICAgICAgcmV0dXJuIHN0YXRlLmxvY2FsLm1vZGUuaW5kZW50KHN0YXRlLmxvY2FsU3RhdGUsIHRleHRBZnRlciwgbGluZSk7XG4gICAgICBpZiAoc3RhdGUuaW5kZW50ID09IG51bGwgfHwgc3RhdGUubG9jYWwgfHwgbWV0YS5kb250SW5kZW50U3RhdGVzICYmIGluZGV4T2Yoc3RhdGUuc3RhdGUsIG1ldGEuZG9udEluZGVudFN0YXRlcykgPiAtMSlcbiAgICAgICAgcmV0dXJuIENvZGVNaXJyb3IuUGFzcztcblxuICAgICAgdmFyIHBvcyA9IHN0YXRlLmluZGVudC5sZW5ndGggLSAxLCBydWxlcyA9IHN0YXRlc1tzdGF0ZS5zdGF0ZV07XG4gICAgICBzY2FuOiBmb3IgKDs7KSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcnVsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgcnVsZSA9IHJ1bGVzW2ldO1xuICAgICAgICAgIGlmIChydWxlLmRhdGEuZGVkZW50ICYmIHJ1bGUuZGF0YS5kZWRlbnRJZkxpbmVTdGFydCAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHZhciBtID0gcnVsZS5yZWdleC5leGVjKHRleHRBZnRlcik7XG4gICAgICAgICAgICBpZiAobSAmJiBtWzBdKSB7XG4gICAgICAgICAgICAgIHBvcy0tO1xuICAgICAgICAgICAgICBpZiAocnVsZS5uZXh0IHx8IHJ1bGUucHVzaCkgcnVsZXMgPSBzdGF0ZXNbcnVsZS5uZXh0IHx8IHJ1bGUucHVzaF07XG4gICAgICAgICAgICAgIHRleHRBZnRlciA9IHRleHRBZnRlci5zbGljZShtWzBdLmxlbmd0aCk7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIHNjYW47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHBvcyA8IDAgPyAwIDogc3RhdGUuaW5kZW50W3Bvc107XG4gICAgfTtcbiAgfVxufSk7XG4iLCIvLyBDb2RlTWlycm9yLCBjb3B5cmlnaHQgKGMpIGJ5IE1hcmlqbiBIYXZlcmJla2UgYW5kIG90aGVyc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgYW4gTUlUIGxpY2Vuc2U6IGh0dHBzOi8vY29kZW1pcnJvci5uZXQvNS9MSUNFTlNFXG5cbihmdW5jdGlvbihtb2QpIHtcbiAgaWYgKHR5cGVvZiBleHBvcnRzID09IFwib2JqZWN0XCIgJiYgdHlwZW9mIG1vZHVsZSA9PSBcIm9iamVjdFwiKSAvLyBDb21tb25KU1xuICAgIG1vZChyZXF1aXJlKFwiLi4vLi4vbGliL2NvZGVtaXJyb3JcIikpO1xuICBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSAvLyBBTURcbiAgICBkZWZpbmUoW1wiLi4vLi4vbGliL2NvZGVtaXJyb3JcIl0sIG1vZCk7XG4gIGVsc2UgLy8gUGxhaW4gYnJvd3NlciBlbnZcbiAgICBtb2QoQ29kZU1pcnJvcik7XG59KShmdW5jdGlvbihDb2RlTWlycm9yKSB7XG5cInVzZSBzdHJpY3RcIjtcblxuQ29kZU1pcnJvci5kZWZpbmVNb2RlKFwieWFtbFwiLCBmdW5jdGlvbigpIHtcblxuICB2YXIgY29ucyA9IFsndHJ1ZScsICdmYWxzZScsICdvbicsICdvZmYnLCAneWVzJywgJ25vJ107XG4gIHZhciBrZXl3b3JkUmVnZXggPSBuZXcgUmVnRXhwKFwiXFxcXGIoKFwiK2NvbnMuam9pbihcIil8KFwiKStcIikpJFwiLCAnaScpO1xuXG4gIHJldHVybiB7XG4gICAgdG9rZW46IGZ1bmN0aW9uKHN0cmVhbSwgc3RhdGUpIHtcbiAgICAgIHZhciBjaCA9IHN0cmVhbS5wZWVrKCk7XG4gICAgICB2YXIgZXNjID0gc3RhdGUuZXNjYXBlZDtcbiAgICAgIHN0YXRlLmVzY2FwZWQgPSBmYWxzZTtcbiAgICAgIC8qIGNvbW1lbnRzICovXG4gICAgICBpZiAoY2ggPT0gXCIjXCIgJiYgKHN0cmVhbS5wb3MgPT0gMCB8fCAvXFxzLy50ZXN0KHN0cmVhbS5zdHJpbmcuY2hhckF0KHN0cmVhbS5wb3MgLSAxKSkpKSB7XG4gICAgICAgIHN0cmVhbS5za2lwVG9FbmQoKTtcbiAgICAgICAgcmV0dXJuIFwiY29tbWVudFwiO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RyZWFtLm1hdGNoKC9eKCcoW14nXXxcXFxcLikqJz98XCIoW15cIl18XFxcXC4pKlwiPykvKSlcbiAgICAgICAgcmV0dXJuIFwic3RyaW5nXCI7XG5cbiAgICAgIGlmIChzdGF0ZS5saXRlcmFsICYmIHN0cmVhbS5pbmRlbnRhdGlvbigpID4gc3RhdGUua2V5Q29sKSB7XG4gICAgICAgIHN0cmVhbS5za2lwVG9FbmQoKTsgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgICB9IGVsc2UgaWYgKHN0YXRlLmxpdGVyYWwpIHsgc3RhdGUubGl0ZXJhbCA9IGZhbHNlOyB9XG4gICAgICBpZiAoc3RyZWFtLnNvbCgpKSB7XG4gICAgICAgIHN0YXRlLmtleUNvbCA9IDA7XG4gICAgICAgIHN0YXRlLnBhaXIgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUucGFpclN0YXJ0ID0gZmFsc2U7XG4gICAgICAgIC8qIGRvY3VtZW50IHN0YXJ0ICovXG4gICAgICAgIGlmKHN0cmVhbS5tYXRjaCgnLS0tJykpIHsgcmV0dXJuIFwiZGVmXCI7IH1cbiAgICAgICAgLyogZG9jdW1lbnQgZW5kICovXG4gICAgICAgIGlmIChzdHJlYW0ubWF0Y2goJy4uLicpKSB7IHJldHVybiBcImRlZlwiOyB9XG4gICAgICAgIC8qIGFycmF5IGxpc3QgaXRlbSAqL1xuICAgICAgICBpZiAoc3RyZWFtLm1hdGNoKC9cXHMqLVxccysvKSkgeyByZXR1cm4gJ21ldGEnOyB9XG4gICAgICB9XG4gICAgICAvKiBpbmxpbmUgcGFpcnMvbGlzdHMgKi9cbiAgICAgIGlmIChzdHJlYW0ubWF0Y2goL14oXFx7fFxcfXxcXFt8XFxdKS8pKSB7XG4gICAgICAgIGlmIChjaCA9PSAneycpXG4gICAgICAgICAgc3RhdGUuaW5saW5lUGFpcnMrKztcbiAgICAgICAgZWxzZSBpZiAoY2ggPT0gJ30nKVxuICAgICAgICAgIHN0YXRlLmlubGluZVBhaXJzLS07XG4gICAgICAgIGVsc2UgaWYgKGNoID09ICdbJylcbiAgICAgICAgICBzdGF0ZS5pbmxpbmVMaXN0Kys7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICBzdGF0ZS5pbmxpbmVMaXN0LS07XG4gICAgICAgIHJldHVybiAnbWV0YSc7XG4gICAgICB9XG5cbiAgICAgIC8qIGxpc3Qgc2VwYXJhdG9yICovXG4gICAgICBpZiAoc3RhdGUuaW5saW5lTGlzdCA+IDAgJiYgIWVzYyAmJiBjaCA9PSAnLCcpIHtcbiAgICAgICAgc3RyZWFtLm5leHQoKTtcbiAgICAgICAgcmV0dXJuICdtZXRhJztcbiAgICAgIH1cbiAgICAgIC8qIHBhaXJzIHNlcGFyYXRvciAqL1xuICAgICAgaWYgKHN0YXRlLmlubGluZVBhaXJzID4gMCAmJiAhZXNjICYmIGNoID09ICcsJykge1xuICAgICAgICBzdGF0ZS5rZXlDb2wgPSAwO1xuICAgICAgICBzdGF0ZS5wYWlyID0gZmFsc2U7XG4gICAgICAgIHN0YXRlLnBhaXJTdGFydCA9IGZhbHNlO1xuICAgICAgICBzdHJlYW0ubmV4dCgpO1xuICAgICAgICByZXR1cm4gJ21ldGEnO1xuICAgICAgfVxuXG4gICAgICAvKiBzdGFydCBvZiB2YWx1ZSBvZiBhIHBhaXIgKi9cbiAgICAgIGlmIChzdGF0ZS5wYWlyU3RhcnQpIHtcbiAgICAgICAgLyogYmxvY2sgbGl0ZXJhbHMgKi9cbiAgICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXlxccyooXFx8fFxcPilcXHMqLykpIHsgc3RhdGUubGl0ZXJhbCA9IHRydWU7IHJldHVybiAnbWV0YSc7IH07XG4gICAgICAgIC8qIHJlZmVyZW5jZXMgKi9cbiAgICAgICAgaWYgKHN0cmVhbS5tYXRjaCgvXlxccyooXFwmfFxcKilbYS16MC05XFwuXy1dK1xcYi9pKSkgeyByZXR1cm4gJ3ZhcmlhYmxlLTInOyB9XG4gICAgICAgIC8qIG51bWJlcnMgKi9cbiAgICAgICAgaWYgKHN0YXRlLmlubGluZVBhaXJzID09IDAgJiYgc3RyZWFtLm1hdGNoKC9eXFxzKi0/WzAtOVxcLlxcLF0rXFxzPyQvKSkgeyByZXR1cm4gJ251bWJlcic7IH1cbiAgICAgICAgaWYgKHN0YXRlLmlubGluZVBhaXJzID4gMCAmJiBzdHJlYW0ubWF0Y2goL15cXHMqLT9bMC05XFwuXFwsXStcXHM/KD89KCx8fSkpLykpIHsgcmV0dXJuICdudW1iZXInOyB9XG4gICAgICAgIC8qIGtleXdvcmRzICovXG4gICAgICAgIGlmIChzdHJlYW0ubWF0Y2goa2V5d29yZFJlZ2V4KSkgeyByZXR1cm4gJ2tleXdvcmQnOyB9XG4gICAgICB9XG5cbiAgICAgIC8qIHBhaXJzIChhc3NvY2lhdGl2ZSBhcnJheXMpIC0+IGtleSAqL1xuICAgICAgaWYgKCFzdGF0ZS5wYWlyICYmIHN0cmVhbS5tYXRjaCgvXlxccyooPzpbLFxcW1xcXXt9JiohfD4nXCIlQGBdW15cXHMnXCI6XXxbXlxccyxcXFtcXF17fSMmKiF8PidcIiVAYF0pW14jOl0qKD89OigkfFxccykpLykpIHtcbiAgICAgICAgc3RhdGUucGFpciA9IHRydWU7XG4gICAgICAgIHN0YXRlLmtleUNvbCA9IHN0cmVhbS5pbmRlbnRhdGlvbigpO1xuICAgICAgICByZXR1cm4gXCJhdG9tXCI7XG4gICAgICB9XG4gICAgICBpZiAoc3RhdGUucGFpciAmJiBzdHJlYW0ubWF0Y2goL146XFxzKi8pKSB7IHN0YXRlLnBhaXJTdGFydCA9IHRydWU7IHJldHVybiAnbWV0YSc7IH1cblxuICAgICAgLyogbm90aGluZyBmb3VuZCwgY29udGludWUgKi9cbiAgICAgIHN0YXRlLnBhaXJTdGFydCA9IGZhbHNlO1xuICAgICAgc3RhdGUuZXNjYXBlZCA9IChjaCA9PSAnXFxcXCcpO1xuICAgICAgc3RyZWFtLm5leHQoKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0sXG4gICAgc3RhcnRTdGF0ZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBwYWlyOiBmYWxzZSxcbiAgICAgICAgcGFpclN0YXJ0OiBmYWxzZSxcbiAgICAgICAga2V5Q29sOiAwLFxuICAgICAgICBpbmxpbmVQYWlyczogMCxcbiAgICAgICAgaW5saW5lTGlzdDogMCxcbiAgICAgICAgbGl0ZXJhbDogZmFsc2UsXG4gICAgICAgIGVzY2FwZWQ6IGZhbHNlXG4gICAgICB9O1xuICAgIH0sXG4gICAgbGluZUNvbW1lbnQ6IFwiI1wiLFxuICAgIGZvbGQ6IFwiaW5kZW50XCJcbiAgfTtcbn0pO1xuXG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJ0ZXh0L3gteWFtbFwiLCBcInlhbWxcIik7XG5Db2RlTWlycm9yLmRlZmluZU1JTUUoXCJ0ZXh0L3lhbWxcIiwgXCJ5YW1sXCIpO1xuXG59KTtcbiJdLCJuYW1lcyI6WyJ0aGlzIiwiaSIsInJvb3ROb2RlIiwiZG9jIiwicHJvcCIsImVsdCIsImkkMSIsImkkMiIsIm1hcCIsInJhbmdlIiwibyIsImxpbmVObyIsImVzdGltYXRlSGVpZ2h0IiwiY3NzIiwiY2giLCJwYXJ0UG9zIiwid2lkZ2V0SGVpZ2h0IiwicGFydCIsImx0ciIsIm9uIiwic2NyZWVuIiwibm9kZSIsInRleHQiLCJ0aGlzJDEiLCJsaW5lIiwib2ZmIiwiZGlyIiwid3JhcHBlZExpbmVFeHRlbnQiLCJtb3ZlSW5TdG9yYWdlT3JkZXIiLCJyYW5nZXMiLCJDb2RlTWlycm9yIiwib3B0aW9uSGFuZGxlcnMiLCJ0ZXh0Tm9kZSIsInRvcE5vZGUiLCJvZmZzZXQiLCJjbSIsInJlcXVpcmUkJDAiLCJkb2N1bWVudFR5cGVzIiwibWVkaWFUeXBlcyIsIm1lZGlhRmVhdHVyZXMiLCJtZWRpYVZhbHVlS2V5d29yZHMiLCJwcm9wZXJ0eUtleXdvcmRzIiwibm9uU3RhbmRhcmRQcm9wZXJ0eUtleXdvcmRzIiwiZm9udFByb3BlcnRpZXMiLCJjb3VudGVyRGVzY3JpcHRvcnMiLCJjb2xvcktleXdvcmRzIiwidmFsdWVLZXl3b3JkcyIsInR5cGUiLCJjb250IiwiY3giLCJjb250ZW50IiwiYmxvY2siLCJ2YWx1ZSIsInJlcXVpcmUkJDEiLCJyZXF1aXJlJCQyIiwicmVxdWlyZSQkMyIsInN0cmVhbSIsInN0YXRlIiwid29yZHMiLCJpbmZvIiwibW9kZSIsIm1ldGEiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBU0EsS0FBQyxTQUFVLFFBQVEsU0FBUztBQUNxQyxhQUFpQixVQUFBO0lBR2pGLEdBQUNBLGNBQU8sV0FBWTtBQUluQixVQUFJ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UUFBUSxJQUFJO0FBQUEsUUFBTSxJQUFJO0FBQUEsUUFBUyxJQUFJO0FBQUEsUUFBUSxJQUFJO0FBQUEsUUFBYSxJQUFJO0FBQUEsUUFDaEYsSUFBSTtBQUFBLFFBQVUsSUFBSTtBQUFBLFFBQUssSUFBSTtBQUFBLFFBQUssSUFBSTtBQUFBLFFBQU8sSUFBSTtBQUFBLFFBQU8sSUFBSTtBQUFBLFFBQzFELEtBQUs7QUFBQSxRQUFLLEtBQUs7QUFBQSxRQUFLLEtBQUs7QUFBQSxRQUFLLEtBQUs7QUFBQSxRQUFLLEtBQUs7QUFBQSxRQUFLLEtBQUs7QUFBQSxRQUN2RCxLQUFLO0FBQUEsUUFBSyxLQUFLO0FBQUEsUUFBSyxLQUFLO0FBQUEsUUFBSyxLQUFLO0FBQUEsUUFBSyxLQUFLO0FBQUEsUUFBSyxLQUFLO0FBQUEsUUFBSyxLQUFLO0FBQUEsUUFBSyxLQUFLO0FBQUEsUUFBSyxLQUFLO0FBQUEsUUFBSyxLQUFLO0FBQUEsUUFDL0YsS0FBSztBQUFBLFFBQUssS0FBSztBQUFBLFFBQUssS0FBSztBQUFBLFFBQU8sT0FBTztBQUFBLFFBQU0sT0FBTztBQUFBLFFBQVEsT0FBTztBQUFBLFFBQVEsT0FBTztBQUFBLFFBQVMsT0FBTztBQUFBLFFBQ2xHLE9BQU87QUFBQSxRQUFRLE9BQU87QUFBQSxRQUFPLE9BQU87QUFBQSxRQUFVLE9BQU87QUFBQSxRQUFZLE9BQU87QUFBQSxNQUN6RTtBQUdELGVBQVMsSUFBSSxHQUFHLElBQUksSUFBSSxLQUFLO0FBQUUsaUJBQVMsSUFBSSxFQUFFLElBQUksU0FBUyxJQUFJLEVBQUUsSUFBSSxPQUFPLENBQUM7QUFBQSxNQUFFO0FBRS9FLGVBQVMsTUFBTSxJQUFJLE9BQU8sSUFBSSxPQUFPO0FBQUUsaUJBQVMsR0FBRyxJQUFJLE9BQU8sYUFBYSxHQUFHO0FBQUEsTUFBRTtBQUVoRixlQUFTLE1BQU0sR0FBRyxPQUFPLElBQUksT0FBTztBQUFFLGlCQUFTLE1BQU0sR0FBRyxJQUFJLFNBQVMsTUFBTSxLQUFLLElBQUksTUFBTTtBQUFBLE1BQUk7QUFFOUYsVUFB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

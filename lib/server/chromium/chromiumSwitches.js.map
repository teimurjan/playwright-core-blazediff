{
  "version": 3,
  "sources": ["../../../src/server/chromium/chromiumSwitches.ts"],
  "sourcesContent": ["/**\n * Copyright 2017 Google Inc. All rights reserved.\n * Modifications copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n// No dependencies as it is used from the Electron loader.\n\nconst disabledFeatures = (assistantMode?: boolean) => [\n  // See https://github.com/microsoft/playwright/pull/10380\n  'AcceptCHFrame',\n  // See https://github.com/microsoft/playwright/issues/14047\n  'AvoidUnnecessaryBeforeUnloadCheckSync',\n  'DestroyProfileOnBrowserClose',\n  // See https://github.com/microsoft/playwright/pull/13854\n  'DialMediaRouteProvider',\n  'GlobalMediaControls',\n  // See https://github.com/microsoft/playwright/pull/27605\n  'HttpsUpgrades',\n  // Hides the Lens feature in the URL address bar. Its not working in unofficial builds.\n  'LensOverlay',\n  // See https://github.com/microsoft/playwright/pull/8162\n  'MediaRouter',\n  // See https://github.com/microsoft/playwright/issues/28023\n  'PaintHolding',\n  // See https://github.com/microsoft/playwright/issues/32230\n  'ThirdPartyStoragePartitioning',\n  // See https://github.com/microsoft/playwright/issues/16126\n  'Translate',\n  // See https://issues.chromium.org/u/1/issues/435410220\n  'AutoDeElevate',\n  assistantMode ? 'AutomationControlled' : '',\n].filter(Boolean);\n\nexport const chromiumSwitches = (assistantMode?: boolean, channel?: string) => [\n  '--disable-field-trial-config', // https://source.chromium.org/chromium/chromium/src/+/main:testing/variations/README.md\n  '--disable-background-networking',\n  '--disable-background-timer-throttling',\n  '--disable-backgrounding-occluded-windows',\n  '--disable-back-forward-cache', // Avoids surprises like main request not being intercepted during page.goBack().\n  '--disable-breakpad',\n  '--disable-client-side-phishing-detection',\n  '--disable-component-extensions-with-background-pages',\n  '--disable-component-update', // Avoids unneeded network activity after startup.\n  '--no-default-browser-check',\n  '--disable-default-apps',\n  '--disable-dev-shm-usage',\n  '--disable-extensions',\n  '--disable-features=' + disabledFeatures(assistantMode).join(','),\n  '--enable-features=CDPScreenshotNewSurface',\n  '--allow-pre-commit-input',\n  '--disable-hang-monitor',\n  '--disable-ipc-flooding-protection',\n  '--disable-popup-blocking',\n  '--disable-prompt-on-repost',\n  '--disable-renderer-backgrounding',\n  '--force-color-profile=srgb',\n  '--metrics-recording-only',\n  '--no-first-run',\n  '--password-store=basic',\n  '--use-mock-keychain',\n  // See https://chromium-review.googlesource.com/c/chromium/src/+/2436773\n  '--no-service-autorun',\n  '--export-tagged-pdf',\n  // https://chromium-review.googlesource.com/c/chromium/src/+/4853540\n  '--disable-search-engine-choice-screen',\n  // https://issues.chromium.org/41491762\n  '--unsafely-disable-devtools-self-xss-warnings',\n  // Edge can potentially restart on Windows (msRelaunchNoCompatLayer) which looses its file descriptors (stdout/stderr) and CDP (3/4). Disable until fixed upstream.\n  '--edge-skip-compat-layer-relaunch',\n  assistantMode ? '' : '--enable-automation',\n].filter(Boolean);\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAmBA,MAAM,mBAAmB,CAAC,kBAA4B;AAAA;AAAA,EAEpD;AAAA;AAAA,EAEA;AAAA,EACA;AAAA;AAAA,EAEA;AAAA,EACA;AAAA;AAAA,EAEA;AAAA;AAAA,EAEA;AAAA;AAAA,EAEA;AAAA;AAAA,EAEA;AAAA;AAAA,EAEA;AAAA;AAAA,EAEA;AAAA;AAAA,EAEA;AAAA,EACA,gBAAgB,yBAAyB;AAC3C,EAAE,OAAO,OAAO;AAET,MAAM,mBAAmB,CAAC,eAAyB,YAAqB;AAAA,EAC7E;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA,wBAAwB,iBAAiB,aAAa,EAAE,KAAK,GAAG;AAAA,EAChE;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAAA,EAEA;AAAA,EACA;AAAA;AAAA,EAEA;AAAA;AAAA,EAEA;AAAA;AAAA,EAEA;AAAA,EACA,gBAAgB,KAAK;AACvB,EAAE,OAAO,OAAO;",
  "names": []
}

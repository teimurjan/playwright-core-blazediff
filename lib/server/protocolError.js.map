{
  "version": 3,
  "sources": ["../../src/server/protocolError.ts"],
  "sourcesContent": ["/**\n * Copyright (c) Microsoft Corporation.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { rewriteErrorMessage } from '../utils/isomorphic/stackTrace';\n\nexport class ProtocolError extends Error {\n  type: 'error' | 'closed' | 'crashed';\n  method: string | undefined;\n  logs: string | undefined;\n\n  constructor(type: 'error' | 'closed' | 'crashed', method?: string, logs?: string) {\n    super();\n    this.type = type;\n    this.method = method;\n    this.logs = logs;\n  }\n\n  setMessage(message: string) {\n    rewriteErrorMessage(this, `Protocol error (${this.method}): ${message}`);\n  }\n\n  browserLogMessage() {\n    return this.logs ? '\\nBrowser logs:\\n' + this.logs : '';\n  }\n}\n\nexport function isProtocolError(e: Error): e is ProtocolError {\n  return e instanceof ProtocolError;\n}\n\nexport function isSessionClosedError(e: Error): e is ProtocolError {\n  return e instanceof ProtocolError && (e.type === 'closed' || e.type === 'crashed');\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBA,wBAAoC;AAE7B,MAAM,sBAAsB,MAAM;AAAA,EAKvC,YAAY,MAAsC,QAAiB,MAAe;AAChF,UAAM;AACN,SAAK,OAAO;AACZ,SAAK,SAAS;AACd,SAAK,OAAO;AAAA,EACd;AAAA,EAEA,WAAW,SAAiB;AAC1B,+CAAoB,MAAM,mBAAmB,KAAK,MAAM,MAAM,OAAO,EAAE;AAAA,EACzE;AAAA,EAEA,oBAAoB;AAClB,WAAO,KAAK,OAAO,sBAAsB,KAAK,OAAO;AAAA,EACvD;AACF;AAEO,SAAS,gBAAgB,GAA8B;AAC5D,SAAO,aAAa;AACtB;AAEO,SAAS,qBAAqB,GAA8B;AACjE,SAAO,aAAa,kBAAkB,EAAE,SAAS,YAAY,EAAE,SAAS;AAC1E;",
  "names": []
}
